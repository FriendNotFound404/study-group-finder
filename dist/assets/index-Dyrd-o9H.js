function PL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ha(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qg={exports:{}},mu={};var kj;function OL(){if(kj)return mu;kj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return mu.Fragment=t,mu.jsx=n,mu.jsxs=n,mu}var Mj;function IL(){return Mj||(Mj=1,Qg.exports=OL()),Qg.exports}var s=IL(),ex={exports:{}},He={};var Rj;function DL(){if(Rj)return He;Rj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,E={};function C(D,X,ge){this.props=D,this.context=X,this.refs=E,this.updater=ge||_}C.prototype.isReactComponent={},C.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function A(){}A.prototype=C.prototype;function k(D,X,ge){this.props=D,this.context=X,this.refs=E,this.updater=ge||_}var R=k.prototype=new A;R.constructor=k,j(R,C.prototype),R.isPureReactComponent=!0;var M=Array.isArray;function P(){}var O={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(D,X,ge){var xe=ge.ref;return{$$typeof:e,type:D,key:X,ref:xe!==void 0?xe:null,props:ge}}function q(D,X){return z(D.type,X,D.props)}function Y(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function G(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ge){return X[ge]})}var W=/\/+/g;function ee(D,X){return typeof D=="object"&&D!==null&&D.key!=null?G(""+D.key):X.toString(36)}function Z(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(P,P):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function U(D,X,ge,xe,K){var le=typeof D;(le==="undefined"||le==="boolean")&&(D=null);var ye=!1;if(D===null)ye=!0;else switch(le){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(D.$$typeof){case e:case t:ye=!0;break;case h:return ye=D._init,U(ye(D._payload),X,ge,xe,K)}}if(ye)return K=K(D),ye=xe===""?"."+ee(D,0):xe,M(K)?(ge="",ye!=null&&(ge=ye.replace(W,"$&/")+"/"),U(K,X,ge,"",function(_e){return _e})):K!=null&&(Y(K)&&(K=q(K,ge+(K.key==null||D&&D.key===K.key?"":(""+K.key).replace(W,"$&/")+"/")+ye)),X.push(K)),1;ye=0;var Ge=xe===""?".":xe+":";if(M(D))for(var oe=0;oe<D.length;oe++)xe=D[oe],le=Ge+ee(xe,oe),ye+=U(xe,X,ge,le,K);else if(oe=N(D),typeof oe=="function")for(D=oe.call(D),oe=0;!(xe=D.next()).done;)xe=xe.value,le=Ge+ee(xe,oe++),ye+=U(xe,X,ge,le,K);else if(le==="object"){if(typeof D.then=="function")return U(Z(D),X,ge,xe,K);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ye}function J(D,X,ge){if(D==null)return D;var xe=[],K=0;return U(D,xe,"","",function(le){return X.call(ge,le,K++)}),xe}function te(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(ge){(D._status===0||D._status===-1)&&(D._status=1,D._result=ge)},function(ge){(D._status===0||D._status===-1)&&(D._status=2,D._result=ge)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var de=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},ue={map:J,forEach:function(D,X,ge){J(D,function(){X.apply(this,arguments)},ge)},count:function(D){var X=0;return J(D,function(){X++}),X},toArray:function(D){return J(D,function(X){return X})||[]},only:function(D){if(!Y(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return He.Activity=g,He.Children=ue,He.Component=C,He.Fragment=n,He.Profiler=a,He.PureComponent=k,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,He.__COMPILER_RUNTIME={__proto__:null,c:function(D){return O.H.useMemoCache(D)}},He.cache=function(D){return function(){return D.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(D,X,ge){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var xe=j({},D.props),K=D.key;if(X!=null)for(le in X.key!==void 0&&(K=""+X.key),X)!L.call(X,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&X.ref===void 0||(xe[le]=X[le]);var le=arguments.length-2;if(le===1)xe.children=ge;else if(1<le){for(var ye=Array(le),Ge=0;Ge<le;Ge++)ye[Ge]=arguments[Ge+2];xe.children=ye}return z(D.type,K,xe)},He.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},He.createElement=function(D,X,ge){var xe,K={},le=null;if(X!=null)for(xe in X.key!==void 0&&(le=""+X.key),X)L.call(X,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(K[xe]=X[xe]);var ye=arguments.length-2;if(ye===1)K.children=ge;else if(1<ye){for(var Ge=Array(ye),oe=0;oe<ye;oe++)Ge[oe]=arguments[oe+2];K.children=Ge}if(D&&D.defaultProps)for(xe in ye=D.defaultProps,ye)K[xe]===void 0&&(K[xe]=ye[xe]);return z(D,le,K)},He.createRef=function(){return{current:null}},He.forwardRef=function(D){return{$$typeof:u,render:D}},He.isValidElement=Y,He.lazy=function(D){return{$$typeof:h,_payload:{_status:-1,_result:D},_init:te}},He.memo=function(D,X){return{$$typeof:p,type:D,compare:X===void 0?null:X}},He.startTransition=function(D){var X=O.T,ge={};O.T=ge;try{var xe=D(),K=O.S;K!==null&&K(ge,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(P,de)}catch(le){de(le)}finally{X!==null&&ge.types!==null&&(X.types=ge.types),O.T=X}},He.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},He.use=function(D){return O.H.use(D)},He.useActionState=function(D,X,ge){return O.H.useActionState(D,X,ge)},He.useCallback=function(D,X){return O.H.useCallback(D,X)},He.useContext=function(D){return O.H.useContext(D)},He.useDebugValue=function(){},He.useDeferredValue=function(D,X){return O.H.useDeferredValue(D,X)},He.useEffect=function(D,X){return O.H.useEffect(D,X)},He.useEffectEvent=function(D){return O.H.useEffectEvent(D)},He.useId=function(){return O.H.useId()},He.useImperativeHandle=function(D,X,ge){return O.H.useImperativeHandle(D,X,ge)},He.useInsertionEffect=function(D,X){return O.H.useInsertionEffect(D,X)},He.useLayoutEffect=function(D,X){return O.H.useLayoutEffect(D,X)},He.useMemo=function(D,X){return O.H.useMemo(D,X)},He.useOptimistic=function(D,X){return O.H.useOptimistic(D,X)},He.useReducer=function(D,X,ge){return O.H.useReducer(D,X,ge)},He.useRef=function(D){return O.H.useRef(D)},He.useState=function(D){return O.H.useState(D)},He.useSyncExternalStore=function(D,X,ge){return O.H.useSyncExternalStore(D,X,ge)},He.useTransition=function(){return O.H.useTransition()},He.version="19.2.4",He}var Pj;function ic(){return Pj||(Pj=1,ex.exports=DL()),ex.exports}var b=ic();const wb=Ha(b),LL=PL({__proto__:null,default:wb},[b]);var tx={exports:{}},gu={},nx={exports:{}},rx={};var Oj;function zL(){return Oj||(Oj=1,(function(e){function t(U,J){var te=U.length;U.push(J);e:for(;0<te;){var de=te-1>>>1,ue=U[de];if(0<a(ue,J))U[de]=J,U[te]=ue,te=de;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var J=U[0],te=U.pop();if(te!==J){U[0]=te;e:for(var de=0,ue=U.length,D=ue>>>1;de<D;){var X=2*(de+1)-1,ge=U[X],xe=X+1,K=U[xe];if(0>a(ge,te))xe<ue&&0>a(K,ge)?(U[de]=K,U[xe]=te,de=xe):(U[de]=ge,U[X]=te,de=X);else if(xe<ue&&0>a(K,te))U[de]=K,U[xe]=te,de=xe;else break e}}return J}function a(U,J){var te=U.sortIndex-J.sortIndex;return te!==0?te:U.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],h=1,g=null,v=3,N=!1,_=!1,j=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(U){for(var J=n(p);J!==null;){if(J.callback===null)r(p);else if(J.startTime<=U)r(p),J.sortIndex=J.expirationTime,t(f,J);else break;J=n(p)}}function M(U){if(j=!1,R(U),!_)if(n(f)!==null)_=!0,P||(P=!0,G());else{var J=n(p);J!==null&&Z(M,J.startTime-U)}}var P=!1,O=-1,L=5,z=-1;function q(){return E?!0:!(e.unstable_now()-z<L)}function Y(){if(E=!1,P){var U=e.unstable_now();z=U;var J=!0;try{e:{_=!1,j&&(j=!1,A(O),O=-1),N=!0;var te=v;try{t:{for(R(U),g=n(f);g!==null&&!(g.expirationTime>U&&q());){var de=g.callback;if(typeof de=="function"){g.callback=null,v=g.priorityLevel;var ue=de(g.expirationTime<=U);if(U=e.unstable_now(),typeof ue=="function"){g.callback=ue,R(U),J=!0;break t}g===n(f)&&r(f),R(U)}else r(f);g=n(f)}if(g!==null)J=!0;else{var D=n(p);D!==null&&Z(M,D.startTime-U),J=!1}}break e}finally{g=null,v=te,N=!1}J=void 0}}finally{J?G():P=!1}}}var G;if(typeof k=="function")G=function(){k(Y)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ee=W.port2;W.port1.onmessage=Y,G=function(){ee.postMessage(null)}}else G=function(){C(Y,0)};function Z(U,J){O=C(function(){U(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(U){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var te=v;v=J;try{return U()}finally{v=te}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(U,J){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var te=v;v=U;try{return J()}finally{v=te}},e.unstable_scheduleCallback=function(U,J,te){var de=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?de+te:de):te=de,U){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=te+ue,U={id:h++,callback:J,priorityLevel:U,startTime:te,expirationTime:ue,sortIndex:-1},te>de?(U.sortIndex=te,t(p,U),n(f)===null&&U===n(p)&&(j?(A(O),O=-1):j=!0,Z(M,te-de))):(U.sortIndex=ue,t(f,U),_||N||(_=!0,P||(P=!0,G()))),U},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(U){var J=v;return function(){var te=v;v=J;try{return U.apply(this,arguments)}finally{v=te}}}})(rx)),rx}var Ij;function UL(){return Ij||(Ij=1,nx.exports=zL()),nx.exports}var ax={exports:{}},Yn={};var Dj;function $L(){if(Dj)return Yn;Dj=1;var e=ic();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,h)},Yn.flushSync=function(f){var p=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=h,r.d.f()}},Yn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var h=p.as,g=u(h,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:N}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=u(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Yn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,g=u(h,p.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yn.preloadModule=function(f,p){if(typeof f=="string")if(p){var h=u(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,p){return f(p)},Yn.useFormState=function(f,p,h){return c.H.useFormState(f,p,h)},Yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yn.version="19.2.4",Yn}var Lj;function WM(){if(Lj)return ax.exports;Lj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ax.exports=$L(),ax.exports}var zj;function GL(){if(zj)return gu;zj=1;var e=UL(),t=ic(),n=WM();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function p(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,m=o;;){var w=d.return;if(w===null)break;var S=w.alternate;if(S===null){if(m=w.return,m!==null){d=m;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===d)return f(w),i;if(S===m)return f(w),o;S=S.sibling}throw Error(r(188))}if(d.return!==m.return)d=w,m=S;else{for(var T=!1,I=w.child;I;){if(I===d){T=!0,d=w,m=S;break}if(I===m){T=!0,m=w,d=S;break}I=I.sibling}if(!T){for(I=S.child;I;){if(I===d){T=!0,d=S,m=w;break}if(I===m){T=!0,m=S,d=w;break}I=I.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function h(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=h(i),o!==null)return o;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),Y=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=Y&&i[Y]||i["@@iterator"],typeof i=="function"?i:null)}var W=Symbol.for("react.client.reference");function ee(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===W?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case _:return"Portal";case k:return i.displayName||"Context";case A:return(i._context.displayName||"Context")+".Consumer";case R:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case O:return o=i.displayName||null,o!==null?o:ee(i.type)||"Memo";case L:o=i._payload,i=i._init;try{return ee(i(o))}catch{}}return null}var Z=Array.isArray,U=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},de=[],ue=-1;function D(i){return{current:i}}function X(i){0>ue||(i.current=de[ue],de[ue]=null,ue--)}function ge(i,o){ue++,de[ue]=i.current,i.current=o}var xe=D(null),K=D(null),le=D(null),ye=D(null);function Ge(i,o){switch(ge(le,o),ge(K,i),ge(xe,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Q_(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Q_(o),i=ej(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(xe),ge(xe,i)}function oe(){X(xe),X(K),X(le)}function _e(i){i.memoizedState!==null&&ge(ye,i);var o=xe.current,d=ej(o,i.type);o!==d&&(ge(K,i),ge(xe,d))}function Pe(i){K.current===i&&(X(xe),X(K)),ye.current===i&&(X(ye),du._currentValue=te)}var ve,lt;function Be(i){if(ve===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ve=o&&o[1]||"",lt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ve+i+lt}var Qe=!1;function ft(i,o){if(!i||Qe)return"";Qe=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ce){var se=ce}Reflect.construct(i,[],me)}else{try{me.call()}catch(ce){se=ce}i.call(me.prototype)}}else{try{throw Error()}catch(ce){se=ce}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ce){if(ce&&se&&typeof ce.stack=="string")return[ce.stack,se.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=m.DetermineComponentFrameRoot(),T=S[0],I=S[1];if(T&&I){var B=T.split(`
`),re=I.split(`
`);for(w=m=0;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;for(;w<re.length&&!re[w].includes("DetermineComponentFrameRoot");)w++;if(m===B.length||w===re.length)for(m=B.length-1,w=re.length-1;1<=m&&0<=w&&B[m]!==re[w];)w--;for(;1<=m&&0<=w;m--,w--)if(B[m]!==re[w]){if(m!==1||w!==1)do if(m--,w--,0>w||B[m]!==re[w]){var fe=`
`+B[m].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=m&&0<=w);break}}}finally{Qe=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Be(d):""}function Xt(i,o){switch(i.tag){case 26:case 27:case 5:return Be(i.type);case 16:return Be("Lazy");case 13:return i.child!==o&&o!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return ft(i.type,!1);case 11:return ft(i.type.render,!1);case 1:return ft(i.type,!0);case 31:return Be("Activity");default:return""}}function Cn(i){try{var o="",d=null;do o+=Xt(i,d),d=i,i=i.return;while(i);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var fr=Object.prototype.hasOwnProperty,tr=e.unstable_scheduleCallback,nr=e.unstable_cancelCallback,qn=e.unstable_shouldYield,pe=e.unstable_requestPaint,ze=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,je=e.unstable_UserBlockingPriority,Fe=e.unstable_NormalPriority,ie=e.unstable_LowPriority,Oe=e.unstable_IdlePriority,et=e.log,tt=e.unstable_setDisableYieldValue,pt=null,yt=null;function $(i){if(typeof et=="function"&&tt(i),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(pt,i)}catch{}}var De=Math.clz32?Math.clz32:Hn,Ye=Math.log,Ct=Math.LN2;function Hn(i){return i>>>=0,i===0?32:31-(Ye(i)/Ct|0)|0}var Vn=256,Vi=262144,Sa=4194304;function pr(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function _a(i,o,d){var m=i.pendingLanes;if(m===0)return 0;var w=0,S=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var I=m&134217727;return I!==0?(m=I&~S,m!==0?w=pr(m):(T&=I,T!==0?w=pr(T):d||(d=I&~i,d!==0&&(w=pr(d))))):(I=m&~S,I!==0?w=pr(I):T!==0?w=pr(T):d||(d=m&~i,d!==0&&(w=pr(d)))),w===0?0:o!==0&&o!==w&&(o&S)===0&&(S=w&-w,d=o&-o,S>=d||S===32&&(d&4194048)!==0)?o:w}function Kn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Js(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ql(){var i=Sa;return Sa<<=1,(Sa&62914560)===0&&(Sa=4194304),i}function ja(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function Kt(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ya(i,o,d,m,w,S){var T=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var I=i.entanglements,B=i.expirationTimes,re=i.hiddenUpdates;for(d=T&~d;0<d;){var fe=31-De(d),me=1<<fe;I[fe]=0,B[fe]=-1;var se=re[fe];if(se!==null)for(re[fe]=null,fe=0;fe<se.length;fe++){var ce=se[fe];ce!==null&&(ce.lane&=-536870913)}d&=~me}m!==0&&Hl(i,m,0),S!==0&&w===0&&i.tag!==0&&(i.suspendedLanes|=S&~(T&~o))}function Hl(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var m=31-De(o);i.entangledLanes|=o,i.entanglements[m]=i.entanglements[m]|1073741824|d&261930}function Ki(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var m=31-De(d),w=1<<m;w&o|i[m]&o&&(i[m]|=o),d&=~w}}function Nc(i,o){var d=o&-o;return d=(d&42)!==0?1:Vl(d),(d&(i.suspendedLanes|o))!==0?0:d}function Vl(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function be(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function sa(){var i=J.p;return i!==0?i:(i=window.event,i===void 0?32:Sj(i.type))}function Sc(i,o){var d=J.p;try{return J.p=i,o()}finally{J.p=d}}var zr=Math.random().toString(36).slice(2),fn="__reactFiber$"+zr,Zt="__reactProps$"+zr,Ja="__reactContainer$"+zr,_c="__reactEvents$"+zr,Hm="__reactListeners$"+zr,Vm="__reactHandles$"+zr,Dd="__reactResources$"+zr,Wa="__reactMarker$"+zr;function jc(i){delete i[fn],delete i[Zt],delete i[_c],delete i[Hm],delete i[Vm]}function Yi(i){var o=i[fn];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Ja]||d[fn]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=lj(i);i!==null;){if(d=i[fn])return d;i=lj(i)}return o}i=d,d=i.parentNode}return null}function Ji(i){if(i=i[fn]||i[Ja]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function Ws(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function Wi(i){var o=i[Dd];return o||(o=i[Dd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Yt(i){i[Wa]=!0}var Ld=new Set,Ec={};function Xa(i,o){Xi(i,o),Xi(i+"Capture",o)}function Xi(i,o){for(Ec[i]=o,i=0;i<o.length;i++)Ld.add(o[i])}var zd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),H={},ke={};function $e(i){return fr.call(ke,i)?!0:fr.call(H,i)?!1:zd.test(i)?ke[i]=!0:(H[i]=!0,!1)}function St(i,o,d){if($e(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function yn(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function Je(i,o,d,m){if(m===null)i.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+m)}}function Gt(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Za(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Xs(i,o,d){var m=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,S=m.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return w.call(this)},set:function(T){d=""+T,S.call(this,T)}}),Object.defineProperty(i,o,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Kl(i){if(!i._valueTracker){var o=Za(i)?"checked":"value";i._valueTracker=Xs(i,o,""+i[o])}}function Cc(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),m="";return i&&(m=Za(i)?i.checked?"true":"false":i.value),i=m,i!==d?(o.setValue(i),!0):!1}function Ud(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var C5=/[\n"\\]/g;function Ur(i){return i.replace(C5,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Km(i,o,d,m,w,S,T,I){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),o!=null?T==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Gt(o)):i.value!==""+Gt(o)&&(i.value=""+Gt(o)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),o!=null?Ym(i,T,Gt(o)):d!=null?Ym(i,T,Gt(d)):m!=null&&i.removeAttribute("value"),w==null&&S!=null&&(i.defaultChecked=!!S),w!=null&&(i.checked=w&&typeof w!="function"&&typeof w!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?i.name=""+Gt(I):i.removeAttribute("name")}function K1(i,o,d,m,w,S,T,I){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.type=S),o!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Kl(i);return}d=d!=null?""+Gt(d):"",o=o!=null?""+Gt(o):d,I||o===i.value||(i.value=o),i.defaultValue=o}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,i.checked=I?i.checked:!!m,i.defaultChecked=!!m,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T),Kl(i)}function Ym(i,o,d){o==="number"&&Ud(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Yl(i,o,d,m){if(i=i.options,o){o={};for(var w=0;w<d.length;w++)o["$"+d[w]]=!0;for(d=0;d<i.length;d++)w=o.hasOwnProperty("$"+i[d].value),i[d].selected!==w&&(i[d].selected=w),w&&m&&(i[d].defaultSelected=!0)}else{for(d=""+Gt(d),o=null,w=0;w<i.length;w++){if(i[w].value===d){i[w].selected=!0,m&&(i[w].defaultSelected=!0);return}o!==null||i[w].disabled||(o=i[w])}o!==null&&(o.selected=!0)}}function Y1(i,o,d){if(o!=null&&(o=""+Gt(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Gt(d):""}function J1(i,o,d,m){if(o==null){if(m!=null){if(d!=null)throw Error(r(92));if(Z(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),o=d}d=Gt(o),i.defaultValue=d,m=i.textContent,m===d&&m!==""&&m!==null&&(i.value=m),Kl(i)}function Jl(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var A5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function W1(i,o,d){var m=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":m?i.setProperty(o,d):typeof d!="number"||d===0||A5.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function X1(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?i.setProperty(m,""):m==="float"?i.cssFloat="":i[m]="");for(var w in o)m=o[w],o.hasOwnProperty(w)&&d[w]!==m&&W1(i,w,m)}else for(var S in o)o.hasOwnProperty(S)&&W1(i,S,o[S])}function Jm(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),k5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $d(i){return k5.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qa(){}var Wm=null;function Xm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Wl=null,Xl=null;function Z1(i){var o=Ji(i);if(o&&(i=o.stateNode)){var d=i[Zt]||null;e:switch(i=o.stateNode,o.type){case"input":if(Km(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Ur(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var m=d[o];if(m!==i&&m.form===i.form){var w=m[Zt]||null;if(!w)throw Error(r(90));Km(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<d.length;o++)m=d[o],m.form===i.form&&Cc(m)}break e;case"textarea":Y1(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Yl(i,!!d.multiple,o,!1)}}}var Zm=!1;function Q1(i,o,d){if(Zm)return i(o,d);Zm=!0;try{var m=i(o);return m}finally{if(Zm=!1,(Wl!==null||Xl!==null)&&(Af(),Wl&&(o=Wl,i=Xl,Xl=Wl=null,Z1(o),i)))for(o=0;o<i.length;o++)Z1(i[o])}}function Ac(i,o){var d=i.stateNode;if(d===null)return null;var m=d[Zt]||null;if(m===null)return null;d=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(i=i.type,m=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!m;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qm=!1;if(ei)try{var Tc={};Object.defineProperty(Tc,"passive",{get:function(){Qm=!0}}),window.addEventListener("test",Tc,Tc),window.removeEventListener("test",Tc,Tc)}catch{Qm=!1}var Zi=null,e0=null,Gd=null;function eN(){if(Gd)return Gd;var i,o=e0,d=o.length,m,w="value"in Zi?Zi.value:Zi.textContent,S=w.length;for(i=0;i<d&&o[i]===w[i];i++);var T=d-i;for(m=1;m<=T&&o[d-m]===w[S-m];m++);return Gd=w.slice(i,1<m?1-m:void 0)}function Bd(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Fd(){return!0}function tN(){return!1}function hr(i){function o(d,m,w,S,T){this._reactName=d,this._targetInst=w,this.type=m,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var I in i)i.hasOwnProperty(I)&&(d=i[I],this[I]=d?d(S):S[I]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Fd:tN,this.isPropagationStopped=tN,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Fd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Fd)},persist:function(){},isPersistent:Fd}),o}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qd=hr(Zs),kc=g({},Zs,{view:0,detail:0}),M5=hr(kc),t0,n0,Mc,Hd=g({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a0,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mc&&(Mc&&i.type==="mousemove"?(t0=i.screenX-Mc.screenX,n0=i.screenY-Mc.screenY):n0=t0=0,Mc=i),t0)},movementY:function(i){return"movementY"in i?i.movementY:n0}}),nN=hr(Hd),R5=g({},Hd,{dataTransfer:0}),P5=hr(R5),O5=g({},kc,{relatedTarget:0}),r0=hr(O5),I5=g({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),D5=hr(I5),L5=g({},Zs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),z5=hr(L5),U5=g({},Zs,{data:0}),rN=hr(U5),$5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function F5(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=B5[i])?!!o[i]:!1}function a0(){return F5}var q5=g({},kc,{key:function(i){if(i.key){var o=$5[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Bd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?G5[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a0,charCode:function(i){return i.type==="keypress"?Bd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),H5=hr(q5),V5=g({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aN=hr(V5),K5=g({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a0}),Y5=hr(K5),J5=g({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),W5=hr(J5),X5=g({},Hd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z5=hr(X5),Q5=g({},Zs,{newState:0,oldState:0}),e6=hr(Q5),t6=[9,13,27,32],i0=ei&&"CompositionEvent"in window,Rc=null;ei&&"documentMode"in document&&(Rc=document.documentMode);var n6=ei&&"TextEvent"in window&&!Rc,iN=ei&&(!i0||Rc&&8<Rc&&11>=Rc),sN=" ",lN=!1;function oN(i,o){switch(i){case"keyup":return t6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cN(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Zl=!1;function r6(i,o){switch(i){case"compositionend":return cN(o);case"keypress":return o.which!==32?null:(lN=!0,sN);case"textInput":return i=o.data,i===sN&&lN?null:i;default:return null}}function a6(i,o){if(Zl)return i==="compositionend"||!i0&&oN(i,o)?(i=eN(),Gd=e0=Zi=null,Zl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return iN&&o.locale!=="ko"?null:o.data;default:return null}}var i6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uN(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!i6[i.type]:o==="textarea"}function dN(i,o,d,m){Wl?Xl?Xl.push(m):Xl=[m]:Wl=m,o=If(o,"onChange"),0<o.length&&(d=new qd("onChange","change",null,d,m),i.push({event:d,listeners:o}))}var Pc=null,Oc=null;function s6(i){K_(i,0)}function Vd(i){var o=Ws(i);if(Cc(o))return i}function fN(i,o){if(i==="change")return o}var pN=!1;if(ei){var s0;if(ei){var l0="oninput"in document;if(!l0){var hN=document.createElement("div");hN.setAttribute("oninput","return;"),l0=typeof hN.oninput=="function"}s0=l0}else s0=!1;pN=s0&&(!document.documentMode||9<document.documentMode)}function mN(){Pc&&(Pc.detachEvent("onpropertychange",gN),Oc=Pc=null)}function gN(i){if(i.propertyName==="value"&&Vd(Oc)){var o=[];dN(o,Oc,i,Xm(i)),Q1(s6,o)}}function l6(i,o,d){i==="focusin"?(mN(),Pc=o,Oc=d,Pc.attachEvent("onpropertychange",gN)):i==="focusout"&&mN()}function o6(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vd(Oc)}function c6(i,o){if(i==="click")return Vd(o)}function u6(i,o){if(i==="input"||i==="change")return Vd(o)}function d6(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var _r=typeof Object.is=="function"?Object.is:d6;function Ic(i,o){if(_r(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),m=Object.keys(o);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var w=d[m];if(!fr.call(o,w)||!_r(i[w],o[w]))return!1}return!0}function xN(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function vN(i,o){var d=xN(i);i=0;for(var m;d;){if(d.nodeType===3){if(m=i+d.textContent.length,i<=o&&m>=o)return{node:d,offset:o-i};i=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xN(d)}}function yN(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?yN(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function bN(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Ud(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Ud(i.document)}return o}function o0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var f6=ei&&"documentMode"in document&&11>=document.documentMode,Ql=null,c0=null,Dc=null,u0=!1;function wN(i,o,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;u0||Ql==null||Ql!==Ud(m)||(m=Ql,"selectionStart"in m&&o0(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Dc&&Ic(Dc,m)||(Dc=m,m=If(c0,"onSelect"),0<m.length&&(o=new qd("onSelect","select",null,o,d),i.push({event:o,listeners:m}),o.target=Ql)))}function Qs(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var eo={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},d0={},NN={};ei&&(NN=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function el(i){if(d0[i])return d0[i];if(!eo[i])return i;var o=eo[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in NN)return d0[i]=o[d];return i}var SN=el("animationend"),_N=el("animationiteration"),jN=el("animationstart"),p6=el("transitionrun"),h6=el("transitionstart"),m6=el("transitioncancel"),EN=el("transitionend"),CN=new Map,f0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");f0.push("scrollEnd");function la(i,o){CN.set(i,o),Xa(o,[i])}var Kd=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},$r=[],to=0,p0=0;function Yd(){for(var i=to,o=p0=to=0;o<i;){var d=$r[o];$r[o++]=null;var m=$r[o];$r[o++]=null;var w=$r[o];$r[o++]=null;var S=$r[o];if($r[o++]=null,m!==null&&w!==null){var T=m.pending;T===null?w.next=w:(w.next=T.next,T.next=w),m.pending=w}S!==0&&AN(d,w,S)}}function Jd(i,o,d,m){$r[to++]=i,$r[to++]=o,$r[to++]=d,$r[to++]=m,p0|=m,i.lanes|=m,i=i.alternate,i!==null&&(i.lanes|=m)}function h0(i,o,d,m){return Jd(i,o,d,m),Wd(i)}function tl(i,o){return Jd(i,null,null,o),Wd(i)}function AN(i,o,d){i.lanes|=d;var m=i.alternate;m!==null&&(m.lanes|=d);for(var w=!1,S=i.return;S!==null;)S.childLanes|=d,m=S.alternate,m!==null&&(m.childLanes|=d),S.tag===22&&(i=S.stateNode,i===null||i._visibility&1||(w=!0)),i=S,S=S.return;return i.tag===3?(S=i.stateNode,w&&o!==null&&(w=31-De(d),i=S.hiddenUpdates,m=i[w],m===null?i[w]=[o]:m.push(o),o.lane=d|536870912),S):null}function Wd(i){if(50<au)throw au=0,Sg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var no={};function g6(i,o,d,m){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(i,o,d,m){return new g6(i,o,d,m)}function m0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ti(i,o){var d=i.alternate;return d===null?(d=jr(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function TN(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Xd(i,o,d,m,w,S){var T=0;if(m=i,typeof i=="function")m0(i)&&(T=1);else if(typeof i=="string")T=wL(i,d,xe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=jr(31,d,o,w),i.elementType=z,i.lanes=S,i;case j:return nl(d.children,w,S,o);case E:T=8,w|=24;break;case C:return i=jr(12,d,o,w|2),i.elementType=C,i.lanes=S,i;case M:return i=jr(13,d,o,w),i.elementType=M,i.lanes=S,i;case P:return i=jr(19,d,o,w),i.elementType=P,i.lanes=S,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:T=10;break e;case A:T=9;break e;case R:T=11;break e;case O:T=14;break e;case L:T=16,m=null;break e}T=29,d=Error(r(130,i===null?"null":typeof i,"")),m=null}return o=jr(T,d,o,w),o.elementType=i,o.type=m,o.lanes=S,o}function nl(i,o,d,m){return i=jr(7,i,m,o),i.lanes=d,i}function g0(i,o,d){return i=jr(6,i,null,o),i.lanes=d,i}function kN(i){var o=jr(18,null,null,0);return o.stateNode=i,o}function x0(i,o,d){return o=jr(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var MN=new WeakMap;function Gr(i,o){if(typeof i=="object"&&i!==null){var d=MN.get(i);return d!==void 0?d:(o={value:i,source:o,stack:Cn(o)},MN.set(i,o),o)}return{value:i,source:o,stack:Cn(o)}}var ro=[],ao=0,Zd=null,Lc=0,Br=[],Fr=0,Qi=null,Ea=1,Ca="";function ni(i,o){ro[ao++]=Lc,ro[ao++]=Zd,Zd=i,Lc=o}function RN(i,o,d){Br[Fr++]=Ea,Br[Fr++]=Ca,Br[Fr++]=Qi,Qi=i;var m=Ea;i=Ca;var w=32-De(m)-1;m&=~(1<<w),d+=1;var S=32-De(o)+w;if(30<S){var T=w-w%5;S=(m&(1<<T)-1).toString(32),m>>=T,w-=T,Ea=1<<32-De(o)+w|d<<w|m,Ca=S+i}else Ea=1<<S|d<<w|m,Ca=i}function v0(i){i.return!==null&&(ni(i,1),RN(i,1,0))}function y0(i){for(;i===Zd;)Zd=ro[--ao],ro[ao]=null,Lc=ro[--ao],ro[ao]=null;for(;i===Qi;)Qi=Br[--Fr],Br[Fr]=null,Ca=Br[--Fr],Br[Fr]=null,Ea=Br[--Fr],Br[Fr]=null}function PN(i,o){Br[Fr++]=Ea,Br[Fr++]=Ca,Br[Fr++]=Qi,Ea=o.id,Ca=o.overflow,Qi=i}var zn=null,zt=null,ot=!1,es=null,qr=!1,b0=Error(r(519));function ts(i){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zc(Gr(o,i)),b0}function ON(i){var o=i.stateNode,d=i.type,m=i.memoizedProps;switch(o[fn]=i,o[Zt]=m,d){case"dialog":rt("cancel",o),rt("close",o);break;case"iframe":case"object":case"embed":rt("load",o);break;case"video":case"audio":for(d=0;d<su.length;d++)rt(su[d],o);break;case"source":rt("error",o);break;case"img":case"image":case"link":rt("error",o),rt("load",o);break;case"details":rt("toggle",o);break;case"input":rt("invalid",o),K1(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":rt("invalid",o);break;case"textarea":rt("invalid",o),J1(o,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||m.suppressHydrationWarning===!0||X_(o.textContent,d)?(m.popover!=null&&(rt("beforetoggle",o),rt("toggle",o)),m.onScroll!=null&&rt("scroll",o),m.onScrollEnd!=null&&rt("scrollend",o),m.onClick!=null&&(o.onclick=Qa),o=!0):o=!1,o||ts(i,!0)}function IN(i){for(zn=i.return;zn;)switch(zn.tag){case 5:case 31:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:zn=zn.return}}function io(i){if(i!==zn)return!1;if(!ot)return IN(i),ot=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||zg(i.type,i.memoizedProps)),d=!d),d&&zt&&ts(i),IN(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));zt=sj(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));zt=sj(i)}else o===27?(o=zt,ms(i.type)?(i=Fg,Fg=null,zt=i):zt=o):zt=zn?Vr(i.stateNode.nextSibling):null;return!0}function rl(){zt=zn=null,ot=!1}function w0(){var i=es;return i!==null&&(vr===null?vr=i:vr.push.apply(vr,i),es=null),i}function zc(i){es===null?es=[i]:es.push(i)}var N0=D(null),al=null,ri=null;function ns(i,o,d){ge(N0,o._currentValue),o._currentValue=d}function ai(i){i._currentValue=N0.current,X(N0)}function S0(i,o,d){for(;i!==null;){var m=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),i===d)break;i=i.return}}function _0(i,o,d,m){var w=i.child;for(w!==null&&(w.return=i);w!==null;){var S=w.dependencies;if(S!==null){var T=w.child;S=S.firstContext;e:for(;S!==null;){var I=S;S=w;for(var B=0;B<o.length;B++)if(I.context===o[B]){S.lanes|=d,I=S.alternate,I!==null&&(I.lanes|=d),S0(S.return,d,i),m||(T=null);break e}S=I.next}}else if(w.tag===18){if(T=w.return,T===null)throw Error(r(341));T.lanes|=d,S=T.alternate,S!==null&&(S.lanes|=d),S0(T,d,i),T=null}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===i){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}}function so(i,o,d,m){i=null;for(var w=o,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var T=w.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var I=w.type;_r(w.pendingProps.value,T.value)||(i!==null?i.push(I):i=[I])}}else if(w===ye.current){if(T=w.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(i!==null?i.push(du):i=[du])}w=w.return}i!==null&&_0(o,i,d,m),o.flags|=262144}function Qd(i){for(i=i.firstContext;i!==null;){if(!_r(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function il(i){al=i,ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Un(i){return DN(al,i)}function ef(i,o){return al===null&&il(i),DN(i,o)}function DN(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ri===null){if(i===null)throw Error(r(308));ri=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ri=ri.next=o;return d}var x6=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,m){i.push(m)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},v6=e.unstable_scheduleCallback,y6=e.unstable_NormalPriority,pn={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function j0(){return{controller:new x6,data:new Map,refCount:0}}function Uc(i){i.refCount--,i.refCount===0&&v6(y6,function(){i.controller.abort()})}var $c=null,E0=0,lo=0,oo=null;function b6(i,o){if($c===null){var d=$c=[];E0=0,lo=Tg(),oo={status:"pending",value:void 0,then:function(m){d.push(m)}}}return E0++,o.then(LN,LN),o}function LN(){if(--E0===0&&$c!==null){oo!==null&&(oo.status="fulfilled");var i=$c;$c=null,lo=0,oo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function w6(i,o){var d=[],m={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return i.then(function(){m.status="fulfilled",m.value=o;for(var w=0;w<d.length;w++)(0,d[w])(o)},function(w){for(m.status="rejected",m.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),m}var zN=U.S;U.S=function(i,o){w_=ze(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&b6(i,o),zN!==null&&zN(i,o)};var sl=D(null);function C0(){var i=sl.current;return i!==null?i:Rt.pooledCache}function tf(i,o){o===null?ge(sl,sl.current):ge(sl,o.pool)}function UN(){var i=C0();return i===null?null:{parent:pn._currentValue,pool:i}}var co=Error(r(460)),A0=Error(r(474)),nf=Error(r(542)),rf={then:function(){}};function $N(i){return i=i.status,i==="fulfilled"||i==="rejected"}function GN(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(Qa,Qa),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,FN(i),i;default:if(typeof o.status=="string")o.then(Qa,Qa);else{if(i=Rt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(m){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=m}},function(m){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,FN(i),i}throw ol=o,co}}function ll(i){try{var o=i._init;return o(i._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ol=d,co):d}}var ol=null;function BN(){if(ol===null)throw Error(r(459));var i=ol;return ol=null,i}function FN(i){if(i===co||i===nf)throw Error(r(483))}var uo=null,Gc=0;function af(i){var o=Gc;return Gc+=1,uo===null&&(uo=[]),GN(uo,i,o)}function Bc(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function sf(i,o){throw o.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function qN(i){function o(V,F){if(i){var ne=V.deletions;ne===null?(V.deletions=[F],V.flags|=16):ne.push(F)}}function d(V,F){if(!i)return null;for(;F!==null;)o(V,F),F=F.sibling;return null}function m(V){for(var F=new Map;V!==null;)V.key!==null?F.set(V.key,V):F.set(V.index,V),V=V.sibling;return F}function w(V,F){return V=ti(V,F),V.index=0,V.sibling=null,V}function S(V,F,ne){return V.index=ne,i?(ne=V.alternate,ne!==null?(ne=ne.index,ne<F?(V.flags|=67108866,F):ne):(V.flags|=67108866,F)):(V.flags|=1048576,F)}function T(V){return i&&V.alternate===null&&(V.flags|=67108866),V}function I(V,F,ne,he){return F===null||F.tag!==6?(F=g0(ne,V.mode,he),F.return=V,F):(F=w(F,ne),F.return=V,F)}function B(V,F,ne,he){var Ie=ne.type;return Ie===j?fe(V,F,ne.props.children,he,ne.key):F!==null&&(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===L&&ll(Ie)===F.type)?(F=w(F,ne.props),Bc(F,ne),F.return=V,F):(F=Xd(ne.type,ne.key,ne.props,null,V.mode,he),Bc(F,ne),F.return=V,F)}function re(V,F,ne,he){return F===null||F.tag!==4||F.stateNode.containerInfo!==ne.containerInfo||F.stateNode.implementation!==ne.implementation?(F=x0(ne,V.mode,he),F.return=V,F):(F=w(F,ne.children||[]),F.return=V,F)}function fe(V,F,ne,he,Ie){return F===null||F.tag!==7?(F=nl(ne,V.mode,he,Ie),F.return=V,F):(F=w(F,ne),F.return=V,F)}function me(V,F,ne){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=g0(""+F,V.mode,ne),F.return=V,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case N:return ne=Xd(F.type,F.key,F.props,null,V.mode,ne),Bc(ne,F),ne.return=V,ne;case _:return F=x0(F,V.mode,ne),F.return=V,F;case L:return F=ll(F),me(V,F,ne)}if(Z(F)||G(F))return F=nl(F,V.mode,ne,null),F.return=V,F;if(typeof F.then=="function")return me(V,af(F),ne);if(F.$$typeof===k)return me(V,ef(V,F),ne);sf(V,F)}return null}function se(V,F,ne,he){var Ie=F!==null?F.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ie!==null?null:I(V,F,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:return ne.key===Ie?B(V,F,ne,he):null;case _:return ne.key===Ie?re(V,F,ne,he):null;case L:return ne=ll(ne),se(V,F,ne,he)}if(Z(ne)||G(ne))return Ie!==null?null:fe(V,F,ne,he,null);if(typeof ne.then=="function")return se(V,F,af(ne),he);if(ne.$$typeof===k)return se(V,F,ef(V,ne),he);sf(V,ne)}return null}function ce(V,F,ne,he,Ie){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return V=V.get(ne)||null,I(F,V,""+he,Ie);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case N:return V=V.get(he.key===null?ne:he.key)||null,B(F,V,he,Ie);case _:return V=V.get(he.key===null?ne:he.key)||null,re(F,V,he,Ie);case L:return he=ll(he),ce(V,F,ne,he,Ie)}if(Z(he)||G(he))return V=V.get(ne)||null,fe(F,V,he,Ie,null);if(typeof he.then=="function")return ce(V,F,ne,af(he),Ie);if(he.$$typeof===k)return ce(V,F,ne,ef(F,he),Ie);sf(F,he)}return null}function Ce(V,F,ne,he){for(var Ie=null,ht=null,Me=F,Ke=F=0,it=null;Me!==null&&Ke<ne.length;Ke++){Me.index>Ke?(it=Me,Me=null):it=Me.sibling;var mt=se(V,Me,ne[Ke],he);if(mt===null){Me===null&&(Me=it);break}i&&Me&&mt.alternate===null&&o(V,Me),F=S(mt,F,Ke),ht===null?Ie=mt:ht.sibling=mt,ht=mt,Me=it}if(Ke===ne.length)return d(V,Me),ot&&ni(V,Ke),Ie;if(Me===null){for(;Ke<ne.length;Ke++)Me=me(V,ne[Ke],he),Me!==null&&(F=S(Me,F,Ke),ht===null?Ie=Me:ht.sibling=Me,ht=Me);return ot&&ni(V,Ke),Ie}for(Me=m(Me);Ke<ne.length;Ke++)it=ce(Me,V,Ke,ne[Ke],he),it!==null&&(i&&it.alternate!==null&&Me.delete(it.key===null?Ke:it.key),F=S(it,F,Ke),ht===null?Ie=it:ht.sibling=it,ht=it);return i&&Me.forEach(function(bs){return o(V,bs)}),ot&&ni(V,Ke),Ie}function Ue(V,F,ne,he){if(ne==null)throw Error(r(151));for(var Ie=null,ht=null,Me=F,Ke=F=0,it=null,mt=ne.next();Me!==null&&!mt.done;Ke++,mt=ne.next()){Me.index>Ke?(it=Me,Me=null):it=Me.sibling;var bs=se(V,Me,mt.value,he);if(bs===null){Me===null&&(Me=it);break}i&&Me&&bs.alternate===null&&o(V,Me),F=S(bs,F,Ke),ht===null?Ie=bs:ht.sibling=bs,ht=bs,Me=it}if(mt.done)return d(V,Me),ot&&ni(V,Ke),Ie;if(Me===null){for(;!mt.done;Ke++,mt=ne.next())mt=me(V,mt.value,he),mt!==null&&(F=S(mt,F,Ke),ht===null?Ie=mt:ht.sibling=mt,ht=mt);return ot&&ni(V,Ke),Ie}for(Me=m(Me);!mt.done;Ke++,mt=ne.next())mt=ce(Me,V,Ke,mt.value,he),mt!==null&&(i&&mt.alternate!==null&&Me.delete(mt.key===null?Ke:mt.key),F=S(mt,F,Ke),ht===null?Ie=mt:ht.sibling=mt,ht=mt);return i&&Me.forEach(function(RL){return o(V,RL)}),ot&&ni(V,Ke),Ie}function kt(V,F,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===j&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case N:e:{for(var Ie=ne.key;F!==null;){if(F.key===Ie){if(Ie=ne.type,Ie===j){if(F.tag===7){d(V,F.sibling),he=w(F,ne.props.children),he.return=V,V=he;break e}}else if(F.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===L&&ll(Ie)===F.type){d(V,F.sibling),he=w(F,ne.props),Bc(he,ne),he.return=V,V=he;break e}d(V,F);break}else o(V,F);F=F.sibling}ne.type===j?(he=nl(ne.props.children,V.mode,he,ne.key),he.return=V,V=he):(he=Xd(ne.type,ne.key,ne.props,null,V.mode,he),Bc(he,ne),he.return=V,V=he)}return T(V);case _:e:{for(Ie=ne.key;F!==null;){if(F.key===Ie)if(F.tag===4&&F.stateNode.containerInfo===ne.containerInfo&&F.stateNode.implementation===ne.implementation){d(V,F.sibling),he=w(F,ne.children||[]),he.return=V,V=he;break e}else{d(V,F);break}else o(V,F);F=F.sibling}he=x0(ne,V.mode,he),he.return=V,V=he}return T(V);case L:return ne=ll(ne),kt(V,F,ne,he)}if(Z(ne))return Ce(V,F,ne,he);if(G(ne)){if(Ie=G(ne),typeof Ie!="function")throw Error(r(150));return ne=Ie.call(ne),Ue(V,F,ne,he)}if(typeof ne.then=="function")return kt(V,F,af(ne),he);if(ne.$$typeof===k)return kt(V,F,ef(V,ne),he);sf(V,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,F!==null&&F.tag===6?(d(V,F.sibling),he=w(F,ne),he.return=V,V=he):(d(V,F),he=g0(ne,V.mode,he),he.return=V,V=he),T(V)):d(V,F)}return function(V,F,ne,he){try{Gc=0;var Ie=kt(V,F,ne,he);return uo=null,Ie}catch(Me){if(Me===co||Me===nf)throw Me;var ht=jr(29,Me,null,V.mode);return ht.lanes=he,ht.return=V,ht}}}var cl=qN(!0),HN=qN(!1),rs=!1;function T0(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function k0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function as(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function is(i,o,d){var m=i.updateQueue;if(m===null)return null;if(m=m.shared,(bt&2)!==0){var w=m.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),m.pending=o,o=Wd(i),AN(i,null,d),o}return Jd(i,m,o,d),Wd(i)}function Fc(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var m=o.lanes;m&=i.pendingLanes,d|=m,o.lanes=d,Ki(i,d)}}function M0(i,o){var d=i.updateQueue,m=i.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var w=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?w=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?w=S=o:S=S.next=o}else w=S=o;d={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:m.shared,callbacks:m.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var R0=!1;function qc(){if(R0){var i=oo;if(i!==null)throw i}}function Hc(i,o,d,m){R0=!1;var w=i.updateQueue;rs=!1;var S=w.firstBaseUpdate,T=w.lastBaseUpdate,I=w.shared.pending;if(I!==null){w.shared.pending=null;var B=I,re=B.next;B.next=null,T===null?S=re:T.next=re,T=B;var fe=i.alternate;fe!==null&&(fe=fe.updateQueue,I=fe.lastBaseUpdate,I!==T&&(I===null?fe.firstBaseUpdate=re:I.next=re,fe.lastBaseUpdate=B))}if(S!==null){var me=w.baseState;T=0,fe=re=B=null,I=S;do{var se=I.lane&-536870913,ce=se!==I.lane;if(ce?(at&se)===se:(m&se)===se){se!==0&&se===lo&&(R0=!0),fe!==null&&(fe=fe.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});e:{var Ce=i,Ue=I;se=o;var kt=d;switch(Ue.tag){case 1:if(Ce=Ue.payload,typeof Ce=="function"){me=Ce.call(kt,me,se);break e}me=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Ue.payload,se=typeof Ce=="function"?Ce.call(kt,me,se):Ce,se==null)break e;me=g({},me,se);break e;case 2:rs=!0}}se=I.callback,se!==null&&(i.flags|=64,ce&&(i.flags|=8192),ce=w.callbacks,ce===null?w.callbacks=[se]:ce.push(se))}else ce={lane:se,tag:I.tag,payload:I.payload,callback:I.callback,next:null},fe===null?(re=fe=ce,B=me):fe=fe.next=ce,T|=se;if(I=I.next,I===null){if(I=w.shared.pending,I===null)break;ce=I,I=ce.next,ce.next=null,w.lastBaseUpdate=ce,w.shared.pending=null}}while(!0);fe===null&&(B=me),w.baseState=B,w.firstBaseUpdate=re,w.lastBaseUpdate=fe,S===null&&(w.shared.lanes=0),us|=T,i.lanes=T,i.memoizedState=me}}function VN(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function KN(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)VN(d[i],o)}var fo=D(null),lf=D(0);function YN(i,o){i=pi,ge(lf,i),ge(fo,o),pi=i|o.baseLanes}function P0(){ge(lf,pi),ge(fo,fo.current)}function O0(){pi=lf.current,X(fo),X(lf)}var Er=D(null),Hr=null;function ss(i){var o=i.alternate;ge(on,on.current&1),ge(Er,i),Hr===null&&(o===null||fo.current!==null||o.memoizedState!==null)&&(Hr=i)}function I0(i){ge(on,on.current),ge(Er,i),Hr===null&&(Hr=i)}function JN(i){i.tag===22?(ge(on,on.current),ge(Er,i),Hr===null&&(Hr=i)):ls()}function ls(){ge(on,on.current),ge(Er,Er.current)}function Cr(i){X(Er),Hr===i&&(Hr=null),X(on)}var on=D(0);function of(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Gg(d)||Bg(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ii=0,Ve=null,At=null,hn=null,cf=!1,po=!1,ul=!1,uf=0,Vc=0,ho=null,N6=0;function Qt(){throw Error(r(321))}function D0(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!_r(i[d],o[d]))return!1;return!0}function L0(i,o,d,m,w,S){return ii=S,Ve=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,U.H=i===null||i.memoizedState===null?RS:Z0,ul=!1,S=d(m,w),ul=!1,po&&(S=XN(o,d,m,w)),WN(i),S}function WN(i){U.H=Jc;var o=At!==null&&At.next!==null;if(ii=0,hn=At=Ve=null,cf=!1,Vc=0,ho=null,o)throw Error(r(300));i===null||mn||(i=i.dependencies,i!==null&&Qd(i)&&(mn=!0))}function XN(i,o,d,m){Ve=i;var w=0;do{if(po&&(ho=null),Vc=0,po=!1,25<=w)throw Error(r(301));if(w+=1,hn=At=null,i.updateQueue!=null){var S=i.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}U.H=PS,S=o(d,m)}while(po);return S}function S6(){var i=U.H,o=i.useState()[0];return o=typeof o.then=="function"?Kc(o):o,i=i.useState()[0],(At!==null?At.memoizedState:null)!==i&&(Ve.flags|=1024),o}function z0(){var i=uf!==0;return uf=0,i}function U0(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function $0(i){if(cf){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}cf=!1}ii=0,hn=At=Ve=null,po=!1,Vc=uf=0,ho=null}function rr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ve.memoizedState=hn=i:hn=hn.next=i,hn}function cn(){if(At===null){var i=Ve.alternate;i=i!==null?i.memoizedState:null}else i=At.next;var o=hn===null?Ve.memoizedState:hn.next;if(o!==null)hn=o,At=i;else{if(i===null)throw Ve.alternate===null?Error(r(467)):Error(r(310));At=i,i={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},hn===null?Ve.memoizedState=hn=i:hn=hn.next=i}return hn}function df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kc(i){var o=Vc;return Vc+=1,ho===null&&(ho=[]),i=GN(ho,i,o),o=Ve,(hn===null?o.memoizedState:hn.next)===null&&(o=o.alternate,U.H=o===null||o.memoizedState===null?RS:Z0),i}function ff(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Kc(i);if(i.$$typeof===k)return Un(i)}throw Error(r(438,String(i)))}function G0(i){var o=null,d=Ve.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var m=Ve.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=df(),Ve.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),m=0;m<i;m++)d[m]=q;return o.index++,d}function si(i,o){return typeof o=="function"?o(i):o}function pf(i){var o=cn();return B0(o,At,i)}function B0(i,o,d){var m=i.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=i.baseQueue,S=m.pending;if(S!==null){if(w!==null){var T=w.next;w.next=S.next,S.next=T}o.baseQueue=w=S,m.pending=null}if(S=i.baseState,w===null)i.memoizedState=S;else{o=w.next;var I=T=null,B=null,re=o,fe=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(at&me)===me:(ii&me)===me){var se=re.revertLane;if(se===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===lo&&(fe=!0);else if((ii&se)===se){re=re.next,se===lo&&(fe=!0);continue}else me={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},B===null?(I=B=me,T=S):B=B.next=me,Ve.lanes|=se,us|=se;me=re.action,ul&&d(S,me),S=re.hasEagerState?re.eagerState:d(S,me)}else se={lane:me,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},B===null?(I=B=se,T=S):B=B.next=se,Ve.lanes|=me,us|=me;re=re.next}while(re!==null&&re!==o);if(B===null?T=S:B.next=I,!_r(S,i.memoizedState)&&(mn=!0,fe&&(d=oo,d!==null)))throw d;i.memoizedState=S,i.baseState=T,i.baseQueue=B,m.lastRenderedState=S}return w===null&&(m.lanes=0),[i.memoizedState,m.dispatch]}function F0(i){var o=cn(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var m=d.dispatch,w=d.pending,S=o.memoizedState;if(w!==null){d.pending=null;var T=w=w.next;do S=i(S,T.action),T=T.next;while(T!==w);_r(S,o.memoizedState)||(mn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,m]}function ZN(i,o,d){var m=Ve,w=cn(),S=ot;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=o();var T=!_r((At||w).memoizedState,d);if(T&&(w.memoizedState=d,mn=!0),w=w.queue,V0(tS.bind(null,m,w,i),[i]),w.getSnapshot!==o||T||hn!==null&&hn.memoizedState.tag&1){if(m.flags|=2048,mo(9,{destroy:void 0},eS.bind(null,m,w,d,o),null),Rt===null)throw Error(r(349));S||(ii&127)!==0||QN(m,o,d)}return d}function QN(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Ve.updateQueue,o===null?(o=df(),Ve.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function eS(i,o,d,m){o.value=d,o.getSnapshot=m,nS(o)&&rS(i)}function tS(i,o,d){return d(function(){nS(o)&&rS(i)})}function nS(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!_r(i,d)}catch{return!0}}function rS(i){var o=tl(i,2);o!==null&&yr(o,i,2)}function q0(i){var o=rr();if(typeof i=="function"){var d=i;if(i=d(),ul){$(!0);try{d()}finally{$(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:i},o}function aS(i,o,d,m){return i.baseState=d,B0(i,At,typeof m=="function"?m:si)}function _6(i,o,d,m,w){if(gf(i))throw Error(r(485));if(i=o.action,i!==null){var S={payload:w,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};U.T!==null?d(!0):S.isTransition=!1,m(S),d=o.pending,d===null?(S.next=o.pending=S,iS(o,S)):(S.next=d.next,o.pending=d.next=S)}}function iS(i,o){var d=o.action,m=o.payload,w=i.state;if(o.isTransition){var S=U.T,T={};U.T=T;try{var I=d(w,m),B=U.S;B!==null&&B(T,I),sS(i,o,I)}catch(re){H0(i,o,re)}finally{S!==null&&T.types!==null&&(S.types=T.types),U.T=S}}else try{S=d(w,m),sS(i,o,S)}catch(re){H0(i,o,re)}}function sS(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){lS(i,o,m)},function(m){return H0(i,o,m)}):lS(i,o,d)}function lS(i,o,d){o.status="fulfilled",o.value=d,oS(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,iS(i,d)))}function H0(i,o,d){var m=i.pending;if(i.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=d,oS(o),o=o.next;while(o!==m)}i.action=null}function oS(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function cS(i,o){return o}function uS(i,o){if(ot){var d=Rt.formState;if(d!==null){e:{var m=Ve;if(ot){if(zt){t:{for(var w=zt,S=qr;w.nodeType!==8;){if(!S){w=null;break t}if(w=Vr(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){zt=Vr(w.nextSibling),m=w.data==="F!";break e}}ts(m)}m=!1}m&&(o=d[0])}}return d=rr(),d.memoizedState=d.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cS,lastRenderedState:o},d.queue=m,d=TS.bind(null,Ve,m),m.dispatch=d,m=q0(!1),S=X0.bind(null,Ve,!1,m.queue),m=rr(),w={state:o,dispatch:null,action:i,pending:null},m.queue=w,d=_6.bind(null,Ve,w,S,d),w.dispatch=d,m.memoizedState=i,[o,d,!1]}function dS(i){var o=cn();return fS(o,At,i)}function fS(i,o,d){if(o=B0(i,o,cS)[0],i=pf(si)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Kc(o)}catch(T){throw T===co?nf:T}else m=o;o=cn();var w=o.queue,S=w.dispatch;return d!==o.memoizedState&&(Ve.flags|=2048,mo(9,{destroy:void 0},j6.bind(null,w,d),null)),[m,S,i]}function j6(i,o){i.action=o}function pS(i){var o=cn(),d=At;if(d!==null)return fS(o,d,i);cn(),o=o.memoizedState,d=cn();var m=d.queue.dispatch;return d.memoizedState=i,[o,m,!1]}function mo(i,o,d,m){return i={tag:i,create:d,deps:m,inst:o,next:null},o=Ve.updateQueue,o===null&&(o=df(),Ve.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(m=d.next,d.next=i,i.next=m,o.lastEffect=i),i}function hS(){return cn().memoizedState}function hf(i,o,d,m){var w=rr();Ve.flags|=i,w.memoizedState=mo(1|o,{destroy:void 0},d,m===void 0?null:m)}function mf(i,o,d,m){var w=cn();m=m===void 0?null:m;var S=w.memoizedState.inst;At!==null&&m!==null&&D0(m,At.memoizedState.deps)?w.memoizedState=mo(o,S,d,m):(Ve.flags|=i,w.memoizedState=mo(1|o,S,d,m))}function mS(i,o){hf(8390656,8,i,o)}function V0(i,o){mf(2048,8,i,o)}function E6(i){Ve.flags|=4;var o=Ve.updateQueue;if(o===null)o=df(),Ve.updateQueue=o,o.events=[i];else{var d=o.events;d===null?o.events=[i]:d.push(i)}}function gS(i){var o=cn().memoizedState;return E6({ref:o,nextImpl:i}),function(){if((bt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function xS(i,o){return mf(4,2,i,o)}function vS(i,o){return mf(4,4,i,o)}function yS(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function bS(i,o,d){d=d!=null?d.concat([i]):null,mf(4,4,yS.bind(null,o,i),d)}function K0(){}function wS(i,o){var d=cn();o=o===void 0?null:o;var m=d.memoizedState;return o!==null&&D0(o,m[1])?m[0]:(d.memoizedState=[i,o],i)}function NS(i,o){var d=cn();o=o===void 0?null:o;var m=d.memoizedState;if(o!==null&&D0(o,m[1]))return m[0];if(m=i(),ul){$(!0);try{i()}finally{$(!1)}}return d.memoizedState=[m,o],m}function Y0(i,o,d){return d===void 0||(ii&1073741824)!==0&&(at&261930)===0?i.memoizedState=o:(i.memoizedState=d,i=S_(),Ve.lanes|=i,us|=i,d)}function SS(i,o,d,m){return _r(d,o)?d:fo.current!==null?(i=Y0(i,d,m),_r(i,o)||(mn=!0),i):(ii&42)===0||(ii&1073741824)!==0&&(at&261930)===0?(mn=!0,i.memoizedState=d):(i=S_(),Ve.lanes|=i,us|=i,o)}function _S(i,o,d,m,w){var S=J.p;J.p=S!==0&&8>S?S:8;var T=U.T,I={};U.T=I,X0(i,!1,o,d);try{var B=w(),re=U.S;if(re!==null&&re(I,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var fe=w6(B,m);Yc(i,o,fe,kr(i))}else Yc(i,o,m,kr(i))}catch(me){Yc(i,o,{then:function(){},status:"rejected",reason:me},kr())}finally{J.p=S,T!==null&&I.types!==null&&(T.types=I.types),U.T=T}}function C6(){}function J0(i,o,d,m){if(i.tag!==5)throw Error(r(476));var w=jS(i).queue;_S(i,w,o,te,d===null?C6:function(){return ES(i),d(m)})}function jS(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:te},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function ES(i){var o=jS(i);o.next===null&&(o=i.alternate.memoizedState),Yc(i,o.next.queue,{},kr())}function W0(){return Un(du)}function CS(){return cn().memoizedState}function AS(){return cn().memoizedState}function A6(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=kr();i=as(d);var m=is(o,i,d);m!==null&&(yr(m,o,d),Fc(m,o,d)),o={cache:j0()},i.payload=o;return}o=o.return}}function T6(i,o,d){var m=kr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},gf(i)?kS(o,d):(d=h0(i,o,d,m),d!==null&&(yr(d,i,m),MS(d,o,m)))}function TS(i,o,d){var m=kr();Yc(i,o,d,m)}function Yc(i,o,d,m){var w={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(gf(i))kS(o,w);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var T=o.lastRenderedState,I=S(T,d);if(w.hasEagerState=!0,w.eagerState=I,_r(I,T))return Jd(i,o,w,0),Rt===null&&Yd(),!1}catch{}if(d=h0(i,o,w,m),d!==null)return yr(d,i,m),MS(d,o,m),!0}return!1}function X0(i,o,d,m){if(m={lane:2,revertLane:Tg(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},gf(i)){if(o)throw Error(r(479))}else o=h0(i,d,m,2),o!==null&&yr(o,i,2)}function gf(i){var o=i.alternate;return i===Ve||o!==null&&o===Ve}function kS(i,o){po=cf=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function MS(i,o,d){if((d&4194048)!==0){var m=o.lanes;m&=i.pendingLanes,d|=m,o.lanes=d,Ki(i,d)}}var Jc={readContext:Un,use:ff,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Jc.useEffectEvent=Qt;var RS={readContext:Un,use:ff,useCallback:function(i,o){return rr().memoizedState=[i,o===void 0?null:o],i},useContext:Un,useEffect:mS,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,hf(4194308,4,yS.bind(null,o,i),d)},useLayoutEffect:function(i,o){return hf(4194308,4,i,o)},useInsertionEffect:function(i,o){hf(4,2,i,o)},useMemo:function(i,o){var d=rr();o=o===void 0?null:o;var m=i();if(ul){$(!0);try{i()}finally{$(!1)}}return d.memoizedState=[m,o],m},useReducer:function(i,o,d){var m=rr();if(d!==void 0){var w=d(o);if(ul){$(!0);try{d(o)}finally{$(!1)}}}else w=o;return m.memoizedState=m.baseState=w,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:w},m.queue=i,i=i.dispatch=T6.bind(null,Ve,i),[m.memoizedState,i]},useRef:function(i){var o=rr();return i={current:i},o.memoizedState=i},useState:function(i){i=q0(i);var o=i.queue,d=TS.bind(null,Ve,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:K0,useDeferredValue:function(i,o){var d=rr();return Y0(d,i,o)},useTransition:function(){var i=q0(!1);return i=_S.bind(null,Ve,i.queue,!0,!1),rr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var m=Ve,w=rr();if(ot){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Rt===null)throw Error(r(349));(at&127)!==0||QN(m,o,d)}w.memoizedState=d;var S={value:d,getSnapshot:o};return w.queue=S,mS(tS.bind(null,m,S,i),[i]),m.flags|=2048,mo(9,{destroy:void 0},eS.bind(null,m,S,d,o),null),d},useId:function(){var i=rr(),o=Rt.identifierPrefix;if(ot){var d=Ca,m=Ea;d=(m&~(1<<32-De(m)-1)).toString(32)+d,o="_"+o+"R_"+d,d=uf++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=N6++,o="_"+o+"r_"+d.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:W0,useFormState:uS,useActionState:uS,useOptimistic:function(i){var o=rr();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=X0.bind(null,Ve,!0,d),d.dispatch=o,[i,o]},useMemoCache:G0,useCacheRefresh:function(){return rr().memoizedState=A6.bind(null,Ve)},useEffectEvent:function(i){var o=rr(),d={impl:i};return o.memoizedState=d,function(){if((bt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Z0={readContext:Un,use:ff,useCallback:wS,useContext:Un,useEffect:V0,useImperativeHandle:bS,useInsertionEffect:xS,useLayoutEffect:vS,useMemo:NS,useReducer:pf,useRef:hS,useState:function(){return pf(si)},useDebugValue:K0,useDeferredValue:function(i,o){var d=cn();return SS(d,At.memoizedState,i,o)},useTransition:function(){var i=pf(si)[0],o=cn().memoizedState;return[typeof i=="boolean"?i:Kc(i),o]},useSyncExternalStore:ZN,useId:CS,useHostTransitionStatus:W0,useFormState:dS,useActionState:dS,useOptimistic:function(i,o){var d=cn();return aS(d,At,i,o)},useMemoCache:G0,useCacheRefresh:AS};Z0.useEffectEvent=gS;var PS={readContext:Un,use:ff,useCallback:wS,useContext:Un,useEffect:V0,useImperativeHandle:bS,useInsertionEffect:xS,useLayoutEffect:vS,useMemo:NS,useReducer:F0,useRef:hS,useState:function(){return F0(si)},useDebugValue:K0,useDeferredValue:function(i,o){var d=cn();return At===null?Y0(d,i,o):SS(d,At.memoizedState,i,o)},useTransition:function(){var i=F0(si)[0],o=cn().memoizedState;return[typeof i=="boolean"?i:Kc(i),o]},useSyncExternalStore:ZN,useId:CS,useHostTransitionStatus:W0,useFormState:pS,useActionState:pS,useOptimistic:function(i,o){var d=cn();return At!==null?aS(d,At,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:G0,useCacheRefresh:AS};PS.useEffectEvent=gS;function Q0(i,o,d,m){o=i.memoizedState,d=d(m,o),d=d==null?o:g({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var eg={enqueueSetState:function(i,o,d){i=i._reactInternals;var m=kr(),w=as(m);w.payload=o,d!=null&&(w.callback=d),o=is(i,w,m),o!==null&&(yr(o,i,m),Fc(o,i,m))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var m=kr(),w=as(m);w.tag=1,w.payload=o,d!=null&&(w.callback=d),o=is(i,w,m),o!==null&&(yr(o,i,m),Fc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=kr(),m=as(d);m.tag=2,o!=null&&(m.callback=o),o=is(i,m,d),o!==null&&(yr(o,i,d),Fc(o,i,d))}};function OS(i,o,d,m,w,S,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(m,S,T):o.prototype&&o.prototype.isPureReactComponent?!Ic(d,m)||!Ic(w,S):!0}function IS(i,o,d,m){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,m),o.state!==i&&eg.enqueueReplaceState(o,o.state,null)}function dl(i,o){var d=o;if("ref"in o){d={};for(var m in o)m!=="ref"&&(d[m]=o[m])}if(i=i.defaultProps){d===o&&(d=g({},d));for(var w in i)d[w]===void 0&&(d[w]=i[w])}return d}function DS(i){Kd(i)}function LS(i){console.error(i)}function zS(i){Kd(i)}function xf(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function US(i,o,d){try{var m=i.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function tg(i,o,d){return d=as(d),d.tag=3,d.payload={element:null},d.callback=function(){xf(i,o)},d}function $S(i){return i=as(i),i.tag=3,i}function GS(i,o,d,m){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var S=m.value;i.payload=function(){return w(S)},i.callback=function(){US(o,d,m)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){US(o,d,m),typeof w!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var I=m.stack;this.componentDidCatch(m.value,{componentStack:I!==null?I:""})})}function k6(i,o,d,m,w){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=d.alternate,o!==null&&so(o,d,w,!0),d=Er.current,d!==null){switch(d.tag){case 31:case 13:return Hr===null?Tf():d.alternate===null&&en===0&&(en=3),d.flags&=-257,d.flags|=65536,d.lanes=w,m===rf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([m]):o.add(m),Eg(i,m,w)),!1;case 22:return d.flags|=65536,m===rf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([m]):d.add(m)),Eg(i,m,w)),!1}throw Error(r(435,d.tag))}return Eg(i,m,w),Tf(),!1}if(ot)return o=Er.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,m!==b0&&(i=Error(r(422),{cause:m}),zc(Gr(i,d)))):(m!==b0&&(o=Error(r(423),{cause:m}),zc(Gr(o,d))),i=i.current.alternate,i.flags|=65536,w&=-w,i.lanes|=w,m=Gr(m,d),w=tg(i.stateNode,m,w),M0(i,w),en!==4&&(en=2)),!1;var S=Error(r(520),{cause:m});if(S=Gr(S,d),ru===null?ru=[S]:ru.push(S),en!==4&&(en=2),o===null)return!0;m=Gr(m,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=w&-w,d.lanes|=i,i=tg(d.stateNode,m,i),M0(d,i),!1;case 1:if(o=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(ds===null||!ds.has(S))))return d.flags|=65536,w&=-w,d.lanes|=w,w=$S(w),GS(w,i,d,m),M0(d,w),!1}d=d.return}while(d!==null);return!1}var ng=Error(r(461)),mn=!1;function $n(i,o,d,m){o.child=i===null?HN(o,null,d,m):cl(o,i.child,d,m)}function BS(i,o,d,m,w){d=d.render;var S=o.ref;if("ref"in m){var T={};for(var I in m)I!=="ref"&&(T[I]=m[I])}else T=m;return il(o),m=L0(i,o,d,T,S,w),I=z0(),i!==null&&!mn?(U0(i,o,w),li(i,o,w)):(ot&&I&&v0(o),o.flags|=1,$n(i,o,m,w),o.child)}function FS(i,o,d,m,w){if(i===null){var S=d.type;return typeof S=="function"&&!m0(S)&&S.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=S,qS(i,o,S,m,w)):(i=Xd(d.type,null,m,o,o.mode,w),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!ug(i,w)){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:Ic,d(T,m)&&i.ref===o.ref)return li(i,o,w)}return o.flags|=1,i=ti(S,m),i.ref=o.ref,i.return=o,o.child=i}function qS(i,o,d,m,w){if(i!==null){var S=i.memoizedProps;if(Ic(S,m)&&i.ref===o.ref)if(mn=!1,o.pendingProps=m=S,ug(i,w))(i.flags&131072)!==0&&(mn=!0);else return o.lanes=i.lanes,li(i,o,w)}return rg(i,o,d,m,w)}function HS(i,o,d,m){var w=m.children,S=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,i!==null){for(m=o.child=i.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~S}else m=0,o.child=null;return VS(i,o,S,d,m)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&tf(o,S!==null?S.cachePool:null),S!==null?YN(o,S):P0(),JN(o);else return m=o.lanes=536870912,VS(i,o,S!==null?S.baseLanes|d:d,d,m)}else S!==null?(tf(o,S.cachePool),YN(o,S),ls(),o.memoizedState=null):(i!==null&&tf(o,null),P0(),ls());return $n(i,o,w,d),o.child}function Wc(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function VS(i,o,d,m,w){var S=C0();return S=S===null?null:{parent:pn._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},i!==null&&tf(o,null),P0(),JN(o),i!==null&&so(i,o,m,!0),o.childLanes=w,null}function vf(i,o){return o=bf({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function KS(i,o,d){return cl(o,i.child,null,d),i=vf(o,o.pendingProps),i.flags|=2,Cr(o),o.memoizedState=null,i}function M6(i,o,d){var m=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(ot){if(m.mode==="hidden")return i=vf(o,m),o.lanes=536870912,Wc(null,i);if(I0(o),(i=zt)?(i=ij(i,qr),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Qi!==null?{id:Ea,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},d=kN(i),d.return=o,o.child=d,zn=o,zt=null)):i=null,i===null)throw ts(o);return o.lanes=536870912,null}return vf(o,m)}var S=i.memoizedState;if(S!==null){var T=S.dehydrated;if(I0(o),w)if(o.flags&256)o.flags&=-257,o=KS(i,o,d);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(r(558));else if(mn||so(i,o,d,!1),w=(d&i.childLanes)!==0,mn||w){if(m=Rt,m!==null&&(T=Nc(m,d),T!==0&&T!==S.retryLane))throw S.retryLane=T,tl(i,T),yr(m,i,T),ng;Tf(),o=KS(i,o,d)}else i=S.treeContext,zt=Vr(T.nextSibling),zn=o,ot=!0,es=null,qr=!1,i!==null&&PN(o,i),o=vf(o,m),o.flags|=4096;return o}return i=ti(i.child,{mode:m.mode,children:m.children}),i.ref=o.ref,o.child=i,i.return=o,i}function yf(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function rg(i,o,d,m,w){return il(o),d=L0(i,o,d,m,void 0,w),m=z0(),i!==null&&!mn?(U0(i,o,w),li(i,o,w)):(ot&&m&&v0(o),o.flags|=1,$n(i,o,d,w),o.child)}function YS(i,o,d,m,w,S){return il(o),o.updateQueue=null,d=XN(o,m,d,w),WN(i),m=z0(),i!==null&&!mn?(U0(i,o,S),li(i,o,S)):(ot&&m&&v0(o),o.flags|=1,$n(i,o,d,S),o.child)}function JS(i,o,d,m,w){if(il(o),o.stateNode===null){var S=no,T=d.contextType;typeof T=="object"&&T!==null&&(S=Un(T)),S=new d(m,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=eg,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=m,S.state=o.memoizedState,S.refs={},T0(o),T=d.contextType,S.context=typeof T=="object"&&T!==null?Un(T):no,S.state=o.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(Q0(o,d,T,m),S.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&eg.enqueueReplaceState(S,S.state,null),Hc(o,m,S,w),qc(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(i===null){S=o.stateNode;var I=o.memoizedProps,B=dl(d,I);S.props=B;var re=S.context,fe=d.contextType;T=no,typeof fe=="object"&&fe!==null&&(T=Un(fe));var me=d.getDerivedStateFromProps;fe=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function",I=o.pendingProps!==I,fe||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(I||re!==T)&&IS(o,S,m,T),rs=!1;var se=o.memoizedState;S.state=se,Hc(o,m,S,w),qc(),re=o.memoizedState,I||se!==re||rs?(typeof me=="function"&&(Q0(o,d,me,m),re=o.memoizedState),(B=rs||OS(o,d,B,m,se,re,T))?(fe||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=re),S.props=m,S.state=re,S.context=T,m=B):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{S=o.stateNode,k0(i,o),T=o.memoizedProps,fe=dl(d,T),S.props=fe,me=o.pendingProps,se=S.context,re=d.contextType,B=no,typeof re=="object"&&re!==null&&(B=Un(re)),I=d.getDerivedStateFromProps,(re=typeof I=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==me||se!==B)&&IS(o,S,m,B),rs=!1,se=o.memoizedState,S.state=se,Hc(o,m,S,w),qc();var ce=o.memoizedState;T!==me||se!==ce||rs||i!==null&&i.dependencies!==null&&Qd(i.dependencies)?(typeof I=="function"&&(Q0(o,d,I,m),ce=o.memoizedState),(fe=rs||OS(o,d,fe,m,se,ce,B)||i!==null&&i.dependencies!==null&&Qd(i.dependencies))?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(m,ce,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(m,ce,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=ce),S.props=m,S.state=ce,S.context=B,m=fe):(typeof S.componentDidUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),m=!1)}return S=m,yf(i,o),m=(o.flags&128)!==0,S||m?(S=o.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,i!==null&&m?(o.child=cl(o,i.child,null,w),o.child=cl(o,null,d,w)):$n(i,o,d,w),o.memoizedState=S.state,i=o.child):i=li(i,o,w),i}function WS(i,o,d,m){return rl(),o.flags|=256,$n(i,o,d,m),o.child}var ag={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ig(i){return{baseLanes:i,cachePool:UN()}}function sg(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Tr),i}function XS(i,o,d){var m=o.pendingProps,w=!1,S=(o.flags&128)!==0,T;if((T=S)||(T=i!==null&&i.memoizedState===null?!1:(on.current&2)!==0),T&&(w=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,i===null){if(ot){if(w?ss(o):ls(),(i=zt)?(i=ij(i,qr),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Qi!==null?{id:Ea,overflow:Ca}:null,retryLane:536870912,hydrationErrors:null},d=kN(i),d.return=o,o.child=d,zn=o,zt=null)):i=null,i===null)throw ts(o);return Bg(i)?o.lanes=32:o.lanes=536870912,null}var I=m.children;return m=m.fallback,w?(ls(),w=o.mode,I=bf({mode:"hidden",children:I},w),m=nl(m,w,d,null),I.return=o,m.return=o,I.sibling=m,o.child=I,m=o.child,m.memoizedState=ig(d),m.childLanes=sg(i,T,d),o.memoizedState=ag,Wc(null,m)):(ss(o),lg(o,I))}var B=i.memoizedState;if(B!==null&&(I=B.dehydrated,I!==null)){if(S)o.flags&256?(ss(o),o.flags&=-257,o=og(i,o,d)):o.memoizedState!==null?(ls(),o.child=i.child,o.flags|=128,o=null):(ls(),I=m.fallback,w=o.mode,m=bf({mode:"visible",children:m.children},w),I=nl(I,w,d,null),I.flags|=2,m.return=o,I.return=o,m.sibling=I,o.child=m,cl(o,i.child,null,d),m=o.child,m.memoizedState=ig(d),m.childLanes=sg(i,T,d),o.memoizedState=ag,o=Wc(null,m));else if(ss(o),Bg(I)){if(T=I.nextSibling&&I.nextSibling.dataset,T)var re=T.dgst;T=re,m=Error(r(419)),m.stack="",m.digest=T,zc({value:m,source:null,stack:null}),o=og(i,o,d)}else if(mn||so(i,o,d,!1),T=(d&i.childLanes)!==0,mn||T){if(T=Rt,T!==null&&(m=Nc(T,d),m!==0&&m!==B.retryLane))throw B.retryLane=m,tl(i,m),yr(T,i,m),ng;Gg(I)||Tf(),o=og(i,o,d)}else Gg(I)?(o.flags|=192,o.child=i.child,o=null):(i=B.treeContext,zt=Vr(I.nextSibling),zn=o,ot=!0,es=null,qr=!1,i!==null&&PN(o,i),o=lg(o,m.children),o.flags|=4096);return o}return w?(ls(),I=m.fallback,w=o.mode,B=i.child,re=B.sibling,m=ti(B,{mode:"hidden",children:m.children}),m.subtreeFlags=B.subtreeFlags&65011712,re!==null?I=ti(re,I):(I=nl(I,w,d,null),I.flags|=2),I.return=o,m.return=o,m.sibling=I,o.child=m,Wc(null,m),m=o.child,I=i.child.memoizedState,I===null?I=ig(d):(w=I.cachePool,w!==null?(B=pn._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=UN(),I={baseLanes:I.baseLanes|d,cachePool:w}),m.memoizedState=I,m.childLanes=sg(i,T,d),o.memoizedState=ag,Wc(i.child,m)):(ss(o),d=i.child,i=d.sibling,d=ti(d,{mode:"visible",children:m.children}),d.return=o,d.sibling=null,i!==null&&(T=o.deletions,T===null?(o.deletions=[i],o.flags|=16):T.push(i)),o.child=d,o.memoizedState=null,d)}function lg(i,o){return o=bf({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function bf(i,o){return i=jr(22,i,null,o),i.lanes=0,i}function og(i,o,d){return cl(o,i.child,null,d),i=lg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function ZS(i,o,d){i.lanes|=o;var m=i.alternate;m!==null&&(m.lanes|=o),S0(i.return,o,d)}function cg(i,o,d,m,w,S){var T=i.memoizedState;T===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:w,treeForkCount:S}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=m,T.tail=d,T.tailMode=w,T.treeForkCount=S)}function QS(i,o,d){var m=o.pendingProps,w=m.revealOrder,S=m.tail;m=m.children;var T=on.current,I=(T&2)!==0;if(I?(T=T&1|2,o.flags|=128):T&=1,ge(on,T),$n(i,o,m,d),m=ot?Lc:0,!I&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&ZS(i,d,o);else if(i.tag===19)ZS(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(w){case"forwards":for(d=o.child,w=null;d!==null;)i=d.alternate,i!==null&&of(i)===null&&(w=d),d=d.sibling;d=w,d===null?(w=o.child,o.child=null):(w=d.sibling,d.sibling=null),cg(o,!1,w,d,S,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=o.child,o.child=null;w!==null;){if(i=w.alternate,i!==null&&of(i)===null){o.child=w;break}i=w.sibling,w.sibling=d,d=w,w=i}cg(o,!0,d,null,S,m);break;case"together":cg(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function li(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),us|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(so(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=ti(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=ti(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function ug(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Qd(i)))}function R6(i,o,d){switch(o.tag){case 3:Ge(o,o.stateNode.containerInfo),ns(o,pn,i.memoizedState.cache),rl();break;case 27:case 5:_e(o);break;case 4:Ge(o,o.stateNode.containerInfo);break;case 10:ns(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,I0(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(ss(o),o.flags|=128,null):(d&o.child.childLanes)!==0?XS(i,o,d):(ss(o),i=li(i,o,d),i!==null?i.sibling:null);ss(o);break;case 19:var w=(i.flags&128)!==0;if(m=(d&o.childLanes)!==0,m||(so(i,o,d,!1),m=(d&o.childLanes)!==0),w){if(m)return QS(i,o,d);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ge(on,on.current),m)break;return null;case 22:return o.lanes=0,HS(i,o,d,o.pendingProps);case 24:ns(o,pn,i.memoizedState.cache)}return li(i,o,d)}function e_(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)mn=!0;else{if(!ug(i,d)&&(o.flags&128)===0)return mn=!1,R6(i,o,d);mn=(i.flags&131072)!==0}else mn=!1,ot&&(o.flags&1048576)!==0&&RN(o,Lc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(i=ll(o.elementType),o.type=i,typeof i=="function")m0(i)?(m=dl(i,m),o.tag=1,o=JS(null,o,i,m,d)):(o.tag=0,o=rg(null,o,i,m,d));else{if(i!=null){var w=i.$$typeof;if(w===R){o.tag=11,o=BS(null,o,i,m,d);break e}else if(w===O){o.tag=14,o=FS(null,o,i,m,d);break e}}throw o=ee(i)||i,Error(r(306,o,""))}}return o;case 0:return rg(i,o,o.type,o.pendingProps,d);case 1:return m=o.type,w=dl(m,o.pendingProps),JS(i,o,m,w,d);case 3:e:{if(Ge(o,o.stateNode.containerInfo),i===null)throw Error(r(387));m=o.pendingProps;var S=o.memoizedState;w=S.element,k0(i,o),Hc(o,m,null,d);var T=o.memoizedState;if(m=T.cache,ns(o,pn,m),m!==S.cache&&_0(o,[pn],d,!0),qc(),m=T.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=WS(i,o,m,d);break e}else if(m!==w){w=Gr(Error(r(424)),o),zc(w),o=WS(i,o,m,d);break e}else for(i=o.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,zt=Vr(i.firstChild),zn=o,ot=!0,es=null,qr=!0,d=HN(o,null,m,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(rl(),m===w){o=li(i,o,d);break e}$n(i,o,m,d)}o=o.child}return o;case 26:return yf(i,o),i===null?(d=dj(o.type,null,o.pendingProps,null))?o.memoizedState=d:ot||(d=o.type,i=o.pendingProps,m=Df(le.current).createElement(d),m[fn]=o,m[Zt]=i,Gn(m,d,i),Yt(m),o.stateNode=m):o.memoizedState=dj(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&ot&&(m=o.stateNode=oj(o.type,o.pendingProps,le.current),zn=o,qr=!0,w=zt,ms(o.type)?(Fg=w,zt=Vr(m.firstChild)):zt=w),$n(i,o,o.pendingProps.children,d),yf(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&ot&&((w=m=zt)&&(m=oL(m,o.type,o.pendingProps,qr),m!==null?(o.stateNode=m,zn=o,zt=Vr(m.firstChild),qr=!1,w=!0):w=!1),w||ts(o)),_e(o),w=o.type,S=o.pendingProps,T=i!==null?i.memoizedProps:null,m=S.children,zg(w,S)?m=null:T!==null&&zg(w,T)&&(o.flags|=32),o.memoizedState!==null&&(w=L0(i,o,S6,null,null,d),du._currentValue=w),yf(i,o),$n(i,o,m,d),o.child;case 6:return i===null&&ot&&((i=d=zt)&&(d=cL(d,o.pendingProps,qr),d!==null?(o.stateNode=d,zn=o,zt=null,i=!0):i=!1),i||ts(o)),null;case 13:return XS(i,o,d);case 4:return Ge(o,o.stateNode.containerInfo),m=o.pendingProps,i===null?o.child=cl(o,null,m,d):$n(i,o,m,d),o.child;case 11:return BS(i,o,o.type,o.pendingProps,d);case 7:return $n(i,o,o.pendingProps,d),o.child;case 8:return $n(i,o,o.pendingProps.children,d),o.child;case 12:return $n(i,o,o.pendingProps.children,d),o.child;case 10:return m=o.pendingProps,ns(o,o.type,m.value),$n(i,o,m.children,d),o.child;case 9:return w=o.type._context,m=o.pendingProps.children,il(o),w=Un(w),m=m(w),o.flags|=1,$n(i,o,m,d),o.child;case 14:return FS(i,o,o.type,o.pendingProps,d);case 15:return qS(i,o,o.type,o.pendingProps,d);case 19:return QS(i,o,d);case 31:return M6(i,o,d);case 22:return HS(i,o,d,o.pendingProps);case 24:return il(o),m=Un(pn),i===null?(w=C0(),w===null&&(w=Rt,S=j0(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=d),w=S),o.memoizedState={parent:m,cache:w},T0(o),ns(o,pn,w)):((i.lanes&d)!==0&&(k0(i,o),Hc(o,null,null,d),qc()),w=i.memoizedState,S=o.memoizedState,w.parent!==m?(w={parent:m,cache:m},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),ns(o,pn,m)):(m=S.cache,ns(o,pn,m),m!==w.cache&&_0(o,[pn],d,!0))),$n(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function oi(i){i.flags|=4}function dg(i,o,d,m,w){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(w&335544128)===w)if(i.stateNode.complete)i.flags|=8192;else if(C_())i.flags|=8192;else throw ol=rf,A0}else i.flags&=-16777217}function t_(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gj(o))if(C_())i.flags|=8192;else throw ol=rf,A0}function wf(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?ql():536870912,i.lanes|=o,yo|=o)}function Xc(i,o){if(!ot)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:m.sibling=null}}function Ut(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,m=0;if(o)for(var w=i.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=m,i.childLanes=d,o}function P6(i,o,d){var m=o.pendingProps;switch(y0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(o),null;case 1:return Ut(o),null;case 3:return d=o.stateNode,m=null,i!==null&&(m=i.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),ai(pn),oe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(io(o)?oi(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,w0())),Ut(o),null;case 26:var w=o.type,S=o.memoizedState;return i===null?(oi(o),S!==null?(Ut(o),t_(o,S)):(Ut(o),dg(o,w,null,m,d))):S?S!==i.memoizedState?(oi(o),Ut(o),t_(o,S)):(Ut(o),o.flags&=-16777217):(i=i.memoizedProps,i!==m&&oi(o),Ut(o),dg(o,w,i,m,d)),null;case 27:if(Pe(o),d=le.current,w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&oi(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}i=xe.current,io(o)?ON(o):(i=oj(w,m,d),o.stateNode=i,oi(o))}return Ut(o),null;case 5:if(Pe(o),w=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==m&&oi(o);else{if(!m){if(o.stateNode===null)throw Error(r(166));return Ut(o),null}if(S=xe.current,io(o))ON(o);else{var T=Df(le.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof m.is=="string"?T.createElement("select",{is:m.is}):T.createElement("select"),m.multiple?S.multiple=!0:m.size&&(S.size=m.size);break;default:S=typeof m.is=="string"?T.createElement(w,{is:m.is}):T.createElement(w)}}S[fn]=o,S[Zt]=m;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=S;e:switch(Gn(S,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&oi(o)}}return Ut(o),dg(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,d),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==m&&oi(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(r(166));if(i=le.current,io(o)){if(i=o.stateNode,d=o.memoizedProps,m=null,w=zn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}i[fn]=o,i=!!(i.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||X_(i.nodeValue,d)),i||ts(o,!0)}else i=Df(i).createTextNode(m),i[fn]=o,o.stateNode=i}return Ut(o),null;case 31:if(d=o.memoizedState,i===null||i.memoizedState!==null){if(m=io(o),d!==null){if(i===null){if(!m)throw Error(r(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[fn]=o}else rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),i=!1}else d=w0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=d),i=!0;if(!i)return o.flags&256?(Cr(o),o):(Cr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return Ut(o),null;case 13:if(m=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(w=io(o),m!==null&&m.dehydrated!==null){if(i===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[fn]=o}else rl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Ut(o),w=!1}else w=w0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(Cr(o),o):(Cr(o),null)}return Cr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=m!==null,i=i!==null&&i.memoizedState!==null,d&&(m=o.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),S=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(S=m.memoizedState.cachePool.pool),S!==w&&(m.flags|=2048)),d!==i&&d&&(o.child.flags|=8192),wf(o,o.updateQueue),Ut(o),null);case 4:return oe(),i===null&&Pg(o.stateNode.containerInfo),Ut(o),null;case 10:return ai(o.type),Ut(o),null;case 19:if(X(on),m=o.memoizedState,m===null)return Ut(o),null;if(w=(o.flags&128)!==0,S=m.rendering,S===null)if(w)Xc(m,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=of(i),S!==null){for(o.flags|=128,Xc(m,!1),i=S.updateQueue,o.updateQueue=i,wf(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)TN(d,i),d=d.sibling;return ge(on,on.current&1|2),ot&&ni(o,m.treeForkCount),o.child}i=i.sibling}m.tail!==null&&ze()>Ef&&(o.flags|=128,w=!0,Xc(m,!1),o.lanes=4194304)}else{if(!w)if(i=of(S),i!==null){if(o.flags|=128,w=!0,i=i.updateQueue,o.updateQueue=i,wf(o,i),Xc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!S.alternate&&!ot)return Ut(o),null}else 2*ze()-m.renderingStartTime>Ef&&d!==536870912&&(o.flags|=128,w=!0,Xc(m,!1),o.lanes=4194304);m.isBackwards?(S.sibling=o.child,o.child=S):(i=m.last,i!==null?i.sibling=S:o.child=S,m.last=S)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=ze(),i.sibling=null,d=on.current,ge(on,w?d&1|2:d&1),ot&&ni(o,m.treeForkCount),i):(Ut(o),null);case 22:case 23:return Cr(o),O0(),m=o.memoizedState!==null,i!==null?i.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(d&536870912)!==0&&(o.flags&128)===0&&(Ut(o),o.subtreeFlags&6&&(o.flags|=8192)):Ut(o),d=o.updateQueue,d!==null&&wf(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048),i!==null&&X(sl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),ai(pn),Ut(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function O6(i,o){switch(y0(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ai(pn),oe(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 31:if(o.memoizedState!==null){if(Cr(o),o.alternate===null)throw Error(r(340));rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Cr(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));rl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return X(on),null;case 4:return oe(),null;case 10:return ai(o.type),null;case 22:case 23:return Cr(o),O0(),i!==null&&X(sl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return ai(pn),null;case 25:return null;default:return null}}function n_(i,o){switch(y0(o),o.tag){case 3:ai(pn),oe();break;case 26:case 27:case 5:Pe(o);break;case 4:oe();break;case 31:o.memoizedState!==null&&Cr(o);break;case 13:Cr(o);break;case 19:X(on);break;case 10:ai(o.type);break;case 22:case 23:Cr(o),O0(),i!==null&&X(sl);break;case 24:ai(pn)}}function Zc(i,o){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&i)===i){m=void 0;var S=d.create,T=d.inst;m=S(),T.destroy=m}d=d.next}while(d!==w)}}catch(I){jt(o,o.return,I)}}function os(i,o,d){try{var m=o.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var S=w.next;m=S;do{if((m.tag&i)===i){var T=m.inst,I=T.destroy;if(I!==void 0){T.destroy=void 0,w=o;var B=d,re=I;try{re()}catch(fe){jt(w,B,fe)}}}m=m.next}while(m!==S)}}catch(fe){jt(o,o.return,fe)}}function r_(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{KN(o,d)}catch(m){jt(i,i.return,m)}}}function a_(i,o,d){d.props=dl(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(m){jt(i,o,m)}}function Qc(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var m=i.stateNode;break;case 30:m=i.stateNode;break;default:m=i.stateNode}typeof d=="function"?i.refCleanup=d(m):d.current=m}}catch(w){jt(i,o,w)}}function Aa(i,o){var d=i.ref,m=i.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(w){jt(i,o,w)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){jt(i,o,w)}else d.current=null}function i_(i){var o=i.type,d=i.memoizedProps,m=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(w){jt(i,i.return,w)}}function fg(i,o,d){try{var m=i.stateNode;nL(m,i.type,d,o),m[Zt]=o}catch(w){jt(i,i.return,w)}}function s_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&ms(i.type)||i.tag===4}function pg(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||s_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&ms(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function hg(i,o,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Qa));else if(m!==4&&(m===27&&ms(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(hg(i,o,d),i=i.sibling;i!==null;)hg(i,o,d),i=i.sibling}function Nf(i,o,d){var m=i.tag;if(m===5||m===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(m!==4&&(m===27&&ms(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Nf(i,o,d),i=i.sibling;i!==null;)Nf(i,o,d),i=i.sibling}function l_(i){var o=i.stateNode,d=i.memoizedProps;try{for(var m=i.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);Gn(o,m,d),o[fn]=i,o[Zt]=d}catch(S){jt(i,i.return,S)}}var ci=!1,gn=!1,mg=!1,o_=typeof WeakSet=="function"?WeakSet:Set,An=null;function I6(i,o){if(i=i.containerInfo,Dg=Ff,i=bN(i),o0(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var w=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,I=-1,B=-1,re=0,fe=0,me=i,se=null;t:for(;;){for(var ce;me!==d||w!==0&&me.nodeType!==3||(I=T+w),me!==S||m!==0&&me.nodeType!==3||(B=T+m),me.nodeType===3&&(T+=me.nodeValue.length),(ce=me.firstChild)!==null;)se=me,me=ce;for(;;){if(me===i)break t;if(se===d&&++re===w&&(I=T),se===S&&++fe===m&&(B=T),(ce=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=ce}d=I===-1||B===-1?null:{start:I,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(Lg={focusedElem:i,selectionRange:d},Ff=!1,An=o;An!==null;)if(o=An,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,An=i;else for(;An!==null;){switch(o=An,S=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(d=0;d<i.length;d++)w=i[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&S!==null){i=void 0,d=o,w=S.memoizedProps,S=S.memoizedState,m=d.stateNode;try{var Ce=dl(d.type,w);i=m.getSnapshotBeforeUpdate(Ce,S),m.__reactInternalSnapshotBeforeUpdate=i}catch(Ue){jt(d,d.return,Ue)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)$g(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":$g(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,An=i;break}An=o.return}}function c_(i,o,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:di(i,d),m&4&&Zc(5,d);break;case 1:if(di(i,d),m&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(T){jt(d,d.return,T)}else{var w=dl(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(w,o,i.__reactInternalSnapshotBeforeUpdate)}catch(T){jt(d,d.return,T)}}m&64&&r_(d),m&512&&Qc(d,d.return);break;case 3:if(di(i,d),m&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{KN(i,o)}catch(T){jt(d,d.return,T)}}break;case 27:o===null&&m&4&&l_(d);case 26:case 5:di(i,d),o===null&&m&4&&i_(d),m&512&&Qc(d,d.return);break;case 12:di(i,d);break;case 31:di(i,d),m&4&&f_(i,d);break;case 13:di(i,d),m&4&&p_(i,d),m&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=q6.bind(null,d),uL(i,d))));break;case 22:if(m=d.memoizedState!==null||ci,!m){o=o!==null&&o.memoizedState!==null||gn,w=ci;var S=gn;ci=m,(gn=o)&&!S?fi(i,d,(d.subtreeFlags&8772)!==0):di(i,d),ci=w,gn=S}break;case 30:break;default:di(i,d)}}function u_(i){var o=i.alternate;o!==null&&(i.alternate=null,u_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&jc(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Bt=null,mr=!1;function ui(i,o,d){for(d=d.child;d!==null;)d_(i,o,d),d=d.sibling}function d_(i,o,d){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(pt,d)}catch{}switch(d.tag){case 26:gn||Aa(d,o),ui(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:gn||Aa(d,o);var m=Bt,w=mr;ms(d.type)&&(Bt=d.stateNode,mr=!1),ui(i,o,d),ou(d.stateNode),Bt=m,mr=w;break;case 5:gn||Aa(d,o);case 6:if(m=Bt,w=mr,Bt=null,ui(i,o,d),Bt=m,mr=w,Bt!==null)if(mr)try{(Bt.nodeType===9?Bt.body:Bt.nodeName==="HTML"?Bt.ownerDocument.body:Bt).removeChild(d.stateNode)}catch(S){jt(d,o,S)}else try{Bt.removeChild(d.stateNode)}catch(S){jt(d,o,S)}break;case 18:Bt!==null&&(mr?(i=Bt,rj(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Co(i)):rj(Bt,d.stateNode));break;case 4:m=Bt,w=mr,Bt=d.stateNode.containerInfo,mr=!0,ui(i,o,d),Bt=m,mr=w;break;case 0:case 11:case 14:case 15:os(2,d,o),gn||os(4,d,o),ui(i,o,d);break;case 1:gn||(Aa(d,o),m=d.stateNode,typeof m.componentWillUnmount=="function"&&a_(d,o,m)),ui(i,o,d);break;case 21:ui(i,o,d);break;case 22:gn=(m=gn)||d.memoizedState!==null,ui(i,o,d),gn=m;break;default:ui(i,o,d)}}function f_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Co(i)}catch(d){jt(o,o.return,d)}}}function p_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Co(i)}catch(d){jt(o,o.return,d)}}function D6(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new o_),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new o_),o;default:throw Error(r(435,i.tag))}}function Sf(i,o){var d=D6(i);o.forEach(function(m){if(!d.has(m)){d.add(m);var w=H6.bind(null,i,m);m.then(w,w)}})}function gr(i,o){var d=o.deletions;if(d!==null)for(var m=0;m<d.length;m++){var w=d[m],S=i,T=o,I=T;e:for(;I!==null;){switch(I.tag){case 27:if(ms(I.type)){Bt=I.stateNode,mr=!1;break e}break;case 5:Bt=I.stateNode,mr=!1;break e;case 3:case 4:Bt=I.stateNode.containerInfo,mr=!0;break e}I=I.return}if(Bt===null)throw Error(r(160));d_(S,T,w),Bt=null,mr=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)h_(o,i),o=o.sibling}var oa=null;function h_(i,o){var d=i.alternate,m=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:gr(o,i),xr(i),m&4&&(os(3,i,i.return),Zc(3,i),os(5,i,i.return));break;case 1:gr(o,i),xr(i),m&512&&(gn||d===null||Aa(d,d.return)),m&64&&ci&&(i=i.updateQueue,i!==null&&(m=i.callbacks,m!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var w=oa;if(gr(o,i),xr(i),m&512&&(gn||d===null||Aa(d,d.return)),m&4){var S=d!==null?d.memoizedState:null;if(m=i.memoizedState,d===null)if(m===null)if(i.stateNode===null){e:{m=i.type,d=i.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":S=w.getElementsByTagName("title")[0],(!S||S[Wa]||S[fn]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(m),w.head.insertBefore(S,w.querySelector("head > title"))),Gn(S,m,d),S[fn]=i,Yt(S),m=S;break e;case"link":var T=hj("link","href",w).get(m+(d.href||""));if(T){for(var I=0;I<T.length;I++)if(S=T[I],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(I,1);break t}}S=w.createElement(m),Gn(S,m,d),w.head.appendChild(S);break;case"meta":if(T=hj("meta","content",w).get(m+(d.content||""))){for(I=0;I<T.length;I++)if(S=T[I],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(I,1);break t}}S=w.createElement(m),Gn(S,m,d),w.head.appendChild(S);break;default:throw Error(r(468,m))}S[fn]=i,Yt(S),m=S}i.stateNode=m}else mj(w,i.type,i.stateNode);else i.stateNode=pj(w,m,i.memoizedProps);else S!==m?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,m===null?mj(w,i.type,i.stateNode):pj(w,m,i.memoizedProps)):m===null&&i.stateNode!==null&&fg(i,i.memoizedProps,d.memoizedProps)}break;case 27:gr(o,i),xr(i),m&512&&(gn||d===null||Aa(d,d.return)),d!==null&&m&4&&fg(i,i.memoizedProps,d.memoizedProps);break;case 5:if(gr(o,i),xr(i),m&512&&(gn||d===null||Aa(d,d.return)),i.flags&32){w=i.stateNode;try{Jl(w,"")}catch(Ce){jt(i,i.return,Ce)}}m&4&&i.stateNode!=null&&(w=i.memoizedProps,fg(i,w,d!==null?d.memoizedProps:w)),m&1024&&(mg=!0);break;case 6:if(gr(o,i),xr(i),m&4){if(i.stateNode===null)throw Error(r(162));m=i.memoizedProps,d=i.stateNode;try{d.nodeValue=m}catch(Ce){jt(i,i.return,Ce)}}break;case 3:if(Uf=null,w=oa,oa=Lf(o.containerInfo),gr(o,i),oa=w,xr(i),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Co(o.containerInfo)}catch(Ce){jt(i,i.return,Ce)}mg&&(mg=!1,m_(i));break;case 4:m=oa,oa=Lf(i.stateNode.containerInfo),gr(o,i),xr(i),oa=m;break;case 12:gr(o,i),xr(i);break;case 31:gr(o,i),xr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Sf(i,m)));break;case 13:gr(o,i),xr(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(jf=ze()),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Sf(i,m)));break;case 22:w=i.memoizedState!==null;var B=d!==null&&d.memoizedState!==null,re=ci,fe=gn;if(ci=re||w,gn=fe||B,gr(o,i),gn=fe,ci=re,xr(i),m&8192)e:for(o=i.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(d===null||B||ci||gn||fl(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){B=d=o;try{if(S=B.stateNode,w)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{I=B.stateNode;var me=B.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;I.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(Ce){jt(B,B.return,Ce)}}}else if(o.tag===6){if(d===null){B=o;try{B.stateNode.nodeValue=w?"":B.memoizedProps}catch(Ce){jt(B,B.return,Ce)}}}else if(o.tag===18){if(d===null){B=o;try{var ce=B.stateNode;w?aj(ce,!0):aj(B.stateNode,!1)}catch(Ce){jt(B,B.return,Ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=i.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,Sf(i,d))));break;case 19:gr(o,i),xr(i),m&4&&(m=i.updateQueue,m!==null&&(i.updateQueue=null,Sf(i,m)));break;case 30:break;case 21:break;default:gr(o,i),xr(i)}}function xr(i){var o=i.flags;if(o&2){try{for(var d,m=i.return;m!==null;){if(s_(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,S=pg(i);Nf(i,S,w);break;case 5:var T=d.stateNode;d.flags&32&&(Jl(T,""),d.flags&=-33);var I=pg(i);Nf(i,I,T);break;case 3:case 4:var B=d.stateNode.containerInfo,re=pg(i);hg(i,re,B);break;default:throw Error(r(161))}}catch(fe){jt(i,i.return,fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;m_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function di(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)c_(i,o.alternate,o),o=o.sibling}function fl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:os(4,o,o.return),fl(o);break;case 1:Aa(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&a_(o,o.return,d),fl(o);break;case 27:ou(o.stateNode);case 26:case 5:Aa(o,o.return),fl(o);break;case 22:o.memoizedState===null&&fl(o);break;case 30:fl(o);break;default:fl(o)}i=i.sibling}}function fi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,w=i,S=o,T=S.flags;switch(S.tag){case 0:case 11:case 15:fi(w,S,d),Zc(4,S);break;case 1:if(fi(w,S,d),m=S,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(re){jt(m,m.return,re)}if(m=S,w=m.updateQueue,w!==null){var I=m.stateNode;try{var B=w.shared.hiddenCallbacks;if(B!==null)for(w.shared.hiddenCallbacks=null,w=0;w<B.length;w++)VN(B[w],I)}catch(re){jt(m,m.return,re)}}d&&T&64&&r_(S),Qc(S,S.return);break;case 27:l_(S);case 26:case 5:fi(w,S,d),d&&m===null&&T&4&&i_(S),Qc(S,S.return);break;case 12:fi(w,S,d);break;case 31:fi(w,S,d),d&&T&4&&f_(w,S);break;case 13:fi(w,S,d),d&&T&4&&p_(w,S);break;case 22:S.memoizedState===null&&fi(w,S,d),Qc(S,S.return);break;case 30:break;default:fi(w,S,d)}o=o.sibling}}function gg(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Uc(d))}function xg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Uc(i))}function ca(i,o,d,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)g_(i,o,d,m),o=o.sibling}function g_(i,o,d,m){var w=o.flags;switch(o.tag){case 0:case 11:case 15:ca(i,o,d,m),w&2048&&Zc(9,o);break;case 1:ca(i,o,d,m);break;case 3:ca(i,o,d,m),w&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Uc(i)));break;case 12:if(w&2048){ca(i,o,d,m),i=o.stateNode;try{var S=o.memoizedProps,T=S.id,I=S.onPostCommit;typeof I=="function"&&I(T,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(B){jt(o,o.return,B)}}else ca(i,o,d,m);break;case 31:ca(i,o,d,m);break;case 13:ca(i,o,d,m);break;case 23:break;case 22:S=o.stateNode,T=o.alternate,o.memoizedState!==null?S._visibility&2?ca(i,o,d,m):eu(i,o):S._visibility&2?ca(i,o,d,m):(S._visibility|=2,go(i,o,d,m,(o.subtreeFlags&10256)!==0||!1)),w&2048&&gg(T,o);break;case 24:ca(i,o,d,m),w&2048&&xg(o.alternate,o);break;default:ca(i,o,d,m)}}function go(i,o,d,m,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=i,T=o,I=d,B=m,re=T.flags;switch(T.tag){case 0:case 11:case 15:go(S,T,I,B,w),Zc(8,T);break;case 23:break;case 22:var fe=T.stateNode;T.memoizedState!==null?fe._visibility&2?go(S,T,I,B,w):eu(S,T):(fe._visibility|=2,go(S,T,I,B,w)),w&&re&2048&&gg(T.alternate,T);break;case 24:go(S,T,I,B,w),w&&re&2048&&xg(T.alternate,T);break;default:go(S,T,I,B,w)}o=o.sibling}}function eu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,m=o,w=m.flags;switch(m.tag){case 22:eu(d,m),w&2048&&gg(m.alternate,m);break;case 24:eu(d,m),w&2048&&xg(m.alternate,m);break;default:eu(d,m)}o=o.sibling}}var tu=8192;function xo(i,o,d){if(i.subtreeFlags&tu)for(i=i.child;i!==null;)x_(i,o,d),i=i.sibling}function x_(i,o,d){switch(i.tag){case 26:xo(i,o,d),i.flags&tu&&i.memoizedState!==null&&NL(d,oa,i.memoizedState,i.memoizedProps);break;case 5:xo(i,o,d);break;case 3:case 4:var m=oa;oa=Lf(i.stateNode.containerInfo),xo(i,o,d),oa=m;break;case 22:i.memoizedState===null&&(m=i.alternate,m!==null&&m.memoizedState!==null?(m=tu,tu=16777216,xo(i,o,d),tu=m):xo(i,o,d));break;default:xo(i,o,d)}}function v_(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function nu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];An=m,b_(m,i)}v_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)y_(i),i=i.sibling}function y_(i){switch(i.tag){case 0:case 11:case 15:nu(i),i.flags&2048&&os(9,i,i.return);break;case 3:nu(i);break;case 12:nu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,_f(i)):nu(i);break;default:nu(i)}}function _f(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];An=m,b_(m,i)}v_(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:os(8,o,o.return),_f(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,_f(o));break;default:_f(o)}i=i.sibling}}function b_(i,o){for(;An!==null;){var d=An;switch(d.tag){case 0:case 11:case 15:os(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Uc(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,An=m;else e:for(d=i;An!==null;){m=An;var w=m.sibling,S=m.return;if(u_(m),m===d){An=null;break e}if(w!==null){w.return=S,An=w;break e}An=S}}}var L6={getCacheForType:function(i){var o=Un(pn),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d},cacheSignal:function(){return Un(pn).controller.signal}},z6=typeof WeakMap=="function"?WeakMap:Map,bt=0,Rt=null,nt=null,at=0,_t=0,Ar=null,cs=!1,vo=!1,vg=!1,pi=0,en=0,us=0,pl=0,yg=0,Tr=0,yo=0,ru=null,vr=null,bg=!1,jf=0,w_=0,Ef=1/0,Cf=null,ds=null,bn=0,fs=null,bo=null,hi=0,wg=0,Ng=null,N_=null,au=0,Sg=null;function kr(){return(bt&2)!==0&&at!==0?at&-at:U.T!==null?Tg():sa()}function S_(){if(Tr===0)if((at&536870912)===0||ot){var i=Vi;Vi<<=1,(Vi&3932160)===0&&(Vi=262144),Tr=i}else Tr=536870912;return i=Er.current,i!==null&&(i.flags|=32),Tr}function yr(i,o,d){(i===Rt&&(_t===2||_t===9)||i.cancelPendingCommit!==null)&&(wo(i,0),ps(i,at,Tr,!1)),Kt(i,d),((bt&2)===0||i!==Rt)&&(i===Rt&&((bt&2)===0&&(pl|=d),en===4&&ps(i,at,Tr,!1)),Ta(i))}function __(i,o,d){if((bt&6)!==0)throw Error(r(327));var m=!d&&(o&127)===0&&(o&i.expiredLanes)===0||Kn(i,o),w=m?G6(i,o):jg(i,o,!0),S=m;do{if(w===0){vo&&!m&&ps(i,o,0,!1);break}else{if(d=i.current.alternate,S&&!U6(d)){w=jg(i,o,!1),S=!1;continue}if(w===2){if(S=o,i.errorRecoveryDisabledLanes&S)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var I=i;w=ru;var B=I.current.memoizedState.isDehydrated;if(B&&(wo(I,T).flags|=256),T=jg(I,T,!1),T!==2){if(vg&&!B){I.errorRecoveryDisabledLanes|=S,pl|=S,w=4;break e}S=vr,vr=w,S!==null&&(vr===null?vr=S:vr.push.apply(vr,S))}w=T}if(S=!1,w!==2)continue}}if(w===1){wo(i,0),ps(i,o,0,!0);break}e:{switch(m=i,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ps(m,o,Tr,!cs);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=jf+300-ze(),10<w)){if(ps(m,o,Tr,!cs),_a(m,0,!0)!==0)break e;hi=o,m.timeoutHandle=tj(j_.bind(null,m,d,vr,Cf,bg,o,Tr,pl,yo,cs,S,"Throttled",-0,0),w);break e}j_(m,d,vr,Cf,bg,o,Tr,pl,yo,cs,S,null,-0,0)}}break}while(!0);Ta(i)}function j_(i,o,d,m,w,S,T,I,B,re,fe,me,se,ce){if(i.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},x_(o,S,me);var Ce=(S&62914560)===S?jf-ze():(S&4194048)===S?w_-ze():0;if(Ce=SL(me,Ce),Ce!==null){hi=S,i.cancelPendingCommit=Ce(P_.bind(null,i,o,S,d,m,w,T,I,B,fe,me,null,se,ce)),ps(i,S,T,!re);return}}P_(i,o,S,d,m,w,T,I,B)}function U6(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var w=d[m],S=w.getSnapshot;w=w.value;try{if(!_r(S(),w))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ps(i,o,d,m){o&=~yg,o&=~pl,i.suspendedLanes|=o,i.pingedLanes&=~o,m&&(i.warmLanes|=o),m=i.expirationTimes;for(var w=o;0<w;){var S=31-De(w),T=1<<S;m[S]=-1,w&=~T}d!==0&&Hl(i,d,o)}function Af(){return(bt&6)===0?(iu(0),!1):!0}function _g(){if(nt!==null){if(_t===0)var i=nt.return;else i=nt,ri=al=null,$0(i),uo=null,Gc=0,i=nt;for(;i!==null;)n_(i.alternate,i),i=i.return;nt=null}}function wo(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,iL(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),hi=0,_g(),Rt=i,nt=d=ti(i.current,null),at=o,_t=0,Ar=null,cs=!1,vo=Kn(i,o),vg=!1,yo=Tr=yg=pl=us=en=0,vr=ru=null,bg=!1,(o&8)!==0&&(o|=o&32);var m=i.entangledLanes;if(m!==0)for(i=i.entanglements,m&=o;0<m;){var w=31-De(m),S=1<<w;o|=i[w],m&=~S}return pi=o,Yd(),d}function E_(i,o){Ve=null,U.H=Jc,o===co||o===nf?(o=BN(),_t=3):o===A0?(o=BN(),_t=4):_t=o===ng?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ar=o,nt===null&&(en=1,xf(i,Gr(o,i.current)))}function C_(){var i=Er.current;return i===null?!0:(at&4194048)===at?Hr===null:(at&62914560)===at||(at&536870912)!==0?i===Hr:!1}function A_(){var i=U.H;return U.H=Jc,i===null?Jc:i}function T_(){var i=U.A;return U.A=L6,i}function Tf(){en=4,cs||(at&4194048)!==at&&Er.current!==null||(vo=!0),(us&134217727)===0&&(pl&134217727)===0||Rt===null||ps(Rt,at,Tr,!1)}function jg(i,o,d){var m=bt;bt|=2;var w=A_(),S=T_();(Rt!==i||at!==o)&&(Cf=null,wo(i,o)),o=!1;var T=en;e:do try{if(_t!==0&&nt!==null){var I=nt,B=Ar;switch(_t){case 8:_g(),T=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(o=!0);var re=_t;if(_t=0,Ar=null,No(i,I,B,re),d&&vo){T=0;break e}break;default:re=_t,_t=0,Ar=null,No(i,I,B,re)}}$6(),T=en;break}catch(fe){E_(i,fe)}while(!0);return o&&i.shellSuspendCounter++,ri=al=null,bt=m,U.H=w,U.A=S,nt===null&&(Rt=null,at=0,Yd()),T}function $6(){for(;nt!==null;)k_(nt)}function G6(i,o){var d=bt;bt|=2;var m=A_(),w=T_();Rt!==i||at!==o?(Cf=null,Ef=ze()+500,wo(i,o)):vo=Kn(i,o);e:do try{if(_t!==0&&nt!==null){o=nt;var S=Ar;t:switch(_t){case 1:_t=0,Ar=null,No(i,o,S,1);break;case 2:case 9:if($N(S)){_t=0,Ar=null,M_(o);break}o=function(){_t!==2&&_t!==9||Rt!==i||(_t=7),Ta(i)},S.then(o,o);break e;case 3:_t=7;break e;case 4:_t=5;break e;case 7:$N(S)?(_t=0,Ar=null,M_(o)):(_t=0,Ar=null,No(i,o,S,7));break;case 5:var T=null;switch(nt.tag){case 26:T=nt.memoizedState;case 5:case 27:var I=nt;if(T?gj(T):I.stateNode.complete){_t=0,Ar=null;var B=I.sibling;if(B!==null)nt=B;else{var re=I.return;re!==null?(nt=re,kf(re)):nt=null}break t}}_t=0,Ar=null,No(i,o,S,5);break;case 6:_t=0,Ar=null,No(i,o,S,6);break;case 8:_g(),en=6;break e;default:throw Error(r(462))}}B6();break}catch(fe){E_(i,fe)}while(!0);return ri=al=null,U.H=m,U.A=w,bt=d,nt!==null?0:(Rt=null,at=0,Yd(),en)}function B6(){for(;nt!==null&&!qn();)k_(nt)}function k_(i){var o=e_(i.alternate,i,pi);i.memoizedProps=i.pendingProps,o===null?kf(i):nt=o}function M_(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=YS(d,o,o.pendingProps,o.type,void 0,at);break;case 11:o=YS(d,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:$0(o);default:n_(d,o),o=nt=TN(o,pi),o=e_(d,o,pi)}i.memoizedProps=i.pendingProps,o===null?kf(i):nt=o}function No(i,o,d,m){ri=al=null,$0(o),uo=null,Gc=0;var w=o.return;try{if(k6(i,w,o,d,at)){en=1,xf(i,Gr(d,i.current)),nt=null;return}}catch(S){if(w!==null)throw nt=w,S;en=1,xf(i,Gr(d,i.current)),nt=null;return}o.flags&32768?(ot||m===1?i=!0:vo||(at&536870912)!==0?i=!1:(cs=i=!0,(m===2||m===9||m===3||m===6)&&(m=Er.current,m!==null&&m.tag===13&&(m.flags|=16384))),R_(o,i)):kf(o)}function kf(i){var o=i;do{if((o.flags&32768)!==0){R_(o,cs);return}i=o.return;var d=P6(o.alternate,o,pi);if(d!==null){nt=d;return}if(o=o.sibling,o!==null){nt=o;return}nt=o=i}while(o!==null);en===0&&(en=5)}function R_(i,o){do{var d=O6(i.alternate,i);if(d!==null){d.flags&=32767,nt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){nt=i;return}nt=i=d}while(i!==null);en=6,nt=null}function P_(i,o,d,m,w,S,T,I,B){i.cancelPendingCommit=null;do Mf();while(bn!==0);if((bt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=p0,Ya(i,d,S,T,I,B),i===Rt&&(nt=Rt=null,at=0),bo=o,fs=i,hi=d,wg=S,Ng=w,N_=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,V6(Fe,function(){return z_(),null})):(i.callbackNode=null,i.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=U.T,U.T=null,w=J.p,J.p=2,T=bt,bt|=4;try{I6(i,o,d)}finally{bt=T,J.p=w,U.T=m}}bn=1,O_(),I_(),D_()}}function O_(){if(bn===1){bn=0;var i=fs,o=bo,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=U.T,U.T=null;var m=J.p;J.p=2;var w=bt;bt|=4;try{h_(o,i);var S=Lg,T=bN(i.containerInfo),I=S.focusedElem,B=S.selectionRange;if(T!==I&&I&&I.ownerDocument&&yN(I.ownerDocument.documentElement,I)){if(B!==null&&o0(I)){var re=B.start,fe=B.end;if(fe===void 0&&(fe=re),"selectionStart"in I)I.selectionStart=re,I.selectionEnd=Math.min(fe,I.value.length);else{var me=I.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var ce=se.getSelection(),Ce=I.textContent.length,Ue=Math.min(B.start,Ce),kt=B.end===void 0?Ue:Math.min(B.end,Ce);!ce.extend&&Ue>kt&&(T=kt,kt=Ue,Ue=T);var V=vN(I,Ue),F=vN(I,kt);if(V&&F&&(ce.rangeCount!==1||ce.anchorNode!==V.node||ce.anchorOffset!==V.offset||ce.focusNode!==F.node||ce.focusOffset!==F.offset)){var ne=me.createRange();ne.setStart(V.node,V.offset),ce.removeAllRanges(),Ue>kt?(ce.addRange(ne),ce.extend(F.node,F.offset)):(ne.setEnd(F.node,F.offset),ce.addRange(ne))}}}}for(me=[],ce=I;ce=ce.parentNode;)ce.nodeType===1&&me.push({element:ce,left:ce.scrollLeft,top:ce.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<me.length;I++){var he=me[I];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}Ff=!!Dg,Lg=Dg=null}finally{bt=w,J.p=m,U.T=d}}i.current=o,bn=2}}function I_(){if(bn===2){bn=0;var i=fs,o=bo,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=U.T,U.T=null;var m=J.p;J.p=2;var w=bt;bt|=4;try{c_(i,o.alternate,o)}finally{bt=w,J.p=m,U.T=d}}bn=3}}function D_(){if(bn===4||bn===3){bn=0,pe();var i=fs,o=bo,d=hi,m=N_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?bn=5:(bn=0,bo=fs=null,L_(i,i.pendingLanes));var w=i.pendingLanes;if(w===0&&(ds=null),be(d),o=o.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(pt,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=U.T,w=J.p,J.p=2,U.T=null;try{for(var S=i.onRecoverableError,T=0;T<m.length;T++){var I=m[T];S(I.value,{componentStack:I.stack})}}finally{U.T=o,J.p=w}}(hi&3)!==0&&Mf(),Ta(i),w=i.pendingLanes,(d&261930)!==0&&(w&42)!==0?i===Sg?au++:(au=0,Sg=i):au=0,iu(0)}}function L_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Uc(o)))}function Mf(){return O_(),I_(),D_(),z_()}function z_(){if(bn!==5)return!1;var i=fs,o=wg;wg=0;var d=be(hi),m=U.T,w=J.p;try{J.p=32>d?32:d,U.T=null,d=Ng,Ng=null;var S=fs,T=hi;if(bn=0,bo=fs=null,hi=0,(bt&6)!==0)throw Error(r(331));var I=bt;if(bt|=4,y_(S.current),g_(S,S.current,T,d),bt=I,iu(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(pt,S)}catch{}return!0}finally{J.p=w,U.T=m,L_(i,o)}}function U_(i,o,d){o=Gr(d,o),o=tg(i.stateNode,o,2),i=is(i,o,2),i!==null&&(Kt(i,2),Ta(i))}function jt(i,o,d){if(i.tag===3)U_(i,i,d);else for(;o!==null;){if(o.tag===3){U_(o,i,d);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ds===null||!ds.has(m))){i=Gr(d,i),d=$S(2),m=is(o,d,2),m!==null&&(GS(d,m,o,i),Kt(m,2),Ta(m));break}}o=o.return}}function Eg(i,o,d){var m=i.pingCache;if(m===null){m=i.pingCache=new z6;var w=new Set;m.set(o,w)}else w=m.get(o),w===void 0&&(w=new Set,m.set(o,w));w.has(d)||(vg=!0,w.add(d),i=F6.bind(null,i,o,d),o.then(i,i))}function F6(i,o,d){var m=i.pingCache;m!==null&&m.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Rt===i&&(at&d)===d&&(en===4||en===3&&(at&62914560)===at&&300>ze()-jf?(bt&2)===0&&wo(i,0):yg|=d,yo===at&&(yo=0)),Ta(i)}function $_(i,o){o===0&&(o=ql()),i=tl(i,o),i!==null&&(Kt(i,o),Ta(i))}function q6(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),$_(i,d)}function H6(i,o){var d=0;switch(i.tag){case 31:case 13:var m=i.stateNode,w=i.memoizedState;w!==null&&(d=w.retryLane);break;case 19:m=i.stateNode;break;case 22:m=i.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(o),$_(i,d)}function V6(i,o){return tr(i,o)}var Rf=null,So=null,Cg=!1,Pf=!1,Ag=!1,hs=0;function Ta(i){i!==So&&i.next===null&&(So===null?Rf=So=i:So=So.next=i),Pf=!0,Cg||(Cg=!0,Y6())}function iu(i,o){if(!Ag&&Pf){Ag=!0;do for(var d=!1,m=Rf;m!==null;){if(i!==0){var w=m.pendingLanes;if(w===0)var S=0;else{var T=m.suspendedLanes,I=m.pingedLanes;S=(1<<31-De(42|i)+1)-1,S&=w&~(T&~I),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,q_(m,S))}else S=at,S=_a(m,m===Rt?S:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(S&3)===0||Kn(m,S)||(d=!0,q_(m,S));m=m.next}while(d);Ag=!1}}function K6(){G_()}function G_(){Pf=Cg=!1;var i=0;hs!==0&&aL()&&(i=hs);for(var o=ze(),d=null,m=Rf;m!==null;){var w=m.next,S=B_(m,o);S===0?(m.next=null,d===null?Rf=w:d.next=w,w===null&&(So=d)):(d=m,(i!==0||(S&3)!==0)&&(Pf=!0)),m=w}bn!==0&&bn!==5||iu(i),hs!==0&&(hs=0)}function B_(i,o){for(var d=i.suspendedLanes,m=i.pingedLanes,w=i.expirationTimes,S=i.pendingLanes&-62914561;0<S;){var T=31-De(S),I=1<<T,B=w[T];B===-1?((I&d)===0||(I&m)!==0)&&(w[T]=Js(I,o)):B<=o&&(i.expiredLanes|=I),S&=~I}if(o=Rt,d=at,d=_a(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m=i.callbackNode,d===0||i===o&&(_t===2||_t===9)||i.cancelPendingCommit!==null)return m!==null&&m!==null&&nr(m),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||Kn(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(m!==null&&nr(m),be(d)){case 2:case 8:d=je;break;case 32:d=Fe;break;case 268435456:d=Oe;break;default:d=Fe}return m=F_.bind(null,i),d=tr(d,m),i.callbackPriority=o,i.callbackNode=d,o}return m!==null&&m!==null&&nr(m),i.callbackPriority=2,i.callbackNode=null,2}function F_(i,o){if(bn!==0&&bn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Mf()&&i.callbackNode!==d)return null;var m=at;return m=_a(i,i===Rt?m:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),m===0?null:(__(i,m,o),B_(i,ze()),i.callbackNode!=null&&i.callbackNode===d?F_.bind(null,i):null)}function q_(i,o){if(Mf())return null;__(i,o,!0)}function Y6(){sL(function(){(bt&6)!==0?tr(ae,K6):G_()})}function Tg(){if(hs===0){var i=lo;i===0&&(i=Vn,Vn<<=1,(Vn&261888)===0&&(Vn=256)),hs=i}return hs}function H_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$d(""+i)}function V_(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function J6(i,o,d,m,w){if(o==="submit"&&d&&d.stateNode===w){var S=H_((w[Zt]||null).action),T=m.submitter;T&&(o=(o=T[Zt]||null)?H_(o.formAction):T.getAttribute("formAction"),o!==null&&(S=o,T=null));var I=new qd("action","action",null,m,w);i.push({event:I,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(hs!==0){var B=T?V_(w,T):new FormData(w);J0(d,{pending:!0,data:B,method:w.method,action:S},null,B)}}else typeof S=="function"&&(I.preventDefault(),B=T?V_(w,T):new FormData(w),J0(d,{pending:!0,data:B,method:w.method,action:S},S,B))},currentTarget:w}]})}}for(var kg=0;kg<f0.length;kg++){var Mg=f0[kg],W6=Mg.toLowerCase(),X6=Mg[0].toUpperCase()+Mg.slice(1);la(W6,"on"+X6)}la(SN,"onAnimationEnd"),la(_N,"onAnimationIteration"),la(jN,"onAnimationStart"),la("dblclick","onDoubleClick"),la("focusin","onFocus"),la("focusout","onBlur"),la(p6,"onTransitionRun"),la(h6,"onTransitionStart"),la(m6,"onTransitionCancel"),la(EN,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),Xa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var su="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(su));function K_(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var m=i[d],w=m.event;m=m.listeners;e:{var S=void 0;if(o)for(var T=m.length-1;0<=T;T--){var I=m[T],B=I.instance,re=I.currentTarget;if(I=I.listener,B!==S&&w.isPropagationStopped())break e;S=I,w.currentTarget=re;try{S(w)}catch(fe){Kd(fe)}w.currentTarget=null,S=B}else for(T=0;T<m.length;T++){if(I=m[T],B=I.instance,re=I.currentTarget,I=I.listener,B!==S&&w.isPropagationStopped())break e;S=I,w.currentTarget=re;try{S(w)}catch(fe){Kd(fe)}w.currentTarget=null,S=B}}}}function rt(i,o){var d=o[_c];d===void 0&&(d=o[_c]=new Set);var m=i+"__bubble";d.has(m)||(Y_(o,i,2,!1),d.add(m))}function Rg(i,o,d){var m=0;o&&(m|=4),Y_(d,i,m,o)}var Of="_reactListening"+Math.random().toString(36).slice(2);function Pg(i){if(!i[Of]){i[Of]=!0,Ld.forEach(function(d){d!=="selectionchange"&&(Z6.has(d)||Rg(d,!1,i),Rg(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Of]||(o[Of]=!0,Rg("selectionchange",!1,o))}}function Y_(i,o,d,m){switch(Sj(o)){case 2:var w=EL;break;case 8:w=CL;break;default:w=Yg}d=w.bind(null,o,d,i),w=void 0,!Qm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),m?w!==void 0?i.addEventListener(o,d,{capture:!0,passive:w}):i.addEventListener(o,d,!0):w!==void 0?i.addEventListener(o,d,{passive:w}):i.addEventListener(o,d,!1)}function Og(i,o,d,m,w){var S=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var T=m.tag;if(T===3||T===4){var I=m.stateNode.containerInfo;if(I===w)break;if(T===4)for(T=m.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===w)return;T=T.return}for(;I!==null;){if(T=Yi(I),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){m=S=T;continue e}I=I.parentNode}}m=m.return}Q1(function(){var re=S,fe=Xm(d),me=[];e:{var se=CN.get(i);if(se!==void 0){var ce=qd,Ce=i;switch(i){case"keypress":if(Bd(d)===0)break e;case"keydown":case"keyup":ce=H5;break;case"focusin":Ce="focus",ce=r0;break;case"focusout":Ce="blur",ce=r0;break;case"beforeblur":case"afterblur":ce=r0;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ce=nN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ce=P5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ce=Y5;break;case SN:case _N:case jN:ce=D5;break;case EN:ce=W5;break;case"scroll":case"scrollend":ce=M5;break;case"wheel":ce=Z5;break;case"copy":case"cut":case"paste":ce=z5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ce=aN;break;case"toggle":case"beforetoggle":ce=e6}var Ue=(o&4)!==0,kt=!Ue&&(i==="scroll"||i==="scrollend"),V=Ue?se!==null?se+"Capture":null:se;Ue=[];for(var F=re,ne;F!==null;){var he=F;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||V===null||(he=Ac(F,V),he!=null&&Ue.push(lu(F,he,ne))),kt)break;F=F.return}0<Ue.length&&(se=new ce(se,Ce,null,d,fe),me.push({event:se,listeners:Ue}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ce=i==="mouseout"||i==="pointerout",se&&d!==Wm&&(Ce=d.relatedTarget||d.fromElement)&&(Yi(Ce)||Ce[Ja]))break e;if((ce||se)&&(se=fe.window===fe?fe:(se=fe.ownerDocument)?se.defaultView||se.parentWindow:window,ce?(Ce=d.relatedTarget||d.toElement,ce=re,Ce=Ce?Yi(Ce):null,Ce!==null&&(kt=l(Ce),Ue=Ce.tag,Ce!==kt||Ue!==5&&Ue!==27&&Ue!==6)&&(Ce=null)):(ce=null,Ce=re),ce!==Ce)){if(Ue=nN,he="onMouseLeave",V="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(Ue=aN,he="onPointerLeave",V="onPointerEnter",F="pointer"),kt=ce==null?se:Ws(ce),ne=Ce==null?se:Ws(Ce),se=new Ue(he,F+"leave",ce,d,fe),se.target=kt,se.relatedTarget=ne,he=null,Yi(fe)===re&&(Ue=new Ue(V,F+"enter",Ce,d,fe),Ue.target=ne,Ue.relatedTarget=kt,he=Ue),kt=he,ce&&Ce)t:{for(Ue=Q6,V=ce,F=Ce,ne=0,he=V;he;he=Ue(he))ne++;he=0;for(var Ie=F;Ie;Ie=Ue(Ie))he++;for(;0<ne-he;)V=Ue(V),ne--;for(;0<he-ne;)F=Ue(F),he--;for(;ne--;){if(V===F||F!==null&&V===F.alternate){Ue=V;break t}V=Ue(V),F=Ue(F)}Ue=null}else Ue=null;ce!==null&&J_(me,se,ce,Ue,!1),Ce!==null&&kt!==null&&J_(me,kt,Ce,Ue,!0)}}e:{if(se=re?Ws(re):window,ce=se.nodeName&&se.nodeName.toLowerCase(),ce==="select"||ce==="input"&&se.type==="file")var ht=fN;else if(uN(se))if(pN)ht=u6;else{ht=o6;var Me=l6}else ce=se.nodeName,!ce||ce.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?re&&Jm(re.elementType)&&(ht=fN):ht=c6;if(ht&&(ht=ht(i,re))){dN(me,ht,d,fe);break e}Me&&Me(i,se,re),i==="focusout"&&re&&se.type==="number"&&re.memoizedProps.value!=null&&Ym(se,"number",se.value)}switch(Me=re?Ws(re):window,i){case"focusin":(uN(Me)||Me.contentEditable==="true")&&(Ql=Me,c0=re,Dc=null);break;case"focusout":Dc=c0=Ql=null;break;case"mousedown":u0=!0;break;case"contextmenu":case"mouseup":case"dragend":u0=!1,wN(me,d,fe);break;case"selectionchange":if(f6)break;case"keydown":case"keyup":wN(me,d,fe)}var Ke;if(i0)e:{switch(i){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else Zl?oN(i,d)&&(it="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(it="onCompositionStart");it&&(iN&&d.locale!=="ko"&&(Zl||it!=="onCompositionStart"?it==="onCompositionEnd"&&Zl&&(Ke=eN()):(Zi=fe,e0="value"in Zi?Zi.value:Zi.textContent,Zl=!0)),Me=If(re,it),0<Me.length&&(it=new rN(it,i,null,d,fe),me.push({event:it,listeners:Me}),Ke?it.data=Ke:(Ke=cN(d),Ke!==null&&(it.data=Ke)))),(Ke=n6?r6(i,d):a6(i,d))&&(it=If(re,"onBeforeInput"),0<it.length&&(Me=new rN("onBeforeInput","beforeinput",null,d,fe),me.push({event:Me,listeners:it}),Me.data=Ke)),J6(me,i,re,d,fe)}K_(me,o)})}function lu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function If(i,o){for(var d=o+"Capture",m=[];i!==null;){var w=i,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Ac(i,d),w!=null&&m.unshift(lu(i,w,S)),w=Ac(i,o),w!=null&&m.push(lu(i,w,S))),i.tag===3)return m;i=i.return}return[]}function Q6(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function J_(i,o,d,m,w){for(var S=o._reactName,T=[];d!==null&&d!==m;){var I=d,B=I.alternate,re=I.stateNode;if(I=I.tag,B!==null&&B===m)break;I!==5&&I!==26&&I!==27||re===null||(B=re,w?(re=Ac(d,S),re!=null&&T.unshift(lu(d,re,B))):w||(re=Ac(d,S),re!=null&&T.push(lu(d,re,B)))),d=d.return}T.length!==0&&i.push({event:o,listeners:T})}var eL=/\r\n?/g,tL=/\u0000|\uFFFD/g;function W_(i){return(typeof i=="string"?i:""+i).replace(eL,`
`).replace(tL,"")}function X_(i,o){return o=W_(o),W_(i)===o}function Tt(i,o,d,m,w,S){switch(d){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Jl(i,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Jl(i,""+m);break;case"className":yn(i,"class",m);break;case"tabIndex":yn(i,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(i,d,m);break;case"style":X1(i,m,S);break;case"data":if(o!=="object"){yn(i,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=$d(""+m),i.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(o!=="input"&&Tt(i,o,"name",w.name,w,null),Tt(i,o,"formEncType",w.formEncType,w,null),Tt(i,o,"formMethod",w.formMethod,w,null),Tt(i,o,"formTarget",w.formTarget,w,null)):(Tt(i,o,"encType",w.encType,w,null),Tt(i,o,"method",w.method,w,null),Tt(i,o,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){i.removeAttribute(d);break}m=$d(""+m),i.setAttribute(d,m);break;case"onClick":m!=null&&(i.onclick=Qa);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":i.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){i.removeAttribute("xlink:href");break}d=$d(""+m),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""+m):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":m===!0?i.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?i.setAttribute(d,m):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?i.setAttribute(d,m):i.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?i.removeAttribute(d):i.setAttribute(d,m);break;case"popover":rt("beforetoggle",i),rt("toggle",i),St(i,"popover",m);break;case"xlinkActuate":Je(i,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Je(i,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Je(i,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Je(i,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Je(i,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Je(i,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Je(i,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Je(i,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Je(i,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":St(i,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=T5.get(d)||d,St(i,d,m))}}function Ig(i,o,d,m,w,S){switch(d){case"style":X1(i,m,S);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof m=="string"?Jl(i,m):(typeof m=="number"||typeof m=="bigint")&&Jl(i,""+m);break;case"onScroll":m!=null&&rt("scroll",i);break;case"onScrollEnd":m!=null&&rt("scrollend",i);break;case"onClick":m!=null&&(i.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ec.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),o=d.slice(2,w?d.length-7:void 0),S=i[Zt]||null,S=S!=null?S[d]:null,typeof S=="function"&&i.removeEventListener(o,S,w),typeof m=="function")){typeof S!="function"&&S!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,m,w);break e}d in i?i[d]=m:m===!0?i.setAttribute(d,""):St(i,d,m)}}}function Gn(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",i),rt("load",i);var m=!1,w=!1,S;for(S in d)if(d.hasOwnProperty(S)){var T=d[S];if(T!=null)switch(S){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Tt(i,o,S,T,d,null)}}w&&Tt(i,o,"srcSet",d.srcSet,d,null),m&&Tt(i,o,"src",d.src,d,null);return;case"input":rt("invalid",i);var I=S=T=w=null,B=null,re=null;for(m in d)if(d.hasOwnProperty(m)){var fe=d[m];if(fe!=null)switch(m){case"name":w=fe;break;case"type":T=fe;break;case"checked":B=fe;break;case"defaultChecked":re=fe;break;case"value":S=fe;break;case"defaultValue":I=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(r(137,o));break;default:Tt(i,o,m,fe,d,null)}}K1(i,S,I,B,re,T,w,!1);return;case"select":rt("invalid",i),m=T=S=null;for(w in d)if(d.hasOwnProperty(w)&&(I=d[w],I!=null))switch(w){case"value":S=I;break;case"defaultValue":T=I;break;case"multiple":m=I;default:Tt(i,o,w,I,d,null)}o=S,d=T,i.multiple=!!m,o!=null?Yl(i,!!m,o,!1):d!=null&&Yl(i,!!m,d,!0);return;case"textarea":rt("invalid",i),S=w=m=null;for(T in d)if(d.hasOwnProperty(T)&&(I=d[T],I!=null))switch(T){case"value":m=I;break;case"defaultValue":w=I;break;case"children":S=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(91));break;default:Tt(i,o,T,I,d,null)}J1(i,m,w,S);return;case"option":for(B in d)d.hasOwnProperty(B)&&(m=d[B],m!=null)&&(B==="selected"?i.selected=m&&typeof m!="function"&&typeof m!="symbol":Tt(i,o,B,m,d,null));return;case"dialog":rt("beforetoggle",i),rt("toggle",i),rt("cancel",i),rt("close",i);break;case"iframe":case"object":rt("load",i);break;case"video":case"audio":for(m=0;m<su.length;m++)rt(su[m],i);break;case"image":rt("error",i),rt("load",i);break;case"details":rt("toggle",i);break;case"embed":case"source":case"link":rt("error",i),rt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in d)if(d.hasOwnProperty(re)&&(m=d[re],m!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Tt(i,o,re,m,d,null)}return;default:if(Jm(o)){for(fe in d)d.hasOwnProperty(fe)&&(m=d[fe],m!==void 0&&Ig(i,o,fe,m,d,void 0));return}}for(I in d)d.hasOwnProperty(I)&&(m=d[I],m!=null&&Tt(i,o,I,m,d,null))}function nL(i,o,d,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,T=null,I=null,B=null,re=null,fe=null;for(ce in d){var me=d[ce];if(d.hasOwnProperty(ce)&&me!=null)switch(ce){case"checked":break;case"value":break;case"defaultValue":B=me;default:m.hasOwnProperty(ce)||Tt(i,o,ce,null,m,me)}}for(var se in m){var ce=m[se];if(me=d[se],m.hasOwnProperty(se)&&(ce!=null||me!=null))switch(se){case"type":S=ce;break;case"name":w=ce;break;case"checked":re=ce;break;case"defaultChecked":fe=ce;break;case"value":T=ce;break;case"defaultValue":I=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,o));break;default:ce!==me&&Tt(i,o,se,ce,m,me)}}Km(i,T,I,B,re,fe,S,w);return;case"select":ce=T=I=se=null;for(S in d)if(B=d[S],d.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":ce=B;default:m.hasOwnProperty(S)||Tt(i,o,S,null,m,B)}for(w in m)if(S=m[w],B=d[w],m.hasOwnProperty(w)&&(S!=null||B!=null))switch(w){case"value":se=S;break;case"defaultValue":I=S;break;case"multiple":T=S;default:S!==B&&Tt(i,o,w,S,m,B)}o=I,d=T,m=ce,se!=null?Yl(i,!!d,se,!1):!!m!=!!d&&(o!=null?Yl(i,!!d,o,!0):Yl(i,!!d,d?[]:"",!1));return;case"textarea":ce=se=null;for(I in d)if(w=d[I],d.hasOwnProperty(I)&&w!=null&&!m.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Tt(i,o,I,null,m,w)}for(T in m)if(w=m[T],S=d[T],m.hasOwnProperty(T)&&(w!=null||S!=null))switch(T){case"value":se=w;break;case"defaultValue":ce=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&Tt(i,o,T,w,m,S)}Y1(i,se,ce);return;case"option":for(var Ce in d)se=d[Ce],d.hasOwnProperty(Ce)&&se!=null&&!m.hasOwnProperty(Ce)&&(Ce==="selected"?i.selected=!1:Tt(i,o,Ce,null,m,se));for(B in m)se=m[B],ce=d[B],m.hasOwnProperty(B)&&se!==ce&&(se!=null||ce!=null)&&(B==="selected"?i.selected=se&&typeof se!="function"&&typeof se!="symbol":Tt(i,o,B,se,m,ce));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in d)se=d[Ue],d.hasOwnProperty(Ue)&&se!=null&&!m.hasOwnProperty(Ue)&&Tt(i,o,Ue,null,m,se);for(re in m)if(se=m[re],ce=d[re],m.hasOwnProperty(re)&&se!==ce&&(se!=null||ce!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,o));break;default:Tt(i,o,re,se,m,ce)}return;default:if(Jm(o)){for(var kt in d)se=d[kt],d.hasOwnProperty(kt)&&se!==void 0&&!m.hasOwnProperty(kt)&&Ig(i,o,kt,void 0,m,se);for(fe in m)se=m[fe],ce=d[fe],!m.hasOwnProperty(fe)||se===ce||se===void 0&&ce===void 0||Ig(i,o,fe,se,m,ce);return}}for(var V in d)se=d[V],d.hasOwnProperty(V)&&se!=null&&!m.hasOwnProperty(V)&&Tt(i,o,V,null,m,se);for(me in m)se=m[me],ce=d[me],!m.hasOwnProperty(me)||se===ce||se==null&&ce==null||Tt(i,o,me,se,m,ce)}function Z_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function rL(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var w=d[m],S=w.transferSize,T=w.initiatorType,I=w.duration;if(S&&I&&Z_(T)){for(T=0,I=w.responseEnd,m+=1;m<d.length;m++){var B=d[m],re=B.startTime;if(re>I)break;var fe=B.transferSize,me=B.initiatorType;fe&&Z_(me)&&(B=B.responseEnd,T+=fe*(B<I?1:(I-re)/(B-re)))}if(--m,o+=8*(S+T)/(w.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Dg=null,Lg=null;function Df(i){return i.nodeType===9?i:i.ownerDocument}function Q_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ej(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function zg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ug=null;function aL(){var i=window.event;return i&&i.type==="popstate"?i===Ug?!1:(Ug=i,!0):(Ug=null,!1)}var tj=typeof setTimeout=="function"?setTimeout:void 0,iL=typeof clearTimeout=="function"?clearTimeout:void 0,nj=typeof Promise=="function"?Promise:void 0,sL=typeof queueMicrotask=="function"?queueMicrotask:typeof nj<"u"?function(i){return nj.resolve(null).then(i).catch(lL)}:tj;function lL(i){setTimeout(function(){throw i})}function ms(i){return i==="head"}function rj(i,o){var d=o,m=0;do{var w=d.nextSibling;if(i.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(m===0){i.removeChild(w),Co(o);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")ou(i.ownerDocument.documentElement);else if(d==="head"){d=i.ownerDocument.head,ou(d);for(var S=d.firstChild;S;){var T=S.nextSibling,I=S.nodeName;S[Wa]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=T}}else d==="body"&&ou(i.ownerDocument.body);d=w}while(d);Co(o)}function aj(i,o){var d=i;i=0;do{var m=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(i===0)break;i--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||i++;d=m}while(d)}function $g(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":$g(d),jc(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function oL(i,o,d,m){for(;i.nodeType===1;){var w=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(m){if(!i[Wa])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(S=i.getAttribute("rel"),S==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(S!==w.rel||i.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||i.getAttribute("title")!==(w.title==null?null:w.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(S=i.getAttribute("src"),(S!==(w.src==null?null:w.src)||i.getAttribute("type")!==(w.type==null?null:w.type)||i.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&i.getAttribute("name")===S)return i}else return i;if(i=Vr(i.nextSibling),i===null)break}return null}function cL(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Vr(i.nextSibling),i===null))return null;return i}function ij(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Vr(i.nextSibling),i===null))return null;return i}function Gg(i){return i.data==="$?"||i.data==="$~"}function Bg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uL(i,o){var d=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||d.readyState!=="loading")o();else{var m=function(){o(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),i._reactRetry=m}}function Vr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var Fg=null;function sj(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"||d==="/&"){if(o===0)return Vr(i.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}i=i.nextSibling}return null}function lj(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return i;o--}else d!=="/$"&&d!=="/&"||o++}i=i.previousSibling}return null}function oj(i,o,d){switch(o=Df(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ou(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);jc(i)}var Kr=new Map,cj=new Set;function Lf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mi=J.d;J.d={f:dL,r:fL,D:pL,C:hL,L:mL,m:gL,X:vL,S:xL,M:yL};function dL(){var i=mi.f(),o=Af();return i||o}function fL(i){var o=Ji(i);o!==null&&o.tag===5&&o.type==="form"?ES(o):mi.r(i)}var _o=typeof document>"u"?null:document;function uj(i,o,d){var m=_o;if(m&&typeof o=="string"&&o){var w=Ur(o);w='link[rel="'+i+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),cj.has(w)||(cj.add(w),i={rel:i,crossOrigin:d,href:o},m.querySelector(w)===null&&(o=m.createElement("link"),Gn(o,"link",i),Yt(o),m.head.appendChild(o)))}}function pL(i){mi.D(i),uj("dns-prefetch",i,null)}function hL(i,o){mi.C(i,o),uj("preconnect",i,o)}function mL(i,o,d){mi.L(i,o,d);var m=_o;if(m&&i&&o){var w='link[rel="preload"][as="'+Ur(o)+'"]';o==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Ur(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Ur(d.imageSizes)+'"]')):w+='[href="'+Ur(i)+'"]';var S=w;switch(o){case"style":S=jo(i);break;case"script":S=Eo(i)}Kr.has(S)||(i=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Kr.set(S,i),m.querySelector(w)!==null||o==="style"&&m.querySelector(cu(S))||o==="script"&&m.querySelector(uu(S))||(o=m.createElement("link"),Gn(o,"link",i),Yt(o),m.head.appendChild(o)))}}function gL(i,o){mi.m(i,o);var d=_o;if(d&&i){var m=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+Ur(m)+'"][href="'+Ur(i)+'"]',S=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Eo(i)}if(!Kr.has(S)&&(i=g({rel:"modulepreload",href:i},o),Kr.set(S,i),d.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(uu(S)))return}m=d.createElement("link"),Gn(m,"link",i),Yt(m),d.head.appendChild(m)}}}function xL(i,o,d){mi.S(i,o,d);var m=_o;if(m&&i){var w=Wi(m).hoistableStyles,S=jo(i);o=o||"default";var T=w.get(S);if(!T){var I={loading:0,preload:null};if(T=m.querySelector(cu(S)))I.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Kr.get(S))&&qg(i,d);var B=T=m.createElement("link");Yt(B),Gn(B,"link",i),B._p=new Promise(function(re,fe){B.onload=re,B.onerror=fe}),B.addEventListener("load",function(){I.loading|=1}),B.addEventListener("error",function(){I.loading|=2}),I.loading|=4,zf(T,o,m)}T={type:"stylesheet",instance:T,count:1,state:I},w.set(S,T)}}}function vL(i,o){mi.X(i,o);var d=_o;if(d&&i){var m=Wi(d).hoistableScripts,w=Eo(i),S=m.get(w);S||(S=d.querySelector(uu(w)),S||(i=g({src:i,async:!0},o),(o=Kr.get(w))&&Hg(i,o),S=d.createElement("script"),Yt(S),Gn(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function yL(i,o){mi.M(i,o);var d=_o;if(d&&i){var m=Wi(d).hoistableScripts,w=Eo(i),S=m.get(w);S||(S=d.querySelector(uu(w)),S||(i=g({src:i,async:!0,type:"module"},o),(o=Kr.get(w))&&Hg(i,o),S=d.createElement("script"),Yt(S),Gn(S,"link",i),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},m.set(w,S))}}function dj(i,o,d,m){var w=(w=le.current)?Lf(w):null;if(!w)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=jo(d.href),d=Wi(w).hoistableStyles,m=d.get(o),m||(m={type:"style",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=jo(d.href);var S=Wi(w).hoistableStyles,T=S.get(i);if(T||(w=w.ownerDocument||w,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(i,T),(S=w.querySelector(cu(i)))&&!S._p&&(T.instance=S,T.state.loading=5),Kr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Kr.set(i,d),S||bL(w,i,d,T.state))),o&&m===null)throw Error(r(528,""));return T}if(o&&m!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Eo(d),d=Wi(w).hoistableScripts,m=d.get(o),m||(m={type:"script",instance:null,count:0,state:null},d.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function jo(i){return'href="'+Ur(i)+'"'}function cu(i){return'link[rel="stylesheet"]['+i+"]"}function fj(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function bL(i,o,d,m){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=i.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Gn(o,"link",d),Yt(o),i.head.appendChild(o))}function Eo(i){return'[src="'+Ur(i)+'"]'}function uu(i){return"script[async]"+i}function pj(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var m=i.querySelector('style[data-href~="'+Ur(d.href)+'"]');if(m)return o.instance=m,Yt(m),m;var w=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(i.ownerDocument||i).createElement("style"),Yt(m),Gn(m,"style",w),zf(m,d.precedence,i),o.instance=m;case"stylesheet":w=jo(d.href);var S=i.querySelector(cu(w));if(S)return o.state.loading|=4,o.instance=S,Yt(S),S;m=fj(d),(w=Kr.get(w))&&qg(m,w),S=(i.ownerDocument||i).createElement("link"),Yt(S);var T=S;return T._p=new Promise(function(I,B){T.onload=I,T.onerror=B}),Gn(S,"link",m),o.state.loading|=4,zf(S,d.precedence,i),o.instance=S;case"script":return S=Eo(d.src),(w=i.querySelector(uu(S)))?(o.instance=w,Yt(w),w):(m=d,(w=Kr.get(S))&&(m=g({},d),Hg(m,w)),i=i.ownerDocument||i,w=i.createElement("script"),Yt(w),Gn(w,"link",m),i.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,zf(m,d.precedence,i));return o.instance}function zf(i,o,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,S=w,T=0;T<m.length;T++){var I=m[T];if(I.dataset.precedence===o)S=I;else if(S!==w)break}S?S.parentNode.insertBefore(i,S.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function qg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Hg(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Uf=null;function hj(i,o,d){if(Uf===null){var m=new Map,w=Uf=new Map;w.set(d,m)}else w=Uf,m=w.get(d),m||(m=new Map,w.set(d,m));if(m.has(i))return m;for(m.set(i,null),d=d.getElementsByTagName(i),w=0;w<d.length;w++){var S=d[w];if(!(S[Wa]||S[fn]||i==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(o)||"";T=i+T;var I=m.get(T);I?I.push(S):m.set(T,[S])}}return m}function mj(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function wL(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(i=o.disabled,typeof o.precedence=="string"&&i==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function gj(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function NL(i,o,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=jo(m.href),S=o.querySelector(cu(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=$f.bind(i),o.then(i,i)),d.state.loading|=4,d.instance=S,Yt(S);return}S=o.ownerDocument||o,m=fj(m),(w=Kr.get(w))&&qg(m,w),S=S.createElement("link"),Yt(S);var T=S;T._p=new Promise(function(I,B){T.onload=I,T.onerror=B}),Gn(S,"link",m),d.instance=S}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(i.count++,d=$f.bind(i),o.addEventListener("load",d),o.addEventListener("error",d))}}var Vg=0;function SL(i,o){return i.stylesheets&&i.count===0&&Bf(i,i.stylesheets),0<i.count||0<i.imgCount?function(d){var m=setTimeout(function(){if(i.stylesheets&&Bf(i,i.stylesheets),i.unsuspend){var S=i.unsuspend;i.unsuspend=null,S()}},6e4+o);0<i.imgBytes&&Vg===0&&(Vg=62500*rL());var w=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Bf(i,i.stylesheets),i.unsuspend)){var S=i.unsuspend;i.unsuspend=null,S()}},(i.imgBytes>Vg?50:800)+o);return i.unsuspend=d,function(){i.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function $f(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Gf=null;function Bf(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Gf=new Map,o.forEach(_L,i),Gf=null,$f.call(i))}function _L(i,o){if(!(o.state.loading&4)){var d=Gf.get(i);if(d)var m=d.get(null);else{d=new Map,Gf.set(i,d);for(var w=i.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var T=w[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),m=T)}m&&d.set(null,m)}w=o.instance,T=w.getAttribute("data-precedence"),S=d.get(T)||m,S===m&&d.set(null,w),d.set(T,w),this.count++,m=$f.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),S?S.parentNode.insertBefore(w,S.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(w,i.firstChild)),o.state.loading|=4}}var du={$$typeof:k,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function jL(i,o,d,m,w,S,T,I,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function xj(i,o,d,m,w,S,T,I,B,re,fe,me){return i=new jL(i,o,d,T,B,re,fe,me,I),o=1,S===!0&&(o|=24),S=jr(3,null,null,o),i.current=S,S.stateNode=i,o=j0(),o.refCount++,i.pooledCache=o,o.refCount++,S.memoizedState={element:m,isDehydrated:d,cache:o},T0(S),i}function vj(i){return i?(i=no,i):no}function yj(i,o,d,m,w,S){w=vj(w),m.context===null?m.context=w:m.pendingContext=w,m=as(o),m.payload={element:d},S=S===void 0?null:S,S!==null&&(m.callback=S),d=is(i,m,o),d!==null&&(yr(d,i,o),Fc(d,i,o))}function bj(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Kg(i,o){bj(i,o),(i=i.alternate)&&bj(i,o)}function wj(i){if(i.tag===13||i.tag===31){var o=tl(i,67108864);o!==null&&yr(o,i,67108864),Kg(i,67108864)}}function Nj(i){if(i.tag===13||i.tag===31){var o=kr();o=Vl(o);var d=tl(i,o);d!==null&&yr(d,i,o),Kg(i,o)}}var Ff=!0;function EL(i,o,d,m){var w=U.T;U.T=null;var S=J.p;try{J.p=2,Yg(i,o,d,m)}finally{J.p=S,U.T=w}}function CL(i,o,d,m){var w=U.T;U.T=null;var S=J.p;try{J.p=8,Yg(i,o,d,m)}finally{J.p=S,U.T=w}}function Yg(i,o,d,m){if(Ff){var w=Jg(m);if(w===null)Og(i,o,m,qf,d),_j(i,m);else if(TL(w,i,o,d,m))m.stopPropagation();else if(_j(i,m),o&4&&-1<AL.indexOf(i)){for(;w!==null;){var S=Ji(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=pr(S.pendingLanes);if(T!==0){var I=S;for(I.pendingLanes|=2,I.entangledLanes|=2;T;){var B=1<<31-De(T);I.entanglements[1]|=B,T&=~B}Ta(S),(bt&6)===0&&(Ef=ze()+500,iu(0))}}break;case 31:case 13:I=tl(S,2),I!==null&&yr(I,S,2),Af(),Kg(S,2)}if(S=Jg(m),S===null&&Og(i,o,m,qf,d),S===w)break;w=S}w!==null&&m.stopPropagation()}else Og(i,o,m,null,d)}}function Jg(i){return i=Xm(i),Wg(i)}var qf=null;function Wg(i){if(qf=null,i=Yi(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===31){if(i=u(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return qf=i,null}function Sj(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case ae:return 2;case je:return 8;case Fe:case ie:return 32;case Oe:return 268435456;default:return 32}default:return 32}}var Xg=!1,gs=null,xs=null,vs=null,fu=new Map,pu=new Map,ys=[],AL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _j(i,o){switch(i){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":vs=null;break;case"pointerover":case"pointerout":fu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(o.pointerId)}}function hu(i,o,d,m,w,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:d,eventSystemFlags:m,nativeEvent:S,targetContainers:[w]},o!==null&&(o=Ji(o),o!==null&&wj(o)),i):(i.eventSystemFlags|=m,o=i.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),i)}function TL(i,o,d,m,w){switch(o){case"focusin":return gs=hu(gs,i,o,d,m,w),!0;case"dragenter":return xs=hu(xs,i,o,d,m,w),!0;case"mouseover":return vs=hu(vs,i,o,d,m,w),!0;case"pointerover":var S=w.pointerId;return fu.set(S,hu(fu.get(S)||null,i,o,d,m,w)),!0;case"gotpointercapture":return S=w.pointerId,pu.set(S,hu(pu.get(S)||null,i,o,d,m,w)),!0}return!1}function jj(i){var o=Yi(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,Sc(i.priority,function(){Nj(d)});return}}else if(o===31){if(o=u(d),o!==null){i.blockedOn=o,Sc(i.priority,function(){Nj(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Hf(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=Jg(i.nativeEvent);if(d===null){d=i.nativeEvent;var m=new d.constructor(d.type,d);Wm=m,d.target.dispatchEvent(m),Wm=null}else return o=Ji(d),o!==null&&wj(o),i.blockedOn=d,!1;o.shift()}return!0}function Ej(i,o,d){Hf(i)&&d.delete(o)}function kL(){Xg=!1,gs!==null&&Hf(gs)&&(gs=null),xs!==null&&Hf(xs)&&(xs=null),vs!==null&&Hf(vs)&&(vs=null),fu.forEach(Ej),pu.forEach(Ej)}function Vf(i,o){i.blockedOn===o&&(i.blockedOn=null,Xg||(Xg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,kL)))}var Kf=null;function Cj(i){Kf!==i&&(Kf=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Kf===i&&(Kf=null);for(var o=0;o<i.length;o+=3){var d=i[o],m=i[o+1],w=i[o+2];if(typeof m!="function"){if(Wg(m||d)===null)continue;break}var S=Ji(d);S!==null&&(i.splice(o,3),o-=3,J0(S,{pending:!0,data:w,method:d.method,action:m},m,w))}}))}function Co(i){function o(B){return Vf(B,i)}gs!==null&&Vf(gs,i),xs!==null&&Vf(xs,i),vs!==null&&Vf(vs,i),fu.forEach(o),pu.forEach(o);for(var d=0;d<ys.length;d++){var m=ys[d];m.blockedOn===i&&(m.blockedOn=null)}for(;0<ys.length&&(d=ys[0],d.blockedOn===null);)jj(d),d.blockedOn===null&&ys.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var w=d[m],S=d[m+1],T=w[Zt]||null;if(typeof S=="function")T||Cj(d);else if(T){var I=null;if(S&&S.hasAttribute("formAction")){if(w=S,T=S[Zt]||null)I=T.formAction;else if(Wg(w)!==null)continue}else I=T.action;typeof I=="function"?d[m+1]=I:(d.splice(m,3),m-=3),Cj(d)}}}function Aj(){function i(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return w=T})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function Zg(i){this._internalRoot=i}Yf.prototype.render=Zg.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,m=kr();yj(d,m,i,o,null,null)},Yf.prototype.unmount=Zg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;yj(i.current,2,null,i,null,null),Af(),o[Ja]=null}};function Yf(i){this._internalRoot=i}Yf.prototype.unstable_scheduleHydration=function(i){if(i){var o=sa();i={blockedOn:null,target:i,priority:o};for(var d=0;d<ys.length&&o!==0&&o<ys[d].priority;d++);ys.splice(d,0,i),d===0&&jj(i)}};var Tj=t.version;if(Tj!=="19.2.4")throw Error(r(527,Tj,"19.2.4"));J.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=p(o),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var ML={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jf.isDisabled&&Jf.supportsFiber)try{pt=Jf.inject(ML),yt=Jf}catch{}}return gu.createRoot=function(i,o){if(!a(i))throw Error(r(299));var d=!1,m="",w=DS,S=LS,T=zS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=xj(i,1,!1,null,null,d,m,null,w,S,T,Aj),i[Ja]=o.current,Pg(i),new Zg(o)},gu.hydrateRoot=function(i,o,d){if(!a(i))throw Error(r(299));var m=!1,w="",S=DS,T=LS,I=zS,B=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(I=d.onRecoverableError),d.formState!==void 0&&(B=d.formState)),o=xj(i,1,!0,o,d??null,m,w,B,S,T,I,Aj),o.context=vj(null),d=o.current,m=kr(),m=Vl(m),w=as(m),w.callback=null,is(d,w,m),d=m,o.current.lanes=d,Kt(o,d),Ta(o),i[Ja]=o.current,Pg(i),new Yf(o)},gu.version="19.2.4",gu}var Uj;function BL(){if(Uj)return tx.exports;Uj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tx.exports=GL(),tx.exports}var FL=BL();const qL=Ha(FL);var $j="popstate";function HL(e={}){function t(a,l){let{pathname:c="/",search:u="",hash:f=""}=$l(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Yv("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof l=="string"?l:Uu(l))}function r(a,l){Or(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return KL(t,n,r,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Or(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VL(){return Math.random().toString(36).substring(2,10)}function Gj(e,t){return{usr:e.state,key:e.key,idx:t}}function Yv(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?$l(t):t,state:n,key:t&&t.key||r||VL()}}function Uu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $l(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function KL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,u="POP",f=null,p=h();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function h(){return(c.state||{idx:null}).idx}function g(){u="POP";let E=h(),C=E==null?null:E-p;p=E,f&&f({action:u,location:j.location,delta:C})}function v(E,C){u="PUSH";let A=Yv(j.location,E,C);n&&n(A,E),p=h()+1;let k=Gj(A,p),R=j.createHref(A);try{c.pushState(k,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;a.location.assign(R)}l&&f&&f({action:u,location:j.location,delta:1})}function N(E,C){u="REPLACE";let A=Yv(j.location,E,C);n&&n(A,E),p=h();let k=Gj(A,p),R=j.createHref(A);c.replaceState(k,"",R),l&&f&&f({action:u,location:j.location,delta:0})}function _(E){return YL(E)}let j={get action(){return u},get location(){return e(a,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener($j,g),f=E,()=>{a.removeEventListener($j,g),f=null}},createHref(E){return t(a,E)},createURL:_,encodeLocation(E){let C=_(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:N,go(E){return c.go(E)}};return j}function YL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Uu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function XM(e,t,n="/"){return JL(e,t,n,!1)}function JL(e,t,n,r){let a=typeof t=="string"?$l(t):t,l=Ei(a.pathname||"/",n);if(l==null)return null;let c=ZM(e);WL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let p=l3(l);u=i3(c[f],p,r)}return u}function ZM(e,t=[],n=[],r="",a=!1){let l=(c,u,f=a,p)=>{let h={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(r)&&f)return;Ht(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length)}let g=Ni([r,h.relativePath]),v=n.concat(h);c.children&&c.children.length>0&&(Ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ZM(c.children,t,v,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:r3(g,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of QM(c.path))l(c,u,!0,f)}),t}function QM(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=QM(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function WL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:a3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var XL=/^:[\w-]+$/,ZL=3,QL=2,e3=1,t3=10,n3=-2,Bj=e=>e==="*";function r3(e,t){let n=e.split("/"),r=n.length;return n.some(Bj)&&(r+=n3),t&&(r+=QL),n.filter(a=>!Bj(a)).reduce((a,l)=>a+(XL.test(l)?ZL:l===""?e3:t3),r)}function a3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function i3(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",g=Mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},h),v=f.route;if(!g&&p&&n&&!r[r.length-1].route.index&&(g=Mp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:Ni([l,g.pathname]),pathnameBase:d3(Ni([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=Ni([l,g.pathnameBase]))}return c}function Mp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=s3(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((p,{paramName:h,isOptional:g},v)=>{if(h==="*"){let _=u[v]||"";c=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const N=u[v];return g&&!N?p[h]=void 0:p[h]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function s3(e,t=!1,n=!0){Or(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function l3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Or(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var o3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function c3(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?$l(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Fj(n.substring(1),"/"):l=Fj(n,t)):l=t,{pathname:l,search:f3(r),hash:p3(a)}}function Fj(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function ix(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Nb(e){let t=u3(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Sb(e,t,n,r=!1){let a;typeof e=="string"?a=$l(e):(a={...e},Ht(!a.pathname||!a.pathname.includes("?"),ix("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),ix("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),ix("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}u=g>=0?t[g]:"/"}let f=c3(a,u),p=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||h)&&(f.pathname+="/"),f}var Ni=e=>e.join("/").replace(/\/\/+/g,"/"),d3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),f3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,p3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,h3=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function m3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function g3(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var eR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function tR(e,t){let n=e;if(typeof n!="string"||!o3.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(eR)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),u=Ei(c.pathname,t);c.origin===l.origin&&u!=null?n=u+c.search+c.hash:a=!0}catch{Or(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var nR=["POST","PUT","PATCH","DELETE"];new Set(nR);var x3=["GET",...nR];new Set(x3);var sc=b.createContext(null);sc.displayName="DataRouter";var Uh=b.createContext(null);Uh.displayName="DataRouterState";var v3=b.createContext(!1),rR=b.createContext({isTransitioning:!1});rR.displayName="ViewTransition";var y3=b.createContext(new Map);y3.displayName="Fetchers";var b3=b.createContext(null);b3.displayName="Await";var Dr=b.createContext(null);Dr.displayName="Navigation";var ud=b.createContext(null);ud.displayName="Location";var ya=b.createContext({outlet:null,matches:[],isDataRoute:!1});ya.displayName="Route";var _b=b.createContext(null);_b.displayName="RouteError";var aR="REACT_ROUTER_ERROR",w3="REDIRECT",N3="ROUTE_ERROR_RESPONSE";function S3(e){if(e.startsWith(`${aR}:${w3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function _3(e){if(e.startsWith(`${aR}:${N3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new h3(t.status,t.statusText,t.data)}catch{}}function j3(e,{relative:t}={}){Ht(lc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Dr),{hash:a,pathname:l,search:c}=dd(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:Ni([n,l])),r.createHref({pathname:u,search:c,hash:a})}function lc(){return b.useContext(ud)!=null}function aa(){return Ht(lc(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ud).location}var iR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sR(e){b.useContext(Dr).static||b.useLayoutEffect(e)}function Lr(){let{isDataRoute:e}=b.useContext(ya);return e?z3():E3()}function E3(){Ht(lc(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(sc),{basename:t,navigator:n}=b.useContext(Dr),{matches:r}=b.useContext(ya),{pathname:a}=aa(),l=JSON.stringify(Nb(r)),c=b.useRef(!1);return sR(()=>{c.current=!0}),b.useCallback((f,p={})=>{if(Or(c.current,iR),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=Sb(f,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ni([t,h.pathname])),(p.replace?n.replace:n.push)(h,p.state,p)},[t,n,l,a,e])}b.createContext(null);function lR(){let{matches:e}=b.useContext(ya),t=e[e.length-1];return t?t.params:{}}function dd(e,{relative:t}={}){let{matches:n}=b.useContext(ya),{pathname:r}=aa(),a=JSON.stringify(Nb(n));return b.useMemo(()=>Sb(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function C3(e,t){return oR(e,t)}function oR(e,t,n,r,a){Ht(lc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(Dr),{matches:c}=b.useContext(ya),u=c[c.length-1],f=u?u.params:{},p=u?u.pathname:"/",h=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";uR(p,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=aa(),N;if(t){let A=typeof t=="string"?$l(t):t;Ht(h==="/"||A.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=v;let _=N.pathname||"/",j=_;if(h!=="/"){let A=h.replace(/^\//,"").split("/");j="/"+_.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=XM(e,{pathname:j});Or(g||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Or(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=R3(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:Ni([h,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?h:Ni([h,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return t&&C?b.createElement(ud.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function A3(){let e=L3(),t=m3(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,c)}var T3=b.createElement(A3,null),cR=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=_3(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(ya.Provider,{value:this.props.routeContext},b.createElement(_b.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(k3,{error:e},t):t}};cR.contextType=v3;var sx=new WeakMap;function k3({children:e,error:t}){let{basename:n}=b.useContext(Dr);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=S3(t.digest);if(r){let a=sx.get(t);if(a)throw a;let l=tR(r.location,n);if(eR&&!sx.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw sx.set(t,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function M3({routeContext:e,match:t,children:n}){let r=b.useContext(sc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(ya.Provider,{value:e},n)}function R3(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let h=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,h+1))}let u=!1,f=-1;if(n)for(let h=0;h<l.length;h++){let g=l[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:v,errors:N}=n,_=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||_){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&r?(h,g)=>{r(h,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:g3(n.matches),errorInfo:g})}:void 0;return l.reduceRight((h,g,v)=>{let N,_=!1,j=null,E=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,j=g.route.errorElement||T3,u&&(f<0&&v===0?(uR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,E=null):f===v&&(_=!0,E=g.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),A=()=>{let k;return N?k=j:_?k=E:g.route.Component?k=b.createElement(g.route.Component,null):g.route.element?k=g.route.element:k=h,b.createElement(M3,{match:g,routeContext:{outlet:h,matches:C,isDataRoute:n!=null},children:k})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(cR,{location:n.location,revalidation:n.revalidation,component:j,error:N,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):A()},null)}function jb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P3(e){let t=b.useContext(sc);return Ht(t,jb(e)),t}function O3(e){let t=b.useContext(Uh);return Ht(t,jb(e)),t}function I3(e){let t=b.useContext(ya);return Ht(t,jb(e)),t}function Eb(e){let t=I3(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function D3(){return Eb("useRouteId")}function L3(){let e=b.useContext(_b),t=O3("useRouteError"),n=Eb("useRouteError");return e!==void 0?e:t.errors?.[n]}function z3(){let{router:e}=P3("useNavigate"),t=Eb("useNavigate"),n=b.useRef(!1);return sR(()=>{n.current=!0}),b.useCallback(async(a,l={})=>{Or(n.current,iR),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var qj={};function uR(e,t,n){!t&&!qj[e]&&(qj[e]=!0,Or(!1,n))}b.memo(U3);function U3({routes:e,future:t,state:n,onError:r}){return oR(e,void 0,n,r,t)}function wn({to:e,replace:t,state:n,relative:r}){Ht(lc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(Dr);Or(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(ya),{pathname:c}=aa(),u=Lr(),f=Sb(e,Nb(l),c,r==="path"),p=JSON.stringify(f);return b.useEffect(()=>{u(JSON.parse(p),{replace:t,state:n,relative:r})},[u,p,r,t,n]),null}function Jt(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $3({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ht(!lc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:u,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[u,a,l,c]);typeof n=="string"&&(n=$l(n));let{pathname:p="/",search:h="",hash:g="",state:v=null,key:N="default"}=n,_=b.useMemo(()=>{let j=Ei(p,u);return j==null?null:{location:{pathname:j,search:h,hash:g,state:v,key:N},navigationType:r}},[u,p,h,g,v,N,r]);return Or(_!=null,`<Router basename="${u}"> is not able to match the URL "${p}${h}${g}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:b.createElement(Dr.Provider,{value:f},b.createElement(ud.Provider,{children:t,value:_}))}function G3({children:e,location:t}){return C3(Jv(e),t)}function Jv(e,t=[]){let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let l=[...t,a];if(r.type===b.Fragment){n.push.apply(n,Jv(r.props.children,l));return}Ht(r.type===Jt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Jv(r.props.children,l)),n.push(c)}),n}var yp="get",bp="application/x-www-form-urlencoded";function $h(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function B3(e){return $h(e)&&e.tagName.toLowerCase()==="button"}function F3(e){return $h(e)&&e.tagName.toLowerCase()==="form"}function q3(e){return $h(e)&&e.tagName.toLowerCase()==="input"}function H3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V3(e,t){return e.button===0&&(!t||t==="_self")&&!H3(e)}function Wv(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function K3(e,t){let n=Wv(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}var Wf=null;function Y3(){if(Wf===null)try{new FormData(document.createElement("form"),0),Wf=!1}catch{Wf=!0}return Wf}var J3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lx(e){return e!=null&&!J3.has(e)?(Or(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bp}"`),null):e}function W3(e,t){let n,r,a,l,c;if(F3(e)){let u=e.getAttribute("action");r=u?Ei(u,t):null,n=e.getAttribute("method")||yp,a=lx(e.getAttribute("enctype"))||bp,l=new FormData(e)}else if(B3(e)||q3(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?Ei(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||yp,a=lx(e.getAttribute("formenctype"))||lx(u.getAttribute("enctype"))||bp,l=new FormData(u,e),!Y3()){let{name:p,type:h,value:g}=e;if(h==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,g)}}else{if($h(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=yp,r=null,a=bp,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Cb(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function X3(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&Ei(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function Z3(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ez(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await Z3(l,n);return c.links?c.links():[]}return[]}));return az(r.flat(1).filter(Q3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Hj(e,t,n,r,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,u=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,p)=>c(f,p)||u(f,p)):l==="data"?t.filter((f,p)=>{let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,p)||u(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function tz(e,t,{includeHydrateFallback:n}={}){return nz(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function nz(e){return[...new Set(e)]}function rz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function az(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(rz(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function dR(){let e=b.useContext(sc);return Cb(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iz(){let e=b.useContext(Uh);return Cb(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ab=b.createContext(void 0);Ab.displayName="FrameworkContext";function fR(){let e=b.useContext(Ab);return Cb(e,"You must render this element inside a <HydratedRouter> element"),e}function sz(e,t){let n=b.useContext(Ab),[r,a]=b.useState(!1),[l,c]=b.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:p,onMouseLeave:h,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=C=>{C.forEach(A=>{c(A.isIntersecting)})},E=new IntersectionObserver(j,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),b.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let N=()=>{a(!0)},_=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:xu(u,N),onBlur:xu(f,_),onMouseEnter:xu(p,N),onMouseLeave:xu(h,_),onTouchStart:xu(g,N)}]:[!1,v,{}]}function xu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function lz({page:e,...t}){let{router:n}=dR(),r=b.useMemo(()=>XM(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(cz,{page:e,matches:r,...t}):null}function oz(e){let{manifest:t,routeModules:n}=fR(),[r,a]=b.useState([]);return b.useEffect(()=>{let l=!1;return ez(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function cz({page:e,matches:t,...n}){let r=aa(),{future:a,manifest:l,routeModules:c}=fR(),{basename:u}=dR(),{loaderData:f,matches:p}=iz(),h=b.useMemo(()=>Hj(e,t,p,l,r,"data"),[e,t,p,l,r]),g=b.useMemo(()=>Hj(e,t,p,l,r,"assets"),[e,t,p,l,r]),v=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,E=!1;if(t.forEach(A=>{let k=l.routes[A.route.id];!k||!k.hasLoader||(!h.some(R=>R.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||k.hasClientLoader?E=!0:j.add(A.route.id))}),j.size===0)return[];let C=X3(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return E&&j.size>0&&C.searchParams.set("_routes",t.filter(A=>j.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,l,h,t,e,c]),N=b.useMemo(()=>tz(g,l),[g,l]),_=oz(g);return b.createElement(b.Fragment,null,v.map(j=>b.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),N.map(j=>b.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),_.map(({key:j,link:E})=>b.createElement("link",{key:j,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function uz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var dz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dz&&(window.__reactRouterVersion="7.13.0")}catch{}function fz({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=b.useRef();a.current==null&&(a.current=HL({window:r,v5Compat:!0}));let l=a.current,[c,u]=b.useState({action:l.action,location:l.location}),f=b.useCallback(p=>{n===!1?u(p):b.startTransition(()=>u(p))},[n]);return b.useLayoutEffect(()=>l.listen(f),[l,f]),b.createElement($3,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var pR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Dt=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:p,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:v,...N},_){let{basename:j,unstable_useTransitions:E}=b.useContext(Dr),C=typeof p=="string"&&pR.test(p),A=tR(p,j);p=A.to;let k=j3(p,{relative:a}),[R,M,P]=sz(r,N),O=gz(p,{replace:c,state:u,target:f,preventScrollReset:h,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:E});function L(q){t&&t(q),q.defaultPrevented||O(q)}let z=b.createElement("a",{...N,...P,href:A.absoluteURL||k,onClick:A.isExternal||l?t:L,ref:uz(_,M),target:f,"data-discover":!C&&n==="render"?"true":void 0});return R&&!C?b.createElement(b.Fragment,null,z,b.createElement(lz,{page:k})):z});Dt.displayName="Link";var pz=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...p},h){let g=dd(c,{relative:p.relative}),v=aa(),N=b.useContext(Uh),{navigator:_,basename:j}=b.useContext(Dr),E=N!=null&&wz(g)&&u===!0,C=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,A=v.pathname,k=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(A=A.toLowerCase(),k=k?k.toLowerCase():null,C=C.toLowerCase()),k&&j&&(k=Ei(k,j)||k);const R=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let M=A===C||!a&&A.startsWith(C)&&A.charAt(R)==="/",P=k!=null&&(k===C||!a&&k.startsWith(C)&&k.charAt(C.length)==="/"),O={isActive:M,isPending:P,isTransitioning:E},L=M?t:void 0,z;typeof r=="function"?z=r(O):z=[r,M?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(O):l;return b.createElement(Dt,{...p,"aria-current":L,className:z,ref:h,style:q,to:c,viewTransition:u},typeof f=="function"?f(O):f)});pz.displayName="NavLink";var hz=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=yp,action:u,onSubmit:f,relative:p,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:v,...N},_)=>{let{unstable_useTransitions:j}=b.useContext(Dr),E=yz(),C=bz(u,{relative:p}),A=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&pR.test(u),R=M=>{if(f&&f(M),M.defaultPrevented)return;M.preventDefault();let P=M.nativeEvent.submitter,O=P?.getAttribute("formmethod")||c,L=()=>E(P||M.currentTarget,{fetcherKey:t,method:O,navigate:n,replace:a,state:l,relative:p,preventScrollReset:h,viewTransition:g,unstable_defaultShouldRevalidate:v});j&&n!==!1?b.startTransition(()=>L()):L()};return b.createElement("form",{ref:_,method:A,action:C,onSubmit:r?f:R,...N,"data-discover":!k&&e==="render"?"true":void 0})});hz.displayName="Form";function mz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hR(e){let t=b.useContext(sc);return Ht(t,mz(e)),t}function gz(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let p=Lr(),h=aa(),g=dd(e,{relative:l});return b.useCallback(v=>{if(V3(v,t)){v.preventDefault();let N=n!==void 0?n:Uu(h)===Uu(g),_=()=>p(e,{replace:N,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?b.startTransition(()=>_()):_()}},[h,p,g,n,r,t,e,a,l,c,u,f])}function fd(e){Or(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(Wv(e)),n=b.useRef(!1),r=aa(),a=b.useMemo(()=>K3(r.search,n.current?null:t.current),[r.search]),l=Lr(),c=b.useCallback((u,f)=>{const p=Wv(typeof u=="function"?u(new URLSearchParams(a)):u);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var xz=0,vz=()=>`__${String(++xz)}__`;function yz(){let{router:e}=hR("useSubmit"),{basename:t}=b.useContext(Dr),n=D3(),r=e.fetch,a=e.navigate;return b.useCallback(async(l,c={})=>{let{action:u,method:f,encType:p,formData:h,body:g}=W3(l,t);if(c.navigate===!1){let v=c.fetcherKey||vz();await r(v,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:h,body:g,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function bz(e,{relative:t}={}){let{basename:n}=b.useContext(Dr),r=b.useContext(ya);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...dd(e||".",{relative:t})},c=aa();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(h=>h==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ni([n,l.pathname])),Uu(l)}function wz(e,{relative:t}={}){let n=b.useContext(rR);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hR("useViewTransitionState"),a=dd(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ei(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ei(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Mp(a.pathname,c)!=null||Mp(a.pathname,l)!=null}var Tb=WM();const mR=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const Nz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Sz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const Vj=e=>{const t=Sz(e);return t.charAt(0).toUpperCase()+t.slice(1)};var _z={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Ez=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...u},f)=>b.createElement("svg",{ref:f,..._z,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mR("lucide",a),...!l&&!jz(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,h])=>b.createElement(p,h)),...Array.isArray(l)?l:[l]]));const we=(e,t)=>{const n=b.forwardRef(({className:r,...a},l)=>b.createElement(Ez,{ref:l,iconNode:t,className:mR(`lucide-${Nz(Vj(e))}`,`lucide-${e}`,r),...a}));return n.displayName=Vj(e),n};const Cz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Tu=we("activity",Cz);const Az=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Pa=we("archive",Az);const Tz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],kz=we("arrow-left",Tz);const Mz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],kb=we("arrow-right",Mz);const Rz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ds=we("award",Rz);const Pz=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ts=we("ban",Pz);const Oz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Gh=we("bell",Oz);const Iz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$u=we("book-open",Iz);const Dz=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],Xv=we("book",Dz);const Lz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rn=we("calendar",Lz);const zz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],gR=we("chart-column",zz);const Uz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ou=we("check",Uz);const $z=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ws=we("chevron-down",$z);const Gz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zv=we("chevron-left",Gz);const Bz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Jo=we("chevron-right",Bz);const Fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gu=we("circle-alert",Fz);const qz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],La=we("circle-check-big",qz);const Hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Iu=we("circle-check",Hz);const Vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Kz=we("circle-question-mark",Vz);const Yz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Jz=we("circle-user",Yz);const Wz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Rs=we("circle-x",Wz);const Xz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dn=we("clock",Xz);const Zz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Qz=we("copy",Zz);const eU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tU=we("database",eU);const nU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rU=we("download",nU);const aU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],iU=we("ellipsis",aU);const sU=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Kj=we("eraser",sU);const lU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rp=we("eye",lU);const oU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yj=we("file-text",oU);const cU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],ox=we("file",cU);const uU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],dU=we("flame",uU);const fU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Mb=we("funnel",fU);const pU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],hU=we("house",pU);const mU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Rb=we("info",mU);const gU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],xR=we("key",gU);const xU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vU=we("layout-dashboard",xU);const yU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Re=we("loader-circle",yU);const bU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],Bu=we("lock-open",bU);const wU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Si=we("lock",wU);const NU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Pb=we("log-out",NU);const SU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ls=we("mail",SU);const _U=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nr=we("map-pin",_U);const jU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vR=we("menu",jU);const EU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Tl=we("message-square",EU);const CU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],AU=we("mic-off",CU);const TU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],yR=we("mic",TU);const kU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],MU=we("paperclip",kU);const RU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wo=we("pen",RU);const PU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],OU=we("pencil",PU);const IU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],DU=we("percent",IU);const LU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pp=we("plus",LU);const zU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ci=we("refresh-cw",zU);const UU=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Bo=we("repeat",UU);const $U=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Jj=we("save",$U);const GU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ua=we("search",GU);const BU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Op=we("send",BU);const FU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qU=we("settings",FU);const HU=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cx=we("share-2",HU);const VU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],KU=we("shield-check",VU);const YU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sr=we("shield",YU);const JU=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],WU=we("smartphone",JU);const XU=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Fu=we("sparkles",XU);const ZU=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zr=we("star",ZU);const QU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ai=we("trash-2",QU);const e$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],t$=we("trending-down",e$);const n$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xo=we("trending-up",n$);const r$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Sn=we("triangle-alert",r$);const a$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Qv=we("trophy",a$);const i$=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Zo=we("user-check",i$);const s$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],l$=we("user-minus",s$);const o$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],ey=we("user-plus",o$);const c$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],bR=we("user-x",c$);const u$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Bh=we("user",u$);const d$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],gt=we("users",d$);const f$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],p$=we("volume-2",f$);const h$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ct=we("x",h$);var Le=(e=>(e.OPEN="open",e.CLOSED="closed",e.ARCHIVED="archived",e))(Le||{}),Wj;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(Wj||(Wj={}));var Xj;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(Xj||(Xj={}));var Zj;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(Zj||(Zj={}));const Qj=["user","model","function","system"];var eE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(eE||(eE={}));var tE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(tE||(tE={}));var nE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(nE||(nE={}));var rE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(rE||(rE={}));var Du;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Du||(Du={}));var aE;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(aE||(aE={}));var iE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(iE||(iE={}));var sE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(sE||(sE={}));class Xn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class Ao extends Xn{constructor(t,n){super(t),this.response=n}}class wR extends Xn{constructor(t,n,r,a){super(t),this.status=n,this.statusText=r,this.errorDetails=a}}class Ps extends Xn{}class NR extends Xn{}const m$="https://generativelanguage.googleapis.com",g$="v1beta",x$="0.24.1",v$="genai-js";var kl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(kl||(kl={}));class y${constructor(t,n,r,a,l){this.model=t,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||g$;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||m$}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function b$(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${v$}/${x$}`),t.join(" ")}async function w$(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",b$(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Ps(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new Ps(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Ps(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function N$(e,t,n,r,a,l){const c=new y$(e,t,n,r,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},E$(l)),{method:"POST",headers:await w$(c),body:a})}}async function pd(e,t,n,r,a,l={},c=fetch){const{url:u,fetchOptions:f}=await N$(e,t,n,r,a,l);return S$(u,f,c)}async function S$(e,t,n=fetch){let r;try{r=await n(e,t)}catch(a){_$(a,e)}return r.ok||await j$(r,e),r}function _$(e,t){let n=e;throw n.name==="AbortError"?(n=new NR(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof wR||e instanceof Ps||(n=new Xn(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function j$(e,t){let n="",r;try{const a=await e.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new wR(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function E$(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function Ob(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),wp(e.candidates[0]))throw new Ao(`${Ss(e)}`,e);return C$(e)}else if(e.promptFeedback)throw new Ao(`Text not available. ${Ss(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wp(e.candidates[0]))throw new Ao(`${Ss(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),lE(e)[0]}else if(e.promptFeedback)throw new Ao(`Function call not available. ${Ss(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),wp(e.candidates[0]))throw new Ao(`${Ss(e)}`,e);return lE(e)}else if(e.promptFeedback)throw new Ao(`Function call not available. ${Ss(e)}`,e)},e}function C$(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function lE(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const A$=[Du.RECITATION,Du.SAFETY,Du.LANGUAGE];function wp(e){return!!e.finishReason&&A$.includes(e.finishReason)}function Ss(e){var t,n,r;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const l=e.candidates[0];wp(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function qu(e){return this instanceof qu?(this.v=e,this):new qu(e)}function T$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(v){r[v]&&(a[v]=function(N){return new Promise(function(_,j){l.push([v,N,_,j])>1||u(v,N)})})}function u(v,N){try{f(r[v](N))}catch(_){g(l[0][3],_)}}function f(v){v.value instanceof qu?Promise.resolve(v.value.v).then(p,h):g(l[0][2],v)}function p(v){u("next",v)}function h(v){u("throw",v)}function g(v,N){v(N),l.shift(),l.length&&u(l[0][0],l[0][1])}}const oE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function k$(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=P$(t),[r,a]=n.tee();return{stream:R$(r),response:M$(a)}}async function M$(e){const t=[],n=e.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Ob(O$(t));t.push(a)}}function R$(e){return T$(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:a}=yield qu(n.read());if(a)break;yield yield qu(Ob(r))}})}function P$(e){const t=e.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return t.read().then(({value:c,done:u})=>{if(u){if(a.trim()){r.error(new Xn("Failed to parse stream"));return}r.close();return}a+=c;let f=a.match(oE),p;for(;f;){try{p=JSON.parse(f[1])}catch{r.error(new Xn(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(p),a=a.substring(f[0].length),f=a.match(oE)}return l()}).catch(c=>{let u=c;throw u.stack=c.stack,u.name==="AbortError"?u=new NR("Request aborted when reading from the stream"):u=new Xn("Error reading from the stream"),u})}}})}function O$(e){const t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(const r of e){if(r.candidates){let a=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const c={};for(const u of l.content.parts)u.text&&(c.text=u.text),u.functionCall&&(c.functionCall=u.functionCall),u.executableCode&&(c.executableCode=u.executableCode),u.codeExecutionResult&&(c.codeExecutionResult=u.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[a].content.parts.push(c)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function SR(e,t,n,r){const a=await pd(t,kl.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return k$(a)}async function _R(e,t,n,r){const l=await(await pd(t,kl.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Ob(l)}}function jR(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function Hu(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return I$(t)}function I$(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const l of e)"functionResponse"in l?(n.parts.push(l),a=!0):(t.parts.push(l),r=!0);if(r&&a)throw new Xn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new Xn("No content is provided for sending chat message.");return r?t:n}function D$(e,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new Ps("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(a)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const l=Hu(e);r.contents=[l]}return{generateContentRequest:r}}function cE(e){let t;return e.contents?t=e:t={contents:[Hu(e)]},e.systemInstruction&&(t.systemInstruction=jR(e.systemInstruction)),t}function L$(e){return typeof e=="string"||Array.isArray(e)?{content:Hu(e)}:e}const uE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],z$={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function U$(e){let t=!1;for(const n of e){const{role:r,parts:a}=n;if(!t&&r!=="user")throw new Xn(`First content should be with role 'user', got ${r}`);if(!Qj.includes(r))throw new Xn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(Qj)}`);if(!Array.isArray(a))throw new Xn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Xn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of a)for(const f of uE)f in u&&(l[f]+=1);const c=z$[r];for(const u of uE)if(!c.includes(u)&&l[u]>0)throw new Xn(`Content with role '${r}' can't contain '${u}' part`);t=!0}}function dE(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const fE="SILENT_ERROR";class $${constructor(t,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(U$(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,a,l,c,u,f;await this._sendPromise;const p=Hu(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},g=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>_R(this._apiKey,this.model,h,g)).then(N=>{var _;if(dE(N.response)){this._history.push(p);const j=Object.assign({parts:[],role:"model"},(_=N.response.candidates)===null||_===void 0?void 0:_[0].content);this._history.push(j)}else{const j=Ss(N.response);j&&console.warn(`sendMessage() was unsuccessful. ${j}. Inspect response object for details.`)}v=N}).catch(N=>{throw this._sendPromise=Promise.resolve(),N}),await this._sendPromise,v}async sendMessageStream(t,n={}){var r,a,l,c,u,f;await this._sendPromise;const p=Hu(t),h={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},g=Object.assign(Object.assign({},this._requestOptions),n),v=SR(this._apiKey,this.model,h,g);return this._sendPromise=this._sendPromise.then(()=>v).catch(N=>{throw new Error(fE)}).then(N=>N.response).then(N=>{if(dE(N)){this._history.push(p);const _=Object.assign({},N.candidates[0].content);_.role||(_.role="model"),this._history.push(_)}else{const _=Ss(N);_&&console.warn(`sendMessageStream() was unsuccessful. ${_}. Inspect response object for details.`)}}).catch(N=>{N.message!==fE&&console.error(N)}),v}}async function G$(e,t,n,r){return(await pd(t,kl.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}async function B$(e,t,n,r){return(await pd(t,kl.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function F$(e,t,n,r){const a=n.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await pd(t,kl.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),r)).json()}class pE{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=jR(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const a=cE(t),l=Object.assign(Object.assign({},this._requestOptions),n);return _R(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(t,n={}){var r;const a=cE(t),l=Object.assign(Object.assign({},this._requestOptions),n);return SR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(t){var n;return new $$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=D$(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return G$(this.apiKey,this.model,r,a)}async embedContent(t,n={}){const r=L$(t),a=Object.assign(Object.assign({},this._requestOptions),n);return B$(this.apiKey,this.model,r,a)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return F$(this.apiKey,this.model,t,r)}}class q${constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Xn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new pE(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Ps("Cached content must contain a `name` field.");if(!t.model)throw new Ps("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const c of a)if(n?.[c]&&t[c]&&n?.[c]!==t[c]){if(c==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===f)continue}throw new Ps(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${t[c]})`)}const l=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new pE(this.apiKey,l,r)}}const ER="AIzaSyCv6hJAymDO5LHhkOgcKSYBH2Wc9RUiOsE";console.log("[Gemini] API Key:","SET");const H$=new q$(ER),ux=H$.getGenerativeModel({model:"gemini-2.5-flash-lite"}),ty={async generateGroupDescription(e,t){try{return(await ux.generateContent(`Create a single, concise study group description (2-3 sentences max) for a group focused on "${e}".
        Primary goal: "${t}".

        Requirements:
        - Write in plain text without special formatting, markdown, or asterisks
        - Keep it welcoming and professional for university students
        - Focus on what members will do and achieve together
        - Do NOT include multiple options or variations
        - Maximum 150 words`)).response.text()}catch(n){return console.error("Gemini Error:",n),"Unable to generate description. Please try writing one manually."}},async summarizeChat(e){try{if(console.log("[Gemini] Summarizing",e.length,"messages"),e.length===0)return"No messages to summarize.";const t=`Analyze these study group chat messages and create a brief summary.

Messages:
${e.join(`
`)}

Format your response EXACTLY as follows (use plain text, no markdown, no asterisks):

Key Takeaways:
- [Point 1]
- [Point 2]
- [Point 3]

Action Items:
- [Action 1 with any relevant details like date/time/location]
- [Action 2 with any relevant details like date/time/location]

Keep it concise and clear. Maximum 5 bullet points total.`;console.log("[Gemini] Sending prompt to API...");const r=(await ux.generateContent(t)).response.text();return console.log("[Gemini] Summary generated successfully"),r}catch(t){return console.error("[Gemini] Summarization Error:",t),console.error("[Gemini] Error details:",t.message||t),t.message?.includes("API key")?"API key error. Please check your Gemini API configuration.":t.message?.includes("quota")?"API quota exceeded. Please try again later.":t.message?.includes("blocked")?"Content was blocked by safety filters.":`Summary unavailable: ${t.message||"Unknown error"}`}},async suggestStudyPlan(e){try{return(await ux.generateContent(`Create a clear, organized 4-week study plan for "${e}".

Format requirements:
- Use plain text with simple headings (Week 1:, Week 2:, etc.)
- Use bullet points (-) for topics and tasks
- No markdown formatting, bold, italics, or asterisks
- Keep each week's plan to 4-5 bullet points maximum
- Be specific about topics to cover and activities to complete
- Total length: maximum 300 words

Example format:
Week 1: [Theme]
- Topic or activity
- Topic or activity

Week 2: [Theme]
- Topic or activity
- Topic or activity`)).response.text()}catch{return"Study plan generation failed."}}},Ip={BASE_URL:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://127.0.0.1:8000/api":"https://api.your-campus-hub.com/api",TIMEOUT:1e4},We=Ip.BASE_URL,st=()=>{let e="";const t=localStorage.getItem("auth_user")||localStorage.getItem("admin_auth");if(t)try{e=JSON.parse(t).token||""}catch(n){console.error("Auth token parse error",n)}return{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}},Xe=async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`API Error: ${e.status}`)}return e.json()},Ae={async login(e){const t=await fetch(`${We}/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});return Xe(t)},async register(e){const t=await fetch(`${We}/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});return Xe(t)},async resendVerification(){const e=await fetch(`${We}/email/resend`,{method:"POST",headers:st()});return Xe(e)},async checkVerificationStatus(){const e=await fetch(`${We}/email/verification-status`,{headers:st()});return Xe(e)},async getGroups(){const e=await fetch(`${We}/groups`,{headers:st()});return Xe(e)},async createGroup(e){const t=await fetch(`${We}/groups`,{method:"POST",headers:st(),body:JSON.stringify(e)});return Xe(t)},async updateGroup(e,t){const n=await fetch(`${We}/groups/${e}`,{method:"PUT",headers:st(),body:JSON.stringify(t)});return Xe(n)},async deleteGroup(e){const t=await fetch(`${We}/groups/${e}`,{method:"DELETE",headers:st()});await Xe(t)},async joinGroup(e){const t=await fetch(`${We}/groups/${e}/join`,{method:"POST",headers:st()});await Xe(t)},async leaveGroup(e){const t=await fetch(`${We}/groups/${e}/leave`,{method:"POST",headers:st()});await Xe(t)},async getGroupMembers(e){const t=await fetch(`${We}/groups/${e}/members`,{headers:st()});return Xe(t)},async getPendingRequests(e){const t=await fetch(`${We}/groups/${e}/pending-requests`,{headers:st()});return Xe(t)},async approveJoinRequest(e,t){const n=await fetch(`${We}/groups/${e}/approve/${t}`,{method:"POST",headers:st()});await Xe(n)},async rejectJoinRequest(e,t,n){const r=await fetch(`${We}/groups/${e}/reject/${t}`,{method:"POST",headers:st(),body:JSON.stringify({reason:n||null})});await Xe(r)},async kickMember(e,t){const n=await fetch(`${We}/groups/${e}/kick/${t}`,{method:"POST",headers:st()});await Xe(n)},async submitRating(e,t){const n=await fetch(`${We}/groups/${e}/rate`,{method:"POST",headers:st(),body:JSON.stringify(t)});return Xe(n)},async getMyRating(e){const t=await fetch(`${We}/groups/${e}/my-rating`,{headers:st()});return(await Xe(t)).rating},async deleteRating(e){const t=await fetch(`${We}/groups/${e}/rate`,{method:"DELETE",headers:st()});return Xe(t)},async getMessages(e){const t=await fetch(`${We}/groups/${e}/messages`,{headers:st()});return Xe(t)},async sendMessage(e,t,n){const r=new FormData;t&&r.append("content",t),n&&r.append("file",n);const a=localStorage.getItem("auth_user")||localStorage.getItem("admin_auth");let l="";if(a)try{l=JSON.parse(a).token||""}catch(u){console.error("Auth token parse error",u)}const c=await fetch(`${We}/groups/${e}/messages`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${l}`},body:r});return Xe(c)},async getTrendingGroups(){const e=await fetch(`${We}/discover/trending`,{headers:st()});return Xe(e)},async getSubjects(){const e=await fetch(`${We}/discover/subjects`,{headers:st()});return Xe(e)},async getLeaders(){const e=await fetch(`${We}/discover/leaders`,{headers:st()});return Xe(e)},async searchUsers(e){const t=await fetch(`${We}/discover/users/search?q=${encodeURIComponent(e)}`,{headers:st()});return Xe(t)},async getFeedback(){const e=await fetch(`${We}/feedback`,{headers:st()});return Xe(e)},async submitFeedback(e){const t=await fetch(`${We}/feedback`,{method:"POST",headers:st(),body:JSON.stringify(e)});return Xe(t)},async submitReport(e){const t=await fetch(`${We}/reports`,{method:"POST",headers:st(),body:JSON.stringify(e)});return Xe(t)},async getMyReports(){const e=await fetch(`${We}/reports/my-reports`,{headers:st()});return Xe(e)},async getEvents(){const e=await fetch(`${We}/calendar/events`,{headers:st()});return Xe(e)},async createEvent(e){const t=await fetch(`${We}/calendar/events`,{method:"POST",headers:st(),body:JSON.stringify(e)});return Xe(t)},async deleteEvent(e,t){const n=await fetch(`${We}/calendar/events/${e}`,{method:"DELETE",headers:st(),body:JSON.stringify({reason:t||null})});await Xe(n)},async getProfile(){const e=await fetch(`${We}/profile`,{headers:st()});return Xe(e)},async getUserById(e){const t=await fetch(`${We}/users/${e}`,{headers:st()});return Xe(t)},async getUserStats(e){const t=await fetch(`${We}/users/${e}/stats`,{headers:st()});return Xe(t)},async getProfileStats(){const e=await fetch(`${We}/profile/stats`,{headers:st()});return Xe(e)},async updateProfile(e){const t=await fetch(`${We}/profile`,{method:"PUT",headers:st(),body:JSON.stringify(e)});return Xe(t)},async getNotifications(){const e=await fetch(`${We}/notifications`,{headers:st()});return Xe(e)},async getUnreadCount(){const e=await fetch(`${We}/notifications/unread-count`,{headers:st()});return Xe(e)},async markNotificationsAsRead(){const e=await fetch(`${We}/notifications/mark-read`,{method:"POST",headers:st()});await Xe(e)}},Do=({value:e=0,onChange:t,readonly:n=!1,size:r="md"})=>{const l={sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-6 h-6"}[r],c=!n&&t,u=f=>{c&&t&&t(f)};return s.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(f=>{const p=f<=Math.round(e);return s.jsx("button",{type:"button",onClick:()=>u(f),disabled:!c,className:`${c?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"} focus:outline-none`,"aria-label":`${f} star${f>1?"s":""}`,children:s.jsx(Zr,{className:`${l} ${p?"fill-orange-500 text-orange-500":"text-slate-300"} ${c&&"hover:fill-orange-400 hover:text-orange-400"}`})},f)})})},V$=({group:e,currentUser:t,onClose:n,onJoin:r,onLeave:a,onDelete:l,onRefresh:c})=>{const u=Lr(),[f,p]=b.useState([]),[h,g]=b.useState(!0),[v,N]=b.useState(!1),[_,j]=b.useState(null),[E,C]=b.useState(0),[A,k]=b.useState(0),[R,M]=b.useState(!1),[P,O]=b.useState(""),L=e.creator_id===t?.id,z=e.is_member,q=e.has_pending_request,Y=e.members_count>=e.max_members,G=e.status===Le.ARCHIVED;b.useEffect(()=>{W(),z&&ee()},[e.id,z]);const W=async()=>{g(!0);try{const D=await Ae.getGroupMembers(e.id);p(D)}catch(D){console.error("Failed to load members:",D)}finally{g(!1)}},ee=async()=>{if(!(!z||!t))try{const D=await Ae.getMyRating(e.id);j(D),D&&(C(D.group_rating),k(D.leader_rating))}catch(D){console.error("Failed to load rating:",D)}},Z=async()=>{if(E<1||E>5||A<1||A>5){O("Please select ratings between 1 and 5 stars"),setTimeout(()=>O(""),3e3);return}M(!0),O("");try{const D=await Ae.submitRating(e.id,{group_rating:E,leader_rating:A});j(D.rating),O(D.message||"Rating submitted successfully!"),setTimeout(()=>O(""),3e3),c()}catch(D){O(D.message||"Failed to submit rating"),setTimeout(()=>O(""),3e3)}finally{M(!1)}},U=async()=>{if(confirm("Are you sure you want to delete your rating?")){M(!0),O("");try{await Ae.deleteRating(e.id),j(null),C(0),k(0),O("Rating deleted successfully"),setTimeout(()=>O(""),3e3),c()}catch(D){O(D.message||"Failed to delete rating"),setTimeout(()=>O(""),3e3)}finally{M(!1)}}},J=async()=>{N(!0);try{await r(e.id),c(),n()}catch(D){alert(D.message||"Failed to join group")}finally{N(!1)}},te=async()=>{if(confirm("Are you sure you want to leave this group?")){N(!0);try{await a(e.id),c(),n()}catch(D){alert(D.message||"Failed to leave group")}finally{N(!1)}}},de=async()=>{if(confirm("Are you sure you want to delete this group? This action cannot be undone.")){N(!0);try{await l(e.id),c(),n()}catch(D){alert(D.message||"Failed to delete group")}finally{N(!1)}}},ue=D=>{switch(D){case Le.OPEN:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-lg",children:[s.jsx(Bu,{size:10})," Open"]});case Le.CLOSED:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-amber-500 uppercase tracking-widest bg-amber-50 px-2 py-1 rounded-lg",children:[s.jsx(Si,{size:10})," Closed"]});case Le.ARCHIVED:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-2 py-1 rounded-lg",children:[s.jsx(Pa,{size:10})," Archived"]});default:return null}};return s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[s.jsxs("div",{className:"bg-orange-500 p-8 flex justify-between items-start text-white",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h2",{className:"text-3xl font-black tracking-tight",children:e.name}),ue(e.status)]}),s.jsxs("p",{className:"text-orange-100 text-sm font-bold",children:[e.subject,"  ",e.faculty]}),s.jsxs("p",{className:"text-orange-100/80 text-xs mt-1",children:["Created by ",e.creator_name]})]}),s.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"About This Group"}),s.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.description})]}),z&&s.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[s.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[s.jsx(Zr,{size:14,className:"text-orange-500"}),"Rate This Group"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Group Quality"}),s.jsx(Do,{value:E,onChange:C,size:"md"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Leader Effectiveness"}),s.jsx(Do,{value:A,onChange:k,size:"md"})]}),s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsx("button",{onClick:Z,disabled:R||_&&_.update_count>=3||E===0||A===0,className:"flex items-center gap-2 px-6 py-3 bg-orange-500 text-white rounded-xl font-bold text-sm hover:bg-orange-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-orange-100",children:R?s.jsx(Re,{size:16,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Zr,{size:16}),_?"Update Rating":"Submit Rating"]})}),_&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-xs text-slate-500 font-semibold",children:[3-_.update_count," edit",3-_.update_count!==1?"s":""," remaining"]}),s.jsx("button",{onClick:U,disabled:R,className:"px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold text-sm hover:bg-red-100 transition-all disabled:opacity-50",children:"Delete Rating"})]}),P&&s.jsx("p",{className:`text-sm font-semibold ${P.includes("success")?"text-emerald-600":"text-red-600"}`,children:P})]})]})]}),!z&&!L&&s.jsx("div",{className:"border-t border-slate-200 pt-6",children:s.jsx("p",{className:"text-sm text-slate-400 italic",children:"Join this group to leave a rating"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 p-6 bg-slate-50 rounded-2xl",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(gt,{size:12})," Members"]}),s.jsxs("p",{className:`text-lg font-bold ${Y?"text-amber-600":"text-slate-900"}`,children:[e.members_count," / ",e.max_members]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(Nr,{size:12})," Location"]}),s.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:e.location})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[s.jsx(Rn,{size:12})," Created"]}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(e.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:["Group Members (",f.length,")"]}),h?s.jsx("div",{className:"flex items-center justify-center py-8",children:s.jsx(Re,{size:24,className:"animate-spin text-orange-500"})}):f.length===0?s.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No members yet"}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map(D=>s.jsxs(Dt,{to:`/profile/${D.id}`,onClick:n,className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl hover:shadow-md hover:border-orange-200 transition-all group",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-lg flex items-center justify-center font-bold text-sm border border-orange-200 group-hover:scale-105 transition-transform",children:D.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("p",{className:"font-bold text-slate-900 text-sm truncate group-hover:text-orange-500 transition-colors",children:[D.name,String(D.id)===String(e.creator_id)&&s.jsx("span",{className:"ml-1.5 text-[8px] font-black text-orange-500 uppercase bg-orange-50 px-1.5 py-0.5 rounded",children:"Leader"})]}),s.jsx("p",{className:"text-xs text-slate-400 truncate",children:D.major||"Student"})]})]},D.id))})]})]}),s.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50",children:s.jsxs("div",{className:"flex gap-3",children:[!z&&!L&&s.jsx("button",{onClick:J,disabled:v||q||Y||G,className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all ${q?"bg-amber-50 border-2 border-amber-200 text-amber-600 cursor-default":G||Y?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-lg shadow-orange-100"}`,children:v?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(ey,{size:18}),q?"Request Pending...":G?"Archived":Y?"Group Full":"Join Group"]})}),z&&s.jsxs("button",{onClick:()=>{n(),u(`/groups?group=${e.id}`)},className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-lg shadow-orange-100 transition-all",children:[s.jsx(Tl,{size:18}),"Open Chat"]}),z&&!L&&s.jsx("button",{onClick:te,disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-red-100 text-red-500 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-50 transition-all",children:v?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(l$,{size:18}),"Leave Group"]})}),L&&s.jsx("button",{onClick:de,disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-red-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-600 shadow-lg shadow-red-100 transition-all",children:v?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Ai,{size:18}),"Delete Group"]})})]})})]})})},K$=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[a,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(null),[h,g]=b.useState(!1),[v,N]=b.useState(!1),[_,j]=b.useState(!1),[E,C]=b.useState(""),[A,k]=b.useState(""),[R,M]=b.useState(""),[P,O]=b.useState(""),[L,z]=b.useState("all"),[q,Y]=b.useState(""),[G,W]=b.useState(""),[ee,Z]=b.useState(""),[U,J]=fd(),te=U.get("q")||"",de=U.get("searchMode")==="full",[ue]=b.useState(()=>{const $=localStorage.getItem("auth_user");return $?JSON.parse($):null}),[D,X]=b.useState({subject:"",goal:"",description:"",max_members:5,location:"",faculty:""}),[ge,xe]=b.useState(null),[K,le]=b.useState({name:"",subject:"",description:"",max_members:5,location:"",faculty:""}),[ye,Ge]=b.useState(!1),[oe,_e]=b.useState(null),Pe=b.useRef(null),ve=b.useRef(null);b.useEffect(()=>{lt()},[]),b.useEffect(()=>{(async()=>{if(te)try{const De=await Ae.searchUsers(te);l(De)}catch(De){console.error("Failed to search users:",De),l([])}else l([])})()},[te]);const lt=async()=>{u(!0),p(null);try{const[$,De]=await Promise.all([Ae.getGroups(),Ae.getTrendingGroups()]);t($),r(De)}catch($){console.error("Failed to load data:",$),p("Could not connect to the campus server. Make sure your backend is running.")}finally{u(!1)}},Be=b.useMemo(()=>Array.from(new Set(e.map($=>$.faculty))).sort(),[e]),Qe=b.useMemo(()=>Array.from(new Set(e.map($=>$.subject))).sort(),[e]),ft=b.useMemo(()=>Array.from(new Set(e.map($=>$.location))).sort(),[e]),Xt=b.useMemo(()=>Array.from(new Set(e.map($=>$.creator_name))).sort(),[e]),Cn=b.useMemo(()=>e.filter($=>$.is_member&&$.creator_id!==ue?.id&&$.status!==Le.ARCHIVED),[e,ue]),fr=b.useMemo(()=>e.filter($=>$.creator_id===ue?.id&&$.status!==Le.ARCHIVED),[e,ue]),tr=b.useMemo(()=>e.filter($=>$.status!==Le.ARCHIVED).sort(($,De)=>new Date(De.created_at).getTime()-new Date($.created_at).getTime()).slice(0,5),[e]),nr=b.useMemo(()=>{const $=e.filter(Ye=>{if(Ye.status===Le.ARCHIVED)return!1;const Ct=te.toLowerCase(),Hn=!Ct||Ye.name.toLowerCase().includes(Ct)||Ye.subject.toLowerCase().includes(Ct)||Ye.faculty.toLowerCase().includes(Ct)||Ye.description.toLowerCase().includes(Ct)||Ye.creator_name.toLowerCase().includes(Ct)||Ye.location.toLowerCase().includes(Ct),Vn=!E||Ye.faculty===E,Vi=!A||Ye.subject===A,Sa=!R||Ye.location===R,pr=!P||Ye.status===P,_a=!q||Ye.avg_group_rating!==void 0&&Ye.avg_leader_rating!==void 0&&(Ye.avg_group_rating+Ye.avg_leader_rating)/2>=parseFloat(q);let Kn=!0;if(G){const ql=new Date,ja=new Date(Ye.created_at),Kt=Math.floor((ql.getTime()-ja.getTime())/(1e3*60*60*24));G==="7days"?Kn=Kt<=7:G==="30days"?Kn=Kt<=30:G==="90days"&&(Kn=Kt<=90)}const Js=!ee||Ye.creator_name===ee;return Hn&&Vn&&Vi&&Sa&&pr&&_a&&Kn&&Js}),De=te||E||A||R||P||q||G||ee;return $.sort((Ye,Ct)=>De&&Ct.members_count!==Ye.members_count?Ct.members_count-Ye.members_count:new Date(Ct.created_at).getTime()-new Date(Ye.created_at).getTime())},[e,te,E,A,R,P,q,G,ee]),qn=async($,De,Ye,Ct)=>{try{if(De)await Ae.leaveGroup($),alert("You have left the group.");else if(Ye){alert("Your join request is pending. The leader will review it soon!");return}else{const Hn=await Ae.joinGroup($);Ct===Le.OPEN?alert("Successfully joined the group!"):alert("Join request sent! You will be notified when the leader reviews your request.")}await lt()}catch(Hn){alert(Hn.message||"Action failed.")}},pe=async $=>{const De=e.find(Ye=>Ye.id===$);if(!De)throw new Error("Group not found");await Ae.joinGroup($),De.status===Le.OPEN?alert("Successfully joined the group!"):alert("Join request sent! You will be notified when the leader reviews your request.")},ze=async $=>{await Ae.leaveGroup($),alert("You have left the group.")},Ot=async $=>{await Ae.deleteGroup($),alert("Group deleted successfully.")},ae=$=>{switch($){case Le.OPEN:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-lg",children:[s.jsx(Bu,{size:10})," Open"]});case Le.CLOSED:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-amber-500 uppercase tracking-widest bg-amber-50 px-2 py-1 rounded-lg",children:[s.jsx(Si,{size:10})," Closed"]});case Le.ARCHIVED:return s.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-2 py-1 rounded-lg",children:[s.jsx(Pa,{size:10})," Archived"]});default:return null}},je=async()=>{if(!D.subject||!D.goal){alert("Please fill in the Subject and Goal first!");return}N(!0);const $=await ty.generateGroupDescription(D.subject,D.goal);X(De=>({...De,description:$||""})),N(!1)},Fe=async $=>{$.preventDefault();try{await Ae.createGroup({name:D.subject,...D}),g(!1),lt(),X({subject:"",goal:"",description:"",max_members:5,location:"",faculty:""})}catch(De){alert("Failed to create group: "+De.message)}},ie=()=>{J({}),C(""),k(""),M(""),O(""),z("all"),Y(""),W(""),Z("")},Oe=$=>{xe($),le({name:$.name,subject:$.subject,description:$.description,max_members:$.max_members,location:$.location,faculty:$.faculty})},et=async $=>{if($.preventDefault(),!!ge){Ge(!0);try{await Ae.updateGroup(ge.id,K),xe(null),lt()}catch(De){alert("Failed to update group: "+De.message)}finally{Ge(!1)}}},tt=($,De)=>{$.current&&$.current.scrollBy({left:De==="left"?-400:400,behavior:"smooth"})},pt=[E,A,R,P,te,L!=="all"?"content":"",q,G,ee].filter(Boolean).length,yt=$=>{const De=$.creator_id===ue?.id;return s.jsxs("div",{className:"flex-shrink-0 w-96 bg-white border border-slate-200 rounded-2xl p-6 hover:shadow-lg hover:border-orange-200 transition-all",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Dt,{to:`/profile/${$.creator_id}`,className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm border border-orange-200 cursor-pointer hover:scale-105 transition-transform",children:$.creator_name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("button",{onClick:()=>_e($),className:"block group/title text-left w-full",children:s.jsx("h3",{className:"font-bold text-slate-900 line-clamp-2 group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),s.jsx("p",{className:"text-xs font-semibold text-slate-400",children:$.subject}),s.jsxs("p",{className:"text-[10px] font-semibold text-slate-500",children:["Led by ",$.creator_name]}),$.total_ratings&&$.total_ratings>0&&s.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.jsx(Do,{value:$.avg_group_rating!==void 0&&$.avg_leader_rating!==void 0?($.avg_group_rating+$.avg_leader_rating)/2:$.avg_group_rating||0,readonly:!0,size:"sm"}),s.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:$.avg_group_rating!==void 0&&$.avg_leader_rating!==void 0?`(${(($.avg_group_rating+$.avg_leader_rating)/2).toFixed(1)}  ${$.total_ratings})`:`(${$.total_ratings})`})]})]}),ae($.status)]}),s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4",children:$.description}),s.jsxs("div",{className:"flex items-center justify-between text-xs mb-4",children:[s.jsxs("span",{className:"flex items-center gap-1 text-slate-400 font-semibold",children:[s.jsx(gt,{size:14}),$.members_count,"/",$.max_members]}),s.jsxs("span",{className:"flex items-center gap-1 text-slate-400 font-semibold",children:[s.jsx(Nr,{size:14}),$.location]})]}),De&&s.jsxs("button",{onClick:()=>Oe($),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all bg-orange-50 border-2 border-orange-200 text-orange-600 hover:bg-orange-100",children:[s.jsx(OU,{size:14}),"Edit Group"]}),!De&&s.jsx("button",{onClick:()=>qn($.id,!0,!1,$.status),className:"w-full px-4 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all bg-white border-2 border-red-100 text-red-500 hover:bg-red-50",children:"Leave Group"})]},$.id)};return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:de?"Search Results":"StudyHub"}),s.jsx("p",{className:"text-slate-500 font-medium",children:te?`Showing results for "${te}"`:"Your complete study companion"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[de&&s.jsxs("button",{onClick:()=>{const{searchMode:$,...De}=Object.fromEntries(U.entries());J(De)},className:"flex items-center gap-2 px-5 py-3 rounded-2xl font-bold transition-all bg-slate-100 text-slate-600 hover:bg-slate-200",children:[s.jsx(ct,{size:18}),s.jsx("span",{children:"Exit Search"})]}),s.jsxs("button",{onClick:()=>j(!_),className:`flex items-center gap-2 px-5 py-3 rounded-2xl font-bold transition-all border ${pt>0||_?"bg-orange-50 border-orange-200 text-orange-600 shadow-sm":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[s.jsx(Mb,{size:18}),s.jsx("span",{children:"Filters"}),pt>0&&s.jsx("span",{className:"ml-1 w-5 h-5 bg-orange-500 text-white rounded-full flex items-center justify-center text-[10px] font-black",children:pt})]}),s.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-orange-200 transition-all hover:-translate-y-0.5",children:[s.jsx(Pp,{size:20}),s.jsx("span",{children:"Create Group"})]})]})]}),_&&s.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2rem] p-6 shadow-xl shadow-slate-200/50 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Content Type"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:L,onChange:$=>z($.target.value),children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"groups",children:"Groups Only"}),s.jsx("option",{value:"users",children:"Users Only"})]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:E,onChange:$=>C($.target.value),children:[s.jsx("option",{value:"",children:"All Faculties"}),Be.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:A,onChange:$=>k($.target.value),children:[s.jsx("option",{value:"",children:"All Subjects"}),Qe.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:R,onChange:$=>M($.target.value),children:[s.jsx("option",{value:"",children:"Any Location"}),ft.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Status"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:P,onChange:$=>O($.target.value),children:[s.jsx("option",{value:"",children:"All Statuses"}),s.jsx("option",{value:Le.OPEN,children:"Open"}),s.jsx("option",{value:Le.CLOSED,children:"Closed"}),s.jsx("option",{value:Le.ARCHIVED,children:"Archived"})]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Average Rating"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:q,onChange:$=>Y($.target.value),children:[s.jsx("option",{value:"",children:"All Ratings"}),s.jsx("option",{value:"4",children:"4+ Stars"}),s.jsx("option",{value:"3",children:"3+ Stars"}),s.jsx("option",{value:"2",children:"2+ Stars"}),s.jsx("option",{value:"1",children:"1+ Stars"})]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Created"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:G,onChange:$=>W($.target.value),children:[s.jsx("option",{value:"",children:"All Time"}),s.jsx("option",{value:"7days",children:"Last 7 Days"}),s.jsx("option",{value:"30days",children:"Last 30 Days"}),s.jsx("option",{value:"90days",children:"Last 90 Days"})]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Leader"}),s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:ee,onChange:$=>Z($.target.value),children:[s.jsx("option",{value:"",children:"All Leaders"}),Xt.map($=>s.jsx("option",{value:$,children:$},$))]}),s.jsx(ws,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-2",children:[s.jsxs("button",{onClick:ie,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-orange-500 transition-colors flex items-center gap-1.5",children:[s.jsx(Kj,{size:14}),"Reset All Filters"]}),s.jsxs("button",{onClick:()=>{const $=Object.fromEntries(U.entries());J({...$,searchMode:"full"}),j(!1)},className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest shadow-lg shadow-orange-200 transition-all flex items-center gap-2",children:[s.jsx(Ua,{size:14}),"Search"]})]})]}),f&&s.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-[2rem] flex items-start gap-4 text-amber-800",children:[s.jsx(Gu,{className:"shrink-0 mt-1",size:20}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold",children:"Connection Issue"}),s.jsx("p",{className:"text-sm opacity-80",children:f}),s.jsx("button",{onClick:lt,className:"mt-3 text-xs font-black uppercase tracking-widest underline decoration-2 underline-offset-4",children:"Retry Connection"})]})]}),c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-24 space-y-4",children:[s.jsx(Re,{size:48,className:"animate-spin text-orange-500"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Syncing with AU Servers..."})]}):s.jsxs(s.Fragment,{children:[!de&&s.jsxs(s.Fragment,{children:[Cn.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gt,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Joined Groups"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Groups you're participating in"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>tt(Pe,"left"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:s.jsx(Zv,{size:20,className:"text-slate-600"})}),s.jsx("button",{onClick:()=>tt(Pe,"right"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:s.jsx(Jo,{size:20,className:"text-slate-600"})})]})]}),s.jsx("div",{ref:Pe,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:Cn.map(yt)})]}),fr.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Fu,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Created Groups"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Groups you've organized"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>tt(ve,"left"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:s.jsx(Zv,{size:20,className:"text-slate-600"})}),s.jsx("button",{onClick:()=>tt(ve,"right"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:s.jsx(Jo,{size:20,className:"text-slate-600"})})]})]}),s.jsx("div",{ref:ve,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:fr.map(yt)})]}),n.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dU,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Trending Groups"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Most popular study sessions right now"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map(($,De)=>{const Ye=$.members_count>=$.max_members,Ct=$.status===Le.CLOSED,Hn=$.status===Le.ARCHIVED,Vn=!$.is_member&&!$.has_pending_request&&!Ye&&!Hn;return s.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[s.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/5 rounded-full -mr-12 -mt-12 transition-all group-hover:bg-orange-500/10"}),s.jsxs("div",{className:"flex justify-between items-start mb-4 relative",children:[s.jsxs("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-bold",children:["#",De+1]}),ae($.status)]}),s.jsx("button",{onClick:()=>_e($),className:"block group/title text-left w-full",children:s.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1 group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:$.subject}),s.jsxs("p",{className:"text-xs font-semibold text-slate-500 mb-3",children:["Led by ",$.creator_name]}),$.total_ratings&&$.total_ratings>0&&s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Do,{value:$.avg_group_rating||0,readonly:!0,size:"sm"}),s.jsxs("span",{className:"text-[10px] text-slate-400 font-bold",children:["(",$.total_ratings,")"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(gt,{size:14,className:"text-slate-300"}),s.jsxs("span",{className:"text-xs font-bold text-slate-500",children:[$.members_count," students enrolled"]})]}),s.jsx("button",{onClick:()=>qn($.id,!!$.is_member,!!$.has_pending_request,$.status),disabled:!Vn&&!$.is_member&&!$.has_pending_request,className:`w-full px-4 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${$.is_member?"bg-white border-2 border-red-100 text-red-500 hover:bg-red-50":$.has_pending_request?"bg-amber-50 border-2 border-amber-200 text-amber-600 cursor-default":Hn?"bg-slate-200 text-slate-400 cursor-not-allowed":Ct?"bg-amber-500 text-white hover:bg-amber-600":"bg-orange-500 text-white hover:bg-orange-600"} disabled:opacity-80`,children:$.is_member?"Leave Group":$.has_pending_request?"Request Pending...":Hn?"Hub Archived":Ct?"Request to Join":Ye?"Hub Full":"Join Session"})]},$.id)})})]})]}),s.jsxs("div",{className:"space-y-4","data-section":"all-groups",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xo,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold text-slate-900",children:[de?`Search Results (${nr.length})`:"Recent Groups",A&&!de&&s.jsxs("span",{className:"ml-2 text-sm font-normal text-orange-500",children:["(Filtered by: ",A,")"]})]}),s.jsx("p",{className:"text-sm text-slate-500",children:de?`Groups and users matching "${te}"`:"Recently created study sessions"})]})]}),te&&a.length>0&&(L==="all"||L==="users")&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gt,{className:"text-orange-500",size:24}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Users (",a.length,")"]}),s.jsxs("p",{className:"text-sm text-slate-500",children:['Found users matching "',te,'"']})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map($=>s.jsxs(Dt,{to:`/profile/${$.id}`,className:"bg-white border border-slate-200 rounded-2xl p-6 hover:shadow-lg hover:border-orange-200 transition-all cursor-pointer group",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-black text-xl border border-orange-200/50 group-hover:scale-105 transition-transform",children:$.avatar||$.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-900 truncate group-hover:text-orange-500 transition-colors",children:$.name}),s.jsx("p",{className:"text-xs font-semibold text-slate-400",children:$.major||"Student"})]})]}),$.bio&&s.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-3",children:$.bio}),s.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-400 font-semibold",children:s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Nr,{size:12}),$.location||"Location not set"]})})]},$.id))})]}),(L==="all"||L==="groups")&&s.jsxs("div",{className:"grid gap-6",children:[(de?nr.length===0:tr.length===0)&&!f&&s.jsx("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-[2.5rem] p-16 text-center",children:de?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{size:48,className:"mx-auto mb-4 text-slate-200"}),s.jsx("p",{className:"font-bold text-slate-400 mb-4",children:"No groups match your current criteria."}),s.jsxs("button",{onClick:ie,className:"flex items-center gap-2 mx-auto bg-slate-100 hover:bg-slate-200 text-slate-600 px-6 py-3 rounded-xl font-bold transition-all",children:[s.jsx(Kj,{size:18}),"Reset Search & Filters"]})]}):s.jsxs(s.Fragment,{children:[s.jsx(gt,{size:48,className:"mx-auto mb-4 text-slate-200"}),s.jsx("p",{className:"font-bold text-slate-400",children:"No active sessions right now."}),s.jsx("button",{onClick:()=>g(!0),className:"mt-4 text-orange-500 font-black text-xs uppercase tracking-widest",children:"Start the first one"})]})}),(de?nr:tr).map($=>{const De=$.members_count>=$.max_members,Ye=$.status===Le.CLOSED,Ct=$.status===Le.ARCHIVED,Hn=!$.is_member&&!$.has_pending_request&&!De&&!Ct;return s.jsxs("div",{className:`bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm hover:shadow-xl hover:shadow-slate-100 transition-all group relative overflow-hidden ${Ct?"opacity-75 grayscale-[0.5]":""}`,children:[s.jsxs("div",{className:"flex justify-between items-start mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Dt,{to:`/profile/${$.creator_id}`,className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-black text-xl border border-orange-200/50 cursor-pointer hover:scale-105 transition-transform",children:$.creator_name?$.creator_name[0]:"U"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dt,{to:`/profile/${$.creator_id}`,className:"font-bold text-slate-900 text-lg leading-tight hover:text-orange-500 transition-colors cursor-pointer",children:$.creator_name}),ae($.status)]}),s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em]",children:new Date($.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]}),s.jsx("div",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-xl text-[10px] font-black text-slate-500 uppercase tracking-widest",children:$.subject})]}),s.jsxs("div",{className:"mb-8",children:[s.jsx("button",{onClick:()=>_e($),className:"block group/title inline-block text-left",children:s.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3 tracking-tight group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),s.jsx("p",{className:"text-slate-500 leading-relaxed font-medium line-clamp-2",children:$.description})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 p-6 bg-slate-50/50 rounded-3xl border border-slate-100/50 mb-8",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx(gt,{size:12})," Capacity"]}),s.jsxs("p",{className:`text-sm font-bold ${De?"text-amber-600":"text-slate-700"}`,children:[$.members_count," / ",$.max_members]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[s.jsx(Nr,{size:12})," Primary Hub"]}),s.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:$.location})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:"Faculty"}),s.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:$.faculty})]}),$.total_ratings&&$.total_ratings>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Group Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{value:$.avg_group_rating||0,readonly:!0,size:"sm"}),s.jsxs("span",{className:"text-xs font-bold text-slate-500",children:["(",$.avg_group_rating?.toFixed(1),")"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Leader Rating"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Do,{value:$.avg_leader_rating||0,readonly:!0,size:"sm"}),s.jsxs("span",{className:"text-xs font-bold text-slate-500",children:["(",$.avg_leader_rating?.toFixed(1),")"]})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Total Ratings"}),s.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[$.total_ratings," rating",$.total_ratings!==1?"s":""]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>qn($.id,!!$.is_member,!!$.has_pending_request,$.status),disabled:!Hn&&!$.is_member&&!$.has_pending_request,className:`flex-1 md:flex-none px-10 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${$.is_member?"bg-white border-2 border-red-100 text-red-500 hover:bg-red-50":$.has_pending_request?"bg-amber-50 border-2 border-amber-200 text-amber-600":Ct?"bg-slate-200 text-slate-400":Ye?"bg-amber-500 text-white hover:bg-amber-600 shadow-xl shadow-amber-100":"bg-orange-500 text-white hover:bg-orange-600 shadow-xl shadow-orange-100"} disabled:opacity-80`,children:$.is_member?"Leave Group":$.has_pending_request?"Request Pending...":Ct?"Hub Archived":Ye?"Request to Join":De?"Hub Full":"Join Session"}),s.jsx(Dt,{to:`/groups?group=${$.id}`,className:"px-6 py-4 text-slate-400 hover:text-slate-900 font-black text-xs uppercase tracking-widest transition-colors",children:"Workspace"})]})]},$.id)})]})]})]}),h&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"New Hub"}),s.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Setup your persistent study group"})]}),s.jsx("button",{onClick:()=>g(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("form",{onSubmit:Fe,className:"p-10 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Physics",value:D.subject,onChange:$=>X({...D,subject:$.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Science",value:D.faculty,onChange:$=>X({...D,faculty:$.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Main Goal"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{className:"w-full pl-6 pr-14 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"What are you studying for?",value:D.goal,onChange:$=>X({...D,goal:$.target.value})}),s.jsx("button",{type:"button",onClick:je,disabled:v,className:"absolute right-3 top-2 w-10 h-10 bg-orange-100 text-orange-600 rounded-xl hover:bg-orange-200 transition-all flex items-center justify-center disabled:opacity-50",children:v?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsx(Fu,{size:18})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"About the group"}),s.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",placeholder:"Share details about materials...",value:D.description,onChange:$=>X({...D,description:$.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),s.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:D.max_members,onChange:$=>X({...D,max_members:parseInt($.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Default Meeting Location"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Library",value:D.location,onChange:$=>X({...D,location:$.target.value})})]})]}),s.jsxs("div",{className:"pt-4 flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95",children:"Create Group"})]})]})]})}),ge&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-slate-800 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Edit Group"}),s.jsx("p",{className:"text-slate-300 text-sm font-bold mt-1",children:"Modify your study group details"})]}),s.jsx("button",{onClick:()=>xe(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("form",{onSubmit:et,className:"p-10 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Group Name"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:K.name,onChange:$=>le({...K,name:$.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:K.subject,onChange:$=>le({...K,subject:$.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:K.faculty,onChange:$=>le({...K,faculty:$.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),s.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",value:K.description,onChange:$=>le({...K,description:$.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),s.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:K.max_members,onChange:$=>le({...K,max_members:parseInt($.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:K.location,onChange:$=>le({...K,location:$.target.value})})]})]}),s.jsxs("div",{className:"pt-4 flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>xe(null),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:ye,className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:ye?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:16,className:"animate-spin"})," Saving..."]}):"Save Changes"})]})]})]})}),oe&&s.jsx(V$,{group:oe,currentUser:ue,onClose:()=>_e(null),onJoin:pe,onLeave:ze,onDelete:Ot,onRefresh:lt})]})};var Y$={};let J$,W$;function X$(){return{geminiUrl:J$,vertexUrl:W$}}function Z$(e,t,n,r){var a,l;if(!e?.baseUrl){const c=X$();return t?(a=c.vertexUrl)!==null&&a!==void 0?a:n:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return e.baseUrl}class Li{}function Ne(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(e,t,n){for(let l=0;l<t.length-1;l++){const c=t[l];if(c.endsWith("[]")){const u=c.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let p=0;p<f.length;p++){const h=f[p];y(h,t.slice(l+1),n[p])}else for(const p of f)y(p,t.slice(l+1),n)}return}else if(c.endsWith("[0]")){const u=c.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];y(f[0],t.slice(l+1),n);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function x(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in e){const c=e[l];return Array.isArray(c)?c.map(u=>x(u,t.slice(r+1),n)):n}else return n}else e=e[a]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function Q$(e,t){for(const[n,r]of Object.entries(t)){const a=n.split("."),l=r.split("."),c=new Set;let u=-1;for(let f=0;f<a.length;f++)if(a[f]==="*"){u=f;break}if(u!==-1&&l.length>u)for(let f=u;f<l.length;f++){const p=l[f];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}ny(e,a,l,0,c)}}function ny(e,t,n,r,a){if(r>=t.length||typeof e!="object"||e===null)return;const l=t[r];if(l.endsWith("[]")){const c=l.slice(0,-2),u=e;if(c in u&&Array.isArray(u[c]))for(const f of u[c])ny(f,t,n,r+1,a)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const c=e,u=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),f={};for(const p of u)f[p]=c[p];for(const[p,h]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(p):g.push(v);y(c,g,h)}for(const p of u)delete c[p]}}else{const c=e;l in c&&ny(c[l],t,n,r+1,a)}}function Ib(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function eG(e){const t={},n=x(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=x(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function tG(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response","generateVideoResponse"]);return c!=null&&y(t,["response"],rG(c)),t}function nG(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],aG(c)),t}function rG(e){const t={},n=x(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>iG(c))),y(t,["generatedVideos"],l)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function aG(e){const t={},n=x(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>sG(c))),y(t,["generatedVideos"],l)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function iG(e){const t={},n=x(e,["video"]);return n!=null&&y(t,["video"],fG(n)),t}function sG(e){const t={},n=x(e,["_self"]);return n!=null&&y(t,["video"],pG(n)),t}function lG(e){const t={},n=x(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function oG(e){const t={},n=x(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function cG(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],uG(c)),t}function uG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function CR(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],dG(c)),t}function dG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function fG(e){const t={},n=x(e,["uri"]);n!=null&&y(t,["uri"],n);const r=x(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Ib(r));const a=x(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function pG(e){const t={},n=x(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=x(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Ib(r));const a=x(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}var hE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(hE||(hE={}));var mE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(mE||(mE={}));var gE;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(gE||(gE={}));var ks;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(ks||(ks={}));var xE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xE||(xE={}));var vE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(vE||(vE={}));var yE;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(yE||(yE={}));var bE;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(bE||(bE={}));var wE;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(wE||(wE={}));var NE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(NE||(NE={}));var SE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(SE||(SE={}));var _E;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(_E||(_E={}));var jE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(jE||(jE={}));var EE;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(EE||(EE={}));var CE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(CE||(CE={}));var AE;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(AE||(AE={}));var TE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(TE||(TE={}));var kE;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(kE||(kE={}));var ME;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(ME||(ME={}));var RE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(RE||(RE={}));var PE;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(PE||(PE={}));var Vu;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Vu||(Vu={}));var OE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(OE||(OE={}));var IE;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(IE||(IE={}));var DE;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(DE||(DE={}));var ry;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(ry||(ry={}));var LE;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(LE||(LE={}));var zE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(zE||(zE={}));var ay;(function(e){e.COLLECTION="COLLECTION"})(ay||(ay={}));var UE;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(UE||(UE={}));var $E;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})($E||($E={}));var GE;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(GE||(GE={}));var BE;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(BE||(BE={}));var FE;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(FE||(FE={}));var qE;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qE||(qE={}));var HE;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(HE||(HE={}));var VE;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(VE||(VE={}));var KE;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(KE||(KE={}));var YE;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(YE||(YE={}));var JE;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(JE||(JE={}));var WE;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(WE||(WE={}));var XE;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(XE||(XE={}));var ZE;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(ZE||(ZE={}));var QE;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(QE||(QE={}));var e2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(e2||(e2={}));var t2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(t2||(t2={}));var n2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(n2||(n2={}));var r2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(r2||(r2={}));var a2;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(a2||(a2={}));var i2;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(i2||(i2={}));var s2;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(s2||(s2={}));var l2;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(l2||(l2={}));var o2;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(o2||(o2={}));var c2;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(c2||(c2={}));var u2;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(u2||(u2={}));var d2;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(d2||(d2={}));var Lo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Lo||(Lo={}));class iy{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class vu{get text(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",h=!1;const g=[];for(const v of(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[N,_]of Object.entries(v))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(_!==null||_!==void 0)&&g.push(N);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;h=!0,p+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?p:void 0}get data(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const h=[];for(const g of(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,N]of Object.entries(g))v!=="inlineData"&&(N!==null||N!==void 0)&&h.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(p+=atob(g.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if(p?.length!==0)return p}get executableCode(){var t,n,r,a,l,c,u,f,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(h?.length!==0)return(p=h?.[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,n,r,a,l,c,u,f,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(h?.length!==0)return(p=h?.[0])===null||p===void 0?void 0:p.output}}class f2{}class p2{}class hG{}class mG{}class gG{}class xG{}class h2{}class m2{}class g2{}class vG{}class Dp{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Dp;let a;const l=t;return n?a=nG(l):a=tG(l),Object.assign(r,a),r}}class x2{}class v2{}class y2{}class b2{}class yG{}class bG{}class wG{}class Db{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Db,l=cG(t);return Object.assign(r,l),r}}class NG{}class SG{}class _G{}class jG{}class w2{}class EG{get text(){var t,n,r;let a="",l=!1;const c=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,p]of Object.entries(u))f!=="text"&&f!=="thought"&&p!==null&&c.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,a+=u.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var t,n,r;let a="";const l=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(c))u!=="inlineData"&&f!==null&&l.push(u);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class CG{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Lb,l=CR(t);return Object.assign(r,l),r}}function xt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function AR(e,t){const n=xt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function TR(e){return Array.isArray(e)?e.map(t=>Lp(t)):[Lp(e)]}function Lp(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function kR(e){const t=Lp(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function MR(e){const t=Lp(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function N2(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function RR(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>N2(t)):[N2(e)]}function sy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function S2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function _2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Zn(e){if(e==null)throw new Error("ContentUnion is required");return sy(e)?e:{role:"user",parts:RR(e)}}function zb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Zn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Zn(n)):[Zn(t)]}function ea(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(S2(e)||_2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zn(e)]}const t=[],n=[],r=sy(e[0]);for(const a of e){const l=sy(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(a);else{if(S2(a)||_2(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:RR(n)}),t}function AG(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(ks).includes(n[0].toUpperCase())?n[0].toUpperCase():ks.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(ks).includes(r.toUpperCase())?r.toUpperCase():ks.TYPE_UNSPECIFIED})}}function Fo(e){const t={},n=["items"],r=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&AG(e.type,t);for(const[c,u]of Object.entries(e))if(u!=null)if(c=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(ks).includes(u.toUpperCase())?u.toUpperCase():ks.TYPE_UNSPECIFIED}else if(n.includes(c))t[c]=Fo(u);else if(r.includes(c)){const f=[];for(const p of u){if(p.type=="null"){t.nullable=!0;continue}f.push(Fo(p))}t[c]=f}else if(a.includes(c)){const f={};for(const[p,h]of Object.entries(u))f[p]=Fo(h);t[c]=f}else{if(c==="additionalProperties")continue;t[c]=u}return t}function Ub(e){return Fo(e)}function $b(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Gb(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function oc(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Fo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Fo(t.response));return e}function cc(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function TG(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function zi(e,t){if(typeof t!="string")throw new Error("name must be a string");return TG(e,t,"cachedContents")}function PR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Bs(e){return Ib(e)}function kG(e){return e!=null&&typeof e=="object"&&"name"in e}function MG(e){return e!=null&&typeof e=="object"&&"video"in e}function RG(e){return e!=null&&typeof e=="object"&&"uri"in e}function OR(e){var t;let n;if(kG(e)&&(n=e.name),!(RG(e)&&(n=e.uri,n===void 0))&&!(MG(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function IR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function DR(e){for(const t of["models","tunedModels","publisherModels"])if(PG(e,t))return e[t];return[]}function PG(e,t){return e!==null&&typeof e=="object"&&t in e}function OG(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function IG(e,t={}){const n=[],r=new Set;for(const a of e){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=OG(a,t);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function LR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function DG(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function zR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const f=c.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function uc(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function UR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function LG(e){const t={},n=x(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=x(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>x8(c))),y(t,["inlinedResponses"],l)}const a=x(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["inlinedEmbedContentResponses"],l)}return t}function zG(e){const t={},n=x(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=x(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const a=x(e,["bigqueryDestination","outputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function UG(e){const t={},n=x(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=x(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const a=x(e,["bigqueryUri"]);if(a!=null&&y(t,["bigqueryDestination","outputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Np(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const a=x(e,["metadata","state"]);a!=null&&y(t,["state"],UR(a));const l=x(e,["metadata","createTime"]);l!=null&&y(t,["createTime"],l);const c=x(e,["metadata","endTime"]);c!=null&&y(t,["endTime"],c);const u=x(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const f=x(e,["metadata","model"]);f!=null&&y(t,["model"],f);const p=x(e,["metadata","output"]);return p!=null&&y(t,["dest"],LG(zR(p))),t}function ly(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["displayName"]);r!=null&&y(t,["displayName"],r);const a=x(e,["state"]);a!=null&&y(t,["state"],UR(a));const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["createTime"]);c!=null&&y(t,["createTime"],c);const u=x(e,["startTime"]);u!=null&&y(t,["startTime"],u);const f=x(e,["endTime"]);f!=null&&y(t,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(t,["updateTime"],p);const h=x(e,["model"]);h!=null&&y(t,["model"],h);const g=x(e,["inputConfig"]);g!=null&&y(t,["src"],$G(g));const v=x(e,["outputConfig"]);v!=null&&y(t,["dest"],zG(zR(v)));const N=x(e,["completionStats"]);return N!=null&&y(t,["completionStats"],N),t}function $G(e){const t={},n=x(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=x(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const a=x(e,["bigquerySource","inputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function GG(e,t){const n={};if(x(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(t,["fileName"]);r!=null&&y(n,["fileName"],r);const a=x(t,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>g8(e,c))),y(n,["requests","requests"],l)}return n}function BG(e){const t={},n=x(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=x(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const a=x(e,["bigqueryUri"]);if(a!=null&&y(t,["bigquerySource","inputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function FG(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function qG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function HG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function VG(e){const t={},n=x(e,["content"]);n!=null&&y(t,["content"],n);const r=x(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],KG(r));const a=x(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const l=x(e,["finishReason"]);l!=null&&y(t,["finishReason"],l);const c=x(e,["avgLogprobs"]);c!=null&&y(t,["avgLogprobs"],c);const u=x(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const f=x(e,["index"]);f!=null&&y(t,["index"],f);const p=x(e,["logprobsResult"]);p!=null&&y(t,["logprobsResult"],p);const h=x(e,["safetyRatings"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(N=>N)),y(t,["safetyRatings"],v)}const g=x(e,["urlContextMetadata"]);return g!=null&&y(t,["urlContextMetadata"],g),t}function KG(e){const t={},n=x(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["citations"],r)}return t}function $R(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>_8(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function YG(e,t){const n={},r=x(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),x(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function JG(e,t){const n={},r=x(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const a=x(e,["dest"]);return t!==void 0&&a!=null&&y(t,["outputConfig"],UG(DG(a))),n}function j2(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["_url","model"],xt(e,r));const a=x(t,["src"]);a!=null&&y(n,["batch","inputConfig"],GG(e,LR(e,a)));const l=x(t,["config"]);return l!=null&&YG(l,n),n}function WG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],xt(e,r));const a=x(t,["src"]);a!=null&&y(n,["inputConfig"],BG(LR(e,a)));const l=x(t,["config"]);return l!=null&&JG(l,n),n}function XG(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function ZG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["_url","model"],xt(e,r));const a=x(t,["src"]);a!=null&&y(n,["batch","inputConfig"],i8(e,a));const l=x(t,["config"]);return l!=null&&XG(l,n),n}function QG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function e8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function t8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);return l!=null&&y(t,["error"],l),t}function n8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);return l!=null&&y(t,["error"],l),t}function r8(e,t){const n={},r=x(t,["contents"]);if(r!=null){let l=zb(e,r);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["requests[]","request","content"],l)}const a=x(t,["config"]);return a!=null&&(y(n,["_self"],a8(a,n)),Q$(n,{"requests[].*":"requests[].request.*"})),n}function a8(e,t){const n={},r=x(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const a=x(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=x(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function i8(e,t){const n={},r=x(t,["fileName"]);r!=null&&y(n,["file_name"],r);const a=x(t,["inlinedRequests"]);return a!=null&&y(n,["requests"],r8(e,a)),n}function s8(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function l8(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function o8(e){const t={},n=x(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=x(e,["mode"]);if(r!=null&&y(t,["mode"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function c8(e,t,n){const r={},a=x(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],$R(Zn(a)));const l=x(t,["temperature"]);l!=null&&y(r,["temperature"],l);const c=x(t,["topP"]);c!=null&&y(r,["topP"],c);const u=x(t,["topK"]);u!=null&&y(r,["topK"],u);const f=x(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const p=x(t,["maxOutputTokens"]);p!=null&&y(r,["maxOutputTokens"],p);const h=x(t,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const g=x(t,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const v=x(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const N=x(t,["presencePenalty"]);N!=null&&y(r,["presencePenalty"],N);const _=x(t,["frequencyPenalty"]);_!=null&&y(r,["frequencyPenalty"],_);const j=x(t,["seed"]);j!=null&&y(r,["seed"],j);const E=x(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=x(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],Ub(C));const A=x(t,["responseJsonSchema"]);if(A!=null&&y(r,["responseJsonSchema"],A),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const k=x(t,["safetySettings"]);if(n!==void 0&&k!=null){let W=k;Array.isArray(W)&&(W=W.map(ee=>j8(ee))),y(n,["safetySettings"],W)}const R=x(t,["tools"]);if(n!==void 0&&R!=null){let W=cc(R);Array.isArray(W)&&(W=W.map(ee=>C8(oc(ee)))),y(n,["tools"],W)}const M=x(t,["toolConfig"]);if(n!==void 0&&M!=null&&y(n,["toolConfig"],E8(M)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(t,["cachedContent"]);n!==void 0&&P!=null&&y(n,["cachedContent"],zi(e,P));const O=x(t,["responseModalities"]);O!=null&&y(r,["responseModalities"],O);const L=x(t,["mediaResolution"]);L!=null&&y(r,["mediaResolution"],L);const z=x(t,["speechConfig"]);if(z!=null&&y(r,["speechConfig"],$b(z)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=x(t,["thinkingConfig"]);q!=null&&y(r,["thinkingConfig"],q);const Y=x(t,["imageConfig"]);Y!=null&&y(r,["imageConfig"],m8(Y));const G=x(t,["enableEnhancedCivicAnswers"]);if(G!=null&&y(r,["enableEnhancedCivicAnswers"],G),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function u8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>VG(p))),y(t,["candidates"],f)}const a=x(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=x(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const c=x(e,["responseId"]);c!=null&&y(t,["responseId"],c);const u=x(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function d8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function f8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],uc(e,r)),n}function p8(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function h8(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function m8(e){const t={},n=x(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=x(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function g8(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["request","model"],xt(e,r));const a=x(t,["contents"]);if(a!=null){let u=ea(a);Array.isArray(u)&&(u=u.map(f=>$R(f))),y(n,["request","contents"],u)}const l=x(t,["metadata"]);l!=null&&y(n,["metadata"],l);const c=x(t,["config"]);return c!=null&&y(n,["request","generationConfig"],c8(e,c,x(n,["request"],{}))),n}function x8(e){const t={},n=x(e,["response"]);n!=null&&y(t,["response"],u8(n));const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["error"]);return a!=null&&y(t,["error"],a),t}function v8(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);if(t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),x(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function y8(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=x(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),n}function b8(e){const t={},n=x(e,["config"]);return n!=null&&v8(n,t),t}function w8(e){const t={},n=x(e,["config"]);return n!=null&&y8(n,t),t}function N8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>Np(c))),y(t,["batchJobs"],l)}return t}function S8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>ly(c))),y(t,["batchJobs"],l)}return t}function _8(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],s8(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],l8(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],FG(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const h=x(e,["thought"]);h!=null&&y(t,["thought"],h);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function j8(e){const t={},n=x(e,["category"]);if(n!=null&&y(t,["category"],n),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function E8(e){const t={},n=x(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=x(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],o8(r)),t}function C8(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),y(t,["functionDeclarations"],h)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],p8(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],h8(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}var Ti;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Ti||(Ti={}));class Gl{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class A8 extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gl(Ti.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=j2(this.apiClient,t),r=n._url,a=Ne("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,p=[];for(const h of f){const g=Object.assign({},h);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const N=g.request;N.systemInstruction=v,g.request=N}p.push(g)}return u.requests=p,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(t),c=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=WG(this.apiClient,t);return u=Ne("batchPredictionJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>ly(h))}else{const p=j2(this.apiClient,t);return u=Ne("{model}:batchGenerateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>Np(h))}}async createEmbeddingsInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZG(this.apiClient,t);return l=Ne("{model}:asyncBatchEmbedContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>Np(f))}}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=f8(this.apiClient,t);return u=Ne("batchPredictionJobs/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>ly(h))}else{const p=d8(this.apiClient,t);return u=Ne("batches/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>Np(h))}}async cancel(t){var n,r,a,l;let c="",u={};if(this.apiClient.isVertexAI()){const f=HG(this.apiClient,t);c=Ne("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=qG(this.apiClient,t);c=Ne("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=w8(t);return u=Ne("batchPredictionJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=S8(h),v=new w2;return Object.assign(v,g),v})}else{const p=b8(t);return u=Ne("batches",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=N8(h),v=new w2;return Object.assign(v,g),v})}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=e8(this.apiClient,t);return u=Ne("batchPredictionJobs/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>n8(h))}else{const p=QG(this.apiClient,t);return u=Ne("batches/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>t8(h))}}}function T8(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function E2(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>Z8(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function k8(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=x(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const c=x(e,["contents"]);if(t!==void 0&&c!=null){let h=ea(c);Array.isArray(h)&&(h=h.map(g=>E2(g))),y(t,["contents"],h)}const u=x(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],E2(Zn(u)));const f=x(e,["tools"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>eB(g))),y(t,["tools"],h)}const p=x(e,["toolConfig"]);if(t!==void 0&&p!=null&&y(t,["toolConfig"],Q8(p)),x(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function M8(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=x(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const c=x(e,["contents"]);if(t!==void 0&&c!=null){let g=ea(c);Array.isArray(g)&&(g=g.map(v=>v)),y(t,["contents"],g)}const u=x(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Zn(u));const f=x(e,["tools"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>tB(v))),y(t,["tools"],g)}const p=x(e,["toolConfig"]);t!==void 0&&p!=null&&y(t,["toolConfig"],p);const h=x(e,["kmsKeyName"]);return t!==void 0&&h!=null&&y(t,["encryption_spec","kmsKeyName"],h),n}function R8(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],AR(e,r));const a=x(t,["config"]);return a!=null&&k8(a,n),n}function P8(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],AR(e,r));const a=x(t,["config"]);return a!=null&&M8(a,n),n}function O8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],zi(e,r)),n}function I8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],zi(e,r)),n}function D8(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function L8(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function z8(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function U8(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $8(e){const t={},n=x(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=x(e,["mode"]);if(r!=null&&y(t,["mode"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function G8(e){const t={},n=x(e,["description"]);n!=null&&y(t,["description"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=x(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const c=x(e,["response"]);c!=null&&y(t,["response"],c);const u=x(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function B8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],zi(e,r)),n}function F8(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],zi(e,r)),n}function q8(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function H8(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function V8(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function K8(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function Y8(e){const t={},n=x(e,["config"]);return n!=null&&V8(n,t),t}function J8(e){const t={},n=x(e,["config"]);return n!=null&&K8(n,t),t}function W8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["cachedContents"],l)}return t}function X8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["cachedContents"],l)}return t}function Z8(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],z8(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],U8(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],T8(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const h=x(e,["thought"]);h!=null&&y(t,["thought"],h);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function Q8(e){const t={},n=x(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=x(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],$8(r)),t}function eB(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),y(t,["functionDeclarations"],h)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],q8(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],H8(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function tB(e){const t={},n=x(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=x(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(e,["codeExecution"]);a!=null&&y(t,["codeExecution"],a);const l=x(e,["enterpriseWebSearch"]);l!=null&&y(t,["enterpriseWebSearch"],l);const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>G8(v))),y(t,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const p=x(e,["googleSearchRetrieval"]);p!=null&&y(t,["googleSearchRetrieval"],p);const h=x(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function nB(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function rB(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function aB(e,t){const n={},r=x(t,["name"]);r!=null&&y(n,["_url","name"],zi(e,r));const a=x(t,["config"]);return a!=null&&nB(a,n),n}function iB(e,t){const n={},r=x(t,["name"]);r!=null&&y(n,["_url","name"],zi(e,r));const a=x(t,["config"]);return a!=null&&rB(a,n),n}class sB extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gl(Ti.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=P8(this.apiClient,t);return u=Ne("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>h)}else{const p=R8(this.apiClient,t);return u=Ne("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>h)}}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=F8(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>h)}else{const p=B8(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>h)}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=I8(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=L8(h),v=new y2;return Object.assign(v,g),v})}else{const p=O8(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=D8(h),v=new y2;return Object.assign(v,g),v})}}async update(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=iB(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>h)}else{const p=aB(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>h)}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=J8(t);return u=Ne("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=X8(h),v=new b2;return Object.assign(v,g),v})}else{const p=Y8(t);return u=Ne("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=W8(h),v=new b2;return Object.assign(v,g),v})}}}function zp(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function C2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(e){return this instanceof qe?(this.v=e,this):new qe(e)}function pa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(N){return function(_){return Promise.resolve(_).then(N,g)}}function u(N,_){r[N]&&(a[N]=function(j){return new Promise(function(E,C){l.push([N,j,E,C])>1||f(N,j)})},_&&(a[N]=_(a[N])))}function f(N,_){try{p(r[N](_))}catch(j){v(l[0][3],j)}}function p(N){N.value instanceof qe?Promise.resolve(N.value.v).then(h,g):v(l[0][2],N)}function h(N){f("next",N)}function g(N){f("throw",N)}function v(N,_){N(_),l.shift(),l.length&&f(l[0][0],l[0][1])}}function ha(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof C2=="function"?C2(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(c){return new Promise(function(u,f){c=e[l](c),a(u,f,c.done,c.value)})}}function a(l,c,u,f){Promise.resolve(f).then(function(p){l({value:p,done:u})},c)}}function lB(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:GR(n)}function GR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function oB(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function A2(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const a=[];let l=!0;for(;r<n&&e[r].role==="model";)a.push(e[r]),l&&!GR(e[r])&&(l=!1),r++;l?t.push(...a):t.pop()}return t}class cB{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new uB(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class uB{constructor(t,n,r,a={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),oB(l)}async sendMessage(t){var n;await this.sendPromise;const r=Zn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,u;const f=await a,p=(c=(l=f.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,h=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];h!=null&&(v=(u=h.slice(g))!==null&&u!==void 0?u:[]);const N=p?[p]:[];this.recordHistory(r,N,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const r=Zn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(t=!1){const n=t?A2(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return pa(this,arguments,function*(){var a,l,c,u,f,p;const h=[];try{for(var g=!0,v=ha(t),N;N=yield qe(v.next()),a=N.done,!a;g=!0){u=N.value,g=!1;const _=u;if(lB(_)){const j=(p=(f=_.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content;j!==void 0&&h.push(j)}yield yield qe(_)}}catch(_){l={error:_}}finally{try{!g&&!a&&(c=v.return)&&(yield qe(c.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,h)})}recordHistory(t,n,r){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...A2(r)):this.history.push(t),this.history.push(...a)}}class Ku extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ku.prototype)}}function dB(e){const t={},n=x(e,["file"]);return n!=null&&y(t,["file"],n),t}function fB(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function pB(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","file"],OR(n)),t}function hB(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function mB(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","file"],OR(n)),t}function gB(e){const t={},n=x(e,["uris"]);return n!=null&&y(t,["uris"],n),t}function xB(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function vB(e){const t={},n=x(e,["config"]);return n!=null&&xB(n,t),t}function yB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["files"],l)}return t}function bB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}class wB extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gl(Ti.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vB(t);return l=Ne("files",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{const p=yB(f),h=new NG;return Object.assign(h,p),h})}}async createInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dB(t);return l=Ne("upload/v1beta/files",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=fB(f),h=new SG;return Object.assign(h,p),h})}}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mB(t);return l=Ne("files/{file}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=pB(t);return l=Ne("files/{file}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{const p=hB(f),h=new _G;return Object.assign(h,p),h})}}async registerFilesInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gB(t);return l=Ne("files:register",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=bB(f),h=new jG;return Object.assign(h,p),h})}}}function Sp(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function NB(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>zB(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function SB(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function _B(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jB(e){const t={},n=x(e,["description"]);n!=null&&y(t,["description"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=x(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const c=x(e,["response"]);c!=null&&y(t,["response"],c);const u=x(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function EB(e){const t={},n=x(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=x(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const a=x(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const l=x(e,["candidateCount"]);l!=null&&y(t,["candidateCount"],l);const c=x(e,["enableAffectiveDialog"]);c!=null&&y(t,["enableAffectiveDialog"],c);const u=x(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const f=x(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const p=x(e,["maxOutputTokens"]);p!=null&&y(t,["maxOutputTokens"],p);const h=x(e,["mediaResolution"]);h!=null&&y(t,["mediaResolution"],h);const g=x(e,["presencePenalty"]);g!=null&&y(t,["presencePenalty"],g);const v=x(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const N=x(e,["responseMimeType"]);N!=null&&y(t,["responseMimeType"],N);const _=x(e,["responseModalities"]);_!=null&&y(t,["responseModalities"],_);const j=x(e,["responseSchema"]);j!=null&&y(t,["responseSchema"],j);const E=x(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=x(e,["seed"]);C!=null&&y(t,["seed"],C);const A=x(e,["speechConfig"]);A!=null&&y(t,["speechConfig"],A);const k=x(e,["stopSequences"]);k!=null&&y(t,["stopSequences"],k);const R=x(e,["temperature"]);R!=null&&y(t,["temperature"],R);const M=x(e,["thinkingConfig"]);M!=null&&y(t,["thinkingConfig"],M);const P=x(e,["topK"]);P!=null&&y(t,["topK"],P);const O=x(e,["topP"]);if(O!=null&&y(t,["topP"],O),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function CB(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function AB(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function TB(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const h=x(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&y(t,["setup","systemInstruction"],NB(Zn(_)));const j=x(e,["tools"]);if(t!==void 0&&j!=null){let P=cc(j);Array.isArray(P)&&(P=P.map(O=>$B(oc(O)))),y(t,["setup","tools"],P)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],UB(E));const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const k=x(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&y(t,["setup","realtimeInputConfig"],k);const R=x(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=x(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kB(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],EB(r));const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const h=x(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&y(t,["setup","systemInstruction"],Zn(_));const j=x(e,["tools"]);if(t!==void 0&&j!=null){let O=cc(j);Array.isArray(O)&&(O=O.map(L=>GB(oc(L)))),y(t,["setup","tools"],O)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const k=x(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&y(t,["setup","realtimeInputConfig"],k);const R=x(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=x(e,["proactivity"]);t!==void 0&&M!=null&&y(t,["setup","proactivity"],M);const P=x(e,["explicitVadSignal"]);return t!==void 0&&P!=null&&y(t,["setup","explicitVadSignal"],P),n}function MB(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],xt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],TB(a,n)),n}function RB(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],xt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],kB(a,n)),n}function PB(e){const t={},n=x(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function OB(e){const t={},n=x(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["weightedPrompts"],r)}return t}function IB(e){const t={},n=x(e,["media"]);if(n!=null){let p=TR(n);Array.isArray(p)&&(p=p.map(h=>Sp(h))),y(t,["mediaChunks"],p)}const r=x(e,["audio"]);r!=null&&y(t,["audio"],Sp(MR(r)));const a=x(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=x(e,["video"]);l!=null&&y(t,["video"],Sp(kR(l)));const c=x(e,["text"]);c!=null&&y(t,["text"],c);const u=x(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=x(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function DB(e){const t={},n=x(e,["media"]);if(n!=null){let p=TR(n);Array.isArray(p)&&(p=p.map(h=>h)),y(t,["mediaChunks"],p)}const r=x(e,["audio"]);r!=null&&y(t,["audio"],MR(r));const a=x(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=x(e,["video"]);l!=null&&y(t,["video"],kR(l));const c=x(e,["text"]);c!=null&&y(t,["text"],c);const u=x(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=x(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function LB(e){const t={},n=x(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=x(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const a=x(e,["toolCall"]);a!=null&&y(t,["toolCall"],a);const l=x(e,["toolCallCancellation"]);l!=null&&y(t,["toolCallCancellation"],l);const c=x(e,["usageMetadata"]);c!=null&&y(t,["usageMetadata"],BB(c));const u=x(e,["goAway"]);u!=null&&y(t,["goAway"],u);const f=x(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const p=x(e,["voiceActivityDetectionSignal"]);p!=null&&y(t,["voiceActivityDetectionSignal"],p);const h=x(e,["voiceActivity"]);return h!=null&&y(t,["voiceActivity"],FB(h)),t}function zB(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],SB(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],_B(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],Sp(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const h=x(e,["thought"]);h!=null&&y(t,["thought"],h);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function UB(e){const t={},n=x(e,["handle"]);if(n!=null&&y(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function $B(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),y(t,["functionDeclarations"],h)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],CB(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],AB(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function GB(e){const t={},n=x(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=x(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(e,["codeExecution"]);a!=null&&y(t,["codeExecution"],a);const l=x(e,["enterpriseWebSearch"]);l!=null&&y(t,["enterpriseWebSearch"],l);const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>jB(v))),y(t,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const p=x(e,["googleSearchRetrieval"]);p!=null&&y(t,["googleSearchRetrieval"],p);const h=x(e,["urlContext"]);return h!=null&&y(t,["urlContext"],h),t}function BB(e){const t={},n=x(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=x(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const a=x(e,["candidatesTokenCount"]);a!=null&&y(t,["responseTokenCount"],a);const l=x(e,["toolUsePromptTokenCount"]);l!=null&&y(t,["toolUsePromptTokenCount"],l);const c=x(e,["thoughtsTokenCount"]);c!=null&&y(t,["thoughtsTokenCount"],c);const u=x(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const f=x(e,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(_=>_)),y(t,["promptTokensDetails"],N)}const p=x(e,["cacheTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(_=>_)),y(t,["cacheTokensDetails"],N)}const h=x(e,["candidatesTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(_=>_)),y(t,["responseTokensDetails"],N)}const g=x(e,["toolUsePromptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(_=>_)),y(t,["toolUsePromptTokensDetails"],N)}const v=x(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function FB(e){const t={},n=x(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}function qB(e,t){const n={},r=x(e,["data"]);if(r!=null&&y(n,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function HB(e,t){const n={},r=x(e,["content"]);r!=null&&y(n,["content"],r);const a=x(e,["citationMetadata"]);a!=null&&y(n,["citationMetadata"],VB(a));const l=x(e,["tokenCount"]);l!=null&&y(n,["tokenCount"],l);const c=x(e,["finishReason"]);c!=null&&y(n,["finishReason"],c);const u=x(e,["avgLogprobs"]);u!=null&&y(n,["avgLogprobs"],u);const f=x(e,["groundingMetadata"]);f!=null&&y(n,["groundingMetadata"],f);const p=x(e,["index"]);p!=null&&y(n,["index"],p);const h=x(e,["logprobsResult"]);h!=null&&y(n,["logprobsResult"],h);const g=x(e,["safetyRatings"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(_=>_)),y(n,["safetyRatings"],N)}const v=x(e,["urlContextMetadata"]);return v!=null&&y(n,["urlContextMetadata"],v),n}function VB(e,t){const n={},r=x(e,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["citations"],a)}return n}function KB(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let c=ea(l);Array.isArray(c)&&(c=c.map(u=>u)),y(r,["contents"],c)}return r}function YB(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["tokensInfo"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(n,["tokensInfo"],l)}return n}function JB(e,t){const n={},r=x(e,["values"]);r!=null&&y(n,["values"],r);const a=x(e,["statistics"]);return a!=null&&y(n,["statistics"],WB(a)),n}function WB(e,t){const n={},r=x(e,["truncated"]);r!=null&&y(n,["truncated"],r);const a=x(e,["token_count"]);return a!=null&&y(n,["tokenCount"],a),n}function Fh(e,t){const n={},r=x(e,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>iq(c))),y(n,["parts"],l)}const a=x(e,["role"]);return a!=null&&y(n,["role"],a),n}function XB(e,t){const n={},r=x(e,["controlType"]);r!=null&&y(n,["controlType"],r);const a=x(e,["enableControlImageComputation"]);return a!=null&&y(n,["computeControl"],a),n}function ZB(e,t){const n={};if(x(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function QB(e,t,n){const r={},a=x(e,["systemInstruction"]);t!==void 0&&a!=null&&y(t,["systemInstruction"],Zn(a));const l=x(e,["tools"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>HR(f))),y(t,["tools"],u)}const c=x(e,["generationConfig"]);return t!==void 0&&c!=null&&y(t,["generationConfig"],qF(c)),r}function eF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let u=ea(l);Array.isArray(u)&&(u=u.map(f=>Fh(f))),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&ZB(c),r}function tF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let u=ea(l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&QB(c,r),r}function nF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["totalTokens"]);a!=null&&y(n,["totalTokens"],a);const l=x(e,["cachedContentTokenCount"]);return l!=null&&y(n,["cachedContentTokenCount"],l),n}function rF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["totalTokens"]);return a!=null&&y(n,["totalTokens"],a),n}function aF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],xt(e,a)),r}function iF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],xt(e,a)),r}function sF(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function lF(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function oF(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["negativePrompt"]);t!==void 0&&l!=null&&y(t,["parameters","negativePrompt"],l);const c=x(e,["numberOfImages"]);t!==void 0&&c!=null&&y(t,["parameters","sampleCount"],c);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=x(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const p=x(e,["seed"]);t!==void 0&&p!=null&&y(t,["parameters","seed"],p);const h=x(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const N=x(e,["includeRaiReason"]);t!==void 0&&N!=null&&y(t,["parameters","includeRaiReason"],N);const _=x(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const j=x(e,["outputMimeType"]);t!==void 0&&j!=null&&y(t,["parameters","outputOptions","mimeType"],j);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const C=x(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const A=x(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=x(e,["editMode"]);t!==void 0&&k!=null&&y(t,["parameters","editMode"],k);const R=x(e,["baseSteps"]);return t!==void 0&&R!=null&&y(t,["parameters","editConfig","baseSteps"],R),r}function cF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["referenceImages"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>dq(p))),y(r,["instances[0]","referenceImages"],f)}const u=x(t,["config"]);return u!=null&&oF(u,r),r}function uF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>qh(c))),y(n,["generatedImages"],l)}return n}function dF(e,t,n){const r={},a=x(e,["taskType"]);t!==void 0&&a!=null&&y(t,["requests[]","taskType"],a);const l=x(e,["title"]);t!==void 0&&l!=null&&y(t,["requests[]","title"],l);const c=x(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&y(t,["requests[]","outputDimensionality"],c),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function fF(e,t,n){const r={},a=x(e,["taskType"]);t!==void 0&&a!=null&&y(t,["instances[]","task_type"],a);const l=x(e,["title"]);t!==void 0&&l!=null&&y(t,["instances[]","title"],l);const c=x(e,["outputDimensionality"]);t!==void 0&&c!=null&&y(t,["parameters","outputDimensionality"],c);const u=x(e,["mimeType"]);t!==void 0&&u!=null&&y(t,["instances[]","mimeType"],u);const f=x(e,["autoTruncate"]);return t!==void 0&&f!=null&&y(t,["parameters","autoTruncate"],f),r}function pF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let f=zb(e,l);Array.isArray(f)&&(f=f.map(p=>p)),y(r,["requests[]","content"],f)}const c=x(t,["config"]);c!=null&&dF(c,r);const u=x(t,["model"]);return u!==void 0&&y(r,["requests[]","model"],xt(e,u)),r}function hF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let u=zb(e,l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["instances[]","content"],u)}const c=x(t,["config"]);return c!=null&&fF(c,r),r}function mF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>u)),y(n,["embeddings"],c)}const l=x(e,["metadata"]);return l!=null&&y(n,["metadata"],l),n}function gF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>JB(u))),y(n,["embeddings"],c)}const l=x(e,["metadata"]);return l!=null&&y(n,["metadata"],l),n}function xF(e,t){const n={},r=x(e,["endpoint"]);r!=null&&y(n,["name"],r);const a=x(e,["deployedModelId"]);return a!=null&&y(n,["deployedModelId"],a),n}function vF(e,t){const n={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&y(n,["fileUri"],r);const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function yF(e,t){const n={},r=x(e,["id"]);r!=null&&y(n,["id"],r);const a=x(e,["args"]);a!=null&&y(n,["args"],a);const l=x(e,["name"]);if(l!=null&&y(n,["name"],l),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function bF(e,t){const n={},r=x(e,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);const a=x(e,["mode"]);if(a!=null&&y(n,["mode"],a),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function wF(e,t){const n={},r=x(e,["description"]);r!=null&&y(n,["description"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["parameters"]);l!=null&&y(n,["parameters"],l);const c=x(e,["parametersJsonSchema"]);c!=null&&y(n,["parametersJsonSchema"],c);const u=x(e,["response"]);u!=null&&y(n,["response"],u);const f=x(e,["responseJsonSchema"]);if(f!=null&&y(n,["responseJsonSchema"],f),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function NF(e,t,n,r){const a={},l=x(t,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],Fh(Zn(l)));const c=x(t,["temperature"]);c!=null&&y(a,["temperature"],c);const u=x(t,["topP"]);u!=null&&y(a,["topP"],u);const f=x(t,["topK"]);f!=null&&y(a,["topK"],f);const p=x(t,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const h=x(t,["maxOutputTokens"]);h!=null&&y(a,["maxOutputTokens"],h);const g=x(t,["stopSequences"]);g!=null&&y(a,["stopSequences"],g);const v=x(t,["responseLogprobs"]);v!=null&&y(a,["responseLogprobs"],v);const N=x(t,["logprobs"]);N!=null&&y(a,["logprobs"],N);const _=x(t,["presencePenalty"]);_!=null&&y(a,["presencePenalty"],_);const j=x(t,["frequencyPenalty"]);j!=null&&y(a,["frequencyPenalty"],j);const E=x(t,["seed"]);E!=null&&y(a,["seed"],E);const C=x(t,["responseMimeType"]);C!=null&&y(a,["responseMimeType"],C);const A=x(t,["responseSchema"]);A!=null&&y(a,["responseSchema"],Ub(A));const k=x(t,["responseJsonSchema"]);if(k!=null&&y(a,["responseJsonSchema"],k),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(t,["safetySettings"]);if(n!==void 0&&R!=null){let ee=R;Array.isArray(ee)&&(ee=ee.map(Z=>fq(Z))),y(n,["safetySettings"],ee)}const M=x(t,["tools"]);if(n!==void 0&&M!=null){let ee=cc(M);Array.isArray(ee)&&(ee=ee.map(Z=>yq(oc(Z)))),y(n,["tools"],ee)}const P=x(t,["toolConfig"]);if(n!==void 0&&P!=null&&y(n,["toolConfig"],vq(P)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const O=x(t,["cachedContent"]);n!==void 0&&O!=null&&y(n,["cachedContent"],zi(e,O));const L=x(t,["responseModalities"]);L!=null&&y(a,["responseModalities"],L);const z=x(t,["mediaResolution"]);z!=null&&y(a,["mediaResolution"],z);const q=x(t,["speechConfig"]);if(q!=null&&y(a,["speechConfig"],$b(q)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Y=x(t,["thinkingConfig"]);Y!=null&&y(a,["thinkingConfig"],Y);const G=x(t,["imageConfig"]);G!=null&&y(a,["imageConfig"],JF(G));const W=x(t,["enableEnhancedCivicAnswers"]);if(W!=null&&y(a,["enableEnhancedCivicAnswers"],W),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function SF(e,t,n,r){const a={},l=x(t,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],Zn(l));const c=x(t,["temperature"]);c!=null&&y(a,["temperature"],c);const u=x(t,["topP"]);u!=null&&y(a,["topP"],u);const f=x(t,["topK"]);f!=null&&y(a,["topK"],f);const p=x(t,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const h=x(t,["maxOutputTokens"]);h!=null&&y(a,["maxOutputTokens"],h);const g=x(t,["stopSequences"]);g!=null&&y(a,["stopSequences"],g);const v=x(t,["responseLogprobs"]);v!=null&&y(a,["responseLogprobs"],v);const N=x(t,["logprobs"]);N!=null&&y(a,["logprobs"],N);const _=x(t,["presencePenalty"]);_!=null&&y(a,["presencePenalty"],_);const j=x(t,["frequencyPenalty"]);j!=null&&y(a,["frequencyPenalty"],j);const E=x(t,["seed"]);E!=null&&y(a,["seed"],E);const C=x(t,["responseMimeType"]);C!=null&&y(a,["responseMimeType"],C);const A=x(t,["responseSchema"]);A!=null&&y(a,["responseSchema"],Ub(A));const k=x(t,["responseJsonSchema"]);k!=null&&y(a,["responseJsonSchema"],k);const R=x(t,["routingConfig"]);R!=null&&y(a,["routingConfig"],R);const M=x(t,["modelSelectionConfig"]);M!=null&&y(a,["modelConfig"],M);const P=x(t,["safetySettings"]);if(n!==void 0&&P!=null){let te=P;Array.isArray(te)&&(te=te.map(de=>de)),y(n,["safetySettings"],te)}const O=x(t,["tools"]);if(n!==void 0&&O!=null){let te=cc(O);Array.isArray(te)&&(te=te.map(de=>HR(oc(de)))),y(n,["tools"],te)}const L=x(t,["toolConfig"]);n!==void 0&&L!=null&&y(n,["toolConfig"],L);const z=x(t,["labels"]);n!==void 0&&z!=null&&y(n,["labels"],z);const q=x(t,["cachedContent"]);n!==void 0&&q!=null&&y(n,["cachedContent"],zi(e,q));const Y=x(t,["responseModalities"]);Y!=null&&y(a,["responseModalities"],Y);const G=x(t,["mediaResolution"]);G!=null&&y(a,["mediaResolution"],G);const W=x(t,["speechConfig"]);W!=null&&y(a,["speechConfig"],$b(W));const ee=x(t,["audioTimestamp"]);ee!=null&&y(a,["audioTimestamp"],ee);const Z=x(t,["thinkingConfig"]);Z!=null&&y(a,["thinkingConfig"],Z);const U=x(t,["imageConfig"]);if(U!=null&&y(a,["imageConfig"],WF(U)),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const J=x(t,["modelArmorConfig"]);return n!==void 0&&J!=null&&y(n,["modelArmorConfig"],J),a}function T2(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let u=ea(l);Array.isArray(u)&&(u=u.map(f=>Fh(f))),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&y(r,["generationConfig"],NF(e,c,r)),r}function k2(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["contents"]);if(l!=null){let u=ea(l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&y(r,["generationConfig"],SF(e,c,r)),r}function M2(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(h=>HB(h))),y(n,["candidates"],p)}const l=x(e,["modelVersion"]);l!=null&&y(n,["modelVersion"],l);const c=x(e,["promptFeedback"]);c!=null&&y(n,["promptFeedback"],c);const u=x(e,["responseId"]);u!=null&&y(n,["responseId"],u);const f=x(e,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function R2(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>g)),y(n,["candidates"],h)}const l=x(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=x(e,["modelVersion"]);c!=null&&y(n,["modelVersion"],c);const u=x(e,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const f=x(e,["responseId"]);f!=null&&y(n,["responseId"],f);const p=x(e,["usageMetadata"]);return p!=null&&y(n,["usageMetadata"],p),n}function _F(e,t,n){const r={};if(x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=x(e,["guidanceScale"]);if(t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const f=x(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const p=x(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&y(t,["parameters","includeSafetyAttributes"],p);const h=x(e,["includeRaiReason"]);t!==void 0&&h!=null&&y(t,["parameters","includeRaiReason"],h);const g=x(e,["language"]);t!==void 0&&g!=null&&y(t,["parameters","language"],g);const v=x(e,["outputMimeType"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","mimeType"],v);const N=x(e,["outputCompressionQuality"]);if(t!==void 0&&N!=null&&y(t,["parameters","outputOptions","compressionQuality"],N),x(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _=x(e,["imageSize"]);if(t!==void 0&&_!=null&&y(t,["parameters","sampleImageSize"],_),x(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function jF(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["negativePrompt"]);t!==void 0&&l!=null&&y(t,["parameters","negativePrompt"],l);const c=x(e,["numberOfImages"]);t!==void 0&&c!=null&&y(t,["parameters","sampleCount"],c);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=x(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const p=x(e,["seed"]);t!==void 0&&p!=null&&y(t,["parameters","seed"],p);const h=x(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&y(t,["parameters","safetySetting"],h);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const N=x(e,["includeRaiReason"]);t!==void 0&&N!=null&&y(t,["parameters","includeRaiReason"],N);const _=x(e,["language"]);t!==void 0&&_!=null&&y(t,["parameters","language"],_);const j=x(e,["outputMimeType"]);t!==void 0&&j!=null&&y(t,["parameters","outputOptions","mimeType"],j);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const C=x(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const A=x(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const k=x(e,["imageSize"]);t!==void 0&&k!=null&&y(t,["parameters","sampleImageSize"],k);const R=x(e,["enhancePrompt"]);return t!==void 0&&R!=null&&y(t,["parameters","enhancePrompt"],R),r}function EF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["config"]);return c!=null&&_F(c,r),r}function CF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["config"]);return c!=null&&jF(c,r),r}function AF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>$F(u))),y(n,["generatedImages"],c)}const l=x(e,["positivePromptSafetyAttributes"]);return l!=null&&y(n,["positivePromptSafetyAttributes"],FR(l)),n}function TF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>qh(u))),y(n,["generatedImages"],c)}const l=x(e,["positivePromptSafetyAttributes"]);return l!=null&&y(n,["positivePromptSafetyAttributes"],qR(l)),n}function kF(e,t,n){const r={},a=x(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a),x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(e,["durationSeconds"]);if(t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=x(e,["aspectRatio"]);t!==void 0&&c!=null&&y(t,["parameters","aspectRatio"],c);const u=x(e,["resolution"]);t!==void 0&&u!=null&&y(t,["parameters","resolution"],u);const f=x(e,["personGeneration"]);if(t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f),x(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=x(e,["negativePrompt"]);t!==void 0&&p!=null&&y(t,["parameters","negativePrompt"],p);const h=x(e,["enhancePrompt"]);if(t!==void 0&&h!=null&&y(t,["parameters","enhancePrompt"],h),x(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=x(e,["lastFrame"]);t!==void 0&&g!=null&&y(t,["instances[0]","lastFrame"],Hh(g));const v=x(e,["referenceImages"]);if(t!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(_=>Rq(_))),y(t,["instances[0]","referenceImages"],N)}if(x(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function MF(e,t,n){const r={},a=x(e,["numberOfVideos"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["outputGcsUri"]);t!==void 0&&l!=null&&y(t,["parameters","storageUri"],l);const c=x(e,["fps"]);t!==void 0&&c!=null&&y(t,["parameters","fps"],c);const u=x(e,["durationSeconds"]);t!==void 0&&u!=null&&y(t,["parameters","durationSeconds"],u);const f=x(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const p=x(e,["aspectRatio"]);t!==void 0&&p!=null&&y(t,["parameters","aspectRatio"],p);const h=x(e,["resolution"]);t!==void 0&&h!=null&&y(t,["parameters","resolution"],h);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["pubsubTopic"]);t!==void 0&&v!=null&&y(t,["parameters","pubsubTopic"],v);const N=x(e,["negativePrompt"]);t!==void 0&&N!=null&&y(t,["parameters","negativePrompt"],N);const _=x(e,["enhancePrompt"]);t!==void 0&&_!=null&&y(t,["parameters","enhancePrompt"],_);const j=x(e,["generateAudio"]);t!==void 0&&j!=null&&y(t,["parameters","generateAudio"],j);const E=x(e,["lastFrame"]);t!==void 0&&E!=null&&y(t,["instances[0]","lastFrame"],ba(E));const C=x(e,["referenceImages"]);if(t!==void 0&&C!=null){let R=C;Array.isArray(R)&&(R=R.map(M=>Pq(M))),y(t,["instances[0]","referenceImages"],R)}const A=x(e,["mask"]);t!==void 0&&A!=null&&y(t,["instances[0]","mask"],Mq(A));const k=x(e,["compressionQuality"]);return t!==void 0&&k!=null&&y(t,["parameters","compressionQuality"],k),r}function RF(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=x(e,["done"]);l!=null&&y(n,["done"],l);const c=x(e,["error"]);c!=null&&y(n,["error"],c);const u=x(e,["response","generateVideoResponse"]);return u!=null&&y(n,["response"],DF(u)),n}function PF(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=x(e,["done"]);l!=null&&y(n,["done"],l);const c=x(e,["error"]);c!=null&&y(n,["error"],c);const u=x(e,["response"]);return u!=null&&y(n,["response"],LF(u)),n}function OF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["image"]);c!=null&&y(r,["instances[0]","image"],Hh(c));const u=x(t,["video"]);u!=null&&y(r,["instances[0]","video"],VR(u));const f=x(t,["source"]);f!=null&&zF(f,r);const p=x(t,["config"]);return p!=null&&kF(p,r),r}function IF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["image"]);c!=null&&y(r,["instances[0]","image"],ba(c));const u=x(t,["video"]);u!=null&&y(r,["instances[0]","video"],KR(u));const f=x(t,["source"]);f!=null&&UF(f,r);const p=x(t,["config"]);return p!=null&&MF(p,r),r}function DF(e,t){const n={},r=x(e,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>BF(u))),y(n,["generatedVideos"],c)}const a=x(e,["raiMediaFilteredCount"]);a!=null&&y(n,["raiMediaFilteredCount"],a);const l=x(e,["raiMediaFilteredReasons"]);return l!=null&&y(n,["raiMediaFilteredReasons"],l),n}function LF(e,t){const n={},r=x(e,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>FF(u))),y(n,["generatedVideos"],c)}const a=x(e,["raiMediaFilteredCount"]);a!=null&&y(n,["raiMediaFilteredCount"],a);const l=x(e,["raiMediaFilteredReasons"]);return l!=null&&y(n,["raiMediaFilteredReasons"],l),n}function zF(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],Hh(l));const c=x(e,["video"]);return t!==void 0&&c!=null&&y(t,["instances[0]","video"],VR(c)),r}function UF(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],ba(l));const c=x(e,["video"]);return t!==void 0&&c!=null&&y(t,["instances[0]","video"],KR(c)),r}function $F(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["image"],XF(r));const a=x(e,["raiFilteredReason"]);a!=null&&y(n,["raiFilteredReason"],a);const l=x(e,["_self"]);return l!=null&&y(n,["safetyAttributes"],FR(l)),n}function qh(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["image"],BR(r));const a=x(e,["raiFilteredReason"]);a!=null&&y(n,["raiFilteredReason"],a);const l=x(e,["_self"]);l!=null&&y(n,["safetyAttributes"],qR(l));const c=x(e,["prompt"]);return c!=null&&y(n,["enhancedPrompt"],c),n}function GF(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["mask"],BR(r));const a=x(e,["labels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(n,["labels"],l)}return n}function BF(e,t){const n={},r=x(e,["video"]);return r!=null&&y(n,["video"],Tq(r)),n}function FF(e,t){const n={},r=x(e,["_self"]);return r!=null&&y(n,["video"],kq(r)),n}function qF(e,t){const n={},r=x(e,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);const a=x(e,["responseJsonSchema"]);a!=null&&y(n,["responseJsonSchema"],a);const l=x(e,["audioTimestamp"]);l!=null&&y(n,["audioTimestamp"],l);const c=x(e,["candidateCount"]);c!=null&&y(n,["candidateCount"],c);const u=x(e,["enableAffectiveDialog"]);u!=null&&y(n,["enableAffectiveDialog"],u);const f=x(e,["frequencyPenalty"]);f!=null&&y(n,["frequencyPenalty"],f);const p=x(e,["logprobs"]);p!=null&&y(n,["logprobs"],p);const h=x(e,["maxOutputTokens"]);h!=null&&y(n,["maxOutputTokens"],h);const g=x(e,["mediaResolution"]);g!=null&&y(n,["mediaResolution"],g);const v=x(e,["presencePenalty"]);v!=null&&y(n,["presencePenalty"],v);const N=x(e,["responseLogprobs"]);N!=null&&y(n,["responseLogprobs"],N);const _=x(e,["responseMimeType"]);_!=null&&y(n,["responseMimeType"],_);const j=x(e,["responseModalities"]);j!=null&&y(n,["responseModalities"],j);const E=x(e,["responseSchema"]);E!=null&&y(n,["responseSchema"],E);const C=x(e,["routingConfig"]);C!=null&&y(n,["routingConfig"],C);const A=x(e,["seed"]);A!=null&&y(n,["seed"],A);const k=x(e,["speechConfig"]);k!=null&&y(n,["speechConfig"],k);const R=x(e,["stopSequences"]);R!=null&&y(n,["stopSequences"],R);const M=x(e,["temperature"]);M!=null&&y(n,["temperature"],M);const P=x(e,["thinkingConfig"]);P!=null&&y(n,["thinkingConfig"],P);const O=x(e,["topK"]);O!=null&&y(n,["topK"],O);const L=x(e,["topP"]);if(L!=null&&y(n,["topP"],L),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function HF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],xt(e,a)),r}function VF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],xt(e,a)),r}function KF(e,t){const n={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function YF(e,t){const n={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function JF(e,t){const n={},r=x(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const a=x(e,["imageSize"]);if(a!=null&&y(n,["imageSize"],a),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function WF(e,t){const n={},r=x(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const a=x(e,["imageSize"]);a!=null&&y(n,["imageSize"],a);const l=x(e,["personGeneration"]);l!=null&&y(n,["personGeneration"],l);const c=x(e,["outputMimeType"]);c!=null&&y(n,["imageOutputOptions","mimeType"],c);const u=x(e,["outputCompressionQuality"]);return u!=null&&y(n,["imageOutputOptions","compressionQuality"],u),n}function XF(e,t){const n={},r=x(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],Bs(r));const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function BR(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["bytesBase64Encoded"]);a!=null&&y(n,["imageBytes"],Bs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function Hh(e,t){const n={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],Bs(r));const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function ba(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["imageBytes"]);a!=null&&y(n,["bytesBase64Encoded"],Bs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function ZF(e,t,n,r){const a={},l=x(t,["pageSize"]);n!==void 0&&l!=null&&y(n,["_query","pageSize"],l);const c=x(t,["pageToken"]);n!==void 0&&c!=null&&y(n,["_query","pageToken"],c);const u=x(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=x(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],IR(e,f)),a}function QF(e,t,n,r){const a={},l=x(t,["pageSize"]);n!==void 0&&l!=null&&y(n,["_query","pageSize"],l);const c=x(t,["pageToken"]);n!==void 0&&c!=null&&y(n,["_query","pageToken"],c);const u=x(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=x(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],IR(e,f)),a}function eq(e,t,n){const r={},a=x(t,["config"]);return a!=null&&ZF(e,a,r),r}function tq(e,t,n){const r={},a=x(t,["config"]);return a!=null&&QF(e,a,r),r}function nq(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["_self"]);if(l!=null){let c=DR(l);Array.isArray(c)&&(c=c.map(u=>oy(u))),y(n,["models"],c)}return n}function rq(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["_self"]);if(l!=null){let c=DR(l);Array.isArray(c)&&(c=c.map(u=>cy(u))),y(n,["models"],c)}return n}function aq(e,t){const n={},r=x(e,["maskMode"]);r!=null&&y(n,["maskMode"],r);const a=x(e,["segmentationClasses"]);a!=null&&y(n,["maskClasses"],a);const l=x(e,["maskDilation"]);return l!=null&&y(n,["dilation"],l),n}function oy(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["displayName"]);a!=null&&y(n,["displayName"],a);const l=x(e,["description"]);l!=null&&y(n,["description"],l);const c=x(e,["version"]);c!=null&&y(n,["version"],c);const u=x(e,["_self"]);u!=null&&y(n,["tunedModelInfo"],bq(u));const f=x(e,["inputTokenLimit"]);f!=null&&y(n,["inputTokenLimit"],f);const p=x(e,["outputTokenLimit"]);p!=null&&y(n,["outputTokenLimit"],p);const h=x(e,["supportedGenerationMethods"]);h!=null&&y(n,["supportedActions"],h);const g=x(e,["temperature"]);g!=null&&y(n,["temperature"],g);const v=x(e,["maxTemperature"]);v!=null&&y(n,["maxTemperature"],v);const N=x(e,["topP"]);N!=null&&y(n,["topP"],N);const _=x(e,["topK"]);_!=null&&y(n,["topK"],_);const j=x(e,["thinking"]);return j!=null&&y(n,["thinking"],j),n}function cy(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["displayName"]);a!=null&&y(n,["displayName"],a);const l=x(e,["description"]);l!=null&&y(n,["description"],l);const c=x(e,["versionId"]);c!=null&&y(n,["version"],c);const u=x(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(N=>xF(N))),y(n,["endpoints"],v)}const f=x(e,["labels"]);f!=null&&y(n,["labels"],f);const p=x(e,["_self"]);p!=null&&y(n,["tunedModelInfo"],wq(p));const h=x(e,["defaultCheckpointId"]);h!=null&&y(n,["defaultCheckpointId"],h);const g=x(e,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(N=>N)),y(n,["checkpoints"],v)}return n}function iq(e,t){const n={},r=x(e,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);const a=x(e,["codeExecutionResult"]);a!=null&&y(n,["codeExecutionResult"],a);const l=x(e,["executableCode"]);l!=null&&y(n,["executableCode"],l);const c=x(e,["fileData"]);c!=null&&y(n,["fileData"],vF(c));const u=x(e,["functionCall"]);u!=null&&y(n,["functionCall"],yF(u));const f=x(e,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const p=x(e,["inlineData"]);p!=null&&y(n,["inlineData"],qB(p));const h=x(e,["text"]);h!=null&&y(n,["text"],h);const g=x(e,["thought"]);g!=null&&y(n,["thought"],g);const v=x(e,["thoughtSignature"]);v!=null&&y(n,["thoughtSignature"],v);const N=x(e,["videoMetadata"]);return N!=null&&y(n,["videoMetadata"],N),n}function sq(e,t){const n={},r=x(e,["productImage"]);return r!=null&&y(n,["image"],ba(r)),n}function lq(e,t,n){const r={},a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["baseSteps"]);t!==void 0&&l!=null&&y(t,["parameters","baseSteps"],l);const c=x(e,["outputGcsUri"]);t!==void 0&&c!=null&&y(t,["parameters","storageUri"],c);const u=x(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const f=x(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=x(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const h=x(e,["addWatermark"]);t!==void 0&&h!=null&&y(t,["parameters","addWatermark"],h);const g=x(e,["outputMimeType"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","mimeType"],g);const v=x(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v);const N=x(e,["enhancePrompt"]);t!==void 0&&N!=null&&y(t,["parameters","enhancePrompt"],N);const _=x(e,["labels"]);return t!==void 0&&_!=null&&y(t,["labels"],_),r}function oq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["source"]);l!=null&&uq(l,r);const c=x(t,["config"]);return c!=null&&lq(c,r),r}function cq(e,t){const n={},r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>qh(l))),y(n,["generatedImages"],a)}return n}function uq(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["personImage"]);t!==void 0&&l!=null&&y(t,["instances[0]","personImage","image"],ba(l));const c=x(e,["productImages"]);if(t!==void 0&&c!=null){let u=c;Array.isArray(u)&&(u=u.map(f=>sq(f))),y(t,["instances[0]","productImages"],u)}return r}function dq(e,t){const n={},r=x(e,["referenceImage"]);r!=null&&y(n,["referenceImage"],ba(r));const a=x(e,["referenceId"]);a!=null&&y(n,["referenceId"],a);const l=x(e,["referenceType"]);l!=null&&y(n,["referenceType"],l);const c=x(e,["maskImageConfig"]);c!=null&&y(n,["maskImageConfig"],aq(c));const u=x(e,["controlImageConfig"]);u!=null&&y(n,["controlImageConfig"],XB(u));const f=x(e,["styleImageConfig"]);f!=null&&y(n,["styleImageConfig"],f);const p=x(e,["subjectImageConfig"]);return p!=null&&y(n,["subjectImageConfig"],p),n}function FR(e,t){const n={},r=x(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const a=x(e,["safetyAttributes","scores"]);a!=null&&y(n,["scores"],a);const l=x(e,["contentType"]);return l!=null&&y(n,["contentType"],l),n}function qR(e,t){const n={},r=x(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const a=x(e,["safetyAttributes","scores"]);a!=null&&y(n,["scores"],a);const l=x(e,["contentType"]);return l!=null&&y(n,["contentType"],l),n}function fq(e,t){const n={},r=x(e,["category"]);if(r!=null&&y(n,["category"],r),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=x(e,["threshold"]);return a!=null&&y(n,["threshold"],a),n}function pq(e,t){const n={},r=x(e,["image"]);return r!=null&&y(n,["image"],ba(r)),n}function hq(e,t,n){const r={},a=x(e,["mode"]);t!==void 0&&a!=null&&y(t,["parameters","mode"],a);const l=x(e,["maxPredictions"]);t!==void 0&&l!=null&&y(t,["parameters","maxPredictions"],l);const c=x(e,["confidenceThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","confidenceThreshold"],c);const u=x(e,["maskDilation"]);t!==void 0&&u!=null&&y(t,["parameters","maskDilation"],u);const f=x(e,["binaryColorThreshold"]);t!==void 0&&f!=null&&y(t,["parameters","binaryColorThreshold"],f);const p=x(e,["labels"]);return t!==void 0&&p!=null&&y(t,["labels"],p),r}function mq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["source"]);l!=null&&xq(l,r);const c=x(t,["config"]);return c!=null&&hq(c,r),r}function gq(e,t){const n={},r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>GF(l))),y(n,["generatedMasks"],a)}return n}function xq(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],ba(l));const c=x(e,["scribbleImage"]);return t!==void 0&&c!=null&&y(t,["instances[0]","scribble"],pq(c)),r}function vq(e,t){const n={},r=x(e,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);const a=x(e,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],bF(a)),n}function yq(e,t){const n={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&y(n,["computerUse"],r);const a=x(e,["fileSearch"]);a!=null&&y(n,["fileSearch"],a);const l=x(e,["codeExecution"]);if(l!=null&&y(n,["codeExecution"],l),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),y(n,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(n,["googleMaps"],KF(u));const f=x(e,["googleSearch"]);f!=null&&y(n,["googleSearch"],YF(f));const p=x(e,["googleSearchRetrieval"]);p!=null&&y(n,["googleSearchRetrieval"],p);const h=x(e,["urlContext"]);return h!=null&&y(n,["urlContext"],h),n}function HR(e,t){const n={},r=x(e,["retrieval"]);r!=null&&y(n,["retrieval"],r);const a=x(e,["computerUse"]);if(a!=null&&y(n,["computerUse"],a),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=x(e,["codeExecution"]);l!=null&&y(n,["codeExecution"],l);const c=x(e,["enterpriseWebSearch"]);c!=null&&y(n,["enterpriseWebSearch"],c);const u=x(e,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(N=>wF(N))),y(n,["functionDeclarations"],v)}const f=x(e,["googleMaps"]);f!=null&&y(n,["googleMaps"],f);const p=x(e,["googleSearch"]);p!=null&&y(n,["googleSearch"],p);const h=x(e,["googleSearchRetrieval"]);h!=null&&y(n,["googleSearchRetrieval"],h);const g=x(e,["urlContext"]);return g!=null&&y(n,["urlContext"],g),n}function bq(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=x(e,["updateTime"]);return l!=null&&y(n,["updateTime"],l),n}function wq(e,t){const n={},r=x(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=x(e,["updateTime"]);return l!=null&&y(n,["updateTime"],l),n}function Nq(e,t,n){const r={},a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);const c=x(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&y(t,["defaultCheckpointId"],c),r}function Sq(e,t,n){const r={},a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);const c=x(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&y(t,["defaultCheckpointId"],c),r}function _q(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","name"],xt(e,a));const l=x(t,["config"]);return l!=null&&Nq(l,r),r}function jq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["config"]);return l!=null&&Sq(l,r),r}function Eq(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const c=x(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const u=x(e,["includeRaiReason"]);t!==void 0&&u!=null&&y(t,["parameters","includeRaiReason"],u);const f=x(e,["outputMimeType"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","mimeType"],f);const p=x(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&y(t,["parameters","outputOptions","compressionQuality"],p);const h=x(e,["enhanceInputImage"]);t!==void 0&&h!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],h);const g=x(e,["imagePreservationFactor"]);t!==void 0&&g!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=x(e,["labels"]);t!==void 0&&v!=null&&y(t,["labels"],v);const N=x(e,["numberOfImages"]);t!==void 0&&N!=null&&y(t,["parameters","sampleCount"],N);const _=x(e,["mode"]);return t!==void 0&&_!=null&&y(t,["parameters","mode"],_),r}function Cq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],xt(e,a));const l=x(t,["image"]);l!=null&&y(r,["instances[0]","image"],ba(l));const c=x(t,["upscaleFactor"]);c!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],c);const u=x(t,["config"]);return u!=null&&Eq(u,r),r}function Aq(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>qh(c))),y(n,["generatedImages"],l)}return n}function Tq(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["uri"],r);const a=x(e,["encodedVideo"]);a!=null&&y(n,["videoBytes"],Bs(a));const l=x(e,["encoding"]);return l!=null&&y(n,["mimeType"],l),n}function kq(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const a=x(e,["bytesBase64Encoded"]);a!=null&&y(n,["videoBytes"],Bs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function Mq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["_self"],ba(r));const a=x(e,["maskMode"]);return a!=null&&y(n,["maskMode"],a),n}function Rq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["image"],Hh(r));const a=x(e,["referenceType"]);return a!=null&&y(n,["referenceType"],a),n}function Pq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["image"],ba(r));const a=x(e,["referenceType"]);return a!=null&&y(n,["referenceType"],a),n}function VR(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["uri"],r);const a=x(e,["videoBytes"]);a!=null&&y(n,["encodedVideo"],Bs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["encoding"],l),n}function KR(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["videoBytes"]);a!=null&&y(n,["bytesBase64Encoded"],Bs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function Oq(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function Iq(e){const t={},n=x(e,["config"]);return n!=null&&Oq(n,t),t}function Dq(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Lq(e){const t={},n=x(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&Dq(r,t),t}function zq(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Uq(e,t){const n={},r=x(e,["customMetadata"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["customMetadata"],l)}const a=x(e,["chunkingConfig"]);return t!==void 0&&a!=null&&y(t,["chunkingConfig"],a),n}function $q(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],Bq(c)),t}function Gq(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=x(e,["fileName"]);r!=null&&y(t,["fileName"],r);const a=x(e,["config"]);return a!=null&&Uq(a,t),t}function Bq(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function Fq(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function qq(e){const t={},n=x(e,["config"]);return n!=null&&Fq(n,t),t}function Hq(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["fileSearchStores"],l)}return t}function YR(e,t){const n={},r=x(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),y(t,["customMetadata"],u)}const c=x(e,["chunkingConfig"]);return t!==void 0&&c!=null&&y(t,["chunkingConfig"],c),n}function Vq(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=x(e,["config"]);return r!=null&&YR(r,t),t}function Kq(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}const Yq="Content-Type",Jq="X-Server-Timeout",Wq="User-Agent",uy="x-goog-api-client",Xq="1.39.0",Zq=`google-genai-sdk/${Xq}`,Qq="v1beta1",eH="v1beta";class tH{constructor(t){var n,r,a;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qq}else{if(!this.clientOptions.apiKey)throw new Ku({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:eH,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===ay.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[c,u]of Object.entries(t.queryParams))a.searchParams.append(c,String(u));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.unaryApiCall(a,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.streamApiCall(a,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,a){if(n&&n.timeout||a){const l=new AbortController,c=l.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),t.signal=c}return n&&n.extraBody!==null&&nH(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await P2(a),new iy(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await P2(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return pa(this,arguments,function*(){var r;const a=(r=t?.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:h}=yield qe(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=l.decode(h,{stream:!0});try{const _=JSON.parse(g);if("error"in _){const j=JSON.parse(JSON.stringify(_.error)),E=j.status,C=j.code,A=`got status: ${E}. ${JSON.stringify(_)}`;if(C>=400&&C<600)throw new Ku({message:A,status:C})}}catch(_){if(_.name==="ApiError")throw _}c+=g;let v=-1,N=0;for(;;){v=-1,N=0;for(const E of f){const C=c.indexOf(E);C!==-1&&(v===-1||C<v)&&(v=C,N=E.length)}if(v===-1)break;const _=c.substring(0,v);c=c.substring(v+N);const j=_.trim();if(j.startsWith(u)){const E=j.substring(u.length).trim();try{const C=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield qe(new iy(C))}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=Zq+" "+this.clientOptions.userAgentExtra;return t[Wq]=n,t[uy]=n,t[Yq]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[a,l]of Object.entries(t.headers))r.append(a,l);t.timeout&&t.timeout>0&&r.append(Jq,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(t);a.sizeBytes=String(c.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:c.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const f={file:a},p=this.getFileName(t),h=Ne("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(h,a.sizeBytes,a.mimeType,p,f,n?.httpOptions);return l.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var a;const l=this.clientOptions.uploader,c=await l.stat(n),u=String(c.size),f=(a=r?.mimeType)!==null&&a!==void 0?a:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${t}:uploadToFileSearchStore`,h=this.getFileName(n),g={};r!=null&&YR(r,g);const v=await this.fetchUploadUrl(p,u,f,h,g,r?.httpOptions);return l.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,a,l,c){var u;let f={};c?f=c:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:f});if(!p||!p?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=p?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function P2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new Ku({message:a,status:n}):new Error(a)}}function nH(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const u=Object.assign({},l);for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f)){const p=c[f],h=u[f];p&&typeof p=="object"&&!Array.isArray(p)&&h&&typeof h=="object"&&!Array.isArray(h)?u[f]=r(h,p):(h&&p&&typeof h!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof h}, New type: ${typeof p}. Overwriting.`),u[f]=p)}return u}const a=r(n,t);e.body=JSON.stringify(a)}const rH="mcp_used/unknown";let aH=!1;function JR(e){for(const t of e)if(iH(t)||typeof t=="object"&&"inputSchema"in t)return!0;return aH}function WR(e){var t;const n=(t=e[uy])!==null&&t!==void 0?t:"";e[uy]=(n+` ${rH}`).trimStart()}function iH(e){return e!==null&&typeof e=="object"&&e instanceof Bb}function sH(e){return pa(this,arguments,function*(n,r=100){let a,l=0;for(;l<r;){const c=yield qe(n.listTools({cursor:a}));for(const u of c.tools)yield yield qe(u),l++;if(!c.nextCursor)break;a=c.nextCursor}})}class Bb{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Bb(t,n)}async initialize(){var t,n,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const h of this.mcpClients)try{for(var u=!0,f=(n=void 0,ha(sH(h))),p;p=await f.next(),t=p.done,!t;u=!0){a=p.value,u=!1;const g=a;c.push(g);const v=g.name;if(l[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);l[v]=h}}catch(g){n={error:g}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),IG(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return n}}async function lH(e,t,n){const r=new CG;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),t(r)}class oH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=dH(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${u}`;let p=()=>{};const h=new Promise(k=>{p=k}),g=t.callbacks,v=function(){p({})},N=this.apiClient,_={onopen:v,onmessage:k=>{lH(N,g.onmessage,k)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(k){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(k){}},j=this.webSocketFactory.create(f,uH(c),_);j.connect(),await h;const A={setup:{model:xt(this.apiClient,t.model)}};return j.send(JSON.stringify(A)),new cH(j,this.apiClient)}}class cH{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=OB(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=PB(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Lo.PLAY)}pause(){this.sendPlaybackControl(Lo.PAUSE)}stop(){this.sendPlaybackControl(Lo.STOP)}resetContext(){this.sendPlaybackControl(Lo.RESET_CONTEXT)}close(){this.conn.close()}}function uH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function dH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const fH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pH(e,t,n){const r=new EG;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const l=JSON.parse(a);if(e.isVertexAI()){const c=LB(l);Object.assign(r,c)}else Object.assign(r,l);t(r)}class hH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new oH(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,a,l,c,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let h;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&JR(t.config.tools)&&WR(g);const v=vH(g);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),q=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),G=!!z&&!!q||!!Y;this.apiClient.getCustomBaseUrl()&&!G?h=f:(h=`${f}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,h))}else{const z=this.apiClient.getApiKey();let q="BidiGenerateContent",Y="key";z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",Y="access_token"),h=`${f}/ws/google.ai.generativelanguage.${p}.GenerativeService.${q}?${Y}=${z}`}let N=()=>{};const _=new Promise(z=>{N=z}),j=t.callbacks,E=function(){var z;(z=j?.onopen)===null||z===void 0||z.call(j),N({})},C=this.apiClient,A={onopen:E,onmessage:z=>{pH(C,j.onmessage,z)},onerror:(n=j?.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=j?.onclose)!==null&&r!==void 0?r:function(z){}},k=this.webSocketFactory.create(h,xH(v),A);k.connect(),await _;let R=xt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&R.startsWith("publishers/")){const z=this.apiClient.getProject(),q=this.apiClient.getLocation();z&&q&&(R=`projects/${z}/locations/${q}/`+R)}let M={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Vu.AUDIO]}:t.config.responseModalities=[Vu.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(u=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&u!==void 0?u:[],O=[];for(const z of P)if(this.isCallableTool(z)){const q=z;O.push(await q.tool())}else O.push(z);O.length>0&&(t.config.tools=O);const L={model:R,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?M=RB(this.apiClient,L):M=MB(this.apiClient,L),delete M.config,k.send(JSON.stringify(M)),new gH(k,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const mH={turnComplete:!0};class gH{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=ea(n.turns),t.isVertexAI()||(r=r.map(a=>Fh(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(fH)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},mH),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:DB(t)}:n={realtimeInput:IB(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function xH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function vH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const O2=10;function I2(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const c of(n=e?.tools)!==null&&n!==void 0?n:[])if(qo(c)){a=!0;break}if(!a)return!0;const l=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function qo(e){return"callTool"in e&&typeof e.callTool=="function"}function yH(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>qo(a)))!==null&&r!==void 0?r:!1}function D2(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,a)=>{if(qo(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(a)}),n}function L2(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class bH extends Li{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,a,l,c,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!yH(n)||I2(n.config))return await this.generateContentInternal(f);const p=D2(n);if(p.length>0){const j=p.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${j}.`)}let h,g;const v=ea(f.contents),N=(l=(a=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:O2;let _=0;for(;_<N&&(h=await this.generateContentInternal(f),!(!h.functionCalls||h.functionCalls.length===0));){const j=h.candidates[0].content,E=[];for(const C of(u=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&u!==void 0?u:[])if(qo(C)){const k=await C.callTool(h.functionCalls);E.push(...k)}_++,g={role:"user",parts:E},f.contents=ea(f.contents),f.contents.push(j),f.contents.push(g),L2(f.config)&&(v.push(j),v.push(g))}return L2(f.config)&&(h.automaticFunctionCallingHistory=v),h},this.generateContentStream=async n=>{var r,a,l,c,u;if(this.maybeMoveToResponseJsonSchem(n),I2(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=D2(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(a=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,h=(u=(c=n?.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(p&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const c=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((a=f?.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=f?.safetyAttributes:c.push(f);let u;return l?u={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Gl(Ti.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(c),c)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var r,a,l,c,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,a;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const c=await Promise.all(l.map(async f=>qo(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(u.config.tools=c,t.config&&t.config.tools&&JR(t.config.tools)){const f=(a=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},f);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),WR(p),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return u}async initAfcToolsMap(t){var n,r,a;const l=new Map;for(const c of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(qo(c)){const u=c,f=await u.tool();for(const p of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,u)}}return l}async processAfcStream(t){var n,r,a;const l=(a=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:O2;let c=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(p,h,g){return pa(this,arguments,function*(){for(var v,N,_,j,E,C;u<l;){c&&(u++,c=!1);const M=yield qe(p.processParamsMaybeAddMcpUsage(g)),P=yield qe(p.generateContentStreamInternal(M)),O=[],L=[];try{for(var A=!0,k=(N=void 0,ha(P)),R;R=yield qe(k.next()),v=R.done,!v;A=!0){j=R.value,A=!1;const z=j;if(yield yield qe(z),z.candidates&&(!((E=z.candidates[0])===null||E===void 0)&&E.content)){L.push(z.candidates[0].content);for(const q of(C=z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<l&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(q.functionCall.name)){const Y=yield qe(h.get(q.functionCall.name).callTool([q.functionCall]));O.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(z){N={error:z}}finally{try{!A&&!v&&(_=k.return)&&(yield qe(_.call(k)))}finally{if(N)throw N.error}}if(O.length>0){c=!0;const z=new vu;z.candidates=[{content:{role:"user",parts:O}}],yield yield qe(z);const q=[];q.push(...L),q.push({role:"user",parts:O});const Y=ea(g.contents).concat(q);g.contents=Y}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=k2(this.apiClient,t);return u=Ne("{model}:generateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=R2(h),v=new vu;return Object.assign(v,g),v})}else{const p=T2(this.apiClient,t);return u=Ne("{model}:generateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=M2(h),v=new vu;return Object.assign(v,g),v})}}async generateContentStreamInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=k2(this.apiClient,t);return u=Ne("{model}:streamGenerateContent?alt=sse",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(g){return pa(this,arguments,function*(){var v,N,_,j;try{for(var E=!0,C=ha(g),A;A=yield qe(C.next()),v=A.done,!v;E=!0){j=A.value,E=!1;const k=j,R=R2(yield qe(k.json()),t);R.sdkHttpResponse={headers:k.headers};const M=new vu;Object.assign(M,R),yield yield qe(M)}}catch(k){N={error:k}}finally{try{!E&&!v&&(_=C.return)&&(yield qe(_.call(C)))}finally{if(N)throw N.error}}})})}else{const p=T2(this.apiClient,t);return u=Ne("{model}:streamGenerateContent?alt=sse",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(g){return pa(this,arguments,function*(){var v,N,_,j;try{for(var E=!0,C=ha(g),A;A=yield qe(C.next()),v=A.done,!v;E=!0){j=A.value,E=!1;const k=j,R=M2(yield qe(k.json()),t);R.sdkHttpResponse={headers:k.headers};const M=new vu;Object.assign(M,R),yield yield qe(M)}}catch(k){N={error:k}}finally{try{!E&&!v&&(_=C.return)&&(yield qe(_.call(C)))}finally{if(N)throw N.error}}})})}}async embedContent(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=hF(this.apiClient,t);return u=Ne("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=gF(h),v=new f2;return Object.assign(v,g),v})}else{const p=pF(this.apiClient,t);return u=Ne("{model}:batchEmbedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=mF(h),v=new f2;return Object.assign(v,g),v})}}async generateImagesInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=CF(this.apiClient,t);return u=Ne("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=TF(h),v=new p2;return Object.assign(v,g),v})}else{const p=EF(this.apiClient,t);return u=Ne("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=AF(h),v=new p2;return Object.assign(v,g),v})}}async editImageInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=cF(this.apiClient,t);return l=Ne("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{const p=uF(f),h=new hG;return Object.assign(h,p),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=Cq(this.apiClient,t);return l=Ne("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{const p=Aq(f),h=new mG;return Object.assign(h,p),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=oq(this.apiClient,t);return l=Ne("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=cq(f),h=new gG;return Object.assign(h,p),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=mq(this.apiClient,t);return l=Ne("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=gq(f),h=new xG;return Object.assign(h,p),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=VF(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>cy(h))}else{const p=HF(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>oy(h))}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=tq(this.apiClient,t);return u=Ne("{models_url}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=rq(h),v=new h2;return Object.assign(v,g),v})}else{const p=eq(this.apiClient,t);return u=Ne("{models_url}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=nq(h),v=new h2;return Object.assign(v,g),v})}}async update(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=jq(this.apiClient,t);return u=Ne("{model}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>cy(h))}else{const p=_q(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>oy(h))}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=iF(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=lF(h),v=new m2;return Object.assign(v,g),v})}else{const p=aF(this.apiClient,t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=sF(h),v=new m2;return Object.assign(v,g),v})}}async countTokens(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=tF(this.apiClient,t);return u=Ne("{model}:countTokens",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=rF(h),v=new g2;return Object.assign(v,g),v})}else{const p=eF(this.apiClient,t);return u=Ne("{model}:countTokens",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=nF(h),v=new g2;return Object.assign(v,g),v})}}async computeTokens(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=KB(this.apiClient,t);return l=Ne("{model}:computeTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>{const p=YB(f),h=new vG;return Object.assign(h,p),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=IF(this.apiClient,t);return u=Ne("{model}:predictLongRunning",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c.then(h=>{const g=PF(h),v=new Dp;return Object.assign(v,g),v})}else{const p=OF(this.apiClient,t);return u=Ne("{model}:predictLongRunning",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c.then(h=>{const g=RF(h),v=new Dp;return Object.assign(v,g),v})}}}class wH extends Li{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=oG(t);return u=Ne("{operationName}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),c}else{const p=lG(t);return u=Ne("{operationName}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json()),c}}async fetchPredictVideosOperationInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=eG(t);return l=Ne("{resourceName}:fetchPredictOperation",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}function NH(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function SH(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>RH(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function _H(e,t,n){const r={},a=x(t,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const l=x(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&y(n,["newSessionExpireTime"],l);const c=x(t,["uses"]);n!==void 0&&c!=null&&y(n,["uses"],c);const u=x(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],MH(e,u));const f=x(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function jH(e,t){const n={},r=x(t,["config"]);return r!=null&&y(n,["config"],_H(e,r,n)),n}function EH(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function CH(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function AH(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function TH(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function kH(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const h=x(e,["seed"]);t!==void 0&&h!=null&&y(t,["setup","generationConfig","seed"],h);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],Gb(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const _=x(e,["systemInstruction"]);t!==void 0&&_!=null&&y(t,["setup","systemInstruction"],SH(Zn(_)));const j=x(e,["tools"]);if(t!==void 0&&j!=null){let P=cc(j);Array.isArray(P)&&(P=P.map(O=>OH(oc(O)))),y(t,["setup","tools"],P)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],PH(E));const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const k=x(e,["realtimeInputConfig"]);t!==void 0&&k!=null&&y(t,["setup","realtimeInputConfig"],k);const R=x(e,["contextWindowCompression"]);t!==void 0&&R!=null&&y(t,["setup","contextWindowCompression"],R);const M=x(e,["proactivity"]);if(t!==void 0&&M!=null&&y(t,["setup","proactivity"],M),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function MH(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],xt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],kH(a,n)),n}function RH(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],EH(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],CH(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],NH(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const h=x(e,["thought"]);h!=null&&y(t,["thought"],h);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function PH(e){const t={},n=x(e,["handle"]);if(n!=null&&y(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function OH(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),y(t,["functionDeclarations"],h)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],AH(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],TH(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function IH(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${n}.${l}`);t.push(...a)}else t.push(n)}return t.join(",")}function DH(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const l=IH(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)l?e.fieldMask=l:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const f=[];l&&f.push(l),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class LH extends Li{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=jH(this.apiClient,t);l=Ne("auth_tokens",u._url),c=u._query,delete u.config,delete u._url,delete u._query;const f=DH(u,t.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}function zH(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function UH(e){const t={},n=x(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&zH(r,t),t}function $H(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function GH(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function BH(e){const t={},n=x(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=x(e,["config"]);return r!=null&&GH(r,t),t}function FH(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["documents"],l)}return t}class qH extends Li{constructor(t){super(),this.apiClient=t,this.list=async n=>new Gl(Ti.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$H(t);return l=Ne("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=UH(t);a=Ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BH(t);return l=Ne("{parent}/documents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=FH(f),h=new yG;return Object.assign(h,p),h})}}}class HH extends Li{constructor(t,n=new qH(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new Gl(Ti.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Iq(t);return l=Ne("fileSearchStores",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zq(t);return l=Ne("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Lq(t);a=Ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qq(t);return l=Ne("fileSearchStores",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=Hq(f),h=new bG;return Object.assign(h,p),h})}}async uploadToFileSearchStoreInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Vq(t);return l=Ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=Kq(f),h=new wG;return Object.assign(h,p),h})}}async importFile(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Gq(t);return l=Ne("{file_search_store_name}:importFile",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=$q(f),h=new Db;return Object.assign(h,p),h})}}}let XR=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return XR=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const VH=()=>XR();function dy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const fy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class ta extends Error{}class or extends ta{constructor(t,n,r,a){super(`${or.makeMessage(t,n,r)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,r){const a=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,r,a){if(!t||!a)return new Vh({message:r,cause:fy(n)});const l=n;return t===400?new QR(t,l,r,a):t===401?new eP(t,l,r,a):t===403?new tP(t,l,r,a):t===404?new nP(t,l,r,a):t===409?new rP(t,l,r,a):t===422?new aP(t,l,r,a):t===429?new iP(t,l,r,a):t>=500?new sP(t,l,r,a):new or(t,l,r,a)}}class py extends or{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Vh extends or{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ZR extends Vh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class QR extends or{}class eP extends or{}class tP extends or{}class nP extends or{}class rP extends or{}class aP extends or{}class iP extends or{}class sP extends or{}const KH=/^[a-z][a-z0-9+.-]*:/i,YH=e=>KH.test(e);let hy=e=>(hy=Array.isArray,hy(e));const JH=hy;let WH=JH;const z2=WH;function XH(e){if(!e)return!0;for(const t in e)return!1;return!0}function ZH(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const QH=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ta(`${e} must be an integer`);if(t<0)throw new ta(`${e} must be a positive integer`);return t},e9=e=>{try{return JSON.parse(e)}catch{return}};const t9=e=>new Promise(t=>setTimeout(t,e));const Po="0.0.1";function n9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const r9=()=>{var e,t,n,r,a;const l=n9();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":$2(Deno.build.os),"X-Stainless-Arch":U2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":$2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":U2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=a9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Po,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function a9(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:t,version:`${a}.${l}.${c}`}}}return null}const U2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",$2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Xf;const i9=()=>Xf??(Xf=r9());function s9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function lP(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function l9(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return lP({start(){},async pull(n){const{done:r,value:a}=await t.next();r?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function oP(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function o9(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),a=r.cancel();r.releaseLock(),await a}const c9=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const cP=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function dx(e,t,n){return cP(),new File(e,t??"unknown_file",n)}function u9(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const d9=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const uP=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",f9=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&uP(e),p9=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function h9(e,t,n){if(cP(),e=await e,f9(e))return e instanceof File?e:dx([await e.arrayBuffer()],e.name);if(p9(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),dx(await my(a),t,n)}const r=await my(e);if(t||(t=u9(e)),!n?.type){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return dx(r,t,n)}async function my(e){var t,n,r,a,l;let c=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)c.push(e);else if(uP(e))c.push(e instanceof Blob?e:await e.arrayBuffer());else if(d9(e))try{for(var u=!0,f=ha(e),p;p=await f.next(),t=p.done,!t;u=!0){a=p.value,u=!1;const h=a;c.push(...await my(h))}}catch(h){n={error:h}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const h=(l=e?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${h?`; constructor: ${h}`:""}${m9(e)}`)}return c}function m9(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class dP{constructor(t){this._client=t}}dP._key=[];function fP(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const G2=Object.freeze(Object.create(null)),g9=(e=fP)=>(function(n,...r){if(n.length===1)return n[0];let a=!1;const l=[],c=n.reduce((h,g,v)=>{var N,_,j;/[?#]/.test(g)&&(a=!0);const E=r[v];let C=(a?encodeURIComponent:e)(""+E);return v!==r.length&&(E==null||typeof E=="object"&&E.toString===((j=Object.getPrototypeOf((_=Object.getPrototypeOf((N=E.hasOwnProperty)!==null&&N!==void 0?N:G2))!==null&&_!==void 0?_:G2))===null||j===void 0?void 0:j.toString))&&(C=E+"",l.push({start:h.length+g.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),h+g+(v===r.length?"":C)},""),u=c.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=f.exec(u))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((h,g)=>h.start-g.start),l.length>0){let h=0;const g=l.reduce((v,N)=>{const _=" ".repeat(N.start-h),j="^".repeat(N.length);return h=N.start+N.length,v+_+j},"");throw new ta(`Path parameters result in path with invalid segments:
${l.map(v=>v.error).join(`
`)}
${c}
${g}`)}return c}),Zf=g9(fP);class pP extends dP{create(t,n){var r;const{api_version:a=this._client.apiVersion}=t,l=zp(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new ta("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new ta("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Zf`/${a}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(Zf`/${a}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(Zf`/${a}/interactions/${t}/cancel`,r)}get(t,n={},r){var a;const l=n??{},{api_version:c=this._client.apiVersion}=l,u=zp(l,["api_version"]);return this._client.get(Zf`/${c}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(a=n?.stream)!==null&&a!==void 0?a:!1}))}}pP._key=Object.freeze(["interactions"]);class hP extends pP{}function x9(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}let Qf;function Fb(e){let t;return(Qf??(t=new globalThis.TextEncoder,Qf=t.encode.bind(t)))(e)}let ep;function B2(e){let t;return(ep??(t=new globalThis.TextDecoder,ep=t.decode.bind(t)))(e)}class Kh{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fb(t):t;this.buffer=x9([this.buffer,n]);const r=[];let a;for(;(a=v9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(B2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=B2(this.buffer.subarray(0,l));r.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Kh.NEWLINE_CHARS=new Set([`
`,"\r"]);Kh.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function v9(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function y9(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const Up={off:0,error:200,warn:300,info:400,debug:500},F2=(e,t,n)=>{if(e){if(ZH(Up,e))return e;ar(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Up))}`)}};function ku(){}function tp(e,t,n){return!t||Up[e]>Up[n]?ku:t[e].bind(t)}const b9={error:ku,warn:ku,info:ku,debug:ku};let q2=new WeakMap;function ar(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return b9;const a=q2.get(n);if(a&&a[0]===r)return a[1];const l={error:tp("error",n,r),warn:tp("warn",n,r),info:tp("info",n,r),debug:tp("debug",n,r)};return q2.set(n,[r,l]),l}const xl=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class zo{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let a=!1;const l=r?ar(r):console;function c(){return pa(this,arguments,function*(){var f,p,h,g;if(a)throw new ta("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var N=!0,_=ha(w9(t,n)),j;j=yield qe(_.next()),f=j.done,!f;N=!0){g=j.value,N=!1;const E=g;if(!v)if(E.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield qe(JSON.parse(E.data))}catch(C){throw l.error("Could not parse message into JSON:",E.data),l.error("From chunk:",E.raw),C}}}catch(E){p={error:E}}finally{try{!N&&!f&&(h=_.return)&&(yield qe(h.call(_)))}finally{if(p)throw p.error}}v=!0}catch(E){if(dy(E))return yield qe(void 0);throw E}finally{v||n.abort()}})}return new zo(c,n,r)}static fromReadableStream(t,n,r){let a=!1;function l(){return pa(this,arguments,function*(){var f,p,h,g;const v=new Kh,N=oP(t);try{for(var _=!0,j=ha(N),E;E=yield qe(j.next()),f=E.done,!f;_=!0){g=E.value,_=!1;const C=g;for(const A of v.decode(C))yield yield qe(A)}}catch(C){p={error:C}}finally{try{!_&&!f&&(h=j.return)&&(yield qe(h.call(j)))}finally{if(p)throw p.error}}for(const C of v.flush())yield yield qe(C)})}function c(){return pa(this,arguments,function*(){var f,p,h,g;if(a)throw new ta("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var N=!0,_=ha(l()),j;j=yield qe(_.next()),f=j.done,!f;N=!0){g=j.value,N=!1;const E=g;v||E&&(yield yield qe(JSON.parse(E)))}}catch(E){p={error:E}}finally{try{!N&&!f&&(h=_.return)&&(yield qe(h.call(_)))}finally{if(p)throw p.error}}v=!0}catch(E){if(dy(E))return yield qe(void 0);throw E}finally{v||n.abort()}})}return new zo(c,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const c=r.next();t.push(c),n.push(c)}return l.shift()}});return[new zo(()=>a(t),this.controller,this.client),new zo(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return lP({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await n.next();if(l)return r.close();const c=Fb(JSON.stringify(a)+`
`);r.enqueue(c)}catch(a){r.error(a)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function w9(e,t){return pa(this,arguments,function*(){var r,a,l,c;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ta("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ta("Attempted to iterate over a response with no body");const u=new S9,f=new Kh,p=oP(e.body);try{for(var h=!0,g=ha(N9(p)),v;v=yield qe(g.next()),r=v.done,!r;h=!0){c=v.value,h=!1;const N=c;for(const _ of f.decode(N)){const j=u.decode(_);j&&(yield yield qe(j))}}}catch(N){a={error:N}}finally{try{!h&&!r&&(l=g.return)&&(yield qe(l.call(g)))}finally{if(a)throw a.error}}for(const N of f.flush()){const _=u.decode(N);_&&(yield yield qe(_))}})}function N9(e){return pa(this,arguments,function*(){var n,r,a,l;let c=new Uint8Array;try{for(var u=!0,f=ha(e),p;p=yield qe(f.next()),n=p.done,!n;u=!0){l=p.value,u=!1;const h=l;if(h==null)continue;const g=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?Fb(h):h;let v=new Uint8Array(c.length+g.length);v.set(c),v.set(g,c.length),c=v;let N;for(;(N=y9(c))!==-1;)yield yield qe(c.slice(0,N)),c=c.slice(N)}}catch(h){r={error:h}}finally{try{!u&&!n&&(a=f.return)&&(yield qe(a.call(f)))}finally{if(r)throw r.error}}c.length>0&&(yield yield qe(c))})}class S9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,a]=_9(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function _9(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function j9(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:a,startTime:l}=t,c=await(async()=>{var u;if(t.options.stream)return ar(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):zo.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),p=(u=f?.split(";")[0])===null||u===void 0?void 0:u.trim();return p?.includes("application/json")||p?.endsWith("+json")?await n.json():await n.text()})();return ar(e).debug(`[${r}] response parsed`,xl({retryOfRequestLogID:a,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}class qb extends Promise{constructor(t,n,r=j9){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new qb(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const mP=Symbol("brand.privateNullableHeaders");function*E9(e){if(!e)return;if(mP in e){const{values:r,nulls:a}=e;yield*r.entries();for(const l of a)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():z2(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=z2(r[1])?r[1]:[r[1]];let c=!1;for(const u of l)u!==void 0&&(t&&!c&&(c=!0,yield[a,null]),yield[a,u])}}const yu=e=>{const t=new Headers,n=new Set;for(const r of e){const a=new Set;for(const[l,c]of E9(r)){const u=l.toLowerCase();a.has(u)||(t.delete(l),a.add(u)),c===null?(t.delete(l),n.add(u)):(t.append(l,c),n.delete(u))}}return{[mP]:!0,values:t,nulls:n}};const fx=e=>{var t,n,r,a,l,c;if(typeof globalThis.process<"u")return(r=(n=(t=Y$)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,e))===null||c===void 0?void 0:c.trim()};var gP;class Yh{constructor(t){var n,r,a,l,c,u,f,{baseURL:p=fx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=fx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,v=zp(t,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:h,apiVersion:g},v),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(r=N.timeout)!==null&&r!==void 0?r:Yh.DEFAULT_TIMEOUT,this.logger=(a=N.logger)!==null&&a!==void 0?a:console;const _="warn";this.logLevel=_,this.logLevel=(c=(l=F2(N.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:F2(fx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:_,this.fetchOptions=N.fetchOptions,this.maxRetries=(u=N.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=N.fetch)!==null&&f!==void 0?f:s9(),this.encoder=c9,this._options=N,this.apiKey=h,this.apiVersion=g,this.clientAdapter=N.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=yu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return yu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return yu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new ta(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Po}`}defaultIdempotencyKey(){return`stainless-node-retry-${VH()}`}makeStatusError(t,n,r,a){return or.generate(t,n,r,a)}buildURL(t,n,r){const a=!this.baseURLOverridden()&&r||this.baseURL,l=YH(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),c=this.defaultQuery();return XH(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new qb(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var a,l,c;const u=await t,f=(a=u.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:p,url:h,timeout:g}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(p,{url:h,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=r===void 0?"":`, retryOf: ${r}`,_=Date.now();if(ar(this).debug(`[${v}] sending request`,xl({retryOfRequestLogID:r,method:u.method,url:h,options:u,headers:p.headers})),!((l=u.signal)===null||l===void 0)&&l.aborted)throw new py;const j=new AbortController,E=await this.fetchWithTimeout(h,p,g,j).catch(fy),C=Date.now();if(E instanceof globalThis.Error){const k=`retrying, ${n} attempts remaining`;if(!((c=u.signal)===null||c===void 0)&&c.aborted)throw new py;const R=dy(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return ar(this).info(`[${v}] connection ${R?"timed out":"failed"} - ${k}`),ar(this).debug(`[${v}] connection ${R?"timed out":"failed"} (${k})`,xl({retryOfRequestLogID:r,url:h,durationMs:C-_,message:E.message})),this.retryRequest(u,n,r??v);throw ar(this).info(`[${v}] connection ${R?"timed out":"failed"} - error; no more retries left`),ar(this).debug(`[${v}] connection ${R?"timed out":"failed"} (error; no more retries left)`,xl({retryOfRequestLogID:r,url:h,durationMs:C-_,message:E.message})),R?new ZR:new Vh({cause:E})}const A=`[${v}${N}] ${p.method} ${h} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${C-_}ms`;if(!E.ok){const k=await this.shouldRetry(E);if(n&&k){const z=`retrying, ${n} attempts remaining`;return await o9(E.body),ar(this).info(`${A} - ${z}`),ar(this).debug(`[${v}] response error (${z})`,xl({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-_})),this.retryRequest(u,n,r??v,E.headers)}const R=k?"error; no more retries left":"error; not retryable";ar(this).info(`${A} - ${R}`);const M=await E.text().catch(z=>fy(z).message),P=e9(M),O=P?void 0:M;throw ar(this).debug(`[${v}] response error (${R})`,xl({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:O,durationMs:Date.now()-_})),this.makeStatusError(E.status,P,O,E.headers)}return ar(this).info(A),ar(this).debug(`[${v}] response start`,xl({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-_})),{response:E,options:u,controller:j,requestLogID:v,retryOfRequestLogID:r,startTime:_}}async fetchWithTimeout(t,n,r,a){const l=n||{},{signal:c,method:u}=l,f=zp(l,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const p=setTimeout(()=>a.abort(),r),h=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,g=Object.assign(Object.assign(Object.assign({signal:a.signal},h?{duplex:"half"}:{}),{method:"GET"}),f);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(p)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,a){var l;let c;const u=a?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(c=p)}const f=a?.get("retry-after");if(f&&!c){const p=parseFloat(f);Number.isNaN(p)?c=Date.parse(f)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,p)}return await t9(c),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const l=n-t,c=Math.min(.5*Math.pow(2,l),8),u=1-Math.random()*.25;return c*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,a,l;const c=Object.assign({},t),{method:u,path:f,query:p,defaultBaseURL:h}=c,g=this.buildURL(f,p,h);"timeout"in c&&QH("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:N}=this.buildBody({options:c}),_=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:_},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:g,timeout:c.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const c=await this.authHeaders(t);let u=yu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),i9()),this._options.defaultHeaders,r,t.headers,c]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=yu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:l9(t)}:this.encoder({body:t,headers:r})}}Yh.DEFAULT_TIMEOUT=6e4;class On extends Yh{constructor(){super(...arguments),this.interactions=new hP(this)}}gP=On;On.GeminiNextGenAPIClient=gP;On.GeminiNextGenAPIClientError=ta;On.APIError=or;On.APIConnectionError=Vh;On.APIConnectionTimeoutError=ZR;On.APIUserAbortError=py;On.NotFoundError=nP;On.ConflictError=rP;On.RateLimitError=iP;On.BadRequestError=QR;On.AuthenticationError=eP;On.InternalServerError=sP;On.PermissionDeniedError=tP;On.UnprocessableEntityError=aP;On.toFile=h9;On.Interactions=hP;function C9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function A9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function T9(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function k9(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function M9(e,t,n){const r={};if(x(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=x(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&y(t,["displayName"],a),x(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(e,["epochCount"]);t!==void 0&&l!=null&&y(t,["tuningTask","hyperparameters","epochCount"],l);const c=x(e,["learningRateMultiplier"]);if(c!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),x(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(x(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(x(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=x(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const f=x(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(x(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(x(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(x(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(x(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function R9(e,t,n){const r={};let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const M=x(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec"],px(M))}else if(a==="PREFERENCE_TUNING"){const M=x(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec"],px(M))}else if(a==="DISTILLATION"){const M=x(e,["validationDataset"]);t!==void 0&&M!=null&&y(t,["distillationSpec"],px(M))}const l=x(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&y(t,["tunedModelDisplayName"],l);const c=x(e,["description"]);t!==void 0&&c!=null&&y(t,["description"],c);let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const M=x(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],M)}else if(u==="PREFERENCE_TUNING"){const M=x(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],M)}else if(u==="DISTILLATION"){const M=x(e,["epochCount"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","epochCount"],M)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const M=x(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],M)}else if(f==="PREFERENCE_TUNING"){const M=x(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],M)}else if(f==="DISTILLATION"){const M=x(e,["learningRateMultiplier"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","learningRateMultiplier"],M)}let p=x(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const M=x(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],M)}else if(p==="PREFERENCE_TUNING"){const M=x(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],M)}else if(p==="DISTILLATION"){const M=x(e,["exportLastCheckpointOnly"]);t!==void 0&&M!=null&&y(t,["distillationSpec","exportLastCheckpointOnly"],M)}let h=x(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const M=x(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],M)}else if(h==="PREFERENCE_TUNING"){const M=x(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],M)}else if(h==="DISTILLATION"){const M=x(e,["adapterSize"]);t!==void 0&&M!=null&&y(t,["distillationSpec","hyperParameters","adapterSize"],M)}let g=x(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const M=x(e,["tuningMode"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","tuningMode"],M)}const v=x(e,["customBaseModel"]);t!==void 0&&v!=null&&y(t,["customBaseModel"],v);let N=x(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const M=x(e,["batchSize"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","batchSize"],M)}let _=x(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const M=x(e,["learningRate"]);t!==void 0&&M!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRate"],M)}const j=x(e,["labels"]);t!==void 0&&j!=null&&y(t,["labels"],j);const E=x(e,["beta"]);t!==void 0&&E!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const C=x(e,["baseTeacherModel"]);t!==void 0&&C!=null&&y(t,["distillationSpec","baseTeacherModel"],C);const A=x(e,["tunedTeacherModelSource"]);t!==void 0&&A!=null&&y(t,["distillationSpec","tunedTeacherModelSource"],A);const k=x(e,["sftLossWeightMultiplier"]);t!==void 0&&k!=null&&y(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],k);const R=x(e,["outputUri"]);return t!==void 0&&R!=null&&y(t,["outputUri"],R),r}function P9(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=x(e,["trainingDataset"]);l!=null&&q9(l);const c=x(e,["config"]);return c!=null&&M9(c,n),n}function O9(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=x(e,["trainingDataset"]);l!=null&&H9(l,n,t);const c=x(e,["config"]);return c!=null&&R9(c,n,t),n}function I9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function D9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function L9(e,t,n){const r={},a=x(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=x(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const c=x(e,["filter"]);return t!==void 0&&c!=null&&y(t,["_query","filter"],c),r}function z9(e,t,n){const r={},a=x(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=x(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const c=x(e,["filter"]);return t!==void 0&&c!=null&&y(t,["_query","filter"],c),r}function U9(e,t){const n={},r=x(e,["config"]);return r!=null&&L9(r,n),n}function $9(e,t){const n={},r=x(e,["config"]);return r!=null&&z9(r,n),n}function G9(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(u=>xP(u))),y(n,["tuningJobs"],c)}return n}function B9(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(u=>gy(u))),y(n,["tuningJobs"],c)}return n}function F9(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["model"],r);const a=x(e,["name"]);return a!=null&&y(n,["endpoint"],a),n}function q9(e,t){const n={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["examples","examples"],a)}return n}function H9(e,t,n){const r={};let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(a==="DISTILLATION"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["distillationSpec","promptDatasetUri"],c)}let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(l==="DISTILLATION"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["distillationSpec","promptDatasetUri"],c)}if(x(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function xP(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["state"]);l!=null&&y(n,["state"],PR(l));const c=x(e,["createTime"]);c!=null&&y(n,["createTime"],c);const u=x(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=x(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(n,["updateTime"],p);const h=x(e,["description"]);h!=null&&y(n,["description"],h);const g=x(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const v=x(e,["_self"]);return v!=null&&y(n,["tunedModel"],F9(v)),n}function gy(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["state"]);l!=null&&y(n,["state"],PR(l));const c=x(e,["createTime"]);c!=null&&y(n,["createTime"],c);const u=x(e,["startTime"]);u!=null&&y(n,["startTime"],u);const f=x(e,["endTime"]);f!=null&&y(n,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(n,["updateTime"],p);const h=x(e,["error"]);h!=null&&y(n,["error"],h);const g=x(e,["description"]);g!=null&&y(n,["description"],g);const v=x(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const N=x(e,["tunedModel"]);N!=null&&y(n,["tunedModel"],N);const _=x(e,["preTunedModel"]);_!=null&&y(n,["preTunedModel"],_);const j=x(e,["supervisedTuningSpec"]);j!=null&&y(n,["supervisedTuningSpec"],j);const E=x(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const C=x(e,["distillationSpec"]);C!=null&&y(n,["distillationSpec"],C);const A=x(e,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const k=x(e,["encryptionSpec"]);k!=null&&y(n,["encryptionSpec"],k);const R=x(e,["partnerModelTuningSpec"]);R!=null&&y(n,["partnerModelTuningSpec"],R);const M=x(e,["customBaseModel"]);M!=null&&y(n,["customBaseModel"],M);const P=x(e,["experiment"]);P!=null&&y(n,["experiment"],P);const O=x(e,["labels"]);O!=null&&y(n,["labels"],O);const L=x(e,["outputUri"]);L!=null&&y(n,["outputUri"],L);const z=x(e,["pipelineJob"]);z!=null&&y(n,["pipelineJob"],z);const q=x(e,["serviceAccount"]);q!=null&&y(n,["serviceAccount"],q);const Y=x(e,["tunedModelDisplayName"]);Y!=null&&y(n,["tunedModelDisplayName"],Y);const G=x(e,["veoTuningSpec"]);return G!=null&&y(n,["veoTuningSpec"],G),n}function V9(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["metadata"]);l!=null&&y(n,["metadata"],l);const c=x(e,["done"]);c!=null&&y(n,["done"],c);const u=x(e,["error"]);return u!=null&&y(n,["error"],u),n}function px(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const a=x(e,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}class K9 extends Li{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Gl(Ti.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:ry.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=D9(t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>gy(h))}else{const p=I9(t);return u=Ne("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>xP(h))}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=$9(t);return u=Ne("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=B9(h),v=new x2;return Object.assign(v,g),v})}else{const p=U9(t);return u=Ne("tunedModels",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=G9(h),v=new x2;return Object.assign(v,g),v})}}async cancel(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=A9(t);return u=Ne("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=k9(h),v=new v2;return Object.assign(v,g),v})}else{const p=C9(t);return u=Ne("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(h=>h.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:h.headers},v})),c.then(h=>{const g=T9(h),v=new v2;return Object.assign(v,g),v})}}async tuneInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=O9(t,t);return l=Ne("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>gy(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=P9(t);return l=Ne("tunedModels",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const h=p;return h.sdkHttpResponse={headers:f.headers},h})),a.then(f=>V9(f))}}}class Y9{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const J9=1024*1024*8,W9=3,X9=1e3,Z9=2,$p="x-goog-upload-status";async function Q9(e,t,n){var r;const a=await vP(e,t,n),l=await a?.json();if(((r=a?.headers)===null||r===void 0?void 0:r[$p])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function eV(e,t,n){var r;const a=await vP(e,t,n),l=await a?.json();if(((r=a?.headers)===null||r===void 0?void 0:r[$p])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=CR(l),u=new Lb;return Object.assign(u,c),u}async function vP(e,t,n){var r,a;let l=0,c=0,u=new iy(new Response),f="upload";for(l=e.size;c<l;){const p=Math.min(J9,l-c),h=e.slice(c,c+p);c+p>=l&&(f+=", finalize");let g=0,v=X9;for(;g<W9&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[$p]));)g++,await nV(v),v=v*Z9;if(c+=p,((a=u?.headers)===null||a===void 0?void 0:a[$p])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function tV(e){return{size:e.size,type:e.type}}function nV(e){return new Promise(t=>setTimeout(t,e))}class rV{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await Q9(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await eV(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tV(t)}}class aV{create(t,n,r){return new iV(t,n,r)}}class iV{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const H2="x-goog-api-key";class sV{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(H2)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(H2,this.apiKey)}}}const lV="gl-node/";class oV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new On({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=Z$(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new sV(this.apiKey);this.apiClient=new tH({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lV+"web",uploader:new rV,downloader:new Y9}),this.models=new bH(this.apiClient),this.live=new hH(this.apiClient,a,new aV),this.batches=new A8(this.apiClient),this.chats=new cB(this.models,this.apiClient),this.caches=new sB(this.apiClient),this.files=new wB(this.apiClient),this.operations=new wH(this.apiClient),this.authTokens=new LH(this.apiClient),this.tunings=new K9(this.apiClient),this.fileSearchStores=new HH(this.apiClient)}}function cV(e){let t="";const n=e.byteLength;for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function uV(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=t.charCodeAt(a);return r}async function dV(e,t,n,r){const a=new Int16Array(e.buffer),l=a.length/r,c=t.createBuffer(r,l,n);for(let u=0;u<r;u++){const f=c.getChannelData(u);for(let p=0;p<l;p++)f[p]=a[p*r+u]/32768}return c}function fV(e){const t=e.length,n=new Int16Array(t);for(let r=0;r<t;r++)n[r]=e[r]*32768;return{data:cV(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}const pV=({onClose:e,subject:t})=>{const[n,r]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState([]),[f,p]=b.useState("Connecting to AI Tutor..."),h=b.useRef(null),g=b.useRef(null),v=b.useRef(0),N=b.useRef(new Set),_=b.useRef(null),j=b.useRef(null),E=b.useRef(null),C=b.useRef(0);return b.useEffect(()=>{let A=!0,k=null,R=null,M=null,P=null,O=null,L=null;return(async()=>{try{C.current+=1;const q=C.current,Y=await navigator.mediaDevices.getUserMedia({audio:!0});if(!A){Y.getTracks().forEach(U=>U.stop());return}R=Y,_.current=Y;const G=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),W=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});M=G,P=W,g.current={input:G,output:W},console.log("[LiveSession] API Key:","SET");const ee=new oV({apiKey:"AIzaSyCv6hJAymDO5LHhkOgcKSYBH2Wc9RUiOsE"});console.log("[LiveSession] Attempting to connect to Gemini...");const Z=await ee.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",callbacks:{onopen:()=>{if(console.log("[LiveSession] onopen callback fired - Session opened!"),q!==C.current||!A){console.warn("[LiveSession] Session opened but a newer session has started or component unmounted");return}if(G.state==="closed"){console.warn("[LiveSession] Audio context closed before session opened");return}console.log('[LiveSession] Setting status to "AI Tutor is Listening"'),p("AI Tutor is Listening"),r(!0),console.log("[LiveSession] Status and active state updated");try{const U=G.createMediaStreamSource(Y);L=U,E.current=U;const J=G.createScriptProcessor(4096,1,1);O=J,j.current=J,J.onaudioprocess=de=>{if(a||!h.current||q!==C.current)return;const ue=de.inputBuffer.getChannelData(0),D=fV(ue);try{h.current&&h.current.sendRealtimeInput({media:D})}catch(X){console.warn("Failed to send audio data:",X)}};const te=G.createGain();te.gain.value=0,U.connect(J),J.connect(te),te.connect(G.destination),console.log("[LiveSession] Audio processing setup complete!")}catch(U){console.error("[LiveSession] Error setting up audio processing:",U)}},onmessage:async U=>{if(q!==C.current)return;U.serverContent?.outputTranscription&&u(te=>[...te.slice(-4),`AI: ${U.serverContent?.outputTranscription?.text}`]),U.serverContent?.inputTranscription&&u(te=>[...te.slice(-4),`You: ${U.serverContent?.inputTranscription?.text}`]);const J=U.serverContent?.modelTurn?.parts?.[0]?.inlineData?.data;if(J&&q===C.current){if(W.state==="closed")return;try{const de=W.currentTime;v.current<de+.1&&(v.current=de+.1);const ue=await dV(uV(J),W,24e3,1),D=W.createBufferSource();D.buffer=ue,D.connect(W.destination),D.start(v.current),v.current+=ue.duration,N.current.add(D),D.onended=()=>N.current.delete(D)}catch(te){console.warn("Error playing audio response:",te)}}U.serverContent?.interrupted&&(N.current.forEach(te=>{try{te.stop()}catch{}}),N.current.clear(),v.current=W.currentTime)},onerror:U=>{console.error("[LiveSession] ERROR:",U),console.error("[LiveSession] Error details:",JSON.stringify(U,null,2)),p("Connection Error")},onclose:U=>{console.log("[LiveSession] onclose callback fired - Session closed"),console.log("[LiveSession] Close event details:",U),U&&(console.log("[LiveSession] Close code:",U.code),console.log("[LiveSession] Close reason:",U.reason)),q===C.current&&(console.log('[LiveSession] Setting status to "Session Ended"'),p("Session Ended"),r(!1),j.current&&(j.current.disconnect(),j.current=null),E.current&&(E.current.disconnect(),E.current=null))}},config:{responseModalities:[Vu.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:`You are an expert academic tutor for university students. The current subject is ${t}. Help the user understand difficult concepts, solve problems, and stay motivated. Keep your answers clear, professional, and helpful. Speak naturally.`,outputAudioTranscription:{},inputAudioTranscription:{}}});if(!A){console.log("[LiveSession] Component unmounted before connection completed, cleaning up"),Z.close(),Y.getTracks().forEach(U=>U.stop()),G.close(),W.close();return}console.log("[LiveSession] Session connected successfully!"),k=Z,h.current=Z}catch(q){console.error("[LiveSession] Initialization error:",q),A&&p("Failed to access microphone")}})(),()=>{if(A=!1,O&&O.disconnect(),L&&L.disconnect(),R&&R.getTracks().forEach(q=>q.stop()),M&&M.close(),P&&P.close(),k)try{k.close()}catch(q){console.warn("Error closing session:",q)}h.current===k&&(h.current=null),j.current===O&&(j.current=null),E.current===L&&(E.current=null),_.current===R&&(_.current=null)}},[]),s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:s.jsxs("div",{className:"w-full max-w-2xl bg-white/5 border border-white/10 rounded-[3rem] overflow-hidden shadow-2xl flex flex-col items-center p-12 relative",children:[s.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-white/40 hover:text-white transition-colors",children:s.jsx(ct,{size:24})}),s.jsxs("div",{className:"flex flex-col items-center text-center space-y-8 mb-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`w-32 h-32 rounded-full bg-orange-500 flex items-center justify-center shadow-[0_0_50px_rgba(249,115,22,0.4)] relative z-10 transition-transform duration-500 ${n?"scale-110":"scale-100"}`,children:s.jsx(Fu,{size:48,className:"text-white animate-pulse"})}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/20 animate-ping duration-[2000ms]"}),s.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/10 animate-ping duration-[3000ms] delay-500"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[t," Live Session"]}),s.jsx("p",{className:"text-orange-400 font-bold tracking-widest uppercase text-xs",children:f})]})]}),s.jsxs("div",{className:"w-full bg-black/20 rounded-3xl p-6 min-h-[160px] flex flex-col justify-end space-y-2 mb-12 border border-white/5",children:[c.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/20 space-y-2",children:[s.jsx(Rb,{size:20}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-widest italic",children:"Start talking to your AI Tutor"})]}),c.map((A,k)=>s.jsx("p",{className:`text-sm font-medium ${A.startsWith("AI:")?"text-orange-200":"text-white/60"}`,children:A},k))]}),s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("button",{onClick:()=>l(!a),className:`w-16 h-16 rounded-2xl flex items-center justify-center transition-all shadow-xl ${a?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:a?s.jsx(AU,{size:28}):s.jsx(yR,{size:28})}),s.jsxs("div",{className:"px-6 py-4 bg-white/5 border border-white/10 rounded-2xl flex items-center gap-3",children:[s.jsx(p$,{size:18,className:"text-white/40"}),s.jsx("div",{className:"w-32 h-1.5 bg-white/10 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full bg-orange-500 transition-all duration-300 ${n?"w-2/3":"w-0"}`})})]})]}),s.jsx("p",{className:"mt-12 text-white/30 text-[10px] font-black uppercase tracking-[0.3em]",children:"Powered by Gemini 2.5 Flash Native Audio"})]})})},hV=({groupId:e,groupName:t,onClose:n,onRequestProcessed:r})=>{const[a,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(null),[h,g]=b.useState(!1),[v,N]=b.useState(""),[_,j]=b.useState(null);b.useEffect(()=>{E()},[e]);const E=async()=>{u(!0);try{const P=await Ae.getPendingRequests(e);console.log("Pending requests loaded:",P),l(P)}catch(P){console.error("Failed to load requests",P),alert("Could not load pending requests.")}finally{u(!1)}},C=async(P,O)=>{if(confirm(`Approve ${O} to join ${t}?`)){p(P);try{await Ae.approveJoinRequest(e,P),alert(`${O} has been approved!`),await E(),r()}catch(L){alert(L.message||"Failed to approve request.")}finally{p(null)}}},A=(P,O)=>{j({id:P,name:O}),g(!0)},k=async P=>{if(_){p(_.id),g(!1);try{await Ae.rejectJoinRequest(e,_.id,P),alert(`${_.name}'s request has been declined.`),await E(),r()}catch(O){alert(O.message||"Failed to reject request.")}finally{p(null),j(null),N("")}}},R=()=>{g(!1),j(null),N("")},M=P=>{const O=new Date(P),z=Math.floor((new Date().getTime()-O.getTime())/(1e3*60*60));return z<1?"Just now":z<24?`${z}h ago`:`${Math.floor(z/24)}d ago`};return s.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Join Requests"}),s.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:t}),s.jsxs("p",{className:"text-xs text-orange-200 mt-2",children:["Status: ",c?"Loading...":`${a.length} requests`]})]}),s.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 max-h-[500px] overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 p-4 bg-yellow-100 border-2 border-yellow-500 rounded-xl",children:[s.jsx("p",{className:"text-xs font-bold mb-2",children:"TEST: Can you see these buttons?"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{className:"px-4 py-2 bg-emerald-500 text-white rounded font-bold",children:"TEST APPROVE"}),s.jsx("button",{className:"px-4 py-2 bg-red-500 text-white rounded font-bold",children:"TEST REJECT"})]})]}),c?s.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[s.jsx(Re,{size:48,className:"animate-spin text-orange-500"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Loading requests..."})]}):a.length===0?s.jsxs("div",{className:"text-center py-16 space-y-4",children:[s.jsx(gt,{size:48,className:"mx-auto text-slate-200"}),s.jsx("p",{className:"text-slate-400 font-bold",children:"No pending requests"}),s.jsx("p",{className:"text-xs text-slate-400",children:"When users request to join, they'll appear here."}),s.jsxs("p",{className:"text-xs text-slate-600 mt-4 font-mono",children:["Debug: requests.length = ",a.length]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("p",{className:"text-xs text-slate-600 mb-4 font-mono",children:["Debug: Found ",a.length," pending request(s)"]}),a.map((P,O)=>s.jsxs("div",{className:"bg-slate-50 border-2 border-slate-300 rounded-2xl p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-lg border border-orange-200 shrink-0",children:P.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:P.name}),s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[s.jsx(Ls,{size:12}),s.jsx("span",{className:"font-semibold truncate",children:P.email})]}),P.major&&s.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[s.jsx($u,{size:12}),s.jsx("span",{className:"font-semibold",children:P.major})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-400",children:[s.jsx(dn,{size:12}),s.jsxs("span",{className:"font-bold uppercase tracking-widest",children:["Requested ",M(P.requested_at)]})]}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2 font-mono",children:["User ID: ",P.id]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-300",children:[s.jsxs("button",{onClick:()=>{console.log("Approve clicked for:",P.id,P.name),C(P.id,P.name)},disabled:f===P.id,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-emerald-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-emerald-600 transition-all disabled:opacity-50 shadow-lg",children:[f===P.id?s.jsx(Re,{size:16,className:"animate-spin"}):s.jsx(Ou,{size:16}),"Approve"]}),s.jsxs("button",{onClick:()=>{console.log("Reject clicked for:",P.id,P.name),A(P.id,P.name)},disabled:f===P.id,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 shadow-lg",children:[f===P.id?s.jsx(Re,{size:16,className:"animate-spin"}):s.jsx(Rs,{size:16}),"Reject"]})]})]},P.id))]})]}),s.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 text-center",children:s.jsx("button",{onClick:n,className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"})})]}),h&&_&&s.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Reject Request"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:_.name})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for rejecting this request? This is optional."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Rejection Reason (Optional)"}),s.jsx("textarea",{value:v,onChange:P=>N(P.target.value),placeholder:"e.g., Group is full, Looking for members with specific background, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[v.length,"/500 characters"]})]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[s.jsx("button",{onClick:R,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),s.jsx("button",{onClick:()=>k(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Reject"}),s.jsx("button",{onClick:()=>k(v.trim()||void 0),disabled:v.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Reject"})]})]})})]})},mV=({studyPlan:e,subject:t,onClose:n})=>{const[r,a]=wb.useState(!1),l=e.startsWith("Study plan generation failed"),c=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)},u=()=>{const f=new Blob([e],{type:"text/plain"}),p=URL.createObjectURL(f),h=document.createElement("a");h.href=p,h.download=`${t}-study-plan.txt`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(p)};return s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"bg-blue-500 p-10 flex justify-between items-center text-white shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:s.jsx($u,{size:28})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Study Plan"}),s.jsx("p",{className:"text-blue-100 text-sm font-bold mt-1",children:t})]})]}),s.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-10",children:l?s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white",children:s.jsx(ct,{size:20})}),s.jsx("h4",{className:"font-bold text-red-900 text-lg",children:"Generation Failed"})]}),s.jsx("div",{className:"text-sm text-red-800 leading-relaxed whitespace-pre-wrap font-medium",children:e})]}):s.jsx("div",{className:"prose prose-blue max-w-none",children:s.jsx("div",{className:"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap font-medium",children:e})})}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between shrink-0",children:[s.jsx("button",{onClick:n,className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"}),!l&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:c,className:"flex items-center gap-2 px-5 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-50 transition-all",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Ou,{size:14,className:"text-green-500"}),"Copied!"]}):s.jsxs(s.Fragment,{children:[s.jsx(Qz,{size:14}),"Copy"]})}),s.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-5 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:[s.jsx(rU,{size:14}),"Download"]})]})]})]})})},gV=()=>{Lr();const[e]=fd(),[t,n]=b.useState([]),[r,a]=b.useState(!0),[l,c]=b.useState(e.get("group")),[u,f]=b.useState([]),[p,h]=b.useState(!1),[g,v]=b.useState(""),[N,_]=b.useState(null),j=b.useRef(null),[E,C]=b.useState(!1),[A,k]=b.useState(null),[R,M]=b.useState(!1),[P,O]=b.useState(null),[L,z]=b.useState(!1),[q,Y]=b.useState(!1),[G,W]=b.useState(!1),[ee,Z]=b.useState(!1),[U,J]=b.useState(!1),[te,de]=b.useState(!1),[ue,D]=b.useState(null),[X,ge]=b.useState(!1),[xe,K]=b.useState(!1),[le,ye]=b.useState({title:"",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[Ge,oe]=b.useState(!1),[_e,Pe]=b.useState([]),[ve,lt]=b.useState(!1),[Be,Qe]=b.useState({}),ft=()=>{try{const H=localStorage.getItem("lastSeenMessageCounts");return H?JSON.parse(H):{}}catch{return{}}},Xt=H=>{localStorage.setItem("lastSeenMessageCounts",JSON.stringify(H))},[Cn,fr]=b.useState({}),tr=H=>{fr(ke=>({...ke,[H]:Date.now()}))},[nr,qn]=b.useState(!1),[pe,ze]=b.useState([]),[Ot,ae]=b.useState(!1),[je,Fe]=b.useState(null),[ie,Oe]=b.useState(""),[et,tt]=b.useState("none"),[pt,yt]=b.useState(""),[$,De]=b.useState(""),[Ye,Ct]=b.useState(null),[Hn,Vn]=b.useState(!1),[Vi,Sa]=b.useState(!1),[pr,_a]=b.useState(""),[Kn,Js]=b.useState(null),[ql,ja]=b.useState(!1),[Kt,Ya]=b.useState({name:"",description:"",max_members:5,location:"",subject:"",faculty:""}),[Hl]=b.useState(()=>{const H=localStorage.getItem("auth_user");return H?JSON.parse(H):null}),Ki=(e.get("q")||"").toLowerCase(),Nc=b.useMemo(()=>{let H=t;return xe?H=H.filter(ke=>ke.status===Le.ARCHIVED):H=H.filter(ke=>ke.status!==Le.ARCHIVED),Ki&&(H=H.filter(ke=>ke.name.toLowerCase().includes(Ki)||ke.subject.toLowerCase().includes(Ki))),H},[t,Ki,xe]),Vl=b.useMemo(()=>[...Nc].sort((H,ke)=>{const $e=Be[H.id]||0,St=Be[ke.id]||0;if($e>0&&St===0)return-1;if(St>0&&$e===0)return 1;const yn=Cn[H.id]||0;return(Cn[ke.id]||0)-yn}),[Nc,Be,Cn]),be=t.find(H=>H.id===l),sa=be?.creator_id===Hl?.id,Sc=b.useRef(null),zr=b.useRef(null),fn=b.useRef(null);b.useEffect(()=>{Zt(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),b.useEffect(()=>{const H=ke=>{zr.current&&!zr.current.contains(ke.target)&&W(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),b.useEffect(()=>{const H=e.get("group");H&&H!==l&&c(H)},[e]);const Zt=async()=>{try{const ke=(await Ae.getGroups()).filter($e=>$e.is_member);n(ke),!l&&ke.length>0&&c(ke[0].id)}catch(H){console.error("Failed to fetch groups",H)}finally{a(!1)}},Ja=async H=>{try{lt(!0);const ke=await Ae.getGroupMembers(H);Pe(ke)}catch(ke){console.error("Failed to fetch members",ke),alert(ke.message||"Failed to load members")}finally{lt(!1)}};b.useEffect(()=>{if(l){const H=t.find($e=>$e.id===l)?.name;console.log(`[Group Switch] Switching to group: ${H} (${l})`),(async()=>{h(!0);try{const $e=await Ae.getMessages(l);console.log(`[Group Switch] Fetched ${$e.length} messages for ${H}`),f($e);const St=ft();St[l]=$e.length,Xt(St),console.log(`[Group Switch] Updated stored count for ${H}: ${$e.length}`)}catch($e){console.error("Failed to fetch messages",$e)}finally{h(!1)}})(),k(null),O(null),z(!1),Qe($e=>{const St={...$e};return delete St[l],console.log(`[Group Switch] Cleared badge for ${H}`),St})}},[l]),b.useEffect(()=>{Sc.current?.scrollIntoView({behavior:"smooth"})},[u]),b.useEffect(()=>{A&&setTimeout(()=>{fn.current?.scrollIntoView({behavior:"smooth",block:"center"})},100)},[A]),b.useEffect(()=>{if(!l)return;const H=t.find($e=>$e.id===l)?.name,ke=setInterval(async()=>{try{const $e=await Ae.getMessages(l);f($e);const St=ft();St[l]=$e.length,Xt(St),console.log(`[Active Poll] Updated ${H}: ${$e.length} messages, stored count: ${$e.length}`)}catch{}},1e4);return()=>clearInterval(ke)},[l,t]),b.useEffect(()=>{if(t.length===0)return;const H=async()=>{const $e=ft(),St={},yn={};if(console.log("[Polling] Starting unread poll. Active group:",l),console.log("[Polling] Stored counts:",$e),await Promise.all(t.map(async Je=>{if(Je.id===l){console.log(`[Polling] Skipping active group: ${Je.name} (${Je.id})`);return}try{const Gt=await Ae.getMessages(Je.id),Za=Gt.length,Xs=$e[Je.id];if(console.log(`[Polling] Group "${Je.name}" (${Je.id}): current=${Za}, lastSeen=${Xs}`),Xs===void 0)St[Je.id]=Za,console.log(`[Polling] First time seeing "${Je.name}", setting baseline to ${Za}`);else if(Za>Xs){const Kl=Za-Xs;if(yn[Je.id]=Kl,console.log(`[Polling] NEW MESSAGES in "${Je.name}": ${Kl} new (${Xs}  ${Za})`),tr(Je.id),"Notification"in window&&Notification.permission==="granted"){const Cc=Gt[Gt.length-1];new Notification(`${Je.name}`,{body:`${Cc?.user_name||"Someone"}: ${Cc?.content||"sent a message"}`,tag:`group-${Je.id}`})}}else console.log(`[Polling] No new messages in "${Je.name}"`)}catch(Gt){console.error(`[Polling] Error fetching messages for "${Je.name}":`,Gt)}})),Object.keys(St).length>0){const Gt={...ft(),...St};Xt(Gt),console.log("[Polling] Saved new baselines:",St)}console.log("[Polling] Setting unread badges:",yn),console.log("[Polling] Groups with unread counts:",Object.keys(yn).map(Je=>`${t.find(Gt=>Gt.id===Je)?.name}(${Je}): ${yn[Je]}`)),Qe(yn)};H();const ke=setInterval(H,15e3);return()=>clearInterval(ke)},[t,l]),b.useEffect(()=>{te&&l&&Ja(l)},[te,l]);const _c=async H=>{if(H.preventDefault(),!(!g.trim()&&!N||!l||be?.status===Le.ARCHIVED))try{const ke=await Ae.sendMessage(l,g,N||void 0);f($e=>{const St=[...$e,ke],yn=ft();return yn[l]=St.length,Xt(yn),console.log(`[Send Message] Sent message in ${be?.name}. Updated stored count to ${St.length}`),St}),tr(l),v(""),_(null),j.current&&(j.current.value="")}catch{alert("Failed to send message.")}},Hm=async()=>{if(u.length===0){alert("No messages to summarize yet.");return}C(!0),k(null);try{const H=u.filter($e=>$e.content&&$e.content.trim().length>0).map($e=>`${$e.user_name}: ${$e.content}`);if(H.length===0){k("No text messages to summarize. The chat only contains files."),C(!1);return}console.log("[GroupsPage] Summarizing",H.length,"messages");const ke=await ty.summarizeChat(H);k(ke||"No summary available.")}catch(H){console.error("[GroupsPage] Summary error:",H),k(`Failed to generate summary: ${H.message||"Unknown error"}`)}finally{C(!1)}},Vm=async()=>{if(!be)return;M(!0);const H=await ty.suggestStudyPlan(be.subject);O(H),z(!0),M(!1)},Dd=async H=>{if(H.preventDefault(),!!l){oe(!0);try{await Ae.createEvent({title:le.title,start_time:le.start_time,location:le.location,recurrence:le.recurrence,recurrence_count:le.recurrence_count,type:"Group Meeting",group_id:l});const ke=new Date(le.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),$e=le.recurrence!=="none"&&le.recurrence_count?` (Repeats ${le.recurrence} for ${le.recurrence_count} occurrences)`:"",St=le.location?`
Location: ${le.location}`:"",yn=` New Meeting Scheduled!

${le.title}
${ke}${$e}${St}

All members have been notified.`;try{const Je=await Ae.sendMessage(l,yn);f(Gt=>[...Gt,Je])}catch{}ye({title:"",start_time:"",location:"",recurrence:"none",recurrence_count:""}),Vn(!1),await Yt(l)}catch{alert("Scheduling failed.")}finally{oe(!1)}}},Wa=async H=>{if(l){Z(!0);try{await Ae.updateGroup(l,{status:H}),await Zt(),W(!1)}catch{alert("Failed to update status")}finally{Z(!1)}}},jc=()=>{be&&(Ya({name:be.name,description:be.description,max_members:be.max_members,location:be.location,subject:be.subject,faculty:be.faculty}),ja(!0),W(!1))},Yi=async H=>{if(H.preventDefault(),!!l){Z(!0);try{await Ae.updateGroup(l,Kt),await Zt(),ja(!1)}catch{alert("Failed to update group")}finally{Z(!1)}}},Ji=async()=>{if(!(!l||!be)&&confirm(`Are you absolutely sure you want to delete "${be.name}"? This action cannot be undone and all data will be lost.`))try{if(!(await fetch(`${Ip.BASE_URL}/groups/${l}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${Hl?.token}`}})).ok)throw new Error("Failed to delete group");alert("Group dissolved successfully."),c(null),Zt()}catch{alert("Failed to delete group.")}},Ws=async(H,ke)=>{if(l&&confirm(`Remove ${ke} from ${be?.name}? This member will lose access to all group resources.`)){D(H);try{await Ae.kickMember(l,String(H)),alert(`${ke} has been removed from the group.`),await Ja(l),await Zt()}catch($e){alert($e.message||"Failed to remove member.")}finally{D(null)}}},Wi=async()=>{if(!(!l||!be)&&confirm(`Are you sure you want to leave "${be.name}"?`)){ge(!0);try{await Ae.leaveGroup(l),de(!1),c(null),await Zt()}catch(H){alert(H.message||"Failed to leave group.")}finally{ge(!1)}}},Yt=async H=>{ae(!0);try{const ke=await Ae.getEvents();ze(ke.filter($e=>$e.group_id===H))}catch(ke){console.error("Failed to fetch events",ke)}finally{ae(!1)}},Ld=H=>{Js(H),Sa(!0)},Ec=async H=>{if(Kn){Ct(Kn.id),Sa(!1);try{await Ae.deleteEvent(Kn.id,H),l&&await Yt(l),alert("Meeting cancelled successfully.")}catch{alert("Failed to cancel meeting.")}finally{Ct(null),Js(null),_a("")}}},Xa=()=>{Sa(!1),Js(null),_a("")},Xi=async()=>{if(!(!je||!ie)){Ct(je.id);try{await Ae.deleteEvent(je.id),await Ae.createEvent({title:je.title,type:je.type||"Group Meeting",start_time:ie,location:$,recurrence:et,recurrence_count:pt,group_id:je.group_id||l}),Fe(null),Oe(""),tt("none"),yt(""),De(""),l&&await Yt(l)}catch{alert("Failed to reschedule meeting.")}finally{Ct(null)}}},zd=H=>{switch(H){case Le.OPEN:return s.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-100 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[s.jsx(Bu,{size:12})," Open"]});case Le.CLOSED:return s.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 text-amber-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[s.jsx(Si,{size:12})," Closed"]});case Le.ARCHIVED:return s.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[s.jsx(Pa,{size:12})," Archived"]});default:return null}};return r?s.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4",children:[s.jsx(Re,{size:48,className:"animate-spin text-orange-500"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Loading your workspace..."})]}):s.jsxs("div",{className:"h-full flex flex-col lg:flex-row gap-6 animate-in fade-in duration-500",children:[s.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Your Study Groups"}),s.jsxs("button",{onClick:()=>K(!xe),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${xe?"bg-slate-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[s.jsx(Pa,{size:14}),xe?"Active":"Archived"]})]}),s.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto pr-2 pb-4",children:t.length===0?s.jsxs("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] p-8 text-center space-y-4",children:[s.jsx(gt,{size:32,className:"mx-auto text-slate-200"}),s.jsx("p",{className:"text-sm font-medium text-slate-400",children:"You haven't joined any groups yet."}),s.jsx(Dt,{to:"/home",className:"inline-block text-xs font-black text-orange-500 uppercase tracking-widest hover:text-orange-600",children:"Browse Feed"})]}):s.jsxs(s.Fragment,{children:[Vl.length===0&&s.jsx("div",{className:"p-8 text-center opacity-40",children:Ki?s.jsxs(s.Fragment,{children:[s.jsx(Ua,{size:24,className:"mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No matching groups"})]}):xe?s.jsxs(s.Fragment,{children:[s.jsx(Pa,{size:24,className:"mx-auto mb-2"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No archived groups"})]}):null}),Vl.map(H=>{const ke=Be[H.id]||0;return ke>0&&console.log(`[Badge] Group "${H.name}" (${H.id}) has ${ke} unread messages. Active: ${l===H.id}`),s.jsxs("button",{onClick:()=>c(H.id),className:`w-full text-left p-5 rounded-[2rem] border transition-all relative ${l===H.id?"bg-orange-500 border-orange-500 text-white shadow-xl shadow-orange-100 scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"} ${H.status===Le.ARCHIVED?"grayscale opacity-80":""}`,children:[ke>0&&l!==H.id&&s.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[22px] h-[22px] px-1.5 bg-red-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg shadow-red-200 animate-in zoom-in duration-200",children:ke}),s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center font-bold text-xs ${l===H.id?"bg-white/20":"bg-orange-100 text-orange-600"}`,children:H.name[0]}),s.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[s.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${l===H.id?"text-orange-100":"text-slate-400"}`,children:H.subject}),H.status!==Le.OPEN&&s.jsx("span",{className:`${l===H.id?"text-white/60":"text-slate-300"}`,children:H.status===Le.ARCHIVED?s.jsx(Pa,{size:10}):s.jsx(Si,{size:10})})]})]}),s.jsx("h3",{className:"font-bold truncate",children:H.name}),s.jsxs("p",{className:`text-[10px] font-bold mt-1 ${l===H.id?"text-orange-50":"text-slate-400"}`,children:[H.members_count," Members  ",H.status]})]},H.id)})]})}),be&&s.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm space-y-4",children:[s.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Workspace Tools"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("button",{onClick:Vm,disabled:R||be.status===Le.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-blue-50 text-blue-600 rounded-2xl hover:bg-blue-100 transition-all gap-2 disabled:opacity-50",children:[R?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsx($u,{size:18}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Study Plan"})]}),s.jsxs("button",{onClick:()=>Y(!0),disabled:be.status===Le.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-orange-50 text-orange-600 rounded-2xl hover:bg-orange-100 transition-all gap-2 disabled:opacity-50",children:[s.jsx(yR,{size:18}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Live Room"})]}),(be.is_member||sa)&&s.jsxs("button",{onClick:()=>de(!0),className:"flex flex-col items-center justify-center p-4 bg-purple-50 text-purple-600 rounded-2xl hover:bg-purple-100 transition-all gap-2",children:[s.jsx(gt,{size:18}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Details"})]}),sa&&s.jsxs("button",{onClick:()=>{qn(!0),Vn(!1),l&&Yt(l)},disabled:be.status===Le.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-emerald-50 text-emerald-600 rounded-2xl hover:bg-emerald-100 transition-all gap-2 col-span-2 disabled:opacity-50",children:[s.jsx(Rn,{size:18}),s.jsx("span",{className:"text-[10px] font-black uppercase",children:"Meetings"})]})]})]})]}),s.jsx("div",{className:`flex-1 bg-white border border-slate-200 rounded-[2.5rem] flex flex-col overflow-hidden shadow-sm relative ${be?.status===Le.ARCHIVED?"bg-slate-50/50":""}`,children:be?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white/50 backdrop-blur-md sticky top-0 z-10",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg ${be.status===Le.ARCHIVED?"bg-slate-400 shadow-slate-100":"bg-orange-500 shadow-orange-100"}`,children:be.name[0]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"font-bold text-slate-900 text-lg leading-none",children:be.name}),zd(be.status)]}),s.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[be.status===Le.OPEN?s.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}):s.jsx("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),s.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[be.members_count," members enrolled  Led by"," ",s.jsx(Dt,{to:`/profile/${be.creator_id}`,className:"hover:text-orange-500 transition-colors cursor-pointer",children:be.creator_name})]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[sa&&be.pending_requests_count>0&&s.jsxs("button",{onClick:()=>J(!0),className:"relative flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 text-amber-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-amber-100 transition-all",children:[s.jsx(Gh,{size:16}),s.jsxs("span",{children:[be.pending_requests_count," Request",be.pending_requests_count!==1?"s":""]})]}),s.jsx("button",{onClick:Hm,disabled:E||be.status===Le.ARCHIVED,className:"p-2.5 text-orange-500 hover:bg-orange-50 rounded-xl transition-all relative group disabled:opacity-30",children:E?s.jsx(Re,{size:20,className:"animate-spin"}):s.jsx(Fu,{size:20})}),s.jsxs("div",{className:"relative",ref:zr,children:[s.jsx("button",{onClick:()=>W(!G),className:`p-2.5 rounded-xl transition-all ${G?"bg-slate-100 text-slate-900":"text-slate-400 hover:bg-slate-50"}`,children:s.jsx(iU,{size:20})}),G&&sa&&s.jsxs("div",{className:"absolute top-12 right-0 w-56 bg-white border border-slate-200 rounded-2xl shadow-xl z-20 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[s.jsx("div",{className:"p-3 border-b border-slate-50",children:s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Manage Hub"})}),s.jsxs("button",{onClick:()=>Wa(Le.OPEN),disabled:ee,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-emerald-50 transition-colors ${be.status===Le.OPEN?"text-emerald-600 bg-emerald-50":"text-slate-600"}`,children:[s.jsx(Bu,{size:14}),s.jsx("span",{className:"text-xs font-bold flex-1",children:"Set Open"}),be.status===Le.OPEN&&s.jsx(Iu,{size:12})]}),s.jsxs("button",{onClick:()=>Wa(Le.CLOSED),disabled:ee,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-amber-50 transition-colors ${be.status===Le.CLOSED?"text-amber-600 bg-amber-50":"text-slate-600"}`,children:[s.jsx(Si,{size:14}),s.jsx("span",{className:"text-xs font-bold flex-1",children:"Set Closed"}),be.status===Le.CLOSED&&s.jsx(Iu,{size:12})]}),s.jsxs("button",{onClick:()=>Wa(Le.ARCHIVED),disabled:ee,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-slate-100 transition-colors ${be.status===Le.ARCHIVED?"text-slate-900 bg-slate-50":"text-slate-400"}`,children:[s.jsx(Pa,{size:14}),s.jsx("span",{className:"text-xs font-bold flex-1",children:"Archive"}),be.status===Le.ARCHIVED&&s.jsx(Iu,{size:12})]})]})]})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/30",children:[be.status===Le.ARCHIVED&&s.jsxs("div",{className:"bg-slate-100 border border-slate-200 p-6 rounded-[2rem] text-center space-y-2 mb-4 animate-in slide-in-from-top-2",children:[s.jsx(Pa,{size:32,className:"mx-auto text-slate-400"}),s.jsx("h4",{className:"font-bold text-slate-700",children:"This hub is archived"}),s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Messages are read-only. Leaders can reactivate the hub at any time."})]}),p?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(Re,{size:24,className:"animate-spin text-slate-300"})}):s.jsxs(s.Fragment,{children:[A&&s.jsxs("div",{ref:fn,className:"bg-orange-50 border border-orange-100 p-5 rounded-3xl shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-2",children:[s.jsx(Fu,{size:16}),s.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"AI Catch-up"})]}),s.jsx("p",{className:"text-sm text-orange-800 leading-relaxed font-medium",children:A}),s.jsx("button",{onClick:()=>k(null),className:"text-[10px] font-black text-orange-400 uppercase mt-4 hover:text-orange-600 transition-colors",children:"Dismiss"})]}),u.length===0&&s.jsxs("div",{className:"text-center py-10 space-y-2 opacity-30",children:[s.jsx(Tl,{size:32,className:"mx-auto"}),s.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No messages yet"})]}),u.map((H,ke)=>{const $e=H.user_id===Hl?.id,St=H.user_id===be.creator_id,yn=H.file_type?.startsWith("image/"),Je=H.file_path?`${Ip.BASE_URL.replace("/api","")}/storage/${H.file_path}`:null;return s.jsxs("div",{className:`flex flex-col ${$e?"items-end":"items-start"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1.5 px-2",children:[s.jsxs(Dt,{to:`/profile/${H.user_id}`,className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider hover:text-orange-500 transition-colors cursor-pointer",children:[H.user_name,St&&s.jsx("span",{className:"ml-1.5 text-[8px] px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded border border-orange-200",children:"LEADER"})]}),s.jsx("span",{className:"text-[10px] font-medium text-slate-300",children:new Date(H.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:`max-w-[85%] px-5 py-3.5 rounded-3xl text-sm font-medium leading-relaxed shadow-sm ${$e?"bg-orange-500 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 rounded-tl-none"}`,children:[H.content&&s.jsx("div",{className:"mb-2",children:H.content}),H.file_path&&s.jsx("div",{className:"space-y-2",children:yn&&Je?s.jsxs("a",{href:Je,target:"_blank",rel:"noopener noreferrer",className:"block",children:[s.jsx("img",{src:Je,alt:H.file_name||"Uploaded image",className:"max-w-full max-h-64 rounded-xl border-2 border-white/20 hover:border-white/40 transition-all cursor-pointer"}),s.jsxs("div",{className:`flex items-center gap-2 mt-2 text-xs ${$e?"text-orange-100":"text-slate-500"}`,children:[s.jsx(ox,{size:14}),s.jsx("span",{className:"truncate",children:H.file_name})]})]}):s.jsxs("a",{href:Je||"#",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-3 p-3 rounded-xl transition-all ${$e?"bg-orange-600 hover:bg-orange-700":"bg-slate-100 hover:bg-slate-200"}`,children:[s.jsx("div",{className:`p-2 rounded-lg ${$e?"bg-orange-700":"bg-white"}`,children:s.jsx(ox,{size:20,className:$e?"text-white":"text-slate-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:`text-sm font-bold truncate ${$e?"text-white":"text-slate-900"}`,children:H.file_name}),s.jsx("div",{className:`text-xs ${$e?"text-orange-100":"text-slate-500"}`,children:H.file_size?`${(H.file_size/1024).toFixed(1)} KB`:"File"})]})]})})]})]},H.id)})]}),s.jsx("div",{ref:Sc})]}),s.jsxs("form",{onSubmit:_c,className:`p-6 bg-white border-t border-slate-100 ${be.status===Le.ARCHIVED?"pointer-events-none opacity-50 grayscale":""}`,children:[N&&s.jsxs("div",{className:"mb-3 flex items-center gap-2 bg-orange-50 border border-orange-200 px-4 py-2 rounded-xl",children:[s.jsx(ox,{size:16,className:"text-orange-600"}),s.jsx("span",{className:"text-sm font-semibold text-orange-900 flex-1 truncate",children:N.name}),s.jsxs("span",{className:"text-xs text-orange-600",children:[(N.size/1024).toFixed(1)," KB"]}),s.jsx("button",{type:"button",onClick:()=>{_(null),j.current&&(j.current.value="")},className:"text-orange-600 hover:text-orange-800 transition-colors",children:s.jsx(ct,{size:16})})]}),s.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-[2rem] border border-slate-200 focus-within:ring-2 focus-within:ring-orange-500/20 focus-within:bg-white transition-all",children:[s.jsx("input",{ref:j,type:"file",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:H=>{const ke=H.target.files?.[0];ke&&_(ke)},className:"hidden"}),s.jsx("button",{type:"button",onClick:()=>j.current?.click(),disabled:be.status===Le.ARCHIVED,className:"w-10 h-10 bg-white hover:bg-slate-100 text-slate-600 rounded-2xl flex items-center justify-center transition-all disabled:opacity-50 border border-slate-200",title:"Attach file",children:s.jsx(MU,{size:18})}),s.jsx("input",{type:"text",disabled:be.status===Le.ARCHIVED,placeholder:be.status===Le.ARCHIVED?"Hub is archived":"Share a thought or question...",className:"flex-1 bg-transparent border-none outline-none px-4 text-sm font-medium text-slate-700",value:g,onChange:H=>v(H.target.value)}),s.jsx("button",{type:"submit",disabled:!g.trim()&&!N||be.status===Le.ARCHIVED,className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-2xl flex items-center justify-center transition-all disabled:opacity-50 disabled:scale-95 shadow-lg shadow-orange-100",children:s.jsx(Op,{size:18})})]})]})]}):s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center text-slate-400",children:[s.jsx(Tl,{size:64,className:"mb-6 opacity-20"}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No group selected"}),s.jsx("p",{className:"max-w-xs",children:"Pick a study group from the left to start collaborating with your classmates."})]})}),ql&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Edit Hub"}),s.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Update your session details"})]}),s.jsx("button",{onClick:()=>ja(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("form",{onSubmit:Yi,className:"p-10 space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Hub Name"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Kt.name,onChange:H=>Ya({...Kt,name:H.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Kt.subject,onChange:H=>Ya({...Kt,subject:H.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Kt.faculty,onChange:H=>Ya({...Kt,faculty:H.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),s.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",value:Kt.description,onChange:H=>Ya({...Kt,description:H.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),s.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Kt.max_members,onChange:H=>Ya({...Kt,max_members:parseInt(H.target.value)})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Kt.location,onChange:H=>Ya({...Kt,location:H.target.value})})]})]}),s.jsxs("div",{className:"pt-4 flex gap-4",children:[s.jsx("button",{type:"button",onClick:()=>ja(!1),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:ee,className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95 disabled:opacity-50",children:ee?s.jsx(Re,{className:"animate-spin mx-auto",size:18}):"Save Changes"})]})]})]})}),q&&be&&s.jsx(pV,{subject:be.subject,onClose:()=>Y(!1)}),L&&P&&be&&s.jsx(mV,{studyPlan:P,subject:be.subject,onClose:()=>z(!1)}),U&&be&&s.jsx(hV,{groupId:be.id,groupName:be.name,onClose:()=>J(!1),onRequestProcessed:()=>{Zt()}}),te&&be&&(be.is_member||sa)&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-purple-500 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Group Details"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:be.name})]}),s.jsx("button",{onClick:()=>de(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 max-h-[600px] overflow-y-auto space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-4 p-6 bg-slate-50 rounded-2xl border border-slate-200",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center font-black text-2xl border border-purple-200 shrink-0",children:be.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-900 text-xl mb-2",children:be.name}),s.jsx("p",{className:"text-sm text-slate-600 mb-3",children:be.description}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-bold",children:be.subject}),s.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold",children:be.faculty}),zd(be.status)]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Leader"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:be.creator_name})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Members"}),s.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[be.members_count," / ",be.max_members]})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Location"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:be.location})]}),s.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Created"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(be.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gt,{className:"text-purple-600",size:24}),s.jsxs("h4",{className:"text-lg font-bold text-slate-900",children:["Members (",be.members_count,")"]})]}),ve?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx(Re,{size:32,className:"animate-spin text-purple-600"})}):_e.length===0?s.jsx("div",{className:"p-6 bg-slate-50 rounded-xl text-center",children:s.jsx("p",{className:"text-sm text-slate-600",children:"No members found"})}):s.jsx("div",{className:"space-y-3",children:_e.map(H=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-all",children:[s.jsx(Dt,{to:`/profile/${H.id}`,className:`w-12 h-12 ${H.is_leader?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"} rounded-xl flex items-center justify-center font-bold text-lg cursor-pointer hover:scale-105 transition-transform`,children:H.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Dt,{to:`/profile/${H.id}`,className:"font-bold text-slate-900 hover:text-orange-500 transition-colors cursor-pointer",children:H.name}),H.is_leader&&s.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-bold",children:"Leader"})]}),s.jsx("p",{className:"text-xs text-slate-500",children:H.email}),H.major&&s.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[s.jsx("span",{className:"font-bold",children:"Major:"})," ",H.major]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"text-right",children:s.jsxs("p",{className:"text-xs text-slate-400",children:["Joined ",new Date(H.joined_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})}),sa&&!H.is_leader&&s.jsxs("button",{onClick:()=>Ws(H.id,H.name),disabled:ue===H.id,className:"flex items-center gap-1.5 px-3 py-2 bg-red-500 text-white rounded-lg text-xs font-bold uppercase tracking-wider hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove member from group",children:[ue===H.id?s.jsx(Re,{size:14,className:"animate-spin"}):s.jsx(bR,{size:14}),"Kick"]})]})]},H.id))})]})]}),s.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-end gap-3",children:sa?s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:jc,className:"flex items-center gap-2 px-5 py-2.5 bg-orange-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-orange-600 transition-all",children:[s.jsx(Wo,{size:14}),"Edit Group"]}),s.jsxs("button",{onClick:Ji,className:"flex items-center gap-2 px-5 py-2.5 bg-red-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-all",children:[s.jsx(Ai,{size:14}),"Delete Group"]})]}):s.jsxs("button",{onClick:Wi,disabled:X,className:"flex items-center gap-2 px-5 py-2.5 bg-red-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50",children:[X?s.jsx(Re,{size:14,className:"animate-spin"}):s.jsx(Pb,{size:14}),"Leave Group"]})})]})}),nr&&be&&sa&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-emerald-500 p-10 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Meetings"}),s.jsx("p",{className:"text-emerald-100 text-sm font-bold mt-1",children:be.name})]}),s.jsx("button",{onClick:()=>{qn(!1),Vn(!1)},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 max-h-[500px] overflow-y-auto space-y-4",children:[Hn&&s.jsxs("form",{onSubmit:Dd,className:"p-5 bg-emerald-50 border border-emerald-200 rounded-2xl space-y-3 animate-in slide-in-from-top-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest",children:"New Meeting"}),s.jsx("button",{type:"button",onClick:()=>Vn(!1),className:"text-emerald-400 hover:text-emerald-600",children:s.jsx(ct,{size:16})})]}),s.jsxs("div",{className:"relative",children:[s.jsx($u,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{required:!0,placeholder:"Meeting title",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:le.title,onChange:H=>ye({...le,title:H.target.value})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{type:"datetime-local",required:!0,className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:le.start_time,onChange:H=>ye({...le,start_time:H.target.value})})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsxs("select",{className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500 appearance-none",value:le.recurrence,onChange:H=>ye({...le,recurrence:H.target.value}),children:[s.jsx("option",{value:"none",children:"One-time"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),le.recurrence!=="none"&&s.jsx("input",{type:"number",placeholder:`How many ${le.recurrence==="daily"?"days":le.recurrence==="weekly"?"weeks":"months"}?`,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:le.recurrence_count,onChange:H=>ye({...le,recurrence_count:H.target.value}),min:"1",max:"365"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{placeholder:"Location or link (optional)",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:le.location,onChange:H=>ye({...le,location:H.target.value})})]}),s.jsx("button",{type:"submit",disabled:Ge,className:"w-full py-3 bg-emerald-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center justify-center gap-2",children:Ge?s.jsx(Re,{size:16,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{size:14})," Schedule & Share to Chat"]})})]}),Ot?s.jsx("div",{className:"flex items-center justify-center p-10",children:s.jsx(Re,{size:32,className:"animate-spin text-emerald-500"})}):pe.length===0&&!Hn?s.jsxs("div",{className:"p-10 text-center space-y-3",children:[s.jsx(Rn,{size:40,className:"mx-auto text-slate-200"}),s.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No meetings scheduled yet"}),s.jsx("button",{onClick:()=>Vn(!0),className:"text-xs font-black text-emerald-500 uppercase tracking-widest hover:text-emerald-600",children:"Schedule one now"})]}):pe.sort((H,ke)=>new Date(H.start_time).getTime()-new Date(ke.start_time).getTime()).map(H=>{const ke=new Date(H.start_time)<new Date;return s.jsx("div",{className:`p-5 rounded-2xl border transition-all ${ke?"bg-slate-50 border-slate-200 opacity-60":"bg-white border-slate-200 hover:border-emerald-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h4",{className:"font-bold text-slate-900 truncate",children:H.title}),H.recurrence&&H.recurrence!=="none"&&s.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-black uppercase shrink-0",children:[s.jsx(Bo,{size:10}),H.recurrence]}),ke&&s.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 rounded-full text-[10px] font-black uppercase shrink-0",children:"Past"})]}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(dn,{size:14}),s.jsxs("span",{className:"font-bold",children:[new Date(H.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(H.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),H.location&&s.jsxs("span",{className:"flex items-center gap-1.5",children:[s.jsx(Nr,{size:14}),s.jsx("span",{className:"font-medium truncate",children:H.location})]})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[s.jsx("button",{onClick:()=>{Fe(H),Oe(H.start_time?.slice(0,16)||""),tt(H.recurrence||"none"),yt(H.recurrence_count||""),De(H.location||"")},disabled:Ye===H.id,className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-all",title:"Reschedule",children:s.jsx(Rn,{size:16})}),s.jsx("button",{onClick:()=>Ld(H),disabled:Ye===H.id,className:"p-2 text-red-400 hover:bg-red-50 hover:text-red-500 rounded-lg transition-all",title:"Cancel",children:Ye===H.id?s.jsx(Re,{size:16,className:"animate-spin"}):s.jsx(Ai,{size:16})})]})]})},H.id)})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[s.jsx("button",{onClick:()=>{qn(!1),Vn(!1)},className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"}),!Hn&&s.jsxs("button",{onClick:()=>Vn(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-600 transition-all",children:[s.jsx(Pp,{size:14}),"New Meeting"]})]})]})}),je&&s.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-blue-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Reschedule Meeting"}),s.jsx("p",{className:"text-blue-100 text-xs font-bold mt-1 truncate",children:je.title})]}),s.jsx("button",{onClick:()=>{Fe(null),tt("none"),yt(""),De("")},children:s.jsx(ct,{size:20})})]}),s.jsxs("div",{className:"p-8 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Current Date & Time"}),s.jsx("p",{className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-500",children:new Date(je.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Date & Time"}),s.jsxs("div",{className:"relative",children:[s.jsx(dn,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{type:"datetime-local",required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",value:ie,onChange:H=>Oe(H.target.value)})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),s.jsxs("select",{value:et,onChange:H=>tt(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",children:[s.jsx("option",{value:"none",children:"One-time"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),et!=="none"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:["How many ",et==="daily"?"days":et==="weekly"?"weeks":"months","?"]}),s.jsx("input",{type:"number",placeholder:"Count",value:pt,onChange:H=>yt(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",min:"1",max:"365"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{placeholder:"Location or link (optional)",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",value:$,onChange:H=>De(H.target.value)})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>{Fe(null),tt("none"),yt(""),De("")},className:"flex-1 py-3 border-2 border-slate-100 rounded-xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),s.jsx("button",{onClick:Xi,disabled:!ie||Ye===je.id,className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:Ye===je.id?s.jsx(Re,{size:14,className:"animate-spin"}):"Reschedule"})]})]})]})}),Vi&&Kn&&s.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Cancel Meeting"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:Kn.title})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for cancelling this meeting? This will be sent to all group members."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Cancellation Reason (Optional)"}),s.jsx("textarea",{value:pr,onChange:H=>_a(H.target.value),placeholder:"e.g., Postponed due to schedule conflict, Will reschedule for next week, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[pr.length,"/500 characters"]})]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[s.jsx("button",{onClick:Xa,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),s.jsx("button",{onClick:()=>Ec(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Cancel"}),s.jsx("button",{onClick:()=>Ec(pr.trim()||void 0),disabled:pr.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Cancel"})]})]})})]})},xV=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(""),[f,p]=b.useState([]),[h,g]=b.useState(!1),[v,N]=b.useState(null),[_,j]=b.useState({severity:3,description:"",reason:""}),[E,C]=b.useState(null);b.useEffect(()=>{const O=localStorage.getItem("auth_user");O&&C(JSON.parse(O)),A()},[]);const A=async()=>{r(!0);try{const O=await Ae.getMyReports();console.log("Raw reports data from backend:",O);const L=O.data||O;Array.isArray(L)&&L.length>0&&console.log("First report structure:",L[0]),t(L)}catch(O){console.error("Failed to load reports",O)}finally{r(!1)}},k=async O=>{if(u(O),!O.trim()){p([]);return}g(!0);try{const L=await Ae.searchUsers(O);p(L.filter(z=>z.id!==E?.id))}catch(L){console.error("Failed to search users",L),p([])}finally{g(!1)}},R=O=>{N(O),u(""),p([])},M=async O=>{if(O.preventDefault(),!v||!_.reason||!_.description){alert("Please select a user, choose a reason, and provide details");return}l(!0);try{const L={Harassment:"harassment","Inappropriate Content":"inappropriate_content",Spam:"spam",Impersonation:"fake_profile","Hate Speech":"harassment",Violence:"harassment","Privacy Violation":"inappropriate_content",Other:"other"},z={1:"low",2:"low",3:"medium",4:"high",5:"urgent"};await Ae.submitReport({reported_user_id:v.id,reason:L[_.reason]||"other",description:_.description,priority:z[_.severity]||"medium"}),j({severity:3,description:"",reason:""}),N(null),alert("Report submitted successfully. Admin will review it shortly."),await A()}catch(L){alert("Error submitting report: "+L.message)}finally{l(!1)}},P=O=>{const L=["bg-slate-100 text-slate-600","bg-blue-100 text-blue-600","bg-yellow-100 text-yellow-600","bg-orange-100 text-orange-600","bg-red-100 text-red-600"],z=["Minor","Low","Medium","High","Critical"];return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${L[O-1]||L[2]}`,children:z[O-1]||"Medium"})};return s.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-lg sticky top-20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center",children:s.jsx(sr,{className:"text-red-600",size:20})}),s.jsx("h2",{className:"text-lg font-extrabold text-slate-900 tracking-tight",children:"Submit Report"})]}),s.jsxs("form",{onSubmit:M,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Select User to Report"}),v?s.jsxs("div",{className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-2xl flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold shrink-0",children:v.avatar||v.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 text-sm truncate",children:v.name}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:v.email})]})]}),s.jsx("button",{type:"button",onClick:()=>N(null),className:"text-xs font-bold text-red-600 hover:text-red-700 uppercase tracking-widest shrink-0",children:"Change"})]}):s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 focus-within:ring-2 focus-within:ring-red-500/20 focus-within:border-red-500",children:[s.jsx(Ua,{size:18,className:"text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"bg-transparent border-none outline-none ml-3 w-full text-sm font-bold",value:c,onChange:O=>k(O.target.value)})]}),h&&s.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl p-4 shadow-xl z-10",children:s.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[s.jsx(Re,{size:16,className:"animate-spin"}),s.jsx("span",{className:"text-sm font-medium",children:"Searching..."})]})}),f.length>0&&s.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl shadow-xl z-10 max-h-64 overflow-y-auto",children:f.map(O=>s.jsxs("button",{type:"button",onClick:()=>R(O),className:"w-full p-4 flex items-center gap-3 hover:bg-slate-50 transition-all border-b border-slate-100 last:border-0",children:[s.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center font-bold shrink-0",children:O.avatar||O.name[0]}),s.jsxs("div",{className:"text-left flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 text-sm truncate",children:O.name}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:O.email})]})]},O.id))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Report Reason"}),s.jsxs("select",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none text-sm font-bold appearance-none cursor-pointer",value:_.reason,onChange:O=>j({..._,reason:O.target.value}),children:[s.jsx("option",{value:"",children:"Select a reason..."}),s.jsx("option",{value:"Harassment",children:"Harassment or Bullying"}),s.jsx("option",{value:"Inappropriate Content",children:"Inappropriate Content"}),s.jsx("option",{value:"Spam",children:"Spam or Advertising"}),s.jsx("option",{value:"Impersonation",children:"Impersonation"}),s.jsx("option",{value:"Hate Speech",children:"Hate Speech"}),s.jsx("option",{value:"Violence",children:"Threats or Violence"}),s.jsx("option",{value:"Privacy Violation",children:"Privacy Violation"}),s.jsx("option",{value:"Other",children:"Other Violation"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Severity Level"}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(O=>s.jsx("button",{type:"button",onClick:()=>j({..._,severity:O}),className:`flex-1 h-12 rounded-2xl flex items-center justify-center transition-all font-bold text-xs ${_.severity>=O?O<=2?"bg-blue-500 text-white shadow-lg shadow-blue-100":O===3?"bg-yellow-500 text-white shadow-lg shadow-yellow-100":"bg-red-500 text-white shadow-lg shadow-red-100":"bg-slate-100 text-slate-400 hover:bg-slate-200"}`,children:O},O))}),s.jsx("p",{className:"text-xs text-slate-400 font-medium ml-2",children:"1 = Minor issue  5 = Critical violation"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Detailed Description"}),s.jsx("textarea",{required:!0,rows:4,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none text-sm font-bold resize-none",placeholder:"Please provide specific details about the incident...",value:_.description,onChange:O=>j({..._,description:O.target.value})})]}),s.jsx("button",{type:"submit",disabled:a||!v,className:"w-full bg-red-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-red-100 hover:bg-red-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:a?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{size:16})," Submit Report"]})})]})]})}),s.jsx("div",{className:"lg:col-span-3",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm h-[calc(100vh-8rem)] flex flex-col",children:[s.jsx("div",{className:"p-6 border-b border-slate-200 shrink-0",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-lg font-extrabold text-slate-900 tracking-tight",children:"Your Previous Reports"}),s.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs font-bold uppercase tracking-widest",children:[s.jsx(Sn,{size:16}),s.jsx("span",{children:"Admin Review"})]})]})}),s.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:n?s.jsx("div",{className:"flex justify-center py-20",children:s.jsx(Re,{size:32,className:"animate-spin text-red-200"})}):s.jsxs("div",{className:"space-y-6",children:[e.length===0&&s.jsxs("div",{className:"text-center py-20 opacity-30",children:[s.jsx(sr,{size:48,className:"mx-auto mb-4"}),s.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"No reports submitted yet"})]}),e.map(O=>{const L={spam:"Spam or Advertising",harassment:"Harassment or Bullying",inappropriate_content:"Inappropriate Content",fake_profile:"Impersonation",other:"Other Violation"},z={low:2,medium:3,high:4,urgent:5},q=Y=>{const G={pending:{bg:"bg-yellow-100",text:"text-yellow-700"},investigating:{bg:"bg-blue-100",text:"text-blue-700"},resolved:{bg:"bg-green-100",text:"text-green-700"},dismissed:{bg:"bg-gray-100",text:"text-gray-700"}},W=G[Y]||G.pending;return s.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${W.bg} ${W.text} uppercase`,children:Y})};return s.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-2xl hover:shadow-lg hover:border-slate-300 transition-all relative",children:[s.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[P(z[O.priority]||3),q(O.status)]}),s.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-xl flex items-center justify-center shrink-0",children:s.jsx(Bh,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0 pr-32",children:[s.jsx("h4",{className:"font-bold text-slate-900 text-base mb-1",children:O.reported_user?.name||"Unknown User"}),s.jsx("p",{className:"text-xs text-slate-500 mb-1",children:O.reported_user?.email||""}),s.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:new Date(O.created_at).toLocaleDateString()}),s.jsx("div",{className:"mt-2 inline-block px-2 py-1 bg-white rounded-lg border border-slate-200",children:s.jsx("p",{className:"text-xs font-bold text-slate-600",children:L[O.reason]||O.reason})})]})]}),s.jsx("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:s.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:O.description})}),O.resolution_notes&&s.jsxs("div",{className:"mt-3 bg-green-50 rounded-xl p-4 border border-green-200",children:[s.jsx("p",{className:"text-xs font-bold text-green-700 uppercase mb-1",children:"Resolution"}),s.jsx("p",{className:"text-sm text-green-900",children:O.resolution_notes})]})]},O.id)})]})})]})})]})})},vV=["January","February","March","April","May","June","July","August","September","October","November","December"],yV=()=>{const e=Lr(),[t,n]=b.useState([]),[r,a]=b.useState([]),[l,c]=b.useState(!0),u=b.useMemo(()=>{try{const ae=localStorage.getItem("auth_user");return ae?JSON.parse(ae):null}catch{return null}},[]),[f,p]=b.useState(!1),[h,g]=b.useState({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[v,N]=b.useState(null),[_,j]=b.useState(!1),[E,C]=b.useState(!1),[A,k]=b.useState(!1),[R,M]=b.useState([]),[P,O]=b.useState(null),[L,z]=b.useState({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[q,Y]=b.useState(!1),[G,W]=b.useState(""),[ee,Z]=b.useState(null),U=new Date,[J,te]=b.useState(U.getMonth()),[de,ue]=b.useState(U.getFullYear()),D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=b.useMemo(()=>{const ae={};return r.forEach(je=>{ae[je.id]=je}),ae},[r]),ge=ae=>ae&&X[ae]?X[ae].name:null,xe=ae=>{if(!u)return!1;const je=String(u.id);return!!(String(ae.user_id)===je||ae.group_id&&X[ae.group_id]&&String(X[ae.group_id].creator_id)===je)},K=b.useMemo(()=>{const ae=new Date(de,J,1).getDay(),je=new Date(de,J+1,0).getDate(),Fe=Array.from({length:ae},(Oe,et)=>({key:`empty-${et}`,day:0})),ie=Array.from({length:je},(Oe,et)=>({key:`day-${et+1}`,day:et+1}));return[...Fe,...ie]},[J,de]),le=b.useMemo(()=>t.filter(ae=>{const je=new Date(ae.start_time);return je.getMonth()===J&&je.getFullYear()===de}),[t,J,de]),ye=b.useMemo(()=>{const ae=new Date;return ae.setHours(0,0,0,0),t.filter(je=>new Date(je.start_time)>=ae).sort((je,Fe)=>new Date(je.start_time).getTime()-new Date(Fe.start_time).getTime())},[t]);b.useEffect(()=>{Ge()},[]);const Ge=async()=>{c(!0);try{const[ae,je]=await Promise.all([Ae.getEvents(),Ae.getGroups()]);n(ae),a(je.filter(Fe=>Fe.is_member))}catch(ae){console.error("Failed to load data",ae)}finally{c(!1)}},oe=async ae=>{ae.preventDefault();try{await Ae.createEvent(h),p(!1);const je=await Ae.getEvents();n(je),g({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""})}catch{alert("Failed to create event")}},_e=ae=>{Z(ae),Y(!0),N(null)},Pe=async ae=>{if(ee){Y(!1);try{await Ae.deleteEvent(ee.id,ae);const je=await Ae.getEvents();n(je),alert("Event cancelled successfully.")}catch{alert("Failed to cancel event")}finally{Z(null),W("")}}},ve=()=>{Y(!1),Z(null),W("")},lt=async()=>{if(!P||!L.start_time){alert("Please fill in all required fields");return}try{await Ae.deleteEvent(P.id),await Ae.createEvent({title:P.title,type:P.group_id?P.type:L.type,start_time:L.start_time,location:L.location,recurrence:L.recurrence,recurrence_count:L.recurrence_count,group_id:P.group_id}),O(null),z({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""});const ae=await Ae.getEvents();n(ae),alert("Event updated successfully!")}catch{alert("Failed to update event")}},Be=()=>{J===0?(te(11),ue(de-1)):te(J-1)},Qe=()=>{J===11?(te(0),ue(de+1)):te(J+1)},ft=ae=>`My Upcoming Schedule:

${ye.filter(ie=>ae.includes(ie.id)).map(ie=>{const Oe=new Date(ie.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),et=ie.location?` | ${ie.location}`:"",tt=ge(ie.group_id),pt=tt?` [${tt}]`:"";return` ${ie.title}${pt}  ${Oe}${et}`}).join(`
`)||"No events selected."}`,Xt=async()=>{if(R.length===0){alert("Please select at least one event to share");return}const ae=ft(R);if(navigator.share)try{await navigator.share({title:"My Schedule",text:ae})}catch{}else try{await navigator.clipboard.writeText(ae),alert("Schedule copied to clipboard!")}catch{alert("Could not copy schedule.")}C(!1),k(!1),M([])},Cn=async ae=>{if(R.length===0){alert("Please select at least one event to share");return}j(!0);try{const je=ft(R);await Ae.sendMessage(ae,je),alert("Schedule shared to group chat!")}catch{alert("Failed to share to group chat.")}finally{j(!1),C(!1),k(!1),M([])}},fr=()=>{k(!0),M(ye.map(ae=>ae.id))},tr=ae=>{M(je=>je.includes(ae)?je.filter(Fe=>Fe!==ae):[...je,ae])},nr=async ae=>{if(ae.group_id){j(!0);try{const je=new Date(ae.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Fe=ae.recurrence&&ae.recurrence!=="none"?` (Repeats ${ae.recurrence})`:"",ie=ae.location?`
Location: ${ae.location}`:"",Oe=` Meeting Reminder!

${ae.title}
${je}${Fe}${ie}`;await Ae.sendMessage(ae.group_id,Oe),alert("Shared to group chat!")}catch{alert("Failed to share to group chat.")}finally{j(!1)}}},qn=ae=>{N(null),e(`/groups?group=${ae}`)},pe=new Date,ze=ae=>ae===pe.getDate()&&J===pe.getMonth()&&de===pe.getFullYear(),Ot=r;return s.jsx("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2 space-y-6",children:s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-extrabold text-slate-900 tracking-tight",children:[vV[J]," ",de]}),s.jsxs("p",{className:"text-slate-500 font-semibold text-xs uppercase tracking-widest mt-1",children:[le.length," sessions this month"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Be,className:"p-2 hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:s.jsx(Zv,{size:20,className:"text-slate-400"})}),s.jsx("button",{onClick:()=>{te(U.getMonth()),ue(U.getFullYear())},className:"px-3 py-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:"Today"}),s.jsx("button",{onClick:Qe,className:"p-2 hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:s.jsx(Jo,{size:20,className:"text-slate-400"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-px bg-slate-100 border border-slate-100 rounded-3xl overflow-hidden",children:[D.map(ae=>s.jsx("div",{className:"bg-slate-50 p-4 text-center",children:s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ae})},ae)),K.map(ae=>{if(ae.day===0)return s.jsx("div",{className:"bg-white h-24 md:h-32 p-2"},ae.key);const je=le.filter(Fe=>new Date(Fe.start_time).getDate()===ae.day);return s.jsxs("div",{className:`bg-white h-24 md:h-32 p-3 transition-colors hover:bg-slate-50/50 group relative ${ze(ae.day)?"ring-2 ring-inset ring-orange-400":""}`,children:[s.jsx("span",{className:`text-sm font-bold ${ze(ae.day)?"text-orange-500":"text-slate-400"}`,children:ae.day}),s.jsx("div",{className:"mt-1 space-y-1",children:je.map(Fe=>s.jsx("button",{onClick:()=>N(Fe),className:`w-full text-left p-1 text-white text-[8px] font-black uppercase rounded truncate shadow-sm transition-colors ${Fe.group_id?"bg-emerald-500 hover:bg-emerald-600":"bg-orange-500 hover:bg-orange-600"}`,children:Fe.title},Fe.id))}),s.jsx("button",{onClick:()=>p(!0),className:"absolute bottom-2 right-2 p-1 bg-slate-50 text-slate-300 rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:text-orange-500",children:s.jsx(Pp,{size:14})})]},ae.key)})]})]})}),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Upcoming"}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:fr,title:"Share schedule",children:s.jsx(cx,{size:18,className:"text-slate-400 hover:text-orange-500 cursor-pointer transition-colors"})}),E&&s.jsxs("div",{className:"absolute top-8 right-0 w-56 bg-white border border-slate-200 rounded-xl shadow-xl z-30 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[s.jsx("div",{className:"p-2 border-b border-slate-50",children:s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Share schedule"})}),s.jsxs("button",{onClick:Xt,className:"w-full text-left px-4 py-2.5 text-xs font-bold text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-2",children:[s.jsx(cx,{size:14}),"Copy / Share"]}),Ot.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-1.5 border-t border-slate-50",children:s.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Send to group chat"})}),Ot.map(ae=>s.jsxs("button",{onClick:()=>Cn(ae.id),disabled:_,className:"w-full text-left px-4 py-2.5 text-xs font-bold text-slate-600 hover:bg-orange-50 hover:text-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:[s.jsx(gt,{size:14}),s.jsx("span",{className:"truncate",children:ae.name})]},ae.id))]})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[l?s.jsx("div",{className:"flex justify-center py-10",children:s.jsx(Re,{className:"animate-spin text-slate-200"})}):s.jsxs(s.Fragment,{children:[ye.length===0&&s.jsx("p",{className:"text-center text-xs font-bold text-slate-400 uppercase py-10",children:"No upcoming events"}),ye.map(ae=>{const je=ge(ae.group_id);return s.jsxs("div",{onClick:()=>N(ae),className:"w-full text-left p-5 bg-slate-50 rounded-3xl border border-slate-100 hover:border-orange-200 transition-all cursor-pointer group relative",children:[s.jsx("div",{className:"flex justify-between items-start mb-3",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-1 rounded-lg ${ae.type==="Exam"?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ae.type}),ae.recurrence&&ae.recurrence!=="none"&&s.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black uppercase px-2 py-1 rounded-lg bg-blue-100 text-blue-600",children:[s.jsx(Bo,{size:10}),ae.recurrence]}),je&&s.jsxs("button",{onClick:Fe=>{Fe.stopPropagation(),qn(ae.group_id)},className:"flex items-center gap-1 text-[10px] font-black uppercase px-2 py-1 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors",children:[s.jsx(gt,{size:10}),je]})]})}),s.jsx("h4",{className:"font-bold text-slate-900 text-base mb-3 group-hover:text-orange-500 transition-colors",children:ae.title}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx(dn,{size:14}),s.jsxs("span",{className:"text-xs font-bold",children:[new Date(ae.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(ae.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),ae.location&&s.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[s.jsx(Nr,{size:14}),s.jsx("span",{className:"text-xs font-bold",children:ae.location})]})]})]},ae.id)})]}),s.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 border-2 border-dashed border-slate-200 rounded-3xl text-slate-400 text-xs font-black uppercase tracking-widest hover:border-orange-200 hover:text-orange-500 transition-all mt-4 flex items-center justify-center gap-2",children:[s.jsx(Pp,{size:16}),"Add Event"]})]})]})}),f&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md overflow-hidden shadow-2xl",children:[s.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold",children:"New Event"}),s.jsx("button",{onClick:()=>p(!1),children:s.jsx(ct,{size:20})})]}),s.jsxs("form",{onSubmit:oe,className:"p-8 space-y-4",children:[s.jsx("input",{required:!0,placeholder:"Event Title",className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:h.title,onChange:ae=>g({...h,title:ae.target.value})}),s.jsxs("select",{className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:h.type,onChange:ae=>g({...h,type:ae.target.value}),children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Project",children:"Project"}),s.jsx("option",{value:"Exam",children:"Exam"}),s.jsx("option",{value:"Assignment",children:"Assignment"})]}),s.jsx("input",{type:"datetime-local",required:!0,className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:h.start_time,onChange:ae=>g({...h,start_time:ae.target.value})}),s.jsx("input",{placeholder:"Location (Optional)",className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:h.location,onChange:ae=>g({...h,location:ae.target.value})}),s.jsxs("div",{className:"relative",children:[s.jsx(Bo,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsxs("select",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border rounded-xl font-bold text-sm appearance-none",value:h.recurrence,onChange:ae=>g({...h,recurrence:ae.target.value}),children:[s.jsx("option",{value:"none",children:"One-time (No repeat)"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),h.recurrence!=="none"&&s.jsx("input",{type:"number",placeholder:`How many ${h.recurrence==="daily"?"days":h.recurrence==="weekly"?"weeks":"months"}?`,className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:h.recurrence_count,onChange:ae=>g({...h,recurrence_count:ae.target.value}),min:"1",max:"365"}),s.jsx("button",{type:"submit",className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black text-xs uppercase tracking-widest",children:"Create Event"})]})]})}),v&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:`p-8 text-white flex justify-between items-center ${v.type==="Exam"?"bg-red-500":v.group_id?"bg-emerald-500":"bg-orange-500"}`,children:[s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-xl font-bold truncate",children:v.title}),s.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[s.jsx("span",{className:"text-xs font-black uppercase bg-white/20 px-2 py-0.5 rounded-lg",children:v.type}),v.recurrence&&v.recurrence!=="none"&&s.jsxs("span",{className:"flex items-center gap-1 text-xs font-black uppercase bg-white/20 px-2 py-0.5 rounded-lg",children:[s.jsx(Bo,{size:10}),v.recurrence]})]})]}),s.jsx("button",{onClick:()=>N(null),className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all shrink-0 ml-3",children:s.jsx(ct,{size:20})})]}),s.jsxs("div",{className:"p-8 space-y-4",children:[ge(v.group_id)&&s.jsxs("button",{onClick:()=>qn(v.group_id),className:"w-full flex items-center gap-3 p-4 bg-purple-50 rounded-xl border border-purple-200 hover:bg-purple-100 transition-all",children:[s.jsx(gt,{size:18,className:"text-purple-500 shrink-0"}),s.jsxs("div",{className:"text-left",children:[s.jsx("p",{className:"text-[10px] font-black text-purple-400 uppercase tracking-widest",children:"Group"}),s.jsx("p",{className:"text-sm font-bold text-purple-700",children:ge(v.group_id)})]}),s.jsx(Jo,{size:16,className:"text-purple-300 ml-auto"})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx(Rn,{size:18,className:"text-slate-400 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(v.start_time).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx(dn,{size:18,className:"text-slate-400 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Time"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(v.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),v.location&&s.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[s.jsx(Nr,{size:18,className:"text-slate-400 shrink-0"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),s.jsx("p",{className:"text-sm font-bold text-slate-900",children:v.location})]})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[v.group_id&&s.jsx("button",{onClick:()=>nr(v),disabled:_,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:_?s.jsx(Re,{size:14,className:"animate-spin"}):s.jsxs(s.Fragment,{children:[s.jsx(Op,{size:14})," Share"]})}),xe(v)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>{O(v),z({title:v.title,type:v.type||"General",start_time:v.start_time?.slice(0,16)||"",location:v.location||"",recurrence:v.recurrence||"none",recurrence_count:v.recurrence_count||""}),N(null)},className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Reschedule"}),s.jsx("button",{onClick:()=>_e(v),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-red-600 transition-all",children:"Cancel"})]})]})]})]})}),P&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-blue-500 p-8 text-white flex justify-between items-center",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Edit Event"}),s.jsx("button",{onClick:()=>O(null),className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all",children:s.jsx(ct,{size:20})})]}),s.jsxs("div",{className:"p-8 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),s.jsx("input",{type:"text",value:P.title,disabled:!0,className:"w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-xl font-bold text-sm text-slate-500 cursor-not-allowed"}),s.jsx("p",{className:"text-[9px] text-slate-400 ml-2",children:"Title cannot be edited"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Type"}),s.jsxs("select",{value:L.type,onChange:ae=>z({...L,type:ae.target.value}),disabled:!!P.group_id,className:`w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-sm outline-none ${P.group_id?"bg-slate-100 text-slate-500 cursor-not-allowed":"bg-slate-50 focus:border-blue-500"}`,children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Project",children:"Project"}),s.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),s.jsx("option",{value:"Exam",children:"Exam"}),s.jsx("option",{value:"Assignment",children:"Assignment"})]}),P.group_id&&s.jsx("p",{className:"text-[9px] text-slate-400 ml-2",children:"Type cannot be edited for group events"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Date & Time"}),s.jsx("input",{type:"datetime-local",value:L.start_time,onChange:ae=>z({...L,start_time:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsx("input",{type:"text",placeholder:"Optional",value:L.location,onChange:ae=>z({...L,location:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),s.jsxs("select",{value:L.recurrence,onChange:ae=>z({...L,recurrence:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",children:[s.jsx("option",{value:"none",children:"None"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),L.recurrence!=="none"&&s.jsxs("div",{className:"space-y-1",children:[s.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:["How many ",L.recurrence==="daily"?"days":L.recurrence==="weekly"?"weeks":"months","?"]}),s.jsx("input",{type:"number",placeholder:"Count",value:L.recurrence_count,onChange:ae=>z({...L,recurrence_count:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",min:"1",max:"365"})]}),s.jsxs("div",{className:"flex gap-3 pt-2",children:[s.jsx("button",{onClick:()=>O(null),className:"flex-1 py-3 border-2 border-slate-100 rounded-xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),s.jsx("button",{onClick:lt,className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Save Changes"})]})]})]})}),A&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-bold",children:"Select Events to Share"}),s.jsxs("p",{className:"text-xs text-orange-100 mt-1",children:[R.length," event",R.length!==1?"s":""," selected"]})]}),s.jsx("button",{onClick:()=>{k(!1),M([])},className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all",children:s.jsx(ct,{size:20})})]}),s.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:ye.length===0?s.jsx("p",{className:"text-center text-sm font-bold text-slate-400 py-8",children:"No upcoming events to share"}):s.jsx("div",{className:"space-y-2",children:ye.map(ae=>{const je=ge(ae.group_id),Fe=R.includes(ae.id);return s.jsx("button",{onClick:()=>tr(ae.id),className:`w-full text-left p-4 rounded-2xl border-2 transition-all ${Fe?"bg-orange-50 border-orange-500":"bg-slate-50 border-slate-200 hover:border-slate-300"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`mt-1 w-5 h-5 rounded-md border-2 flex items-center justify-center shrink-0 ${Fe?"bg-orange-500 border-orange-500":"border-slate-300"}`,children:Fe&&s.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[s.jsx("h4",{className:"font-bold text-sm text-slate-900",children:ae.title}),s.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded ${ae.type==="Exam"?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ae.type}),je&&s.jsx("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 rounded bg-purple-100 text-purple-600",children:je})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[s.jsx(dn,{size:12}),s.jsxs("span",{className:"font-bold",children:[new Date(ae.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(ae.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),ae.location&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[s.jsx(Nr,{size:12}),s.jsx("span",{className:"font-bold",children:ae.location})]})]})]})},ae.id)})})}),s.jsxs("div",{className:"p-6 border-t border-slate-100 space-y-3",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>M(ye.map(ae=>ae.id)),className:"flex-1 py-2 text-xs font-black uppercase tracking-widest text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:"Select All"}),s.jsx("button",{onClick:()=>M([]),className:"flex-1 py-2 text-xs font-black uppercase tracking-widest text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:"Clear"})]}),s.jsxs("button",{onClick:()=>{R.length>0?(k(!1),C(!0)):alert("Please select at least one event")},disabled:R.length===0,className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(cx,{size:14}),"Continue to Share"]})]})]})}),q&&ee&&s.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Cancel Event"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:ee.title})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:ee.group_id?"Would you like to provide a reason for cancelling this meeting? This will be sent to all group members.":"Would you like to provide a reason for cancelling this event?"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Cancellation Reason (Optional)"}),s.jsx("textarea",{value:G,onChange:ae=>W(ae.target.value),placeholder:"e.g., Postponed due to schedule conflict, Will reschedule for next week, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[G.length,"/500 characters"]})]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[s.jsx("button",{onClick:ve,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),s.jsx("button",{onClick:()=>Pe(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Cancel"}),s.jsx("button",{onClick:()=>Pe(G.trim()||void 0),disabled:G.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Cancel"})]})]})})]})})};function yP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=yP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function dt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=yP(e))&&(r&&(r+=" "),r+=t);return r}var bV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hb(e){if(typeof e!="string")return!1;var t=bV;return t.includes(e)}var wV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NV=new Set(wV);function bP(e){return typeof e!="string"?!1:NV.has(e)}function wP(e){return typeof e=="string"&&e.startsWith("data-")}function cr(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(bP(n)||wP(n))&&(t[n]=e[n]);return t}function Ml(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return cr(t)}return typeof e=="object"&&!Array.isArray(e)?cr(e):null}function er(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(bP(n)||wP(n)||Hb(n))&&(t[n]=e[n]);return t}function SV(e){return e==null?null:b.isValidElement(e)?er(e.props):typeof e=="object"&&!Array.isArray(e)?er(e):null}var _V=["children","width","height","viewBox","className","style","title","desc"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xy.apply(null,arguments)}function jV(e,t){if(e==null)return{};var n,r,a=EV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function EV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vb=b.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:u,title:f,desc:p}=e,h=jV(e,_V),g=l||{width:r,height:a,x:0,y:0},v=dt("recharts-surface",c);return b.createElement("svg",xy({},er(h),{className:v,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,p),n)}),CV=["children","className"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vy.apply(null,arguments)}function AV(e,t){if(e==null)return{};var n,r,a=TV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function TV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var an=b.forwardRef((e,t)=>{var{children:n,className:r}=e,a=AV(e,CV),l=dt("recharts-layer",r);return b.createElement("g",vy({className:l},er(a),{ref:t}),n)}),NP=b.createContext(null),kV=()=>b.useContext(NP);function It(e){return function(){return e}}const SP=Math.cos,Gp=Math.sin,wa=Math.sqrt,Bp=Math.PI,Jh=2*Bp,yy=Math.PI,by=2*yy,vl=1e-6,MV=by-vl;function _P(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function RV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return _P;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class PV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?_P:RV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=r-t,p=a-n,h=c-t,g=u-n,v=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>vl)if(!(Math.abs(g*f-p*h)>vl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let N=r-c,_=a-u,j=f*f+p*p,E=N*N+_*_,C=Math.sqrt(j),A=Math.sqrt(v),k=l*Math.tan((yy-Math.acos((j+v-E)/(2*C*A)))/2),R=k/A,M=k/C;Math.abs(R-1)>vl&&this._append`L${t+R*h},${n+R*g}`,this._append`A${l},${l},0,0,${+(g*N>h*_)},${this._x1=t+M*f},${this._y1=n+M*p}`}}arc(t,n,r,a,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),p=t+u,h=n+f,g=1^c,v=c?a-l:l-a;this._x1===null?this._append`M${p},${h}`:(Math.abs(this._x1-p)>vl||Math.abs(this._y1-h)>vl)&&this._append`L${p},${h}`,r&&(v<0&&(v=v%by+by),v>MV?this._append`A${r},${r},0,1,${g},${t-u},${n-f}A${r},${r},0,1,${g},${this._x1=p},${this._y1=h}`:v>vl&&this._append`A${r},${r},0,${+(v>=yy)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Kb(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new PV(t)}function Yb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jP(e){this._context=e}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Wh(e){return new jP(e)}function EP(e){return e[0]}function CP(e){return e[1]}function AP(e,t){var n=It(!0),r=null,a=Wh,l=null,c=Kb(u);e=typeof e=="function"?e:e===void 0?EP:It(e),t=typeof t=="function"?t:t===void 0?CP:It(t);function u(f){var p,h=(f=Yb(f)).length,g,v=!1,N;for(r==null&&(l=a(N=c())),p=0;p<=h;++p)!(p<h&&n(g=f[p],p,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,p,f),+t(g,p,f));if(N)return l=null,N+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:It(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:It(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:It(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(l=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=l=null:l=a(r=f),u):r},u}function np(e,t,n){var r=null,a=It(!0),l=null,c=Wh,u=null,f=Kb(p);e=typeof e=="function"?e:e===void 0?EP:It(+e),t=typeof t=="function"?t:It(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?CP:It(+n);function p(g){var v,N,_,j=(g=Yb(g)).length,E,C=!1,A,k=new Array(j),R=new Array(j);for(l==null&&(u=c(A=f())),v=0;v<=j;++v){if(!(v<j&&a(E=g[v],v,g))===C)if(C=!C)N=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),_=v-1;_>=N;--_)u.point(k[_],R[_]);u.lineEnd(),u.areaEnd()}C&&(k[v]=+e(E,v,g),R[v]=+t(E,v,g),u.point(r?+r(E,v,g):k[v],n?+n(E,v,g):R[v]))}if(A)return u=null,A+""||null}function h(){return AP().defined(a).curve(c).context(l)}return p.x=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),r=null,p):e},p.x0=function(g){return arguments.length?(e=typeof g=="function"?g:It(+g),p):e},p.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:It(+g),p):r},p.y=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),n=null,p):t},p.y0=function(g){return arguments.length?(t=typeof g=="function"?g:It(+g),p):t},p.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:It(+g),p):n},p.lineX0=p.lineY0=function(){return h().x(e).y(t)},p.lineY1=function(){return h().x(e).y(n)},p.lineX1=function(){return h().x(r).y(t)},p.defined=function(g){return arguments.length?(a=typeof g=="function"?g:It(!!g),p):a},p.curve=function(g){return arguments.length?(c=g,l!=null&&(u=c(l)),p):c},p.context=function(g){return arguments.length?(g==null?l=u=null:u=c(l=g),p):l},p}class TP{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function OV(e){return new TP(e,!0)}function IV(e){return new TP(e,!1)}const Jb={draw(e,t){const n=wa(t/Bp);e.moveTo(n,0),e.arc(0,0,n,0,Jh)}},DV={draw(e,t){const n=wa(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},kP=wa(1/3),LV=kP*2,zV={draw(e,t){const n=wa(t/LV),r=n*kP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},UV={draw(e,t){const n=wa(t),r=-n/2;e.rect(r,r,n,n)}},$V=.8908130915292852,MP=Gp(Bp/10)/Gp(7*Bp/10),GV=Gp(Jh/10)*MP,BV=-SP(Jh/10)*MP,FV={draw(e,t){const n=wa(t*$V),r=GV*n,a=BV*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const c=Jh*l/5,u=SP(c),f=Gp(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},hx=wa(3),qV={draw(e,t){const n=-wa(t/(hx*3));e.moveTo(0,n*2),e.lineTo(-hx*n,-n),e.lineTo(hx*n,-n),e.closePath()}},Yr=-.5,Jr=wa(3)/2,wy=1/wa(12),HV=(wy/2+1)*3,VV={draw(e,t){const n=wa(t/HV),r=n/2,a=n*wy,l=r,c=n*wy+n,u=-l,f=c;e.moveTo(r,a),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(Yr*r-Jr*a,Jr*r+Yr*a),e.lineTo(Yr*l-Jr*c,Jr*l+Yr*c),e.lineTo(Yr*u-Jr*f,Jr*u+Yr*f),e.lineTo(Yr*r+Jr*a,Yr*a-Jr*r),e.lineTo(Yr*l+Jr*c,Yr*c-Jr*l),e.lineTo(Yr*u+Jr*f,Yr*f-Jr*u),e.closePath()}};function KV(e,t){let n=null,r=Kb(a);e=typeof e=="function"?e:It(e||Jb),t=typeof t=="function"?t:It(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:It(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:It(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function Fp(){}function qp(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function RP(e){this._context=e}RP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YV(e){return new RP(e)}function PP(e){this._context=e}PP.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JV(e){return new PP(e)}function OP(e){this._context=e}OP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function WV(e){return new OP(e)}function IP(e){this._context=e}IP.prototype={areaStart:Fp,areaEnd:Fp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function XV(e){return new IP(e)}function V2(e){return e<0?-1:1}function K2(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(l*a+c*r)/(r+a);return(V2(l)+V2(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function Y2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function mx(e,t,n){var r=e._x0,a=e._y0,l=e._x1,c=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,a+u*t,l-u,c-u*n,l,c)}function Hp(e){this._context=e}Hp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:mx(this,this._t0,Y2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,mx(this,Y2(this,n=K2(this,e,t)),n);break;default:mx(this,this._t0,n=K2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function DP(e){this._context=new LP(e)}(DP.prototype=Object.create(Hp.prototype)).point=function(e,t){Hp.prototype.point.call(this,t,e)};function LP(e){this._context=e}LP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function ZV(e){return new Hp(e)}function QV(e){return new DP(e)}function zP(e){this._context=e}zP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=J2(e),a=J2(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function J2(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function e7(e){return new zP(e)}function Xh(e,t){this._context=e,this._t=t}Xh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function t7(e){return new Xh(e,.5)}function n7(e){return new Xh(e,0)}function r7(e){return new Xh(e,1)}function Rl(e,t){if((c=e.length)>1)for(var n=1,r,a,l=e[t[0]],c,u=l.length;n<c;++n)for(a=l,l=e[t[n]],r=0;r<u;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Ny(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a7(e,t){return e[t]}function i7(e){const t=[];return t.key=e,t}function s7(){var e=It([]),t=Ny,n=Rl,r=a7;function a(l){var c=Array.from(e.apply(this,arguments),i7),u,f=c.length,p=-1,h;for(const g of l)for(u=0,++p;u<f;++u)(c[u][p]=[0,+r(g,c[u].key,p,l)]).data=g;for(u=0,h=Yb(t(c));u<f;++u)c[h[u]].index=u;return n(c,h),c}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:It(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:It(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?Ny:typeof l=="function"?l:It(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??Rl,a):n},a}function l7(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Rl(e,t)}}function o7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Rl(e,t)}}function c7(e,t){if(!(!((c=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var u=0,f=0,p=0;u<c;++u){for(var h=e[t[u]],g=h[r][1]||0,v=h[r-1][1]||0,N=(g-v)/2,_=0;_<u;++_){var j=e[t[_]],E=j[r][1]||0,C=j[r-1][1]||0;N+=E-C}f+=g,p+=N*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=p/f)}a[r-1][1]+=a[r-1][0]=n,Rl(e,t)}}var gx={},xx={},W2;function u7(){return W2||(W2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(xx)),xx}var vx={},X2;function UP(){return X2||(X2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(vx)),vx}var yx={},Z2;function Wb(){return Z2||(Z2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(yx)),yx}var bx={},wx={},Q2;function d7(){return Q2||(Q2=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(wx)),wx}var eC;function Xb(){return eC||(eC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=d7(),n=Wb();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],c=a.length;if(c===0)return l;let u=0,f="",p="",h=!1;for(a.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const g=a[u];p?g==="\\"&&u+1<c?(u++,f+=a[u]):g===p?p="":f+=g:h?g==='"'||g==="'"?p=g:g==="]"?(h=!1,l.push(f),f=""):f+=g:g==="["?(h=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,u++}return f&&l.push(f),l}e.toPath=r})(bx)),bx}var tC;function Zb(){return tC||(tC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u7(),n=UP(),r=Wb(),a=Xb();function l(u,f,p){if(u==null)return p;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return p;const h=u[f];return h===void 0?n.isDeepKey(f)?l(u,a.toPath(f),p):p:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=u[f];return h===void 0?p:h}default:{if(Array.isArray(f))return c(u,f,p);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return p;const h=u[f];return h===void 0?p:h}}}function c(u,f,p){if(f.length===0)return p;let h=u;for(let g=0;g<f.length;g++){if(h==null||t.isUnsafeProperty(f[g]))return p;h=h[f[g]]}return h===void 0?p:h}e.get=l})(gx)),gx}var Nx,nC;function f7(){return nC||(nC=1,Nx=Zb().get),Nx}var p7=f7();const Pl=Ha(p7);var h7=4;function Ms(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:h7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,l,c)=>{var u=n[c-1];return typeof u=="string"?a+u+l:u!==void 0?a+Ms(u)+l:a+l},"")}var Pn=e=>e===0?0:e>0?1:-1,ga=e=>typeof e=="number"&&e!=+e,Ol=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Se=e=>(typeof e=="number"||e instanceof Number)&&!ga(e),$a=e=>Se(e)||typeof e=="string",m7=0,Yu=e=>{var t=++m7;return"".concat(e||"").concat(t)},Qn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Se(t)&&typeof t!="string")return r;var l;if(Ol(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return ga(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},$P=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function wt(e,t,n){return Se(e)&&Se(t)?Ms(e+n*(t-e)):t}function GP(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Pl(r,t))===n)}var Vt=e=>e===null||typeof e>"u",hd=e=>Vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function br(e){return e!=null}function Fs(){}var g7=["type","size","sizeType"];function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(null,arguments)}function rC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rC(Object(n),!0).forEach(function(r){x7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x7(e,t,n){return(t=v7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v7(e){var t=y7(e,"string");return typeof t=="symbol"?t:t+""}function y7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t){if(e==null)return{};var n,r,a=w7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function w7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var BP={symbolCircle:Jb,symbolCross:DV,symbolDiamond:zV,symbolSquare:UV,symbolStar:FV,symbolTriangle:qV,symbolWye:VV},N7=Math.PI/180,S7=e=>{var t="symbol".concat(hd(e));return BP[t]||Jb},_7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*N7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},j7=(e,t)=>{BP["symbol".concat(hd(e))]=t},Qb=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=b7(e,g7),l=aC(aC({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=S7(c),N=KV().type(v).size(_7(n,r,c)),_=N();if(_!==null)return _},{className:f,cx:p,cy:h}=l,g=er(l);return Se(p)&&Se(h)&&Se(n)?b.createElement("path",Sy({},g,{className:dt("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(h,")"),d:u()})):null};Qb.registerSymbol=j7;var FP=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,ew=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Hb(a)&&(r[a]=(l=>n[a](n,l)))}),r},E7=(e,t,n)=>r=>(e(t,n,r),null),md=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var l=e[a];Hb(a)&&typeof l=="function"&&(r||(r={}),r[a]=E7(l,t,n))}),r};function iC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function C7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(n),!0).forEach(function(r){A7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A7(e,t,n){return(t=T7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T7(e){var t=k7(e,"string");return typeof t=="symbol"?t:t+""}function k7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sn(e,t){var n=C7({},e),r=t,a=Object.keys(t),l=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return l}function Vp(){return Vp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vp.apply(null,arguments)}function sC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sC(Object(n),!0).forEach(function(r){R7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function R7(e,t,n){return(t=P7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P7(e){var t=O7(e,"string");return typeof t=="symbol"?t:t+""}function O7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xr=32,I7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function D7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Xr/2,l=Xr/6,c=Xr/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var p;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:a,x2:Xr,y2:a,className:"recharts-legend-icon"})}if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(Xr,"M").concat(2*c,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Xr/8,"h").concat(Xr,"v").concat(Xr*3/4,"h").concat(-Xr,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var h=M7({},t);return delete h.legendIcon,b.cloneElement(t.legendIcon,h)}return b.createElement(Qb,{fill:u,cx:a,cy:a,size:Xr,sizeType:"diameter",type:f})}function L7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:l,iconType:c}=e,u={x:0,y:0,width:Xr,height:Xr},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((h,g)=>{var v=h.formatter||a,N=dt({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:h.inactive});if(h.type==="none")return null;var _=h.inactive?l:h.color,j=v?v(h.value,h,g):h.value;return b.createElement("li",Vp({className:N,style:f,key:"legend-item-".concat(g)},md(e,h,g)),b.createElement(Vb,{width:n,height:n,viewBox:u,style:p,"aria-label":"".concat(j," legend icon")},b.createElement(D7,{data:h,iconType:c,inactiveColor:l})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},j))})}var z7=e=>{var t=sn(e,I7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:l},b.createElement(L7,Vp({},t,{payload:n})))},Sx={},_x={},lC;function U7(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],u=r(c,l,n);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(_x)),_x}var jx={},oC;function $7(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(jx)),jx}var Ex={},cC;function qP(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Ex)),Ex}var Cx={},Ax={},Tx={},uC;function G7(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Tx)),Tx}var dC;function tw(){return dC||(dC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G7();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ax)),Ax}var kx={},fC;function B7(){return fC||(fC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(kx)),kx}var pC;function F7(){return pC||(pC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tw(),n=B7();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(Cx)),Cx}var Mx={},Rx={},hC;function q7(){return hC||(hC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zb();function n(r){return function(a){return t.get(a,r)}}e.property=n})(Rx)),Rx}var Px={},Ox={},Ix={},Dx={},mC;function HP(){return mC||(mC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Dx)),Dx}var Lx={},gC;function VP(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Lx)),Lx}var zx={},xC;function KP(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(zx)),zx}var vC;function H7(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HP(),n=VP(),r=KP();function a(h,g,v){return typeof v!="function"?a(h,g,()=>{}):l(h,g,function N(_,j,E,C,A,k){const R=v(_,j,E,C,A,k);return R!==void 0?!!R:l(_,j,N,k)},new Map)}function l(h,g,v,N){if(g===h)return!0;switch(typeof g){case"object":return c(h,g,v,N);case"function":return Object.keys(g).length>0?l(h,{...g},v,N):r.isEqualsSameValueZero(h,g);default:return t.isObject(h)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(h,g)}}function c(h,g,v,N){if(g==null)return!0;if(Array.isArray(g))return f(h,g,v,N);if(g instanceof Map)return u(h,g,v,N);if(g instanceof Set)return p(h,g,v,N);const _=Object.keys(g);if(h==null||n.isPrimitive(h))return _.length===0;if(_.length===0)return!0;if(N?.has(g))return N.get(g)===h;N?.set(g,h);try{for(let j=0;j<_.length;j++){const E=_[j];if(!n.isPrimitive(h)&&!(E in h)||g[E]===void 0&&h[E]!==void 0||g[E]===null&&h[E]!==null||!v(h[E],g[E],E,h,g,N))return!1}return!0}finally{N?.delete(g)}}function u(h,g,v,N){if(g.size===0)return!0;if(!(h instanceof Map))return!1;for(const[_,j]of g.entries()){const E=h.get(_);if(v(E,j,_,h,g,N)===!1)return!1}return!0}function f(h,g,v,N){if(g.length===0)return!0;if(!Array.isArray(h))return!1;const _=new Set;for(let j=0;j<g.length;j++){const E=g[j];let C=!1;for(let A=0;A<h.length;A++){if(_.has(A))continue;const k=h[A];let R=!1;if(v(k,E,j,h,g,N)&&(R=!0),R){_.add(A),C=!0;break}}if(!C)return!1}return!0}function p(h,g,v,N){return g.size===0?!0:h instanceof Set?f([...h],[...g],v,N):!1}e.isMatchWith=a,e.isSetMatch=p})(Ix)),Ix}var yC;function YP(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H7();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Ox)),Ox}var Ux={},$x={},Gx={},bC;function V7(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Gx)),Gx}var Bx={},wC;function nw(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Bx)),Bx}var Fx={},NC;function JP(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",p="[object Set]",h="[object Array]",g="[object Function]",v="[object ArrayBuffer]",N="[object Object]",_="[object Error]",j="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",R="[object BigUint64Array]",M="[object Int8Array]",P="[object Int16Array]",O="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=R,e.booleanTag=a,e.dataViewTag=j,e.dateTag=u,e.errorTag=_,e.float32ArrayTag=z,e.float64ArrayTag=q,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=O,e.int8ArrayTag=M,e.mapTag=f,e.numberTag=r,e.objectTag=N,e.regexpTag=t,e.setTag=p,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=k,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(Fx)),Fx}var qx={},SC;function K7(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(qx)),qx}var _C;function WP(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V7(),n=nw(),r=JP(),a=VP(),l=K7();function c(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,v,N=new Map,_=void 0){const j=_?.(h,g,v,N);if(j!==void 0)return j;if(a.isPrimitive(h))return h;if(N.has(h))return N.get(h);if(Array.isArray(h)){const E=new Array(h.length);N.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,v,N,_);return Object.hasOwn(h,"index")&&(E.index=h.index),Object.hasOwn(h,"input")&&(E.input=h.input),E}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const E=new RegExp(h.source,h.flags);return E.lastIndex=h.lastIndex,E}if(h instanceof Map){const E=new Map;N.set(h,E);for(const[C,A]of h)E.set(C,u(A,C,v,N,_));return E}if(h instanceof Set){const E=new Set;N.set(h,E);for(const C of h)E.add(u(C,void 0,v,N,_));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const E=new(Object.getPrototypeOf(h)).constructor(h.length);N.set(h,E);for(let C=0;C<h.length;C++)E[C]=u(h[C],C,v,N,_);return E}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const E=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return N.set(h,E),f(E,h,v,N,_),E}if(typeof File<"u"&&h instanceof File){const E=new File([h],h.name,{type:h.type});return N.set(h,E),f(E,h,v,N,_),E}if(typeof Blob<"u"&&h instanceof Blob){const E=new Blob([h],{type:h.type});return N.set(h,E),f(E,h,v,N,_),E}if(h instanceof Error){const E=new h.constructor;return N.set(h,E),E.message=h.message,E.name=h.name,E.stack=h.stack,E.cause=h.cause,f(E,h,v,N,_),E}if(h instanceof Boolean){const E=new Boolean(h.valueOf());return N.set(h,E),f(E,h,v,N,_),E}if(h instanceof Number){const E=new Number(h.valueOf());return N.set(h,E),f(E,h,v,N,_),E}if(h instanceof String){const E=new String(h.valueOf());return N.set(h,E),f(E,h,v,N,_),E}if(typeof h=="object"&&p(h)){const E=Object.create(Object.getPrototypeOf(h));return N.set(h,E),f(E,h,v,N,_),E}return h}function f(h,g,v=h,N,_){const j=[...Object.keys(g),...t.getSymbols(g)];for(let E=0;E<j.length;E++){const C=j[E],A=Object.getOwnPropertyDescriptor(h,C);(A==null||A.writable)&&(h[C]=u(g[C],C,v,N,_))}}function p(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})($x)),$x}var jC;function Y7(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WP();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Ux)),Ux}var EC;function J7(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP(),n=Y7();function r(a){return a=n.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=r})(Px)),Px}var Hx={},Vx={},Kx={},CC;function W7(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WP(),n=nw(),r=JP();function a(l,c){return t.cloneDeepWith(l,(u,f,p,h)=>{const g=c?.(u,f,p,h);if(g!==void 0)return g;if(typeof l=="object"){if(n.getTag(l)===r.objectTag&&typeof l.constructor!="function"){const v={};return h.set(l,v),t.copyProperties(v,l,p,h),v}switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case r.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=a})(Kx)),Kx}var AC;function X7(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W7();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(Vx)),Vx}var Yx={},Jx={},TC;function XP(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(Jx)),Jx}var Wx={},kC;function Z7(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nw();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(Wx)),Wx}var MC;function Q7(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UP(),n=XP(),r=Z7(),a=Xb();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let p=c;for(let h=0;h<f.length;h++){const g=f[h];if((p==null||!Object.hasOwn(p,g))&&!((Array.isArray(p)||r.isArguments(p))&&n.isIndex(g)&&g<p.length))return!1;p=p[g]}return!0}e.has=l})(Yx)),Yx}var RC;function eK(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YP(),n=Wb(),r=X7(),a=Zb(),l=Q7();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(p){const h=a.get(p,u);return h===void 0?l.has(p,u):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c})(Hx)),Hx}var PC;function tK(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qP(),n=q7(),r=J7(),a=eK();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l})(Mx)),Mx}var OC;function nK(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U7(),n=$7(),r=qP(),a=F7(),l=tK();function c(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(Sx)),Sx}var Xx,IC;function rK(){return IC||(IC=1,Xx=nK().uniqBy),Xx}var aK=rK();const DC=Ha(aK);function ZP(e,t,n){return t===!0?DC(e,n):typeof t=="function"?DC(e,t):e}var Zx={exports:{}},Qx={},ev={exports:{}},tv={};var LC;function iK(){if(LC)return tv;LC=1;var e=ic();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,v){var N=v(),_=r({inst:{value:N,getSnapshot:v}}),j=_[0].inst,E=_[1];return l(function(){j.value=N,j.getSnapshot=v,f(j)&&E({inst:j})},[g,N,v]),a(function(){return f(j)&&E({inst:j}),g(function(){f(j)&&E({inst:j})})},[g]),c(N),N}function f(g){var v=g.getSnapshot;g=g.value;try{var N=v();return!n(g,N)}catch{return!0}}function p(g,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return tv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,tv}var zC;function sK(){return zC||(zC=1,ev.exports=iK()),ev.exports}var UC;function lK(){if(UC)return Qx;UC=1;var e=ic(),t=sK();function n(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return Qx.useSyncExternalStoreWithSelector=function(p,h,g,v,N){var _=l(null);if(_.current===null){var j={hasValue:!1,value:null};_.current=j}else j=_.current;_=u(function(){function C(P){if(!A){if(A=!0,k=P,P=v(P),N!==void 0&&j.hasValue){var O=j.value;if(N(O,P))return R=O}return R=P}if(O=R,r(k,P))return O;var L=v(P);return N!==void 0&&N(O,L)?(k=P,O):(k=P,R=L)}var A=!1,k,R,M=g===void 0?null:g;return[function(){return C(h())},M===null?void 0:function(){return C(M())}]},[h,g,v,N]);var E=a(p,_[0],_[1]);return c(function(){j.hasValue=!0,j.value=E},[E]),f(E),E},Qx}var $C;function oK(){return $C||($C=1,Zx.exports=lK()),Zx.exports}var cK=oK(),rw=b.createContext(null),uK=e=>e,Lt=()=>{var e=b.useContext(rw);return e?e.store.dispatch:uK},_p=()=>{},dK=()=>_p,fK=(e,t)=>e===t;function Te(e){var t=b.useContext(rw),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:_p,[t,e]);return cK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dK,t?t.store.getState:_p,t?t.store.getState:_p,n,fK)}function pK(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function hK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var GC=e=>Array.isArray(e)?e:[e];function gK(e){const t=Array.isArray(e[0])?e[0]:e;return mK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function xK(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var vK=class{constructor(e){this.value=e}deref(){return this.value}},yK=typeof WeakRef<"u"?WeakRef:vK,bK=0,BC=1;function rp(){return{s:bK,v:void 0,o:null,p:null}}function QP(e,t={}){let n=rp();const{resultEqualityCheck:r}=t;let a,l=0;function c(){let u=n;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const N=arguments[g];if(typeof N=="function"||typeof N=="object"&&N!==null){let _=u.o;_===null&&(u.o=_=new WeakMap);const j=_.get(N);j===void 0?(u=rp(),_.set(N,u)):u=j}else{let _=u.p;_===null&&(u.p=_=new Map);const j=_.get(N);j===void 0?(u=rp(),_.set(N,u)):u=j}}const p=u;let h;if(u.s===BC)h=u.v;else if(h=e.apply(null,arguments),l++,r){const g=a?.deref?.()??a;g!=null&&r(g,h)&&(h=g,l!==0&&l--),a=typeof h=="object"&&h!==null||typeof h=="function"?new yK(h):h}return p.s=BC,p.v=h,h}return c.clearCache=()=>{n=rp(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function wK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let l=0,c=0,u,f={},p=a.pop();typeof p=="object"&&(f=p,p=a.pop()),pK(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const h={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:N=QP,argsMemoizeOptions:_=[]}=h,j=GC(v),E=GC(_),C=gK(a),A=g(function(){return l++,p.apply(null,arguments)},...j),k=N(function(){c++;const M=xK(C,arguments);return u=A.apply(null,M),u},...E);return Object.assign(k,{resultFunc:p,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var Q=wK(QP),NK=Object.assign((e,t=Q)=>{hK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>NK}),nv={},rv={},av={},FC;function SK(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=t(r),u=t(a);if(c===u&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=n})(av)),av}var iv={},sv={},qC;function eO(){return qC||(qC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(sv)),sv}var HC;function _K(){return HC||(HC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=a})(iv)),iv}var VC;function jK(){return VC||(VC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SK(),n=_K(),r=Xb();function a(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(N=>String(N));const p=(N,_)=>{let j=N;for(let E=0;E<_.length&&j!=null;++E)j=j[_[E]];return j},h=(N,_)=>_==null||N==null?_:typeof N=="object"&&"key"in N?Object.hasOwn(_,N.key)?_[N.key]:p(_,N.path):typeof N=="function"?N(_):Array.isArray(N)?p(_,N):typeof _=="object"?_[N]:_,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return l.map(N=>({original:N,criteria:g.map(_=>h(_,N))})).slice().sort((N,_)=>{for(let j=0;j<g.length;j++){const E=t.compareValues(N.criteria[j],_.criteria[j],u[j]);if(E!==0)return E}return 0}).map(N=>N.original)}e.orderBy=a})(rv)),rv}var lv={},KC;function EK(){return KC||(KC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],l=Math.floor(r),c=(u,f)=>{for(let p=0;p<u.length;p++){const h=u[p];Array.isArray(h)&&f<l?c(h,f+1):a.push(h)}};return c(n,0),a}e.flatten=t})(lv)),lv}var ov={},YC;function tO(){return YC||(YC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XP(),n=tw(),r=HP(),a=KP();function l(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(ov)),ov}var JC;function CK(){return JC||(JC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jK(),n=EK(),r=tO();function a(l,...c){const u=c.length;return u>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=a})(nv)),nv}var cv,WC;function AK(){return WC||(WC=1,cv=CK().sortBy),cv}var TK=AK();const Zh=Ha(TK);var nO=e=>e.legend.settings,kK=e=>e.legend.size,MK=e=>e.legend.payload,RK=Q([MK,nO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Zh(r,n):r});function PK(){return Te(RK)}var ap=1;function rO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>ap||Math.abs(c.left-t.left)>ap||Math.abs(c.top-t.top)>ap||Math.abs(c.width-t.width)>ap)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Bn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var OK=typeof Symbol=="function"&&Symbol.observable||"@@observable",XC=OK,uv=()=>Math.random().toString(36).substring(7).split("").join("."),IK={INIT:`@@redux/INIT${uv()}`,REPLACE:`@@redux/REPLACE${uv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${uv()}`},Kp=IK;function aw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function aO(e,t,n){if(typeof e!="function")throw new Error(Bn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Bn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Bn(1));return n(aO)(e,t)}let r=e,a=t,l=new Map,c=l,u=0,f=!1;function p(){c===l&&(c=new Map,l.forEach((E,C)=>{c.set(C,E)}))}function h(){if(f)throw new Error(Bn(3));return a}function g(E){if(typeof E!="function")throw new Error(Bn(4));if(f)throw new Error(Bn(5));let C=!0;p();const A=u++;return c.set(A,E),function(){if(C){if(f)throw new Error(Bn(6));C=!1,p(),c.delete(A),l=null}}}function v(E){if(!aw(E))throw new Error(Bn(7));if(typeof E.type>"u")throw new Error(Bn(8));if(typeof E.type!="string")throw new Error(Bn(17));if(f)throw new Error(Bn(9));try{f=!0,a=r(a,E)}finally{f=!1}return(l=c).forEach(A=>{A()}),E}function N(E){if(typeof E!="function")throw new Error(Bn(10));r=E,v({type:Kp.REPLACE})}function _(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Bn(11));function A(){const R=C;R.next&&R.next(h())}return A(),{unsubscribe:E(A)}},[XC](){return this}}}return v({type:Kp.INIT}),{dispatch:v,subscribe:g,getState:h,replaceReducer:N,[XC]:_}}function DK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:Kp.INIT})>"u")throw new Error(Bn(12));if(typeof n(void 0,{type:Kp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Bn(13))})}function iO(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{DK(n)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const p={};for(let h=0;h<r.length;h++){const g=r[h],v=n[g],N=c[g],_=v(N,u);if(typeof _>"u")throw u&&u.type,new Error(Bn(14));p[g]=_,f=f||_!==N}return f=f||r.length!==Object.keys(c).length,f?p:c}}function Yp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function LK(...e){return t=>(n,r)=>{const a=t(n,r);let l=()=>{throw new Error(Bn(15))};const c={getState:a.getState,dispatch:(f,...p)=>l(f,...p)},u=e.map(f=>f(c));return l=Yp(...u)(a.dispatch),{...a,dispatch:l}}}function sO(e){return aw(e)&&"type"in e&&typeof e.type=="string"}var lO=Symbol.for("immer-nothing"),ZC=Symbol.for("immer-draftable"),ur=Symbol.for("immer-state");function ua(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rr=Object,Qo=Rr.getPrototypeOf,Jp="constructor",Qh="prototype",_y="configurable",Wp="enumerable",jp="writable",Ju="value",ki=e=>!!e&&!!e[ur];function xa(e){return e?oO(e)||tm(e)||!!e[ZC]||!!e[Jp]?.[ZC]||nm(e)||rm(e):!1}var zK=Rr[Qh][Jp].toString(),QC=new WeakMap;function oO(e){if(!e||!iw(e))return!1;const t=Qo(e);if(t===null||t===Rr[Qh])return!0;const n=Rr.hasOwnProperty.call(t,Jp)&&t[Jp];if(n===Object)return!0;if(!Oo(n))return!1;let r=QC.get(n);return r===void 0&&(r=Function.toString.call(n),QC.set(n,r)),r===zK}function em(e,t,n=!0){gd(e)===0?(n?Reflect.ownKeys(e):Rr.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function gd(e){const t=e[ur];return t?t.type_:tm(e)?1:nm(e)?2:rm(e)?3:0}var eA=(e,t,n=gd(e))=>n===2?e.has(t):Rr[Qh].hasOwnProperty.call(e,t),jy=(e,t,n=gd(e))=>n===2?e.get(t):e[t],Xp=(e,t,n,r=gd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function UK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var tm=Array.isArray,nm=e=>e instanceof Map,rm=e=>e instanceof Set,iw=e=>typeof e=="object",Oo=e=>typeof e=="function",dv=e=>typeof e=="boolean";function $K(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var vi=e=>e.copy_||e.base_,sw=e=>e.modified_?e.copy_:e.base_;function Ey(e,t){if(nm(e))return new Map(e);if(rm(e))return new Set(e);if(tm(e))return Array[Qh].slice.call(e);const n=oO(e);if(t===!0||t==="class_only"&&!n){const r=Rr.getOwnPropertyDescriptors(e);delete r[ur];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u[jp]===!1&&(u[jp]=!0,u[_y]=!0),(u.get||u.set)&&(r[c]={[_y]:!0,[jp]:!0,[Wp]:u[Wp],[Ju]:e[c]})}return Rr.create(Qo(e),r)}else{const r=Qo(e);if(r!==null&&n)return{...e};const a=Rr.create(r);return Rr.assign(a,e)}}function lw(e,t=!1){return am(e)||ki(e)||!xa(e)||(gd(e)>1&&Rr.defineProperties(e,{set:ip,add:ip,clear:ip,delete:ip}),Rr.freeze(e),t&&em(e,(n,r)=>{lw(r,!0)},!1)),e}function GK(){ua(2)}var ip={[Ju]:GK};function am(e){return e===null||!iw(e)?!0:Rr.isFrozen(e)}var Zp="MapSet",Cy="Patches",tA="ArrayMethods",cO={};function Il(e){const t=cO[e];return t||ua(0,e),t}var nA=e=>!!cO[e],Wu,uO=()=>Wu,BK=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nA(Zp)?Il(Zp):void 0,arrayMethodsPlugin_:nA(tA)?Il(tA):void 0});function rA(e,t){t&&(e.patchPlugin_=Il(Cy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ay(e){Ty(e),e.drafts_.forEach(FK),e.drafts_=null}function Ty(e){e===Wu&&(Wu=e.parent_)}var aA=e=>Wu=BK(Wu,e);function FK(e){const t=e[ur];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function iA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ur].modified_&&(Ay(t),ua(4)),xa(e)&&(e=sA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[ur].base_,e,t)}else e=sA(t,n);return qK(t,e,!0),Ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lO?e:void 0}function sA(e,t){if(am(t))return t;const n=t[ur];if(!n)return Qp(t,e.handledSet_,e);if(!im(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);pO(n,e)}return n.copy_}function qK(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&lw(t,n)}function dO(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var im=(e,t)=>e.scope_===t,HK=[];function fO(e,t,n,r){const a=vi(e),l=e.type_;if(r!==void 0&&jy(a,r,l)===t){Xp(a,r,n,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;em(a,(f,p)=>{if(ki(p)){const h=u.get(p)||[];h.push(f),u.set(p,h)}})}const c=e.draftLocations_.get(t)??HK;for(const u of c)Xp(a,u,n,l)}function VK(e,t,n){e.callbacks_.push(function(a){const l=t;if(!l||!im(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=sw(l);fO(e,l.draft_??l,c,n),pO(l,a)})}function pO(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}dO(e)}}function KK(e,t,n){const{scope_:r}=e;if(ki(n)){const a=n[ur];im(a,r)&&a.callbacks_.push(function(){Ep(e);const c=sw(a);fO(e,n,c,t)})}else xa(n)&&e.callbacks_.push(function(){const l=vi(e);e.type_===3?l.has(n)&&Qp(n,r.handledSet_,r):jy(l,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Qp(jy(e.copy_,t,e.type_),r.handledSet_,r)})}function Qp(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||ki(e)||t.has(e)||!xa(e)||am(e)||(t.add(e),em(e,(r,a)=>{if(ki(a)){const l=a[ur];if(im(l,n)){const c=sw(l);Xp(e,r,c,e.type_),dO(l)}}else xa(a)&&Qp(a,t,n)})),e}function YK(e,t){const n=tm(e),r={type_:n?1:0,scope_:t?t.scope_:uO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=eh;n&&(a=[r],l=Xu);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,[u,r]}var eh={get(e,t){if(t===ur)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=vi(e);if(!eA(a,t,e.type_))return JK(e,a,t);const l=a[t];if(e.finalized_||!xa(l)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&$K(t))return l;if(l===fv(e.base_,t)){Ep(e);const c=e.type_===1?+t:t,u=My(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in vi(e)},ownKeys(e){return Reflect.ownKeys(vi(e))},set(e,t,n){const r=hO(vi(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=fv(vi(e),t),l=a?.[ur];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(UK(n,a)&&(n!==void 0||eA(e.base_,t,e.type_)))return!0;Ep(e),ky(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),KK(e,t,n)),!0},deleteProperty(e,t){return Ep(e),fv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ky(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=vi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[jp]:!0,[_y]:e.type_!==1||t!=="length",[Wp]:r[Wp],[Ju]:n[t]}},defineProperty(){ua(11)},getPrototypeOf(e){return Qo(e.base_)},setPrototypeOf(){ua(12)}},Xu={};for(let e in eh){let t=eh[e];Xu[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Xu.deleteProperty=function(e,t){return Xu.set.call(this,e,t,void 0)};Xu.set=function(e,t,n){return eh.set.call(this,e[0],t,n,e[0])};function fv(e,t){const n=e[ur];return(n?vi(n):e)[t]}function JK(e,t,n){const r=hO(t,n);return r?Ju in r?r[Ju]:r.get?.call(e.draft_):void 0}function hO(e,t){if(!(t in e))return;let n=Qo(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Qo(n)}}function ky(e){e.modified_||(e.modified_=!0,e.parent_&&ky(e.parent_))}function Ep(e){e.copy_||(e.assigned_=new Map,e.copy_=Ey(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Oo(n)&&!Oo(r)){const c=r;r=n;const u=this;return function(p=c,...h){return u.produce(p,g=>r.call(this,g,...h))}}Oo(r)||ua(6),a!==void 0&&!Oo(a)&&ua(7);let l;if(xa(n)){const c=aA(this),u=My(c,n,void 0);let f=!0;try{l=r(u),f=!1}finally{f?Ay(c):Ty(c)}return rA(c,a),iA(l,c)}else if(!n||!iw(n)){if(l=r(n),l===void 0&&(l=n),l===lO&&(l=void 0),this.autoFreeze_&&lw(l,!0),a){const c=[],u=[];Il(Cy).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:u}),a(c,u)}return l}else ua(1,n)},this.produceWithPatches=(n,r)=>{if(Oo(n))return(u,...f)=>this.produceWithPatches(u,p=>n(p,...f));let a,l;return[this.produce(n,r,(u,f)=>{a=u,l=f}),a,l]},dv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),dv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),dv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){xa(t)||ua(8),ki(t)&&(t=ma(t));const n=aA(this),r=My(n,t,void 0);return r[ur].isManual_=!0,Ty(n),r}finishDraft(t,n){const r=t&&t[ur];(!r||!r.isManual_)&&ua(9);const{scope_:a}=r;return rA(a,n),iA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Il(Cy).applyPatches_;return ki(t)?a(t,n):this.produce(t,l=>a(l,n))}};function My(e,t,n,r){const[a,l]=nm(t)?Il(Zp).proxyMap_(t,n):rm(t)?Il(Zp).proxySet_(t,n):YK(t,n);return(n?.scope_??uO()).drafts_.push(a),l.callbacks_=n?.callbacks_??[],l.key_=r,n&&r!==void 0?VK(n,l,r):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:p}=f;l.modified_&&p&&p.generatePatches_(l,[],f)}),a}function ma(e){return ki(e)||ua(10,e),mO(e)}function mO(e){if(!xa(e)||am(e))return e;const t=e[ur];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Ey(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Ey(e,!0);return em(n,(a,l)=>{Xp(n,a,mO(l))},r),t&&(t.finalized_=!1),n}var XK=new WK,gO=XK.produce;function xO(e){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,e):a(l)}var ZK=xO(),QK=xO,eY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Yp:Yp.apply(null,arguments)};function na(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Pr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>sO(r)&&r.type===e,n}var vO=class Mu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Mu.prototype)}static get[Symbol.species](){return Mu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Mu(...t[0].concat(this)):new Mu(...t.concat(this))}};function lA(e){return xa(e)?gO(e,()=>{}):e}function sp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function tY(e){return typeof e=="boolean"}var nY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new vO;return n&&(tY(n)?c.push(ZK):c.push(QK(n.extraArgument))),c},yO="RTK_autoBatch",Ft=()=>e=>({payload:e,meta:{[yO]:!0}}),oA=e=>t=>{setTimeout(t,e)},bO=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:oA(10):e.type==="callback"?e.queueNotification:oA(e.timeout),p=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>a&&h(),v=r.subscribe(g);return u.add(h),()=>{v(),u.delete(h)}},dispatch(h){try{return a=!h?.meta?.[yO],l=!a,l&&(c||(c=!0,f(p))),r.dispatch(h)}finally{a=!0}}})},rY=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new vO(e);return r&&a.push(bO(typeof r=="object"?r:void 0)),a};function aY(e){const t=nY(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(aw(n))u=iO(n);else throw new Error(Pr(1));let f;typeof r=="function"?f=r(t):f=t();let p=Yp;a&&(p=eY({trace:!1,...typeof a=="object"&&a}));const h=LK(...f),g=rY(h);let v=typeof c=="function"?c(g):g();const N=p(...v);return aO(u,l,N)}function wO(e){const t={},n=[];let r;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Pr(28));if(u in t)throw new Error(Pr(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return e(a),[t,n,r]}function iY(e){return typeof e=="function"}function sY(e,t){let[n,r,a]=wO(t),l;if(iY(e))l=()=>lA(e());else{const u=lA(e);l=()=>u}function c(u=l(),f){let p=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return p.filter(h=>!!h).length===0&&(p=[a]),p.reduce((h,g)=>{if(g)if(ki(h)){const N=g(h,f);return N===void 0?h:N}else{if(xa(h))return gO(h,v=>g(v,f));{const v=g(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},u)}return c.getInitialState=l,c}var lY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oY=(e=21)=>{let t="",n=e;for(;n--;)t+=lY[Math.random()*64|0];return t},cY=Symbol.for("rtk-slice-createasyncthunk");function uY(e,t){return`${e}/${t}`}function dY({creators:e}={}){const t=e?.asyncThunk?.[cY];return function(r){const{name:a,reducerPath:l=a}=r;if(!a)throw new Error(Pr(11));const c=(typeof r.reducers=="function"?r.reducers(pY()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(k,R){const M=typeof k=="string"?k:k.type;if(!M)throw new Error(Pr(12));if(M in f.sliceCaseReducersByType)throw new Error(Pr(13));return f.sliceCaseReducersByType[M]=R,p},addMatcher(k,R){return f.sliceMatchers.push({matcher:k,reducer:R}),p},exposeAction(k,R){return f.actionCreators[k]=R,p},exposeCaseReducer(k,R){return f.sliceCaseReducersByName[k]=R,p}};u.forEach(k=>{const R=c[k],M={reducerName:k,type:uY(a,k),createNotation:typeof r.reducers=="function"};mY(R)?xY(M,R,p,t):hY(M,R,p)});function h(){const[k={},R=[],M=void 0]=typeof r.extraReducers=="function"?wO(r.extraReducers):[r.extraReducers],P={...k,...f.sliceCaseReducersByType};return sY(r.initialState,O=>{for(let L in P)O.addCase(L,P[L]);for(let L of f.sliceMatchers)O.addMatcher(L.matcher,L.reducer);for(let L of R)O.addMatcher(L.matcher,L.reducer);M&&O.addDefaultCase(M)})}const g=k=>k,v=new Map,N=new WeakMap;let _;function j(k,R){return _||(_=h()),_(k,R)}function E(){return _||(_=h()),_.getInitialState()}function C(k,R=!1){function M(O){let L=O[k];return typeof L>"u"&&R&&(L=sp(N,M,E)),L}function P(O=g){const L=sp(v,R,()=>new WeakMap);return sp(L,O,()=>{const z={};for(const[q,Y]of Object.entries(r.selectors??{}))z[q]=fY(Y,O,()=>sp(N,O,E),R);return z})}return{reducerPath:k,getSelectors:P,get selectors(){return P(M)},selectSlice:M}}const A={name:a,reducer:j,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...C(l),injectInto(k,{reducerPath:R,...M}={}){const P=R??l;return k.inject({reducerPath:P,reducer:j},M),{...A,...C(P,!0)}}};return A}}function fY(e,t,n,r){function a(l,...c){let u=t(l);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return a.unwrapped=e,a}var Sr=dY();function pY(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function hY({type:e,reducerName:t,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!gY(r))throw new Error(Pr(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?na(e,c):na(e))}function mY(e){return e._reducerDefinitionType==="asyncThunk"}function gY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function xY({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Pr(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:p,options:h}=n,g=a(e,l,h);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),p&&r.addMatcher(g.settled,p),r.exposeCaseReducer(t,{fulfilled:c||lp,pending:u||lp,rejected:f||lp,settled:p||lp})}function lp(){}var vY="task",NO="listener",SO="completed",ow="cancelled",yY=`task-${ow}`,bY=`task-${SO}`,Ry=`${NO}-${ow}`,wY=`${NO}-${SO}`,sm=class{constructor(e){this.code=e,this.message=`${vY} ${ow} (reason: ${e})`}name="TaskAbortError";message},cw=(e,t)=>{if(typeof e!="function")throw new TypeError(Pr(32))},th=()=>{},_O=(e,t=th)=>(e.catch(t),e),jO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),jl=e=>{if(e.aborted)throw new sm(e.reason)};function EO(e,t){let n=th;return new Promise((r,a)=>{const l=()=>a(new sm(e.reason));if(e.aborted){l();return}n=jO(e,l),t.finally(()=>n()).then(r,a)}).finally(()=>{n=th})}var NY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof sm?"cancelled":"rejected",error:n}}finally{t?.()}},nh=e=>t=>_O(EO(e,t).then(n=>(jl(e),n))),CO=e=>{const t=nh(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Ho}=Object,cA={},lm="listenerMiddleware",SY=(e,t)=>{const n=r=>jO(e,()=>r.abort(e.reason));return(r,a)=>{cw(r);const l=new AbortController;n(l);const c=NY(async()=>{jl(e),jl(l.signal);const u=await r({pause:nh(l.signal),delay:CO(l.signal),signal:l.signal});return jl(l.signal),u},()=>l.abort(bY));return a?.autoJoin&&t.push(c.catch(th)),{result:nh(e)(c),cancel(){l.abort(yY)}}}},_Y=(e,t)=>{const n=async(r,a)=>{jl(t);let l=()=>{};const u=[new Promise((f,p)=>{let h=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{h(),p()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await EO(t,Promise.race(u));return jl(t),f}finally{l()}};return(r,a)=>_O(n(r,a))},AO=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:l}=e;if(t)a=na(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Pr(21));return cw(l),{predicate:a,type:t,effect:l}},TO=Ho(e=>{const{type:t,predicate:n,effect:r}=AO(e);return{id:oY(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Pr(22))}}},{withTypes:()=>TO}),uA=(e,t)=>{const{type:n,effect:r,predicate:a}=AO(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},Py=e=>{e.pending.forEach(t=>{t.abort(Ry)})},jY=(e,t)=>()=>{for(const n of t.keys())Py(n);e.clear()},dA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},kO=Ho(na(`${lm}/add`),{withTypes:()=>kO}),EY=na(`${lm}/removeAll`),MO=Ho(na(`${lm}/remove`),{withTypes:()=>MO}),CY=(...e)=>{console.error(`${lm}/error`,...e)},xd=(e={})=>{const t=new Map,n=new Map,r=N=>{const _=n.get(N)??0;n.set(N,_+1)},a=N=>{const _=n.get(N)??1;_===1?n.delete(N):n.set(N,_-1)},{extra:l,onError:c=CY}=e;cw(c);const u=N=>(N.unsubscribe=()=>t.delete(N.id),t.set(N.id,N),_=>{N.unsubscribe(),_?.cancelActive&&Py(N)}),f=N=>{const _=uA(t,N)??TO(N);return u(_)};Ho(f,{withTypes:()=>f});const p=N=>{const _=uA(t,N);return _&&(_.unsubscribe(),N.cancelActive&&Py(_)),!!_};Ho(p,{withTypes:()=>p});const h=async(N,_,j,E)=>{const C=new AbortController,A=_Y(f,C.signal),k=[];try{N.pending.add(C),r(N),await Promise.resolve(N.effect(_,Ho({},j,{getOriginalState:E,condition:(R,M)=>A(R,M).then(Boolean),take:A,delay:CO(C.signal),pause:nh(C.signal),extra:l,signal:C.signal,fork:SY(C.signal,k),unsubscribe:N.unsubscribe,subscribe:()=>{t.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((R,M,P)=>{R!==C&&(R.abort(Ry),P.delete(R))})},cancel:()=>{C.abort(Ry),N.pending.delete(C)},throwIfCancelled:()=>{jl(C.signal)}})))}catch(R){R instanceof sm||dA(c,R,{raisedBy:"effect"})}finally{await Promise.all(k),C.abort(wY),a(N),N.pending.delete(C)}},g=jY(t,n);return{middleware:N=>_=>j=>{if(!sO(j))return _(j);if(kO.match(j))return f(j.payload);if(EY.match(j)){g();return}if(MO.match(j))return p(j.payload);let E=N.getState();const C=()=>{if(E===cA)throw new Error(Pr(23));return E};let A;try{if(A=_(j),t.size>0){const k=N.getState(),R=Array.from(t.values());for(const M of R){let P=!1;try{P=M.predicate(j,k,E)}catch(O){P=!1,dA(c,O,{raisedBy:"predicate"})}P&&h(M,j,N,C)}}}finally{E=cA}return A},startListening:f,stopListening:p,clearListeners:g}};function Pr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RO=Sr({name:"chartLayout",initialState:AY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,l;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:TY,setLayout:kY,setChartSize:MY,setScale:RY}=RO.actions,PY=RO.reducer;function PO(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Ze(e){return Number.isFinite(e)}function Ga(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fA(Object(n),!0).forEach(function(r){OY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OY(e,t,n){return(t=IY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IY(e){var t=DY(e,"string");return typeof t=="symbol"?t:t+""}function DY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t,n){return Vt(e)||Vt(t)?n:$a(t)?Pl(e,t,n):typeof t=="function"?t(e):n}var LY=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Se(e[l]))return Uo(Uo({},e),{},{[l]:e[l]+(r||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Se(e[c]))return Uo(Uo({},e),{},{[c]:e[c]+(a||0)})}return e},Na=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",OO=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var a,l,c=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===n&&(l=!0),u.coordinate));return a||c.push(t),l||c.push(n),c},IO=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:l,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:p,tickCount:h,ticks:g,niceTicks:v,axisType:N}=e;if(!c)return null;var _=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=a==="category"&&c.bandwidth?c.bandwidth()/_:0;if(j=N==="angleAxis"&&l&&l.length>=2?Pn(l[0]-l[1])*2*j:j,g||v){var E=(g||v||[]).map((C,A)=>{var k=r?r.indexOf(C):C,R=c.map(k);return Ze(R)?{coordinate:R+j,value:C,offset:j,index:A}:null}).filter(br);return E}return f&&p?p.map((C,A)=>{var k=c.map(C);return Ze(k)?{coordinate:k+j,value:C,index:A,offset:j}:null}).filter(br):c.ticks&&h!=null?c.ticks(h).map((C,A)=>{var k=c.map(C);return Ze(k)?{coordinate:k+j,value:C,index:A,offset:j}:null}).filter(br):c.domain().map((C,A)=>{var k=c.map(C);return Ze(k)?{coordinate:k+j,value:r?r[C]:C,index:A,offset:j}:null}).filter(br)},zY=(e,t)=>{if(!t||t.length!==2||!Se(t[0])||!Se(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Se(e[0])||e[0]<n)&&(a[0]=n),(!Se(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},UY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0,u=0;u<n;++u){var f=e[u],p=f?.[a];if(p!=null){var h=p[1],g=p[0],v=ga(h)?g:h;v>=0?(p[0]=l,l+=v,p[1]=l):(p[0]=c,c+=v,p[1]=c)}}}},$Y=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0;c<n;++c){var u=e[c],f=u?.[a];if(f!=null){var p=ga(f[1])?f[0]:f[1];p>=0?(f[0]=l,l+=p,f[1]=l):(f[0]=0,f[1]=0)}}}},GY={sign:UY,expand:l7,none:Rl,silhouette:o7,wiggle:c7,positive:$Y},BY=(e,t,n)=>{var r,a=(r=GY[n])!==null&&r!==void 0?r:Rl,l=s7().keys(t).value((u,f)=>Number(Nt(u,f,0))).order(Ny).offset(a),c=l(e);return c.forEach((u,f)=>{u.forEach((p,h)=>{var g=Nt(e[h],t[f],0);Array.isArray(g)&&g.length===2&&Se(g[0])&&Se(g[1])&&(p[0]=g[0],p[1]=g[1])})}),c};function DO(e){return e==null?void 0:String(e)}function rh(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vt(a[t.dataKey])){var u=GP(n,"value",a[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[l]?n[l].coordinate+r/2:null}var f=Nt(a,Vt(c)?t.dataKey:c),p=t.scale.map(f);return Se(p)?p:null}var pA=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var u=Nt(l,t.dataKey,t.scale.domain()[c]);if(Vt(u))return null;var f=t.scale.map(u);return Se(f)?f-a/2+r:null},FY=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},qY=e=>{var t=e.flat(2).filter(Se);return[Math.min(...t),Math.max(...t)]},HY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],VY=(e,t,n)=>{if(e!=null)return HY(Object.keys(e).reduce((r,a)=>{var l=e[a];if(!l)return r;var{stackedData:c}=l,u=c.reduce((f,p)=>{var h=PO(p,t,n),g=qY(h);return!Ze(g[0])||!Ze(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},hA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zs=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=Zh(t,h=>h.coordinate),l=1/0,c=1,u=a.length;c<u;c++){var f=a[c],p=a[c-1];l=Math.min((f?.coordinate||0)-(p?.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function gA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:l}=e;return Uo(Uo({},t),{},{dataKey:n,payload:r,value:a,name:l})}function qs(e,t){if(e)return String(e);if(typeof t=="string")return t}var KY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},YY=(e,t)=>t==="centric"?e.angle:e.radius,Ui=e=>e.layout.width,$i=e=>e.layout.height,JY=e=>e.layout.scale,LO=e=>e.layout.margin,om=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),cm=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),zO="data-recharts-item-index",UO="data-recharts-item-id",vd=60;function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){WY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WY(e,t,n){return(t=XY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QY=e=>e.brush.height;function eJ(e){var t=cm(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:vd;return n+a}return n},0)}function tJ(e){var t=cm(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:vd;return n+a}return n},0)}function nJ(e){var t=om(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function rJ(e){var t=om(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var _n=Q([Ui,$i,LO,QY,eJ,tJ,nJ,rJ,nO,kK],(e,t,n,r,a,l,c,u,f,p)=>{var h={left:(n.left||0)+a,right:(n.right||0)+l},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},v=op(op({},g),h),N=v.bottom;v.bottom+=r,v=LY(v,f,p);var _=e-v.left-v.right,j=t-v.top-v.bottom;return op(op({brushBottom:N},v),{},{width:Math.max(_,0),height:Math.max(j,0)})}),aJ=Q(_n,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),uw=Q(Ui,$i,(e,t)=>({x:0,y:0,width:e,height:t})),iJ=b.createContext(null),In=()=>b.useContext(iJ)!=null,um=e=>e.brush,dm=Q([um,_n,LO],(e,t,n)=>({height:e.height,x:Se(e.x)?e.x:t.left,y:Se(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Se(e.width)?e.width:t.width})),pv={},hv={},mv={},vA;function sJ(){return vA||(vA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),p=l==null||l.includes("trailing"),h=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{p&&h(),j()};let v=null;const N=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},_=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{_(),c=void 0,u=null},E=()=>{h()},C=function(...A){if(a?.aborted)return;c=this,u=A;const k=v==null;N(),f&&k&&h()};return C.schedule=N,C.cancel=j,C.flush=E,a?.addEventListener("abort",j,{once:!0}),C}e.debounce=t})(mv)),mv}var yA;function lJ(){return yA||(yA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sJ();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,p=Array(2);c&&(p[0]="leading"),u&&(p[1]="trailing");let h,g=null;const v=t.debounce(function(...j){h=r.apply(this,j),g=null},a,{edges:p}),N=function(...j){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(h=r.apply(this,j),g=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,j),h)},_=()=>(v.flush(),h);return N.cancel=v.cancel,N.flush=_,N}e.debounce=n})(hv)),hv}var bA;function oJ(){return bA||(bA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lJ();function n(r,a=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(r,a,{leading:c,maxWait:a,trailing:u})}e.throttle=n})(pv)),pv}var gv,wA;function cJ(){return wA||(wA=1,gv=oJ().throttle),gv}var uJ=cJ();const dJ=Ha(uJ);var ah=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},Ia={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},$O=(e,t,n)=>{var{width:r=Ia.width,height:a=Ia.height,aspect:l,maxHeight:c}=n,u=Ol(r)?e:Number(r),f=Ol(a)?t:Number(a);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},fJ={width:0,height:0,overflow:"visible"},pJ={width:0,overflowX:"visible"},hJ={height:0,overflowY:"visible"},mJ={},gJ=e=>{var{width:t,height:n}=e,r=Ol(t),a=Ol(n);return r&&a?fJ:r?pJ:a?hJ:mJ};function xJ(e){var{width:t,height:n,aspect:r}=e,a=t,l=n;return a===void 0&&l===void 0?(a=Ia.width,l=Ia.height):a===void 0?a=r&&r>0?void 0:Ia.width:l===void 0&&(l=r&&r>0?void 0:Ia.height),{width:a,height:l}}function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function NA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(n),!0).forEach(function(r){vJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vJ(e,t,n){return(t=yJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GO=b.createContext(Ia.initialDimension);function wJ(e){return Ga(e.width)&&Ga(e.height)}function BO(e){var{children:t,width:n,height:r}=e,a=b.useMemo(()=>({width:n,height:r}),[n,r]);return wJ(a)?b.createElement(GO.Provider,{value:a},t):null}var dw=()=>b.useContext(GO),NJ=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=Ia.initialDimension,width:a,height:l,minWidth:c=Ia.minWidth,minHeight:u,maxHeight:f,children:p,debounce:h=Ia.debounce,id:g,className:v,onResize:N,style:_={}}=e,j=b.useRef(null),E=b.useRef();E.current=N,b.useImperativeHandle(t,()=>j.current);var[C,A]=b.useState({containerWidth:r.width,containerHeight:r.height}),k=b.useCallback((L,z)=>{A(q=>{var Y=Math.round(L),G=Math.round(z);return q.containerWidth===Y&&q.containerHeight===G?q:{containerWidth:Y,containerHeight:G}})},[]);b.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return Fs;var L=G=>{var W,ee=G[0];if(ee!=null){var{width:Z,height:U}=ee.contentRect;k(Z,U),(W=E.current)===null||W===void 0||W.call(E,Z,U)}};h>0&&(L=dJ(L,h,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:q,height:Y}=j.current.getBoundingClientRect();return k(q,Y),z.observe(j.current),()=>{z.disconnect()}},[k,h]);var{containerWidth:R,containerHeight:M}=C;ah(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:O}=$O(R,M,{width:a,height:l,aspect:n,maxHeight:f});return ah(P!=null&&P>0||O!=null&&O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,a,l,c,u,n),b.createElement("div",{id:g?"".concat(g):void 0,className:dt("recharts-responsive-container",v),style:SA(SA({},_),{},{width:a,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:j},b.createElement("div",{style:gJ({width:a,height:l})},b.createElement(BO,{width:P,height:O},p)))}),gi=b.forwardRef((e,t)=>{var n=dw();if(Ga(n.width)&&Ga(n.height))return e.children;var{width:r,height:a}=xJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=$O(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Se(l)&&Se(c)?b.createElement(BO,{width:l,height:c},e.children):b.createElement(NJ,Oy({},e,{width:r,height:a,ref:t}))});function fw(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var fm=()=>{var e,t=In(),n=Te(aJ),r=Te(dm),a=(e=Te(um))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},SJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},FO=()=>{var e;return(e=Te(_n))!==null&&e!==void 0?e:SJ},pw=()=>Te(Ui),hw=()=>Te($i),_J=()=>Te(e=>e.layout.margin),ut=e=>e.layout.layoutType,Hs=()=>Te(ut),mw=()=>{var e=Hs();if(e==="horizontal"||e==="vertical")return e},qO=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},jJ=()=>{var e=Hs();return e!==void 0},yd=e=>{var t=Lt(),n=In(),{width:r,height:a}=e,l=dw(),c=r,u=a;return l&&(c=l.width>0?l.width:r,u=l.height>0?l.height:a),b.useEffect(()=>{!n&&Ga(c)&&Ga(u)&&t(MY({width:c,height:u}))},[t,n,c,u]),null},HO=Symbol.for("immer-nothing"),_A=Symbol.for("immer-draftable"),Ir=Symbol.for("immer-state");function da(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zu=Object.getPrototypeOf;function ec(e){return!!e&&!!e[Ir]}function Dl(e){return e?VO(e)||Array.isArray(e)||!!e[_A]||!!e.constructor?.[_A]||bd(e)||hm(e):!1}var EJ=Object.prototype.constructor.toString(),jA=new WeakMap;function VO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=jA.get(n);return r===void 0&&(r=Function.toString.call(n),jA.set(n,r)),r===EJ}function ih(e,t,n=!0){pm(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function pm(e){const t=e[Ir];return t?t.type_:Array.isArray(e)?1:bd(e)?2:hm(e)?3:0}function Iy(e,t){return pm(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KO(e,t,n){const r=pm(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function CJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function bd(e){return e instanceof Map}function hm(e){return e instanceof Set}function yl(e){return e.copy_||e.base_}function Dy(e,t){if(bd(e))return new Map(e);if(hm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=VO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ir];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Zu(e),r)}else{const r=Zu(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function gw(e,t=!1){return mm(e)||ec(e)||!Dl(e)||(pm(e)>1&&Object.defineProperties(e,{set:cp,add:cp,clear:cp,delete:cp}),Object.freeze(e),t&&Object.values(e).forEach(n=>gw(n,!0))),e}function AJ(){da(2)}var cp={value:AJ};function mm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var TJ={};function Ll(e){const t=TJ[e];return t||da(0,e),t}var Qu;function YO(){return Qu}function kJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function EA(e,t){t&&(Ll("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ly(e){zy(e),e.drafts_.forEach(MJ),e.drafts_=null}function zy(e){e===Qu&&(Qu=e.parent_)}function CA(e){return Qu=kJ(Qu,e)}function MJ(e){const t=e[Ir];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ir].modified_&&(Ly(t),da(4)),Dl(e)&&(e=sh(t,e),t.parent_||lh(t,e)),t.patches_&&Ll("Patches").generateReplacementPatches_(n[Ir].base_,e,t.patches_,t.inversePatches_)):e=sh(t,n,[]),Ly(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HO?e:void 0}function sh(e,t,n){if(mm(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Ir];if(!a)return ih(t,(l,c)=>TA(e,a,t,l,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return lh(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,u=!1;a.type_===3&&(c=new Set(l),l.clear(),u=!0),ih(c,(f,p)=>TA(e,a,l,f,p,n,u),r),lh(e,l,!1),n&&e.patches_&&Ll("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function TA(e,t,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const u=mm(a);if(!(u&&!c)){if(ec(a)){const f=l&&t&&t.type_!==3&&!Iy(t.assigned_,r)?l.concat(r):void 0,p=sh(e,a,f);if(KO(n,r,p),ec(p))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Dl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&u)return;sh(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(bd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lh(e,a)}}}function lh(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&gw(t,n)}function RJ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:YO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=xw;n&&(a=[r],l=ed);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,u}var xw={get(e,t){if(t===Ir)return e;const n=yl(e);if(!Iy(n,t))return PJ(e,n,t);const r=n[t];return e.finalized_||!Dl(r)?r:r===xv(e.base_,t)?(vv(e),e.copy_[t]=$y(r,e)):r},has(e,t){return t in yl(e)},ownKeys(e){return Reflect.ownKeys(yl(e))},set(e,t,n){const r=JO(yl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=xv(yl(e),t),l=a?.[Ir];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(CJ(n,a)&&(n!==void 0||Iy(e.base_,t)))return!0;vv(e),Uy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return xv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,vv(e),Uy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=yl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){da(11)},getPrototypeOf(e){return Zu(e.base_)},setPrototypeOf(){da(12)}},ed={};ih(xw,(e,t)=>{ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ed.deleteProperty=function(e,t){return ed.set.call(this,e,t,void 0)};ed.set=function(e,t,n){return xw.set.call(this,e[0],t,n,e[0])};function xv(e,t){const n=e[Ir];return(n?yl(n):e)[t]}function PJ(e,t,n){const r=JO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function JO(e,t){if(!(t in e))return;let n=Zu(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Zu(n)}}function Uy(e){e.modified_||(e.modified_=!0,e.parent_&&Uy(e.parent_))}function vv(e){e.copy_||(e.copy_=Dy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var OJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...p){return c.produce(f,h=>n.call(this,h,...p))}}typeof n!="function"&&da(6),r!==void 0&&typeof r!="function"&&da(7);let a;if(Dl(t)){const l=CA(this),c=$y(t,void 0);let u=!0;try{a=n(c),u=!1}finally{u?Ly(l):zy(l)}return EA(l,r),AA(a,l)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===HO&&(a=void 0),this.autoFreeze_&&gw(a,!0),r){const l=[],c=[];Ll("Patches").generateReplacementPatches_(t,a,l,c),r(l,c)}return a}else da(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,a;return[this.produce(t,n,(c,u)=>{r=c,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Dl(e)||da(8),ec(e)&&(e=IJ(e));const t=CA(this),n=$y(e,void 0);return n[Ir].isManual_=!0,zy(t),n}finishDraft(e,t){const n=e&&e[Ir];(!n||!n.isManual_)&&da(9);const{scope_:r}=n;return EA(r,t),AA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Ll("Patches").applyPatches_;return ec(e)?r(e,t):this.produce(e,a=>r(a,t))}};function $y(e,t){const n=bd(e)?Ll("MapSet").proxyMap_(e,t):hm(e)?Ll("MapSet").proxySet_(e,t):RJ(e,t);return(t?t.scope_:YO()).drafts_.push(n),n}function IJ(e){return ec(e)||da(10,e),WO(e)}function WO(e){if(!Dl(e)||mm(e))return e;const t=e[Ir];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Dy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Dy(e,!0);return ih(n,(a,l)=>{KO(n,a,WO(l))},r),t&&(t.finalized_=!1),n}var DJ=new OJ;DJ.produce;var LJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XO=Sr({name:"legend",initialState:LJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ft()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=ma(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Ft()},removeLegendPayload:{reducer(e,t){var n=ma(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ft()}}}),{setLegendSize:kA,setLegendSettings:zJ,addLegendPayload:ZO,replaceLegendPayload:QO,removeLegendPayload:eI}=XO.actions,UJ=XO.reducer,$J=["contextPayload"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gy.apply(null,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){GJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GJ(e,t,n){return(t=BJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e,t){if(e==null)return{};var n,r,a=HJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function VJ(e){return e.value}function KJ(e){var{contextPayload:t}=e,n=qJ(e,$J),r=ZP(t,e.payloadUniqBy,VJ),a=tc(tc({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(z7,a)}function YJ(e,t,n,r,a,l){var{layout:c,align:u,verticalAlign:f}=t,p,h;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?p={left:((r||0)-l.width)/2}:p=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?h={top:((a||0)-l.height)/2}:h=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),tc(tc({},p),h)}function JJ(e){var t=Lt();return b.useEffect(()=>{t(zJ(e))},[t,e]),null}function WJ(e){var t=Lt();return b.useEffect(()=>(t(kA(e)),()=>{t(kA({width:0,height:0}))}),[t,e]),null}function XJ(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var ZJ={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function By(e){var t=sn(e,ZJ),n=PK(),r=kV(),a=_J(),{width:l,height:c,wrapperStyle:u,portal:f}=t,[p,h]=rO([n]),g=pw(),v=hw();if(g==null||v==null)return null;var N=g-(a?.left||0)-(a?.right||0),_=XJ(t.layout,c,l,N),j=f?u:tc(tc({position:"absolute",width:_?.width||l||"auto",height:_?.height||c||"auto"},YJ(u,t,a,g,v,p)),u),E=f??r;if(E==null||n==null)return null;var C=b.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},b.createElement(JJ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&b.createElement(WJ,{width:p.width,height:p.height}),b.createElement(KJ,Gy({},t,_,{margin:a,chartWidth:g,chartHeight:v,contextPayload:n})));return Tb.createPortal(C,E)}By.displayName="Legend";function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fy.apply(null,arguments)}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){QJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QJ(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nW(e){return Array.isArray(e)&&$a(e[0])&&$a(e[1])?e.join(" ~ "):e}var To={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},rW=e=>{var{separator:t=To.separator,contentStyle:n,itemStyle:r,labelStyle:a=To.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:p,label:h,labelFormatter:g,accessibilityLayer:v=To.accessibilityLayer}=e,N=()=>{if(l&&l.length){var M={padding:0,margin:0},P=(u?Zh(l,u):l).map((O,L)=>{if(O.type==="none")return null;var z=O.formatter||c||nW,{value:q,name:Y}=O,G=q,W=Y;if(z){var ee=z(q,Y,O,L,l);if(Array.isArray(ee))[G,W]=ee;else if(ee!=null)G=ee;else return null}var Z=bu(bu({},To.itemStyle),{},{color:O.color||To.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:Z},$a(W)?b.createElement("span",{className:"recharts-tooltip-item-name"},W):null,$a(W)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},G),b.createElement("span",{className:"recharts-tooltip-item-unit"},O.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:M},P)}return null},_=bu(bu({},To.contentStyle),n),j=bu({margin:0},a),E=!Vt(h),C=E?h:"",A=dt("recharts-default-tooltip",f),k=dt("recharts-tooltip-label",p);E&&g&&l!==void 0&&l!==null&&(C=g(h,l));var R=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",Fy({className:A,style:_},R),b.createElement("p",{className:k,style:j},b.isValidElement(C)?C:"".concat(C)),N())},wu="recharts-tooltip-wrapper",aW={visibility:"hidden"};function iW(e){var{coordinate:t,translateX:n,translateY:r}=e;return dt(wu,{["".concat(wu,"-right")]:Se(n)&&t&&Se(t.x)&&n>=t.x,["".concat(wu,"-left")]:Se(n)&&t&&Se(t.x)&&n<t.x,["".concat(wu,"-bottom")]:Se(r)&&t&&Se(t.y)&&r>=t.y,["".concat(wu,"-top")]:Se(r)&&t&&Se(t.y)&&r<t.y})}function PA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:p}=e;if(l&&Se(l[r]))return l[r];var h=n[r]-u-(a>0?a:0),g=n[r]+a;if(t[r])return c[r]?h:g;var v=f[r];if(v==null)return 0;if(c[r]){var N=h,_=v;return N<_?Math.max(g,v):Math.max(h,v)}if(p==null)return 0;var j=g+u,E=v+p;return j>E?Math.max(h,v):Math.max(g,v)}function sW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function lW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:p}=e,h,g,v;return u.height>0&&u.width>0&&n?(g=PA({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:p,viewBoxDimension:p.width}),v=PA({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:p,viewBoxDimension:p.height}),h=sW({translateX:g,translateY:v,useTranslate3d:f})):h=aW,{cssProperties:h,cssClasses:iW({translateX:g,translateY:v,coordinate:n})}}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){qy(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qy(e,t,n){return(t=oW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uW extends b.PureComponent{constructor(){super(...arguments),qy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:p,position:h,reverseDirection:g,useTranslate3d:v,viewBox:N,wrapperStyle:_,lastBoundingBox:j,innerRef:E,hasPortalFromProps:C}=this.props,A=typeof p=="number"?p:p.x,k=typeof p=="number"?p:p.y,{cssClasses:R,cssProperties:M}=lW({allowEscapeViewBox:n,coordinate:c,offsetLeft:A,offsetTop:k,position:h,reverseDirection:g,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:N}),P=C?{}:up(up({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),O=up(up({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},_);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:R,style:O,ref:E},l)}}var tI=()=>{var e;return(e=Te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Hy(){return Hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hy.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function DA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){dW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dW(e,t,n){return(t=fW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LA={curveBasisClosed:JV,curveBasisOpen:WV,curveBasis:YV,curveBumpX:OV,curveBumpY:IV,curveLinearClosed:XV,curveLinear:Wh,curveMonotoneX:ZV,curveMonotoneY:QV,curveNatural:e7,curveStep:t7,curveStepAfter:r7,curveStepBefore:n7},oh=e=>Ze(e.x)&&Ze(e.y),zA=e=>e.base!=null&&oh(e.base)&&oh(e),Nu=e=>e.x,Su=e=>e.y,hW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(hd(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=LA["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return LA[n]||Wh},UA={connectNulls:!1,type:"linear"},mW=e=>{var{type:t=UA.type,points:n=[],baseLine:r,layout:a,connectNulls:l=UA.connectNulls}=e,c=hW(t,a),u=l?n.filter(oh):n;if(Array.isArray(r)){var f,p=n.map((_,j)=>DA(DA({},_),{},{base:r[j]}));a==="vertical"?f=np().y(Su).x1(Nu).x0(_=>_.base.x):f=np().x(Nu).y1(Su).y0(_=>_.base.y);var h=f.defined(zA).curve(c),g=l?p.filter(zA):p;return h(g)}var v;a==="vertical"&&Se(r)?v=np().y(Su).x1(Nu).x0(r):Se(r)?v=np().x(Nu).y1(Su).y0(r):v=AP().x(Nu).y(Su);var N=v.defined(oh).curve(c);return N(u)},Vo=e=>{var{className:t,points:n,path:r,pathRef:a}=e,l=Hs();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=n&&n.length?mW(c):r;return b.createElement("path",Hy({},cr(e),ew(e),{className:dt("recharts-curve",t),d:u===null?void 0:u,ref:a}))},gW=["x","y","top","left","width","height","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){vW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vW(e,t,n){return(t=yW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wW(e,t){if(e==null)return{};var n,r,a=NW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function NW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var SW=(e,t,n,r,a,l)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),_W=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:u}=e,f=wW(e,gW),p=xW({x:t,y:n,top:r,left:a,width:l,height:c},f);return!Se(t)||!Se(n)||!Se(l)||!Se(c)||!Se(r)||!Se(a)?null:b.createElement("path",Vy({},er(p),{className:dt("recharts-cross",u),d:SW(t,n,l,c,r,a)}))};function jW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){EW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EW(e,t,n){return(t=CW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function CW(e){var t=AW(e,"string");return typeof t=="symbol"?t:t+""}function AW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nI=(e,t,n)=>e.map(r=>"".concat(TW(r)," ").concat(t,"ms ").concat(n)).join(","),kW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),td=(e,t)=>Object.keys(t).reduce((n,r)=>BA(BA({},n),{},{[r]:e(r,t[r])}),{});function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){MW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MW(e,t,n){return(t=RW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ch=(e,t,n)=>e+(t-e)*n,Ky=e=>{var{from:t,to:n}=e;return t!==n},rI=(e,t,n)=>{var r=td((a,l)=>{if(Ky(l)){var[c,u]=e(l.from,l.to,l.velocity);return Nn(Nn({},l),{},{from:c,velocity:u})}return l},t);return n<1?td((a,l)=>Ky(l)&&r[a]!=null?Nn(Nn({},l),{},{velocity:ch(l.velocity,r[a].velocity,n),from:ch(l.from,r[a].from,n)}):l,t):rI(e,r,n-1)};function OW(e,t,n,r,a,l){var c,u=r.reduce((v,N)=>Nn(Nn({},v),{},{[N]:{from:e[N],velocity:0,to:t[N]}}),{}),f=()=>td((v,N)=>N.from,u),p=()=>!Object.values(u).filter(Ky).length,h=null,g=v=>{c||(c=v);var N=v-c,_=N/n.dt;u=rI(n,u,_),a(Nn(Nn(Nn({},e),t),f())),c=v,p()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{var v;(v=h)===null||v===void 0||v()})}function IW(e,t,n,r,a,l,c){var u=null,f=a.reduce((g,v)=>{var N=e[v],_=t[v];return N==null||_==null?g:Nn(Nn({},g),{},{[v]:[N,_]})},{}),p,h=g=>{p||(p=g);var v=(g-p)/r,N=td((j,E)=>ch(...E,n(v)),f);if(l(Nn(Nn(Nn({},e),t),N)),v<1)u=c.setTimeout(h);else{var _=td((j,E)=>ch(...E,n(1)),f);l(Nn(Nn(Nn({},e),t),_))}};return()=>(u=c.setTimeout(h),()=>{var g;(g=u)===null||g===void 0||g()})}const DW=(e,t,n,r,a,l)=>{var c=kW(e,t);return n==null?()=>(a(Nn(Nn({},e),t)),()=>{}):n.isStepper===!0?OW(e,t,n,c,a,l):IW(e,t,n,r,c,a,l)};var uh=1e-4,aI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),qA=(e,t)=>n=>{var r=aI(e,t);return iI(r,n)},LW=(e,t)=>n=>{var r=aI(e,t),a=[...r.map((l,c)=>l*c).slice(1),0];return iI(a,n)},zW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]},UW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=zW(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},$W=(e,t,n,r)=>{var a=qA(e,n),l=qA(t,r),c=LW(e,n),u=p=>p>1?1:p<0?0:p,f=p=>{for(var h=p>1?1:p,g=h,v=0;v<8;++v){var N=a(g)-h,_=c(g);if(Math.abs(N-h)<uh||_<uh)return l(g);g=u(g-N/_)}return l(g)};return f.isStepper=!1,f},HA=function(){return $W(...UW(...arguments))},GW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,l=(c,u,f)=>{var p=-(c-u)*n,h=f*r,g=f+(p-h)*a/1e3,v=f*a/1e3+c;return Math.abs(v-u)<uh&&Math.abs(g)<uh?[u,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},BW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HA(e);case"spring":return GW();default:if(e.split("(")[0]==="cubic-bezier")return HA(e)}return typeof e=="function"?e:null};function FW(e){var t,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...p]=u;if(typeof f=="number"){a=e.setTimeout(l.bind(null,p),f);return}l(f),a=e.setTimeout(l.bind(null,p));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class qW{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function HW(){return FW(new qW)}var VW=b.createContext(HW);function KW(e,t){var n=b.useContext(VW);return b.useMemo(()=>t??n(e),[e,t,n])}var YW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wd={isSsr:YW()},JW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VA={t:0},yv={t:1};function dc(e){var t=sn(e,JW),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:p}=t,h=n==="auto"?!wd.isSsr:n,g=KW(t.animationId,t.animationManager),[v,N]=b.useState(h?VA:yv),_=b.useRef(null);return b.useEffect(()=>{h||N(yv)},[h]),b.useEffect(()=>{if(!h||!r)return Fs;var j=DW(VA,yv,BW(l),a,N,g.getTimeoutController()),E=()=>{_.current=j()};return g.start([f,c,E,a,u]),()=>{g.stop(),_.current&&_.current(),u()}},[h,r,a,l,c,f,u,g]),p(v.t)}function fc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(Yu(t)),r=b.useRef(e);return r.current!==e&&(n.current=Yu(t),r.current=e),n.current}var WW=["radius"],XW=["radius"],KA,YA,JA,WA,XA,ZA,QA,eT,tT,nT;function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function aT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){ZW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZW(e,t,n){return(t=QW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QW(e){var t=eX(e,"string");return typeof t=="symbol"?t:t+""}function eX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(null,arguments)}function iT(e,t){if(e==null)return{};var n,r,a=tX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ka(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var sT=(e,t,n,r,a)=>{var l=Ms(n),c=Ms(r),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,p=l>=0?1:-1,h=c>=0&&l>=0||c<0&&l<0?1:0,g;if(u>0&&Array.isArray(a)){for(var v=[0,0,0,0],N=0,_=4;N<_;N++){var j,E=(j=a[N])!==null&&j!==void 0?j:0;v[N]=E>u?u:E}g=nn(KA||(KA=ka(["M",",",""])),e,t+f*v[0]),v[0]>0&&(g+=nn(YA||(YA=ka(["A ",",",",0,0,",",",",",""])),v[0],v[0],h,e+p*v[0],t)),g+=nn(JA||(JA=ka(["L ",",",""])),e+n-p*v[1],t),v[1]>0&&(g+=nn(WA||(WA=ka(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],h,e+n,t+f*v[1])),g+=nn(XA||(XA=ka(["L ",",",""])),e+n,t+r-f*v[2]),v[2]>0&&(g+=nn(ZA||(ZA=ka(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],h,e+n-p*v[2],t+r)),g+=nn(QA||(QA=ka(["L ",",",""])),e+p*v[3],t+r),v[3]>0&&(g+=nn(eT||(eT=ka(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],h,e,t+r-f*v[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);g=nn(tT||(tT=ka(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,h,e+p*C,t,e+n-p*C,t,C,C,h,e+n,t+f*C,e+n,t+r-f*C,C,C,h,e+n-p*C,t+r,e+p*C,t+r,C,C,h,e,t+r-f*C)}else g=nn(nT||(nT=ka(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},lT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sI=e=>{var t=sn(e,lT),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var J=n.current.getTotalLength();J&&a(J)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:p,className:h}=t,{animationEasing:g,animationDuration:v,animationBegin:N,isAnimationActive:_,isUpdateAnimationActive:j}=t,E=b.useRef(u),C=b.useRef(f),A=b.useRef(l),k=b.useRef(c),R=b.useMemo(()=>({x:l,y:c,width:u,height:f,radius:p}),[l,c,u,f,p]),M=fc(R,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var P=dt("recharts-rectangle",h);if(!j){var O=er(t),{radius:L}=O,z=iT(O,WW);return b.createElement("path",dh({},z,{x:Ms(l),y:Ms(c),width:Ms(u),height:Ms(f),radius:typeof p=="number"?p:void 0,className:P,d:sT(l,c,u,f,p)}))}var q=E.current,Y=C.current,G=A.current,W=k.current,ee="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),U=nI(["strokeDasharray"],v,typeof g=="string"?g:lT.animationEasing);return b.createElement(dc,{animationId:M,key:M,canBegin:r>0,duration:v,easing:g,isActive:j,begin:N},J=>{var te=wt(q,u,J),de=wt(Y,f,J),ue=wt(G,l,J),D=wt(W,c,J);n.current&&(E.current=te,C.current=de,A.current=ue,k.current=D);var X;_?J>0?X={transition:U,strokeDasharray:Z}:X={strokeDasharray:ee}:X={strokeDasharray:Z};var ge=er(t),{radius:xe}=ge,K=iT(ge,XW);return b.createElement("path",dh({},K,{radius:typeof p=="number"?p:void 0,className:P,d:sT(ue,D,te,de,p),ref:n,style:aT(aT({},X),t.style)}))})};function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){nX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nX(e,t,n){return(t=rX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fh=Math.PI/180,iX=e=>e*180/Math.PI,xn=(e,t,n,r)=>({x:e+Math.cos(-fh*r)*n,y:t+Math.sin(-fh*r)*n}),lI=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},sX=(e,t)=>{var{x:n,y:r}=e,{x:a,y:l}=t;return Math.sqrt((n-a)**2+(r-l)**2)},lX=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:l}=t,c=sX({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,f=Math.acos(u);return r>l&&(f=2*Math.PI-f),{radius:c,angle:iX(f),angleInRadian:f}},oX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:t-l*360,endAngle:n-l*360}},cX=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return e+c*360},uX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:l}=lX({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:p}=oX(t),h=l,g;if(f<=p){for(;h>p;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=p}else{for(;h>f;)h-=360;for(;h<p;)h+=360;g=h>=p&&h<=f}return g?cT(cT({},t),{},{radius:a,angle:cX(h,t)}):null};function oI(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:l}=e,c=xn(t,n,r,a),u=xn(t,n,r,l);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}var uT,dT,fT,pT,hT,mT,gT;function Yy(){return Yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yy.apply(null,arguments)}function wl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dX=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},dp=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,p=u*(c?1:-1)+r,h=Math.asin(u/p)/fh,g=f?a:a+l*h,v=xn(t,n,p,g),N=xn(t,n,r,g),_=f?a-l*h:a,j=xn(t,n,p*Math.cos(h*fh),_);return{center:v,circleTangency:N,lineTangency:j,theta:h}},cI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=e,u=dX(l,c),f=l+u,p=xn(t,n,a,l),h=xn(t,n,a,f),g=nn(uT||(uT=wl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,a,a,+(Math.abs(u)>180),+(l>f),h.x,h.y);if(r>0){var v=xn(t,n,r,l),N=xn(t,n,r,f);g+=nn(dT||(dT=wl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),N.x,N.y,r,r,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else g+=nn(fT||(fT=wl(["L ",","," Z"])),t,n);return g},fX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}=e,h=Pn(p-f),{circleTangency:g,lineTangency:v,theta:N}=dp({cx:t,cy:n,radius:a,angle:f,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:_,lineTangency:j,theta:E}=dp({cx:t,cy:n,radius:a,angle:p,sign:-h,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-p):Math.abs(f-p)-N-E;if(C<0)return c?nn(pT||(pT=wl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):cI({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:p});var A=nn(hT||(hT=wl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(h<0),g.x,g.y,a,a,+(C>180),+(h<0),_.x,_.y,l,l,+(h<0),j.x,j.y);if(r>0){var{circleTangency:k,lineTangency:R,theta:M}=dp({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:P,lineTangency:O,theta:L}=dp({cx:t,cy:n,radius:r,angle:p,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-p):Math.abs(f-p)-M-L;if(z<0&&l===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+=nn(mT||(mT=wl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),O.x,O.y,l,l,+(h<0),P.x,P.y,r,r,+(z>180),+(h>0),k.x,k.y,l,l,+(h<0),R.x,R.y)}else A+=nn(gT||(gT=wl(["L",",","Z"])),t,n);return A},pX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uI=e=>{var t=sn(e,pX),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:h,className:g}=t;if(l<a||p===h)return null;var v=dt("recharts-sector",g),N=l-a,_=Qn(c,N,0,!0),j;return _>0&&Math.abs(p-h)<360?j=fX({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(_,N/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:h}):j=cI({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:p,endAngle:h}),b.createElement("path",Yy({},er(t),{className:v,d:j}))};function hX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(FP(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:u}=t,f=xn(r,a,l,u),p=xn(r,a,c,u);return[{x:f.x,y:f.y},{x:p.x,y:p.y}]}return oI(t)}}var bv={},wv={},Nv={},xT;function mX(){return xT||(xT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eO();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Nv)),Nv}var vT;function gX(){return vT||(vT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(wv)),wv}var yT;function xX(){return yT||(yT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tO(),n=gX();function r(a,l,c){c&&typeof c!="number"&&t.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(u);for(let p=0;p<u;p++)f[p]=a,a+=c;return f}e.range=r})(bv)),bv}var Sv,bT;function vX(){return bT||(bT=1,Sv=xX().range),Sv}var yX=vX();const dI=Ha(yX);function Os(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vw(e){let t,n,r;e.length!==2?(t=Os,n=(u,f)=>Os(e(u),f),r=(u,f)=>e(u)-f):(t=e===Os||e===bX?e:wX,n=e,r=e);function a(u,f,p=0,h=u.length){if(p<h){if(t(f,f)!==0)return h;do{const g=p+h>>>1;n(u[g],f)<0?p=g+1:h=g}while(p<h)}return p}function l(u,f,p=0,h=u.length){if(p<h){if(t(f,f)!==0)return h;do{const g=p+h>>>1;n(u[g],f)<=0?p=g+1:h=g}while(p<h)}return p}function c(u,f,p=0,h=u.length){const g=a(u,f,p,h-1);return g>p&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:a,center:c,right:l}}function wX(){return 0}function fI(e){return e===null?NaN:+e}function*NX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const SX=vw(Os),Nd=SX.right;vw(fI).center;class wT extends Map{constructor(t,n=EX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(NT(this,t))}has(t){return super.has(NT(this,t))}set(t,n){return super.set(_X(this,t),n)}delete(t){return super.delete(jX(this,t))}}function NT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _X({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function jX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function EX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function CX(e=Os){if(e===Os)return pI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function pI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const AX=Math.sqrt(50),TX=Math.sqrt(10),kX=Math.sqrt(2);function ph(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=AX?10:l>=TX?5:l>=kX?2:1;let u,f,p;return a<0?(p=Math.pow(10,-a)/c,u=Math.round(e*p),f=Math.round(t*p),u/p<e&&++u,f/p>t&&--f,p=-p):(p=Math.pow(10,a)*c,u=Math.round(e/p),f=Math.round(t/p),u*p<e&&++u,f*p>t&&--f),f<u&&.5<=n&&n<2?ph(e,t,n*2):[u,f,p]}function Jy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,c]=r?ph(t,e,n):ph(e,t,n);if(!(l>=a))return[];const u=l-a+1,f=new Array(u);if(r)if(c<0)for(let p=0;p<u;++p)f[p]=(l-p)/-c;else for(let p=0;p<u;++p)f[p]=(l-p)*c;else if(c<0)for(let p=0;p<u;++p)f[p]=(a+p)/-c;else for(let p=0;p<u;++p)f[p]=(a+p)*c;return f}function Wy(e,t,n){return t=+t,e=+e,n=+n,ph(e,t,n)[2]}function Xy(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?Wy(t,e,n):Wy(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function ST(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _T(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function hI(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?pI:CX(a);r>n;){if(r-n>600){const f=r-n+1,p=t-n+1,h=Math.log(f),g=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*g*(f-g)/f)*(p-f/2<0?-1:1),N=Math.max(n,Math.floor(t-p*g/f+v)),_=Math.min(r,Math.floor(t+(f-p)*g/f+v));hI(e,t,N,_,a)}const l=e[t];let c=n,u=r;for(_u(e,n,t),a(e[r],l)>0&&_u(e,n,r);c<u;){for(_u(e,c,u),++c,--u;a(e[c],l)<0;)++c;for(;a(e[u],l)>0;)--u}a(e[n],l)===0?_u(e,n,u):(++u,_u(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function _u(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function MX(e,t,n){if(e=Float64Array.from(NX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _T(e);if(t>=1)return ST(e);var r,a=(r-1)*t,l=Math.floor(a),c=ST(hI(e,l).subarray(0,l+1)),u=_T(e.subarray(l+1));return c+(u-c)*(a-l)}}function RX(e,t,n=fI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),c=+n(e[l],l,e),u=+n(e[l+1],l+1,e);return c+(u-c)*(a-l)}}function PX(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function ia(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zy=Symbol("implicit");function yw(){var e=new wT,t=[],n=[],r=Zy;function a(l){let c=e.get(l);if(c===void 0){if(r!==Zy)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new wT;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return yw(t,n).unknown(r)},ia.apply(a,arguments),a}function bw(){var e=yw().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,c,u=!1,f=0,p=0,h=.5;delete e.unknown;function g(){var v=t().length,N=a<r,_=N?a:r,j=N?r:a;l=(j-_)/Math.max(1,v-f+p*2),u&&(l=Math.floor(l)),_+=(j-_-l*(v-f))*h,c=l*(1-f),u&&(_=Math.round(_),c=Math.round(c));var E=PX(v).map(function(C){return _+l*C});return n(N?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,g()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,p=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(p=+v,g()):p},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),g()):h},e.copy=function(){return bw(t(),[r,a]).round(u).paddingInner(f).paddingOuter(p).align(h)},ia.apply(g(),arguments)}function mI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mI(t())},e}function OX(){return mI(bw.apply(null,arguments).paddingInner(1))}function ww(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function gI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Sd(){}var nd=.7,hh=1/nd,Ko="\\s*([+-]?\\d+)\\s*",rd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",za="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IX=/^#([0-9a-f]{3,8})$/,DX=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),LX=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),zX=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${rd}\\)$`),UX=new RegExp(`^rgba\\(${za},${za},${za},${rd}\\)$`),$X=new RegExp(`^hsl\\(${rd},${za},${za}\\)$`),GX=new RegExp(`^hsla\\(${rd},${za},${za},${rd}\\)$`),jT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ww(Sd,ad,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ET,formatHex:ET,formatHex8:BX,formatHsl:FX,formatRgb:CT,toString:CT});function ET(){return this.rgb().formatHex()}function BX(){return this.rgb().formatHex8()}function FX(){return xI(this).formatHsl()}function CT(){return this.rgb().formatRgb()}function ad(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=IX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?AT(t):n===3?new wr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?fp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?fp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=DX.exec(e))?new wr(t[1],t[2],t[3],1):(t=LX.exec(e))?new wr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zX.exec(e))?fp(t[1],t[2],t[3],t[4]):(t=UX.exec(e))?fp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$X.exec(e))?MT(t[1],t[2]/100,t[3]/100,1):(t=GX.exec(e))?MT(t[1],t[2]/100,t[3]/100,t[4]):jT.hasOwnProperty(e)?AT(jT[e]):e==="transparent"?new wr(NaN,NaN,NaN,0):null}function AT(e){return new wr(e>>16&255,e>>8&255,e&255,1)}function fp(e,t,n,r){return r<=0&&(e=t=n=NaN),new wr(e,t,n,r)}function qX(e){return e instanceof Sd||(e=ad(e)),e?(e=e.rgb(),new wr(e.r,e.g,e.b,e.opacity)):new wr}function Qy(e,t,n,r){return arguments.length===1?qX(e):new wr(e,t,n,r??1)}function wr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ww(wr,Qy,gI(Sd,{brighter(e){return e=e==null?hh:Math.pow(hh,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?nd:Math.pow(nd,e),new wr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new wr(El(this.r),El(this.g),El(this.b),mh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:TT,formatHex:TT,formatHex8:HX,formatRgb:kT,toString:kT}));function TT(){return`#${Nl(this.r)}${Nl(this.g)}${Nl(this.b)}`}function HX(){return`#${Nl(this.r)}${Nl(this.g)}${Nl(this.b)}${Nl((isNaN(this.opacity)?1:this.opacity)*255)}`}function kT(){const e=mh(this.opacity);return`${e===1?"rgb(":"rgba("}${El(this.r)}, ${El(this.g)}, ${El(this.b)}${e===1?")":`, ${e})`}`}function mh(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function El(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nl(e){return e=El(e),(e<16?"0":"")+e.toString(16)}function MT(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new fa(e,t,n,r)}function xI(e){if(e instanceof fa)return new fa(e.h,e.s,e.l,e.opacity);if(e instanceof Sd||(e=ad(e)),!e)return new fa;if(e instanceof fa)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,u=l-a,f=(l+a)/2;return u?(t===l?c=(n-r)/u+(n<r)*6:n===l?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?l+a:2-l-a,c*=60):u=f>0&&f<1?0:c,new fa(c,u,f,e.opacity)}function VX(e,t,n,r){return arguments.length===1?xI(e):new fa(e,t,n,r??1)}function fa(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ww(fa,VX,gI(Sd,{brighter(e){return e=e==null?hh:Math.pow(hh,e),new fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?nd:Math.pow(nd,e),new fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new wr(_v(e>=240?e-240:e+120,a,r),_v(e,a,r),_v(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new fa(RT(this.h),pp(this.s),pp(this.l),mh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=mh(this.opacity);return`${e===1?"hsl(":"hsla("}${RT(this.h)}, ${pp(this.s)*100}%, ${pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function RT(e){return e=(e||0)%360,e<0?e+360:e}function pp(e){return Math.max(0,Math.min(1,e||0))}function _v(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Nw=e=>()=>e;function KX(e,t){return function(n){return e+n*t}}function YX(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function JX(e){return(e=+e)==1?vI:function(t,n){return n-t?YX(t,n,e):Nw(isNaN(t)?n:t)}}function vI(e,t){var n=t-e;return n?KX(e,n):Nw(isNaN(e)?t:e)}const PT=(function e(t){var n=JX(t);function r(a,l){var c=n((a=Qy(a)).r,(l=Qy(l)).r),u=n(a.g,l.g),f=n(a.b,l.b),p=vI(a.opacity,l.opacity);return function(h){return a.r=c(h),a.g=u(h),a.b=f(h),a.opacity=p(h),a+""}}return r.gamma=e,r})(1);function WX(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function XX(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function ZX(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=pc(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(u){for(c=0;c<r;++c)l[c]=a[c](u);return l}}function QX(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function gh(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function eZ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=pc(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var eb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jv=new RegExp(eb.source,"g");function tZ(e){return function(){return e}}function nZ(e){return function(t){return e(t)+""}}function rZ(e,t){var n=eb.lastIndex=jv.lastIndex=0,r,a,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=eb.exec(e))&&(a=jv.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),u[c]?u[c]+=l:u[++c]=l),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:gh(r,a)})),n=jv.lastIndex;return n<t.length&&(l=t.slice(n),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?nZ(f[0].x):tZ(t):(t=f.length,function(p){for(var h=0,g;h<t;++h)u[(g=f[h]).i]=g.x(p);return u.join("")})}function pc(e,t){var n=typeof t,r;return t==null||n==="boolean"?Nw(t):(n==="number"?gh:n==="string"?(r=ad(t))?(t=r,PT):rZ:t instanceof ad?PT:t instanceof Date?QX:XX(t)?WX:Array.isArray(t)?ZX:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?eZ:gh)(e,t)}function Sw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function aZ(e,t){t===void 0&&(t=e,e=pc);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[u](c-u)}}function iZ(e){return function(){return e}}function xh(e){return+e}var OT=[0,1];function lr(e){return e}function tb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:iZ(isNaN(t)?NaN:.5)}function sZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lZ(e,t,n){var r=e[0],a=e[1],l=t[0],c=t[1];return a<r?(r=tb(a,r),l=n(c,l)):(r=tb(r,a),l=n(l,c)),function(u){return l(r(u))}}function oZ(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=tb(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(u){var f=Nd(e,u,1,r)-1;return l[f](a[f](u))}}function _d(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gm(){var e=OT,t=OT,n=pc,r,a,l,c=lr,u,f,p;function h(){var v=Math.min(e.length,t.length);return c!==lr&&(c=sZ(e[0],e[v-1])),u=v>2?oZ:lZ,f=p=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(r),t,n)))(r(c(v)))}return g.invert=function(v){return c(a((p||(p=u(t,e.map(r),gh)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,xh),h()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=Sw,h()},g.clamp=function(v){return arguments.length?(c=v?!0:lr,h()):c!==lr},g.interpolate=function(v){return arguments.length?(n=v,h()):n},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,N){return r=v,a=N,h()}}function _w(){return gm()(lr,lr)}function cZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vh(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function nc(e){return e=vh(Math.abs(e)),e?e[1]:NaN}function uZ(e,t){return function(n,r){for(var a=n.length,l=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),l.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function dZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var fZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function id(e){if(!(t=fZ.exec(e)))throw new Error("invalid format: "+e);var t;return new jw({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}id.prototype=jw.prototype;function jw(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jw.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function pZ(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var yh;function hZ(e,t){var n=vh(e,t);if(!n)return yh=void 0,e.toPrecision(t);var r=n[0],a=n[1],l=a-(yh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+vh(e,Math.max(0,t+l-1))[0]}function IT(e,t){var n=vh(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const DT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:cZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IT(e*100,t),r:IT,s:hZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function LT(e){return e}var zT=Array.prototype.map,UT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mZ(e){var t=e.grouping===void 0||e.thousands===void 0?LT:uZ(zT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?LT:dZ(zT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(g,v){g=id(g);var N=g.fill,_=g.align,j=g.sign,E=g.symbol,C=g.zero,A=g.width,k=g.comma,R=g.precision,M=g.trim,P=g.type;P==="n"?(k=!0,P="g"):DT[P]||(R===void 0&&(R=12),M=!0,P="g"),(C||N==="0"&&_==="=")&&(C=!0,N="0",_="=");var O=(v&&v.prefix!==void 0?v.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),L=(E==="$"?r:/[%p]/.test(P)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),z=DT[P],q=/[defgprs%]/.test(P);R=R===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function Y(G){var W=O,ee=L,Z,U,J;if(P==="c")ee=z(G)+ee,G="";else{G=+G;var te=G<0||1/G<0;if(G=isNaN(G)?f:z(Math.abs(G),R),M&&(G=pZ(G)),te&&+G==0&&j!=="+"&&(te=!1),W=(te?j==="("?j:u:j==="-"||j==="("?"":j)+W,ee=(P==="s"&&!isNaN(G)&&yh!==void 0?UT[8+yh/3]:"")+ee+(te&&j==="("?")":""),q){for(Z=-1,U=G.length;++Z<U;)if(J=G.charCodeAt(Z),48>J||J>57){ee=(J===46?a+G.slice(Z+1):G.slice(Z))+ee,G=G.slice(0,Z);break}}}k&&!C&&(G=t(G,1/0));var de=W.length+G.length+ee.length,ue=de<A?new Array(A-de+1).join(N):"";switch(k&&C&&(G=t(ue+G,ue.length?A-ee.length:1/0),ue=""),_){case"<":G=W+G+ee+ue;break;case"=":G=W+ue+G+ee;break;case"^":G=ue.slice(0,de=ue.length>>1)+W+G+ee+ue.slice(de);break;default:G=ue+W+G+ee;break}return l(G)}return Y.toString=function(){return g+""},Y}function h(g,v){var N=Math.max(-8,Math.min(8,Math.floor(nc(v)/3)))*3,_=Math.pow(10,-N),j=p((g=id(g),g.type="f",g),{suffix:UT[8+N/3]});return function(E){return j(_*E)}}return{format:p,formatPrefix:h}}var hp,Ew,yI;gZ({thousands:",",grouping:[3],currency:["$",""]});function gZ(e){return hp=mZ(e),Ew=hp.format,yI=hp.formatPrefix,hp}function xZ(e){return Math.max(0,-nc(Math.abs(e)))}function vZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(nc(t)/3)))*3-nc(Math.abs(e)))}function yZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,nc(t)-nc(e))+1}function bI(e,t,n,r){var a=Xy(e,t,n),l;switch(r=id(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=vZ(a,c))&&(r.precision=l),yI(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=yZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=xZ(a))&&(r.precision=l-(r.type==="%")*2);break}}return Ew(r)}function Vs(e){var t=e.domain;return e.ticks=function(n){var r=t();return Jy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return bI(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,c=r[a],u=r[l],f,p,h=10;for(u<c&&(p=c,c=u,u=p,p=a,a=l,l=p);h-- >0;){if(p=Wy(c,u,n),p===f)return r[a]=c,r[l]=u,t(r);if(p>0)c=Math.floor(c/p)*p,u=Math.ceil(u/p)*p;else if(p<0)c=Math.ceil(c*p)/p,u=Math.floor(u*p)/p;else break;f=p}return e},e}function wI(){var e=_w();return e.copy=function(){return _d(e,wI())},ia.apply(e,arguments),Vs(e)}function NI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,xh),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return NI(e).unknown(t)},e=arguments.length?Array.from(e,xh):[0,1],Vs(n)}function SI(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),e[n]=t.floor(a),e[r]=t.ceil(l),e}function $T(e){return Math.log(e)}function GT(e){return Math.exp(e)}function bZ(e){return-Math.log(-e)}function wZ(e){return-Math.exp(-e)}function NZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function SZ(e){return e===10?NZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _Z(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function BT(e){return(t,n)=>-e(-t,n)}function Cw(e){const t=e($T,GT),n=t.domain;let r=10,a,l;function c(){return a=_Z(r),l=SZ(r),n()[0]<0?(a=BT(a),l=BT(l),e(bZ,wZ)):e($T,GT),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let p=f[0],h=f[f.length-1];const g=h<p;g&&([p,h]=[h,p]);let v=a(p),N=a(h),_,j;const E=u==null?10:+u;let C=[];if(!(r%1)&&N-v<E){if(v=Math.floor(v),N=Math.ceil(N),p>0){for(;v<=N;++v)for(_=1;_<r;++_)if(j=v<0?_/l(-v):_*l(v),!(j<p)){if(j>h)break;C.push(j)}}else for(;v<=N;++v)for(_=r-1;_>=1;--_)if(j=v>0?_/l(-v):_*l(v),!(j<p)){if(j>h)break;C.push(j)}C.length*2<E&&(C=Jy(p,h,E))}else C=Jy(v,N,Math.min(N-v,E)).map(l);return g?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=id(f)).precision==null&&(f.trim=!0),f=Ew(f)),u===1/0)return f;const p=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/l(Math.round(a(h)));return g*r<r-.5&&(g*=r),g<=p?f(h):""}},t.nice=()=>n(SI(n(),{floor:u=>l(Math.floor(a(u))),ceil:u=>l(Math.ceil(a(u)))})),t}function _I(){const e=Cw(gm()).domain([1,10]);return e.copy=()=>_d(e,_I()).base(e.base()),ia.apply(e,arguments),e}function FT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Aw(e){var t=1,n=e(FT(t),qT(t));return n.constant=function(r){return arguments.length?e(FT(t=+r),qT(t)):t},Vs(n)}function jI(){var e=Aw(gm());return e.copy=function(){return _d(e,jI()).constant(e.constant())},ia.apply(e,arguments)}function HT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function jZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function EZ(e){return e<0?-e*e:e*e}function Tw(e){var t=e(lr,lr),n=1;function r(){return n===1?e(lr,lr):n===.5?e(jZ,EZ):e(HT(n),HT(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Vs(t)}function kw(){var e=Tw(gm());return e.copy=function(){return _d(e,kw()).exponent(e.exponent())},ia.apply(e,arguments),e}function CZ(){return kw.apply(null,arguments).exponent(.5)}function VT(e){return Math.sign(e)*e*e}function AZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EI(){var e=_w(),t=[0,1],n=!1,r;function a(l){var c=AZ(e(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return e.invert(VT(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,xh)).map(VT)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return EI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},ia.apply(a,arguments),Vs(a)}function CI(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=RX(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Nd(n,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Os),a()},l.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return CI().domain(e).range(t).unknown(r)},ia.apply(l,arguments)}function AI(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[Nd(r,f,0,n)]:l}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var p=a.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,r[0]]:p>=n?[r[n-1],t]:[r[p-1],r[p]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return AI().domain([e,t]).range(a).unknown(l)},ia.apply(Vs(c),arguments)}function TI(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[Nd(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return TI().domain(e).range(t).unknown(n)},ia.apply(a,arguments)}const Ev=new Date,Cv=new Date;function jn(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const c=a(l),u=a.ceil(l);return l-c<u-l?c:u},a.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,u)=>{const f=[];if(l=a.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let p;do f.push(p=new Date(+l)),t(l,u),e(l);while(p<l&&l<c);return f},a.filter=l=>jn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),n&&(a.count=(l,c)=>(Ev.setTime(+l),Cv.setTime(+c),e(Ev),e(Cv),Math.floor(n(Ev,Cv))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const bh=jn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?jn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bh);bh.range;const bi=1e3,Qr=bi*60,wi=Qr*60,Mi=wi*24,Mw=Mi*7,KT=Mi*30,Av=Mi*365,Sl=jn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());Sl.range;const Rw=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getMinutes());Rw.range;const Pw=jn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Qr)},(e,t)=>(t-e)/Qr,e=>e.getUTCMinutes());Pw.range;const Ow=jn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Qr)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());Ow.range;const Iw=jn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());Iw.range;const jd=jn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Qr)/Mi,e=>e.getDate()-1);jd.range;const xm=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>e.getUTCDate()-1);xm.range;const kI=jn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>Math.floor(e/Mi));kI.range;function Bl(e){return jn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Qr)/Mw)}const vm=Bl(0),wh=Bl(1),TZ=Bl(2),kZ=Bl(3),rc=Bl(4),MZ=Bl(5),RZ=Bl(6);vm.range;wh.range;TZ.range;kZ.range;rc.range;MZ.range;RZ.range;function Fl(e){return jn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Mw)}const ym=Fl(0),Nh=Fl(1),PZ=Fl(2),OZ=Fl(3),ac=Fl(4),IZ=Fl(5),DZ=Fl(6);ym.range;Nh.range;PZ.range;OZ.range;ac.range;IZ.range;DZ.range;const Dw=jn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Dw.range;const Lw=jn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Lw.range;const Ri=jn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Ri.range;const Pi=jn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:jn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pi.range;function MI(e,t,n,r,a,l){const c=[[Sl,1,bi],[Sl,5,5*bi],[Sl,15,15*bi],[Sl,30,30*bi],[l,1,Qr],[l,5,5*Qr],[l,15,15*Qr],[l,30,30*Qr],[a,1,wi],[a,3,3*wi],[a,6,6*wi],[a,12,12*wi],[r,1,Mi],[r,2,2*Mi],[n,1,Mw],[t,1,KT],[t,3,3*KT],[e,1,Av]];function u(p,h,g){const v=h<p;v&&([p,h]=[h,p]);const N=g&&typeof g.range=="function"?g:f(p,h,g),_=N?N.range(p,+h+1):[];return v?_.reverse():_}function f(p,h,g){const v=Math.abs(h-p)/g,N=vw(([,,E])=>E).right(c,v);if(N===c.length)return e.every(Xy(p/Av,h/Av,g));if(N===0)return bh.every(Math.max(Xy(p,h,g),1));const[_,j]=c[v/c[N-1][2]<c[N][2]/v?N-1:N];return _.every(j)}return[u,f]}const[LZ,zZ]=MI(Pi,Lw,ym,kI,Iw,Pw),[UZ,$Z]=MI(Ri,Dw,vm,jd,Ow,Rw);function Tv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ju(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function GZ(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,p=Eu(a),h=Cu(a),g=Eu(l),v=Cu(l),N=Eu(c),_=Cu(c),j=Eu(u),E=Cu(u),C=Eu(f),A=Cu(f),k={a:J,A:te,b:de,B:ue,c:null,d:QT,e:QT,f:uQ,g:bQ,G:NQ,H:lQ,I:oQ,j:cQ,L:RI,m:dQ,M:fQ,p:D,q:X,Q:nk,s:rk,S:pQ,u:hQ,U:mQ,V:gQ,w:xQ,W:vQ,x:null,X:null,y:yQ,Y:wQ,Z:SQ,"%":tk},R={a:ge,A:xe,b:K,B:le,c:null,d:ek,e:ek,f:CQ,g:LQ,G:UQ,H:_Q,I:jQ,j:EQ,L:OI,m:AQ,M:TQ,p:ye,q:Ge,Q:nk,s:rk,S:kQ,u:MQ,U:RQ,V:PQ,w:OQ,W:IQ,x:null,X:null,y:DQ,Y:zQ,Z:$Q,"%":tk},M={a:q,A:Y,b:G,B:W,c:ee,d:XT,e:XT,f:rQ,g:WT,G:JT,H:ZT,I:ZT,j:QZ,L:nQ,m:ZZ,M:eQ,p:z,q:XZ,Q:iQ,s:sQ,S:tQ,u:VZ,U:KZ,V:YZ,w:HZ,W:JZ,x:Z,X:U,y:WT,Y:JT,Z:WZ,"%":aQ};k.x=P(n,k),k.X=P(r,k),k.c=P(t,k),R.x=P(n,R),R.X=P(r,R),R.c=P(t,R);function P(oe,_e){return function(Pe){var ve=[],lt=-1,Be=0,Qe=oe.length,ft,Xt,Cn;for(Pe instanceof Date||(Pe=new Date(+Pe));++lt<Qe;)oe.charCodeAt(lt)===37&&(ve.push(oe.slice(Be,lt)),(Xt=YT[ft=oe.charAt(++lt)])!=null?ft=oe.charAt(++lt):Xt=ft==="e"?" ":"0",(Cn=_e[ft])&&(ft=Cn(Pe,Xt)),ve.push(ft),Be=lt+1);return ve.push(oe.slice(Be,lt)),ve.join("")}}function O(oe,_e){return function(Pe){var ve=ju(1900,void 0,1),lt=L(ve,oe,Pe+="",0),Be,Qe;if(lt!=Pe.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(_e&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Be=kv(ju(ve.y,0,1)),Qe=Be.getUTCDay(),Be=Qe>4||Qe===0?Nh.ceil(Be):Nh(Be),Be=xm.offset(Be,(ve.V-1)*7),ve.y=Be.getUTCFullYear(),ve.m=Be.getUTCMonth(),ve.d=Be.getUTCDate()+(ve.w+6)%7):(Be=Tv(ju(ve.y,0,1)),Qe=Be.getDay(),Be=Qe>4||Qe===0?wh.ceil(Be):wh(Be),Be=jd.offset(Be,(ve.V-1)*7),ve.y=Be.getFullYear(),ve.m=Be.getMonth(),ve.d=Be.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),Qe="Z"in ve?kv(ju(ve.y,0,1)).getUTCDay():Tv(ju(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(Qe+5)%7:ve.w+ve.U*7-(Qe+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,kv(ve)):Tv(ve)}}function L(oe,_e,Pe,ve){for(var lt=0,Be=_e.length,Qe=Pe.length,ft,Xt;lt<Be;){if(ve>=Qe)return-1;if(ft=_e.charCodeAt(lt++),ft===37){if(ft=_e.charAt(lt++),Xt=M[ft in YT?_e.charAt(lt++):ft],!Xt||(ve=Xt(oe,Pe,ve))<0)return-1}else if(ft!=Pe.charCodeAt(ve++))return-1}return ve}function z(oe,_e,Pe){var ve=p.exec(_e.slice(Pe));return ve?(oe.p=h.get(ve[0].toLowerCase()),Pe+ve[0].length):-1}function q(oe,_e,Pe){var ve=N.exec(_e.slice(Pe));return ve?(oe.w=_.get(ve[0].toLowerCase()),Pe+ve[0].length):-1}function Y(oe,_e,Pe){var ve=g.exec(_e.slice(Pe));return ve?(oe.w=v.get(ve[0].toLowerCase()),Pe+ve[0].length):-1}function G(oe,_e,Pe){var ve=C.exec(_e.slice(Pe));return ve?(oe.m=A.get(ve[0].toLowerCase()),Pe+ve[0].length):-1}function W(oe,_e,Pe){var ve=j.exec(_e.slice(Pe));return ve?(oe.m=E.get(ve[0].toLowerCase()),Pe+ve[0].length):-1}function ee(oe,_e,Pe){return L(oe,t,_e,Pe)}function Z(oe,_e,Pe){return L(oe,n,_e,Pe)}function U(oe,_e,Pe){return L(oe,r,_e,Pe)}function J(oe){return c[oe.getDay()]}function te(oe){return l[oe.getDay()]}function de(oe){return f[oe.getMonth()]}function ue(oe){return u[oe.getMonth()]}function D(oe){return a[+(oe.getHours()>=12)]}function X(oe){return 1+~~(oe.getMonth()/3)}function ge(oe){return c[oe.getUTCDay()]}function xe(oe){return l[oe.getUTCDay()]}function K(oe){return f[oe.getUTCMonth()]}function le(oe){return u[oe.getUTCMonth()]}function ye(oe){return a[+(oe.getUTCHours()>=12)]}function Ge(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var _e=P(oe+="",k);return _e.toString=function(){return oe},_e},parse:function(oe){var _e=O(oe+="",!1);return _e.toString=function(){return oe},_e},utcFormat:function(oe){var _e=P(oe+="",R);return _e.toString=function(){return oe},_e},utcParse:function(oe){var _e=O(oe+="",!0);return _e.toString=function(){return oe},_e}}}var YT={"-":"",_:" ",0:"0"},Dn=/^\s*\d+/,BZ=/^%/,FZ=/[\\^$*+?|[\]().{}]/g;function vt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function qZ(e){return e.replace(FZ,"\\$&")}function Eu(e){return new RegExp("^(?:"+e.map(qZ).join("|")+")","i")}function Cu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function HZ(e,t,n){var r=Dn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function VZ(e,t,n){var r=Dn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function KZ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function YZ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function JZ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function JT(e,t,n){var r=Dn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function WT(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function WZ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function XZ(e,t,n){var r=Dn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function ZZ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function XT(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function QZ(e,t,n){var r=Dn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function ZT(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function eQ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function tQ(e,t,n){var r=Dn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function nQ(e,t,n){var r=Dn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function rQ(e,t,n){var r=Dn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function aQ(e,t,n){var r=BZ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function iQ(e,t,n){var r=Dn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=Dn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function QT(e,t){return vt(e.getDate(),t,2)}function lQ(e,t){return vt(e.getHours(),t,2)}function oQ(e,t){return vt(e.getHours()%12||12,t,2)}function cQ(e,t){return vt(1+jd.count(Ri(e),e),t,3)}function RI(e,t){return vt(e.getMilliseconds(),t,3)}function uQ(e,t){return RI(e,t)+"000"}function dQ(e,t){return vt(e.getMonth()+1,t,2)}function fQ(e,t){return vt(e.getMinutes(),t,2)}function pQ(e,t){return vt(e.getSeconds(),t,2)}function hQ(e){var t=e.getDay();return t===0?7:t}function mQ(e,t){return vt(vm.count(Ri(e)-1,e),t,2)}function PI(e){var t=e.getDay();return t>=4||t===0?rc(e):rc.ceil(e)}function gQ(e,t){return e=PI(e),vt(rc.count(Ri(e),e)+(Ri(e).getDay()===4),t,2)}function xQ(e){return e.getDay()}function vQ(e,t){return vt(wh.count(Ri(e)-1,e),t,2)}function yQ(e,t){return vt(e.getFullYear()%100,t,2)}function bQ(e,t){return e=PI(e),vt(e.getFullYear()%100,t,2)}function wQ(e,t){return vt(e.getFullYear()%1e4,t,4)}function NQ(e,t){var n=e.getDay();return e=n>=4||n===0?rc(e):rc.ceil(e),vt(e.getFullYear()%1e4,t,4)}function SQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vt(t/60|0,"0",2)+vt(t%60,"0",2)}function ek(e,t){return vt(e.getUTCDate(),t,2)}function _Q(e,t){return vt(e.getUTCHours(),t,2)}function jQ(e,t){return vt(e.getUTCHours()%12||12,t,2)}function EQ(e,t){return vt(1+xm.count(Pi(e),e),t,3)}function OI(e,t){return vt(e.getUTCMilliseconds(),t,3)}function CQ(e,t){return OI(e,t)+"000"}function AQ(e,t){return vt(e.getUTCMonth()+1,t,2)}function TQ(e,t){return vt(e.getUTCMinutes(),t,2)}function kQ(e,t){return vt(e.getUTCSeconds(),t,2)}function MQ(e){var t=e.getUTCDay();return t===0?7:t}function RQ(e,t){return vt(ym.count(Pi(e)-1,e),t,2)}function II(e){var t=e.getUTCDay();return t>=4||t===0?ac(e):ac.ceil(e)}function PQ(e,t){return e=II(e),vt(ac.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function OQ(e){return e.getUTCDay()}function IQ(e,t){return vt(Nh.count(Pi(e)-1,e),t,2)}function DQ(e,t){return vt(e.getUTCFullYear()%100,t,2)}function LQ(e,t){return e=II(e),vt(e.getUTCFullYear()%100,t,2)}function zQ(e,t){return vt(e.getUTCFullYear()%1e4,t,4)}function UQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ac(e):ac.ceil(e),vt(e.getUTCFullYear()%1e4,t,4)}function $Q(){return"+0000"}function tk(){return"%"}function nk(e){return+e}function rk(e){return Math.floor(+e/1e3)}var ko,DI,LI;GQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GQ(e){return ko=GZ(e),DI=ko.format,ko.parse,LI=ko.utcFormat,ko.utcParse,ko}function BQ(e){return new Date(e)}function FQ(e){return e instanceof Date?+e:+new Date(+e)}function zw(e,t,n,r,a,l,c,u,f,p){var h=_w(),g=h.invert,v=h.domain,N=p(".%L"),_=p(":%S"),j=p("%I:%M"),E=p("%I %p"),C=p("%a %d"),A=p("%b %d"),k=p("%B"),R=p("%Y");function M(P){return(f(P)<P?N:u(P)<P?_:c(P)<P?j:l(P)<P?E:r(P)<P?a(P)<P?C:A:n(P)<P?k:R)(P)}return h.invert=function(P){return new Date(g(P))},h.domain=function(P){return arguments.length?v(Array.from(P,FQ)):v().map(BQ)},h.ticks=function(P){var O=v();return e(O[0],O[O.length-1],P??10)},h.tickFormat=function(P,O){return O==null?M:p(O)},h.nice=function(P){var O=v();return(!P||typeof P.range!="function")&&(P=t(O[0],O[O.length-1],P??10)),P?v(SI(O,P)):h},h.copy=function(){return _d(h,zw(e,t,n,r,a,l,c,u,f,p))},h}function qQ(){return ia.apply(zw(UZ,$Z,Ri,Dw,vm,jd,Ow,Rw,Sl,DI).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function HQ(){return ia.apply(zw(LZ,zZ,Pi,Lw,ym,xm,Iw,Pw,Sl,LI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bm(){var e=0,t=1,n,r,a,l,c=lr,u=!1,f;function p(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(l(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t]=g,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),p):[e,t]},p.clamp=function(g){return arguments.length?(u=!!g,p):u},p.interpolator=function(g){return arguments.length?(c=g,p):c};function h(g){return function(v){var N,_;return arguments.length?([N,_]=v,c=g(N,_),p):[c(0),c(1)]}}return p.range=h(pc),p.rangeRound=h(Sw),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return l=g,n=g(e),r=g(t),a=n===r?0:1/(r-n),p}}function Ks(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zI(){var e=Vs(bm()(lr));return e.copy=function(){return Ks(e,zI())},Gi.apply(e,arguments)}function UI(){var e=Cw(bm()).domain([1,10]);return e.copy=function(){return Ks(e,UI()).base(e.base())},Gi.apply(e,arguments)}function $I(){var e=Aw(bm());return e.copy=function(){return Ks(e,$I()).constant(e.constant())},Gi.apply(e,arguments)}function Uw(){var e=Tw(bm());return e.copy=function(){return Ks(e,Uw()).exponent(e.exponent())},Gi.apply(e,arguments)}function VQ(){return Uw.apply(null,arguments).exponent(.5)}function GI(){var e=[],t=lr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Nd(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Os),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>MX(e,l/r))},n.copy=function(){return GI(t).domain(e)},Gi.apply(n,arguments)}function wm(){var e=0,t=.5,n=1,r=1,a,l,c,u,f,p=lr,h,g=!1,v;function N(j){return isNaN(j=+j)?v:(j=.5+((j=+h(j))-l)*(r*j<r*l?u:f),p(g?Math.max(0,Math.min(1,j)):j))}N.domain=function(j){return arguments.length?([e,t,n]=j,a=h(e=+e),l=h(t=+t),c=h(n=+n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N):[e,t,n]},N.clamp=function(j){return arguments.length?(g=!!j,N):g},N.interpolator=function(j){return arguments.length?(p=j,N):p};function _(j){return function(E){var C,A,k;return arguments.length?([C,A,k]=E,p=aZ(j,[C,A,k]),N):[p(0),p(.5),p(1)]}}return N.range=_(pc),N.rangeRound=_(Sw),N.unknown=function(j){return arguments.length?(v=j,N):v},function(j){return h=j,a=j(e),l=j(t),c=j(n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N}}function BI(){var e=Vs(wm()(lr));return e.copy=function(){return Ks(e,BI())},Gi.apply(e,arguments)}function FI(){var e=Cw(wm()).domain([.1,1,10]);return e.copy=function(){return Ks(e,FI()).base(e.base())},Gi.apply(e,arguments)}function qI(){var e=Aw(wm());return e.copy=function(){return Ks(e,qI()).constant(e.constant())},Gi.apply(e,arguments)}function $w(){var e=Tw(wm());return e.copy=function(){return Ks(e,$w()).exponent(e.exponent())},Gi.apply(e,arguments)}function KQ(){return $w.apply(null,arguments).exponent(.5)}const Ru=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:bw,scaleDiverging:BI,scaleDivergingLog:FI,scaleDivergingPow:$w,scaleDivergingSqrt:KQ,scaleDivergingSymlog:qI,scaleIdentity:NI,scaleImplicit:Zy,scaleLinear:wI,scaleLog:_I,scaleOrdinal:yw,scalePoint:OX,scalePow:kw,scaleQuantile:CI,scaleQuantize:AI,scaleRadial:EI,scaleSequential:zI,scaleSequentialLog:UI,scaleSequentialPow:Uw,scaleSequentialQuantile:GI,scaleSequentialSqrt:VQ,scaleSequentialSymlog:$I,scaleSqrt:CZ,scaleSymlog:jI,scaleThreshold:TI,scaleTime:qQ,scaleUtc:HQ,tickFormat:bI},Symbol.toStringTag,{value:"Module"}));var Bi=e=>e.chartData,Nm=Q([Bi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Gw=(e,t,n,r)=>r?Nm(e):Bi(e),HI=(e,t,n)=>n?Nm(e):Bi(e);function Oi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Ze(t)&&Ze(n))return!0}return!1}function ak(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,l;if(Ze(n))a=n;else if(typeof n=="function")return;if(Ze(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Oi(c))return c}}function YQ(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Oi(r))return ak(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Se(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&hA.test(a)){var f=hA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var p=+f[1];c=t[0]-p}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Se(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&mA.test(l)){var h=mA.exec(l);if(h==null||h[1]==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t?.[1];var v=[c,u];if(Oi(v))return t==null?v:ak(v,t,n)}}}var hc=1e9,JQ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fw,qt=!0,ra="[DecimalError] ",Cl=ra+"Invalid argument: ",Bw=ra+"Exponent out of range: ",mc=Math.floor,bl=Math.pow,WQ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Mr,Mn=1e7,$t=7,KI=9007199254740991,Sh=mc(KI/$t),Ee={};Ee.absoluteValue=Ee.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ee.comparedTo=Ee.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Ee.decimalPlaces=Ee.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*$t;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ee.dividedBy=Ee.div=function(e){return _i(this,new this.constructor(e))};Ee.dividedToIntegerBy=Ee.idiv=function(e){var t=this,n=t.constructor;return Pt(_i(t,new n(e),0,1),n.precision)};Ee.equals=Ee.eq=function(e){return!this.cmp(e)};Ee.exponent=function(){return vn(this)};Ee.greaterThan=Ee.gt=function(e){return this.cmp(e)>0};Ee.greaterThanOrEqualTo=Ee.gte=function(e){return this.cmp(e)>=0};Ee.isInteger=Ee.isint=function(){return this.e>this.d.length-2};Ee.isNegative=Ee.isneg=function(){return this.s<0};Ee.isPositive=Ee.ispos=function(){return this.s>0};Ee.isZero=function(){return this.s===0};Ee.lessThan=Ee.lt=function(e){return this.cmp(e)<0};Ee.lessThanOrEqualTo=Ee.lte=function(e){return this.cmp(e)<1};Ee.logarithm=Ee.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Mr))throw Error(ra+"NaN");if(n.s<1)throw Error(ra+(n.s?"NaN":"-Infinity"));return n.eq(Mr)?new r(0):(qt=!1,t=_i(sd(n,l),sd(e,l),l),qt=!0,Pt(t,a))};Ee.minus=Ee.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WI(t,e):YI(t,(e.s=-e.s,e))};Ee.modulo=Ee.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ra+"NaN");return n.s?(qt=!1,t=_i(n,e,0,1).times(e),qt=!0,n.minus(t)):Pt(new r(n),a)};Ee.naturalExponential=Ee.exp=function(){return JI(this)};Ee.naturalLogarithm=Ee.ln=function(){return sd(this)};Ee.negated=Ee.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ee.plus=Ee.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YI(t,e):WI(t,(e.s=-e.s,e))};Ee.precision=Ee.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Cl+e);if(t=vn(a)+1,r=a.d.length-1,n=r*$t+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ee.squareRoot=Ee.sqrt=function(){var e,t,n,r,a,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ra+"NaN")}for(e=vn(u),qt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Da(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=mc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(l=r,r=l.plus(_i(u,l,c+2)).times(.5),Da(l.d).slice(0,c)===(t=Da(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(Pt(l,n+1,0),l.times(l).eq(u)){r=l;break}}else if(t!="9999")break;c+=4}return qt=!0,Pt(r,n)};Ee.times=Ee.mul=function(e){var t,n,r,a,l,c,u,f,p,h=this,g=h.constructor,v=h.d,N=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,n=h.e+e.e,f=v.length,p=N.length,f<p&&(l=v,v=N,N=l,c=f,f=p,p=c),l=[],c=f+p,r=c;r--;)l.push(0);for(r=p;--r>=0;){for(t=0,a=f+r;a>r;)u=l[a]+N[r]*v[a-r-1]+t,l[a--]=u%Mn|0,t=u/Mn|0;l[a]=(l[a]+t)%Mn|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,qt?Pt(e,g.precision):e};Ee.toDecimalPlaces=Ee.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Ba(e,0,hc),t===void 0?t=r.rounding:Ba(t,0,8),Pt(n,e+vn(n)+1,t))};Ee.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=zl(r,!0):(Ba(e,0,hc),t===void 0?t=a.rounding:Ba(t,0,8),r=Pt(new a(r),e+1,t),n=zl(r,!0,e+1)),n};Ee.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?zl(a):(Ba(e,0,hc),t===void 0?t=l.rounding:Ba(t,0,8),r=Pt(new l(a),e+vn(a)+1,t),n=zl(r.abs(),!1,e+vn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ee.toInteger=Ee.toint=function(){var e=this,t=e.constructor;return Pt(new t(e),vn(e)+1,t.rounding)};Ee.toNumber=function(){return+this};Ee.toPower=Ee.pow=function(e){var t,n,r,a,l,c,u=this,f=u.constructor,p=12,h=+(e=new f(e));if(!e.s)return new f(Mr);if(u=new f(u),!u.s){if(e.s<1)throw Error(ra+"Infinity");return u}if(u.eq(Mr))return u;if(r=f.precision,e.eq(Mr))return Pt(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=u.s,c){if((n=h<0?-h:h)<=KI){for(a=new f(Mr),t=Math.ceil(r/$t+4),qt=!1;n%2&&(a=a.times(u),sk(a.d,t)),n=mc(n/2),n!==0;)u=u.times(u),sk(u.d,t);return qt=!0,e.s<0?new f(Mr).div(a):Pt(a,r)}}else if(l<0)throw Error(ra+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,qt=!1,a=e.times(sd(u,r+p)),qt=!0,a=JI(a),a.s=l,a};Ee.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=vn(a),r=zl(a,n<=l.toExpNeg||n>=l.toExpPos)):(Ba(e,1,hc),t===void 0?t=l.rounding:Ba(t,0,8),a=Pt(new l(a),e,t),n=vn(a),r=zl(a,e<=n||n<=l.toExpNeg,e)),r};Ee.toSignificantDigits=Ee.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ba(e,1,hc),t===void 0?t=r.rounding:Ba(t,0,8)),Pt(new r(n),e,t)};Ee.toString=Ee.valueOf=Ee.val=Ee.toJSON=Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=vn(e),n=e.constructor;return zl(e,t<=n.toExpNeg||t>=n.toExpPos)};function YI(e,t){var n,r,a,l,c,u,f,p,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),qt?Pt(t,g):t;if(f=e.d,p=t.d,c=e.e,a=t.e,f=f.slice(),l=c-a,l){for(l<0?(r=f,l=-l,u=p.length):(r=p,a=c,u=f.length),c=Math.ceil(g/$t),u=c>u?c+1:u+1,l>u&&(l=u,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(u=f.length,l=p.length,u-l<0&&(l=u,r=p,p=f,f=r),n=0;l;)n=(f[--l]=f[l]+p[l]+n)/Mn|0,f[l]%=Mn;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,qt?Pt(t,g):t}function Ba(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Cl+e)}function Da(e){var t,n,r,a=e.length-1,l="",c=e[0];if(a>0){for(l+=c,t=1;t<a;t++)r=e[t]+"",n=$t-r.length,n&&(l+=_s(n)),l+=r;c=e[t],r=c+"",n=$t-r.length,n&&(l+=_s(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var _i=(function(){function e(r,a){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*a+c,r[u]=l%Mn|0,c=l/Mn|0;return c&&r.unshift(c),r}function t(r,a,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*Mn+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var u,f,p,h,g,v,N,_,j,E,C,A,k,R,M,P,O,L,z=r.constructor,q=r.s==a.s?1:-1,Y=r.d,G=a.d;if(!r.s)return new z(r);if(!a.s)throw Error(ra+"Division by zero");for(f=r.e-a.e,O=G.length,M=Y.length,N=new z(q),_=N.d=[],p=0;G[p]==(Y[p]||0);)++p;if(G[p]>(Y[p]||0)&&--f,l==null?A=l=z.precision:c?A=l+(vn(r)-vn(a))+1:A=l,A<0)return new z(0);if(A=A/$t+2|0,p=0,O==1)for(h=0,G=G[0],A++;(p<M||h)&&A--;p++)k=h*Mn+(Y[p]||0),_[p]=k/G|0,h=k%G|0;else{for(h=Mn/(G[0]+1)|0,h>1&&(G=e(G,h),Y=e(Y,h),O=G.length,M=Y.length),R=O,j=Y.slice(0,O),E=j.length;E<O;)j[E++]=0;L=G.slice(),L.unshift(0),P=G[0],G[1]>=Mn/2&&++P;do h=0,u=t(G,j,O,E),u<0?(C=j[0],O!=E&&(C=C*Mn+(j[1]||0)),h=C/P|0,h>1?(h>=Mn&&(h=Mn-1),g=e(G,h),v=g.length,E=j.length,u=t(g,j,v,E),u==1&&(h--,n(g,O<v?L:G,v))):(h==0&&(u=h=1),g=G.slice()),v=g.length,v<E&&g.unshift(0),n(j,g,E),u==-1&&(E=j.length,u=t(G,j,O,E),u<1&&(h++,n(j,O<E?L:G,E))),E=j.length):u===0&&(h++,j=[0]),_[p++]=h,u&&j[0]?j[E++]=Y[R]||0:(j=[Y[R]],E=1);while((R++<M||j[0]!==void 0)&&A--)}return _[0]||_.shift(),N.e=f,Pt(N,c?l+vn(N)+1:l)}})();function JI(e,t){var n,r,a,l,c,u,f=0,p=0,h=e.constructor,g=h.precision;if(vn(e)>16)throw Error(Bw+vn(e));if(!e.s)return new h(Mr);for(qt=!1,u=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(r=Math.log(bl(2,p))/Math.LN10*2+5|0,u+=r,n=a=l=new h(Mr),h.precision=u;;){if(a=Pt(a.times(e),u),n=n.times(++f),c=l.plus(_i(a,n,u)),Da(c.d).slice(0,u)===Da(l.d).slice(0,u)){for(;p--;)l=Pt(l.times(l),u);return h.precision=g,t==null?(qt=!0,Pt(l,g)):l}l=c}}function vn(e){for(var t=e.e*$t,n=e.d[0];n>=10;n/=10)t++;return t}function Mv(e,t,n){if(t>e.LN10.sd())throw qt=!0,n&&(e.precision=n),Error(ra+"LN10 precision limit exceeded");return Pt(new e(e.LN10),t)}function _s(e){for(var t="";e--;)t+="0";return t}function sd(e,t){var n,r,a,l,c,u,f,p,h,g=1,v=10,N=e,_=N.d,j=N.constructor,E=j.precision;if(N.s<1)throw Error(ra+(N.s?"NaN":"-Infinity"));if(N.eq(Mr))return new j(0);if(t==null?(qt=!1,p=E):p=t,N.eq(10))return t==null&&(qt=!0),Mv(j,p);if(p+=v,j.precision=p,n=Da(_),r=n.charAt(0),l=vn(N),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(e),n=Da(N.d),r=n.charAt(0),g++;l=vn(N),r>1?(N=new j("0."+n),l++):N=new j(r+"."+n.slice(1))}else return f=Mv(j,p+2,E).times(l+""),N=sd(new j(r+"."+n.slice(1)),p-v).plus(f),j.precision=E,t==null?(qt=!0,Pt(N,E)):N;for(u=c=N=_i(N.minus(Mr),N.plus(Mr),p),h=Pt(N.times(N),p),a=3;;){if(c=Pt(c.times(h),p),f=u.plus(_i(c,new j(a),p)),Da(f.d).slice(0,p)===Da(u.d).slice(0,p))return u=u.times(2),l!==0&&(u=u.plus(Mv(j,p+2,E).times(l+""))),u=_i(u,new j(g),p),j.precision=E,t==null?(qt=!0,Pt(u,E)):u;u=f,a+=2}}function ik(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=mc(n/$t),e.d=[],r=(n+1)%$t,n<0&&(r+=$t),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=$t;r<a;)e.d.push(+t.slice(r,r+=$t));t=t.slice(r),r=$t-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),qt&&(e.e>Sh||e.e<-Sh))throw Error(Bw+n)}else e.s=0,e.e=0,e.d=[0];return e}function Pt(e,t,n){var r,a,l,c,u,f,p,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=$t,a=t,p=g[h=0];else{if(h=Math.ceil((r+1)/$t),l=g.length,h>=l)return e;for(p=l=g[h],c=1;l>=10;l/=10)c++;r%=$t,a=r-$t+c}if(n!==void 0&&(l=bl(10,c-a-1),u=p/l%10|0,f=t<0||g[h+1]!==void 0||p%l,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?p/bl(10,c-a):0:g[h-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(l=vn(e),g.length=1,t=t-l-1,g[0]=bl(10,($t-t%$t)%$t),e.e=mc(-t/$t)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=bl(10,$t-r),g[h]=a>0?(p/bl(10,c-a)%bl(10,a)|0)*l:0),f)for(;;)if(h==0){(g[0]+=l)==Mn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Mn)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(qt&&(e.e>Sh||e.e<-Sh))throw Error(Bw+vn(e));return e}function WI(e,t){var n,r,a,l,c,u,f,p,h,g,v=e.constructor,N=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),qt?Pt(t,N):t;if(f=e.d,g=t.d,r=t.e,p=e.e,f=f.slice(),c=p-r,c){for(h=c<0,h?(n=f,c=-c,u=g.length):(n=g,r=p,u=f.length),a=Math.max(Math.ceil(N/$t),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=g.length,h=a<u,h&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){h=f[a]<g[a];break}c=0}for(h&&(n=f,f=g,g=n,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(l=a;l&&f[--l]===0;)f[l]=Mn-1;--f[l],f[a]+=Mn}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,qt?Pt(t,N):t):new v(0)}function zl(e,t,n){var r,a=vn(e),l=Da(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+_s(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+_s(-a-1)+l,n&&(r=n-c)>0&&(l+=_s(r))):a>=c?(l+=_s(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+_s(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=_s(r))),e.s<0?"-"+l:l}function sk(e,t){if(e.length>t)return e.length=t,!0}function XI(e){var t,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Cl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return ik(c,l.toString())}else if(typeof l!="string")throw Error(Cl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,WQ.test(l))ik(c,l);else throw Error(Cl+l)}if(a.prototype=Ee,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XI,a.config=a.set=XQ,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function XQ(e){if(!e||typeof e!="object")throw Error(ra+"Object expected");var t,n,r,a=["precision",1,hc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(mc(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Cl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Cl+n+": "+r);return this}var Fw=XI(JQ);Mr=new Fw(1);const Et=Fw;function ZI(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function QI(e,t,n){for(var r=new Et(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var eD=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},tD=(e,t,n)=>{if(e.lte(0))return new Et(0);var r=ZI(e.toNumber()),a=new Et(10).pow(r),l=e.div(a),c=r!==1?.05:.1,u=new Et(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?new Et(f.toNumber()):new Et(Math.ceil(f.toNumber()))},ZQ=(e,t,n)=>{var r=new Et(1),a=new Et(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new Et(10).pow(ZI(e)-1),a=new Et(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):n||(a=new Et(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Et(f-c).mul(r)).toNumber());return u},nD=function(t,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var c=tD(new Et(n).sub(t).div(r-1),a,l),u;t<=0&&n>=0?u=new Et(0):(u=new Et(t).add(n).div(2),u=u.sub(new Et(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),p=Math.ceil(new Et(n).sub(u).div(c).toNumber()),h=f+p+1;return h>r?nD(t,n,r,a,l+1):(h<r&&(p=n>0?p+(r-h):p,f=n>0?f:f+(r-h)),{step:c,tickMin:u.sub(new Et(f).mul(c)),tickMax:u.add(new Et(p).mul(c))})},QQ=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=eD([n,r]);if(u===-1/0||f===1/0){var p=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?p.reverse():p}if(u===f)return ZQ(u,a,l);var{step:h,tickMin:g,tickMax:v}=nD(u,f,c,l,0),N=QI(g,v.add(new Et(.1).mul(h)),h);return n>r?N.reverse():N},eee=function(t,n){var[r,a]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=eD([r,a]);if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(n,2),p=tD(new Et(u).sub(c).div(f-1),l,0),h=[...QI(new Et(c),new Et(u),p),u];return l===!1&&(h=h.map(g=>Math.round(g))),r>a?h.reverse():h},rD=e=>e.rootProps.maxBarSize,tee=e=>e.rootProps.barGap,aD=e=>e.rootProps.barCategoryGap,nee=e=>e.rootProps.barSize,Ed=e=>e.rootProps.stackOffset,iD=e=>e.rootProps.reverseStackOrder,qw=e=>e.options.chartName,Hw=e=>e.rootProps.syncId,sD=e=>e.rootProps.syncMethod,Vw=e=>e.options.eventEmitter,ree=e=>e.rootProps.baseValue,un={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},hl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ma={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Sm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function _m(e,t,n){if(n!=="auto")return n;if(e!=null)return Na(e,t)?"category":"number"}function lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function _h(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lk(Object(n),!0).forEach(function(r){aee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aee(e,t,n){return(t=iee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ok={allowDataOverflow:hl.allowDataOverflow,allowDecimals:hl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:hl.angleAxisId,includeHidden:!1,name:void 0,reversed:hl.reversed,scale:hl.scale,tick:hl.tick,tickCount:void 0,ticks:void 0,type:hl.type,unit:void 0},ck={allowDataOverflow:Ma.allowDataOverflow,allowDecimals:Ma.allowDecimals,allowDuplicatedCategory:Ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ma.radiusAxisId,includeHidden:Ma.includeHidden,name:void 0,reversed:Ma.reversed,scale:Ma.scale,tick:Ma.tick,tickCount:Ma.tickCount,ticks:void 0,type:Ma.type,unit:void 0},lee=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},Kw=Q([lee,qO],(e,t)=>{var n;if(e!=null)return e;var r=(n=_m(t,"angleAxis",ok.type))!==null&&n!==void 0?n:"category";return _h(_h({},ok),{},{type:r})}),oee=(e,t)=>e.polarAxis.radiusAxis[t],Yw=Q([oee,qO],(e,t)=>{var n;if(e!=null)return e;var r=(n=_m(t,"radiusAxis",ck.type))!==null&&n!==void 0?n:"category";return _h(_h({},ck),{},{type:r})}),jm=e=>e.polarOptions,Jw=Q([Ui,$i,_n],lI),lD=Q([jm,Jw],(e,t)=>{if(e!=null)return Qn(e.innerRadius,t,0)}),oD=Q([jm,Jw],(e,t)=>{if(e!=null)return Qn(e.outerRadius,t,t*.8)}),cee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},cD=Q([jm],cee);Q([Kw,cD],Sm);var uD=Q([Jw,lD,oD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([Yw,uD],Sm);var dD=Q([ut,jm,lD,oD,Ui,$i],(e,t,n,r,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:p}=t;return{cx:Qn(c,a,a/2),cy:Qn(u,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:p,clockWise:!1}}}),Wt=(e,t)=>t,Cd=(e,t,n)=>n;function Em(e){return e?.id}function fD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return e.forEach(u=>{var f,p=(f=u.data)!==null&&f!==void 0?f:r;if(!(p==null||p.length===0)){var h=Em(u);p.forEach((g,v)=>{var N=l==null||a?v:String(Nt(g,l,null)),_=Nt(g,u.dataKey,0),j;c.has(N)?j=c.get(N):j={},Object.assign(j,{[h]:_}),c.set(N,j)})}}),Array.from(c.values())}function Cm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Am=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Tm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function uee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Ln=e=>{var t=ut(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},gc=e=>e.tooltip.settings.axisId;function dee(e){if(e in Ru)return Ru[e]();var t="scale".concat(hd(e));if(t in Ru)return Ru[t]()}function uk(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(l){var c=a[0],u=a[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function dk(e,t,n){if(typeof e=="function")return uk(e.copy().domain(t).range(n));if(e!=null){var r=dee(e);if(r!=null)return r.domain(t).range(n),uk(r)}}var pD=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Oi(t)){for(var n,r,a=0;a<t.length;a++){var l=t[a];Ze(l)&&((n===void 0||l<n)&&(n=l),(r===void 0||l>r)&&(r=l))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(r){fee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fee(e,t,n){return(t=pee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nb=[0,"auto"],Tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hD=(e,t)=>e.cartesianAxis.xAxis[t],Fi=(e,t)=>{var n=hD(e,t);return n??Tn},kn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vd},mD=(e,t)=>e.cartesianAxis.yAxis[t],qi=(e,t)=>{var n=mD(e,t);return n??kn},mee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ww=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??mee},ln=(e,t,n)=>{switch(t){case"xAxis":return Fi(e,n);case"yAxis":return qi(e,n);case"zAxis":return Ww(e,n);case"angleAxis":return Kw(e,n);case"radiusAxis":return Yw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gee=(e,t,n)=>{switch(t){case"xAxis":return Fi(e,n);case"yAxis":return qi(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},xc=(e,t,n)=>{switch(t){case"xAxis":return Fi(e,n);case"yAxis":return qi(e,n);case"angleAxis":return Kw(e,n);case"radiusAxis":return Yw(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},gD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Xw(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Ad=e=>e.graphicalItems.cartesianItems,xee=Q([Wt,Cd],Xw),Zw=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Td=Q([Ad,ln,xee],Zw,{memoizeOptions:{resultEqualityCheck:Tm}}),xD=Q([Td],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cm)),vD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vee=Q([Td],vD),Qw=e=>e.map(t=>t.data).filter(Boolean).flat(1),yee=Q([Td],Qw,{memoizeOptions:{resultEqualityCheck:Tm}}),e1=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},t1=Q([yee,Gw],e1),n1=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Nt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Nt(a,r)}))):e.map(r=>({value:r})),km=Q([t1,ln,Td],n1);function yD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cp(e){if($a(e)||e instanceof Date){var t=Number(e);if(Ze(t))return t}}function pk(e){if(Array.isArray(e)){var t=[Cp(e[0]),Cp(e[1])];return Oi(t)?t:void 0}var n=Cp(e);if(n!=null)return[n,n]}function Ii(e){return e.map(Cp).filter(br)}function bee(e,t,n){return!n||typeof t!="number"||ga(t)?[]:n.length?Ii(n.flatMap(r=>{var a=Nt(e,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!Ze(l)||!Ze(c)))return[t-l,t+c]})):[]}var En=e=>{var t=Ln(e),n=gc(e);return xc(e,t,n)},kd=Q([En],e=>e?.dataKey),wee=Q([xD,Gw,En],fD),bD=(e,t,n,r)=>{var a={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,p=r?[...f].reverse():f,h=p.map(Em);return[u,{stackedData:BY(e,h,n),graphicalItems:p}]}))},Eh=Q([wee,xD,Ed,iD],bD),wD=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(r==null&&n!=="zAxis"){var c=VY(e,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Nee=Q([ln],e=>e.allowDataOverflow),r1=e=>{var t;if(e==null||!("domain"in e))return nb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ii(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:nb},a1=Q([ln],r1),i1=Q([a1,Nee],VI),See=Q([Eh,Bi,Wt,i1],wD,{memoizeOptions:{resultEqualityCheck:Am}}),Mm=e=>e.errorBars,_ee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>yD(n,r)),Ch=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},s1=(e,t,n,r,a)=>{var l,c;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var p,h,g=(p=r[f.id])===null||p===void 0?void 0:p.filter(C=>yD(a,C)),v=Nt(u,(h=t.dataKey)!==null&&h!==void 0?h:f.dataKey),N=bee(u,v,g);if(N.length>=2){var _=Math.min(...N),j=Math.max(...N);(l==null||_<l)&&(l=_),(c==null||j>c)&&(c=j)}var E=pk(v);E!=null&&(l=l==null?E[0]:Math.min(l,E[0]),c=c==null?E[1]:Math.max(c,E[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=pk(Nt(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Ze(l)&&Ze(c))return[l,c]},jee=Q([t1,ln,vee,Mm,Wt],s1,{memoizeOptions:{resultEqualityCheck:Am}});function Eee(e){var{value:t}=e;if($a(t)||t instanceof Date)return t}var Cee=(e,t,n)=>{var r=e.map(Eee).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&$P(r))?dI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ND=e=>e.referenceElements.dots,vc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),Aee=Q([ND,Wt,Cd],vc),SD=e=>e.referenceElements.areas,Tee=Q([SD,Wt,Cd],vc),_D=e=>e.referenceElements.lines,kee=Q([_D,Wt,Cd],vc),jD=(e,t)=>{if(e!=null){var n=Ii(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Mee=Q(Aee,Wt,jD),ED=(e,t)=>{if(e!=null){var n=Ii(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ree=Q([Tee,Wt],ED);function Pee(e){var t;if(e.x!=null)return Ii([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ii(n)}function Oee(e){var t;if(e.y!=null)return Ii([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ii(n)}var CD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Pee(r):Oee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Iee=Q([kee,Wt],CD),Dee=Q(Mee,Iee,Ree,(e,t,n)=>Ch(e,n,t)),l1=(e,t,n,r,a,l,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",p=f?Ch(r,l,a):Ch(l,a);return YQ(t,p,e.allowDataOverflow)},Lee=Q([ln,a1,i1,See,jee,Dee,ut,Wt],l1,{memoizeOptions:{resultEqualityCheck:Am}}),zee=[0,1],o1=(e,t,n,r,a,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,p=Na(t,l);if(p&&u==null){var h;return dI(0,(h=n?.length)!==null&&h!==void 0?h:0)}return f==="category"?Cee(r,e,p):a==="expand"?zee:c}},c1=Q([ln,ut,t1,km,Ed,Wt,Lee],o1);function Uee(e){return e in Ru}var AD=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var l="scale".concat(hd(r));return Uee(l)?l:"point"}}},Ys=Q([ln,gD,qw],AD);function u1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?dk(e.scale,n,r):dk(t,n,r)}var d1=(e,t,n)=>{var r=r1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Oi(e))return QQ(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Oi(e))return eee(e,t.tickCount,t.allowDecimals)}},f1=Q([c1,xc,Ys],d1),p1=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Oi(t)&&Array.isArray(n)&&n.length>0){var a,l,c=t[0],u=(a=n[0])!==null&&a!==void 0?a:0,f=t[1],p=(l=n[n.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,p)]}return t},$ee=Q([ln,c1,f1,Wt],p1),Gee=Q(km,ln,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ii(e.map(g=>g.value))).sort((g,v)=>g-v),a=r[0],l=r[r.length-1];if(a==null||l==null)return 1/0;var c=l-a;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],p=r[u+1];if(!(f==null||p==null)){var h=p-f;n=Math.min(n,h)}}return n/c}}),TD=Q(Gee,ut,aD,_n,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Ze(e))return 0;var l=t==="vertical"?r.height:r.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var c=Qn(n,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),Bee=(e,t,n)=>{var r=Fi(e,t);return r==null||typeof r.padding!="string"?0:TD(e,"xAxis",t,n,r.padding)},Fee=(e,t,n)=>{var r=qi(e,t);return r==null||typeof r.padding!="string"?0:TD(e,"yAxis",t,n,r.padding)},qee=Q(Fi,Bee,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),Hee=Q(qi,Fee,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),Vee=Q([_n,qee,dm,um,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Kee=Q([_n,ut,Hee,dm,um,(e,t,n)=>n],(e,t,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Md=(e,t,n,r)=>{var a;switch(t){case"xAxis":return Vee(e,n,r);case"yAxis":return Kee(e,n,r);case"zAxis":return(a=Ww(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return cD(e);case"radiusAxis":return uD(e,n);default:return}},kD=Q([ln,Md],Sm),Yee=Q([Ys,$ee],pD),Rm=Q([ln,Ys,Yee,kD],u1);Q([Td,Mm,Wt],_ee);function MD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Pm=(e,t)=>t,Om=(e,t,n)=>n,Jee=Q(om,Pm,Om,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MD)),Wee=Q(cm,Pm,Om,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(MD)),RD=(e,t)=>({width:e.width,height:t.height}),Xee=(e,t)=>{var n=typeof t.width=="number"?t.width:vd;return{width:n,height:e.height}},PD=Q(_n,Fi,RD),Zee=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Qee=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},ete=Q($i,_n,Jee,Pm,Om,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=RD(t,u);c==null&&(c=Zee(t,r,e));var p=r==="top"&&!a||r==="bottom"&&a;l[u.id]=c-Number(p)*f.height,c+=(p?-1:1)*f.height}),l}),tte=Q(Ui,_n,Wee,Pm,Om,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=Xee(t,u);c==null&&(c=Qee(t,r,e));var p=r==="left"&&!a||r==="right"&&a;l[u.id]=c-Number(p)*f.width,c+=(p?-1:1)*f.width}),l}),nte=(e,t)=>{var n=Fi(e,t);if(n!=null)return ete(e,n.orientation,n.mirror)},rte=Q([_n,Fi,nte,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),ate=(e,t)=>{var n=qi(e,t);if(n!=null)return tte(e,n.orientation,n.mirror)},ite=Q([_n,qi,ate,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),OD=Q(_n,qi,(e,t)=>{var n=typeof t.width=="number"?t.width:vd;return{width:n,height:e.height}}),hk=(e,t,n)=>{switch(t){case"xAxis":return PD(e,n).width;case"yAxis":return OD(e,n).height;default:return}},ID=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,u=Na(e,r),f=t.map(p=>p.value);if(c&&u&&l==="category"&&a&&$P(f))return f}},h1=Q([ut,km,ln,Wt],ID),DD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=Na(e,r);if(c&&(a==="number"||l!=="auto"))return t.map(u=>u.value)}},m1=Q([ut,km,xc,Wt],DD),mk=Q([ut,gee,Ys,Rm,h1,m1,Md,f1,Wt],(e,t,n,r,a,l,c,u,f)=>{if(t!=null){var p=Na(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:p,niceTicks:u,range:c,realScaleType:n,scale:r}}}),ste=(e,t,n,r,a,l,c,u,f)=>{if(!(t==null||r==null)){var p=Na(e,f),{type:h,ticks:g,tickCount:v}=t,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,_=h==="category"&&r.bandwidth?r.bandwidth()/N:0;_=f==="angleAxis"&&l!=null&&l.length>=2?Pn(l[0]-l[1])*2*_:_;var j=g||a;return j?j.map((E,C)=>{var A=c?c.indexOf(E):E,k=r.map(A);return Ze(k)?{index:C,coordinate:k+_,value:E,offset:_}:null}).filter(br):p&&u?u.map((E,C)=>{var A=r.map(E);return Ze(A)?{coordinate:A+_,value:E,index:C,offset:_}:null}).filter(br):r.ticks?r.ticks(v).map((E,C)=>{var A=r.map(E);return Ze(A)?{coordinate:A+_,value:E,index:C,offset:_}:null}).filter(br):r.domain().map((E,C)=>{var A=r.map(E);return Ze(A)?{coordinate:A+_,value:c?c[E]:E,index:C,offset:_}:null}).filter(br)}},LD=Q([ut,xc,Ys,Rm,f1,Md,h1,m1,Wt],ste),lte=(e,t,n,r,a,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=Na(e,c),{tickCount:f}=t,p=0;return p=c==="angleAxis"&&r?.length>=2?Pn(r[0]-r[1])*2*p:p,u&&l?l.map((h,g)=>{var v=n.map(h);return Ze(v)?{coordinate:v+p,value:h,index:g,offset:p}:null}).filter(br):n.ticks?n.ticks(f).map((h,g)=>{var v=n.map(h);return Ze(v)?{coordinate:v+p,value:h,index:g,offset:p}:null}).filter(br):n.domain().map((h,g)=>{var v=n.map(h);return Ze(v)?{coordinate:v+p,value:a?a[h]:h,index:g,offset:p}:null}).filter(br)}},Fa=Q([ut,xc,Rm,Md,h1,m1,Wt],lte),qa=Q(ln,Rm,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})}),ote=Q([ln,Ys,c1,kD],u1);Q((e,t,n)=>Ww(e,n),ote,(e,t)=>{if(!(e==null||t==null))return jh(jh({},e),{},{scale:t})});var cte=Q([ut,om,cm],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zD=e=>e.options.defaultTooltipEventType,UD=e=>e.options.validateTooltipEventTypes;function $D(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function g1(e,t){var n=zD(e),r=UD(e);return $D(t,n,r)}function ute(e){return Te(t=>g1(t,e))}var GD=(e,t)=>{var n,r=Number(t);if(!(ga(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},dte=e=>e.tooltip.settings,Es={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},fte={itemInteraction:{click:Es,hover:Es},axisInteraction:{click:Es,hover:Es},keyboardInteraction:Es,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BD=Sr({name:"tooltip",initialState:fte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ft()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=ma(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Ft()},removeTooltipEntrySettings:{reducer(e,t){var n=ma(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ft()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:pte,replaceTooltipEntrySettings:hte,removeTooltipEntrySettings:mte,setTooltipSettingsState:gte,setActiveMouseOverItemIndex:FD,mouseLeaveItem:xte,mouseLeaveChart:qD,setActiveClickItemIndex:vte,setMouseOverAxisIndex:HD,setMouseClickAxisIndex:yte,setSyncInteraction:rb,setKeyboardInteraction:ab}=BD.actions,bte=BD.reducer;function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){wte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wte(e,t,n){return(t=Nte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nte(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _te(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function jte(e){return e.index!=null}var VD=(e,t,n,r)=>{if(t==null)return Es;var a=_te(e,t,n);if(a==null)return Es;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(jte(a)){if(l)return mp(mp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return mp(mp({},Es),{},{coordinate:a.coordinate})};function Ete(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Cte(e,t){var n=Ete(e),r=t[0],a=t[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function Ate(e,t,n){if(n==null||t==null)return!0;var r=Nt(e,t);return r==null||!Oi(n)?!0:Cte(r,n)}var x1=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var l=Number(a);if(!Ze(l))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),p=t[f];return p==null||Ate(p,n,r)?String(f):null},KD=(e,t,n,r,a,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var p=a?.[Number(l)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:p.coordinate}}},YD=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},JD=e=>e.options.tooltipPayloadSearcher,yc=e=>e.tooltip;function xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xk(Object(n),!0).forEach(function(r){Tte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tte(e,t,n){return(t=kte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kte(e){var t=Mte(e,"string");return typeof t=="symbol"?t:t+""}function Mte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rte(e,t){return e??t}var WD=(e,t,n,r,a,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:p,dataEndIndex:h}=n,g=[];return e.reduce((v,N)=>{var _,{dataDefinedOnItem:j,settings:E}=N,C=Rte(j,u),A=Array.isArray(C)?PO(C,p,h):C,k=(_=E?.dataKey)!==null&&_!==void 0?_:r,R=E?.nameKey,M;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?M=GP(A,r,a):M=l(A,t,f,R),Array.isArray(M))M.forEach(O=>{var L=vk(vk({},E),{},{name:O.name,unit:O.unit,color:void 0,fill:void 0});v.push(gA({tooltipEntrySettings:L,dataKey:O.dataKey,payload:O.payload,value:Nt(O.payload,O.dataKey),name:O.name}))});else{var P;v.push(gA({tooltipEntrySettings:E,dataKey:k,payload:M,value:Nt(M,k),name:(P=Nt(M,R))!==null&&P!==void 0?P:E?.name}))}return v},g)}},v1=Q([En,gD,qw],AD),Pte=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Ote=Q([Ln,gc],Xw),bc=Q([Pte,En,Ote],Zw,{memoizeOptions:{resultEqualityCheck:Tm}}),Ite=Q([bc],e=>e.filter(Cm)),Dte=Q([bc],Qw,{memoizeOptions:{resultEqualityCheck:Tm}}),wc=Q([Dte,Bi],e1),Lte=Q([Ite,Bi,En],fD),y1=Q([wc,En,bc],n1),XD=Q([En],r1),zte=Q([En],e=>e.allowDataOverflow),ZD=Q([XD,zte],VI),Ute=Q([bc],e=>e.filter(Cm)),$te=Q([Lte,Ute,Ed,iD],bD),Gte=Q([$te,Bi,Ln,ZD],wD),Bte=Q([bc],vD),Fte=Q([wc,En,Bte,Mm,Ln],s1,{memoizeOptions:{resultEqualityCheck:Am}}),qte=Q([ND,Ln,gc],vc),Hte=Q([qte,Ln],jD),Vte=Q([SD,Ln,gc],vc),Kte=Q([Vte,Ln],ED),Yte=Q([_D,Ln,gc],vc),Jte=Q([Yte,Ln],CD),Wte=Q([Hte,Jte,Kte],Ch),Xte=Q([En,XD,ZD,Gte,Fte,Wte,ut,Ln],l1),Rd=Q([En,ut,wc,y1,Ed,Ln,Xte],o1),Zte=Q([Rd,En,v1],d1),Qte=Q([En,Rd,Zte,Ln],p1),QD=e=>{var t=Ln(e),n=gc(e),r=!1;return Md(e,t,n,r)},e4=Q([En,QD],Sm),t4=Q([En,v1,Qte,e4],u1),ene=Q([ut,y1,En,Ln],ID),tne=Q([ut,y1,En,Ln],DD),nne=(e,t,n,r,a,l,c,u)=>{if(t){var{type:f}=t,p=Na(e,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Pn(a[0]-a[1])*2*g:g,p&&c?c.map((v,N)=>{var _=r.map(v);return Ze(_)?{coordinate:_+g,value:v,index:N,offset:g}:null}).filter(br):r.domain().map((v,N)=>{var _=r.map(v);return Ze(_)?{coordinate:_+g,value:l?l[v]:v,index:N,offset:g}:null}).filter(br)}}},Hi=Q([ut,En,v1,t4,QD,ene,tne,Ln],nne),b1=Q([zD,UD,dte],(e,t,n)=>$D(n.shared,e,t)),n4=e=>e.tooltip.settings.trigger,w1=e=>e.tooltip.settings.defaultIndex,Pd=Q([yc,b1,n4,w1],VD),Us=Q([Pd,wc,kd,Rd],x1),r4=Q([Hi,Us],GD),N1=Q([Pd],e=>{if(e)return e.dataKey}),rne=Q([Pd],e=>{if(e)return e.graphicalItemId}),a4=Q([yc,b1,n4,w1],YD),ane=Q([Ui,$i,ut,_n,Hi,w1,a4],KD),ine=Q([Pd,ane],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),sne=Q([Pd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),lne=Q([a4,Us,Bi,kd,r4,JD,b1],WD),one=Q([lne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(r){cne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cne(e,t,n){return(t=une(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function une(e){var t=dne(e,"string");return typeof t=="symbol"?t:t+""}function dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fne=()=>Te(En),pne=()=>{var e=fne(),t=Te(Hi),n=Te(t4);return zs(!e||!n?void 0:bk(bk({},e),{},{scale:n}),t)};function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){hne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hne(e,t,n){return(t=mne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mne(e){var t=gne(e,"string");return typeof t=="symbol"?t:t+""}function gne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xne=(e,t,n,r)=>{var a=t.find(l=>l&&l.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},vne=(e,t,n,r)=>{var a=t.find(p=>p&&p.index===n);if(a){if(e==="centric"){var l=a.coordinate,{radius:c}=r;return Mo(Mo(Mo({},r),xn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var u=a.coordinate,{angle:f}=r;return Mo(Mo(Mo({},r),xn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function yne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var i4=(e,t,n,r,a)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,p,h,g,v,N=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(p=n[c-1])===null||p===void 0?void 0:p.coordinate,_=(h=n[u])===null||h===void 0?void 0:h.coordinate,j=u>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,E=void 0;if(!(N==null||_==null||j==null))if(Pn(_-N)!==Pn(j-_)){var C=[];if(Pn(j-_)===Pn(a[1]-a[0])){E=j;var A=_+a[1]-a[0];C[0]=Math.min(A,(A+N)/2),C[1]=Math.max(A,(A+N)/2)}else{E=N;var k=j+a[1]-a[0];C[0]=Math.min(_,(k+_)/2),C[1]=Math.max(_,(k+_)/2)}var R=[Math.min(_,(E+_)/2),Math.max(_,(E+_)/2)];if(e>R[0]&&e<=R[1]||e>=C[0]&&e<=C[1]){var M;return(M=n[u])===null||M===void 0?void 0:M.index}}else{var P=Math.min(N,j),O=Math.max(N,j);if(e>(P+_)/2&&e<=(O+_)/2){var L;return(L=n[u])===null||L===void 0?void 0:L.index}}}else if(t)for(var z=0;z<c;z++){var q=t[z];if(q!=null){var Y=t[z+1],G=t[z-1];if(z===0&&Y!=null&&e<=(q.coordinate+Y.coordinate)/2||z===c-1&&G!=null&&e>(q.coordinate+G.coordinate)/2||z>0&&z<c-1&&G!=null&&Y!=null&&e>(q.coordinate+G.coordinate)/2&&e<=(q.coordinate+Y.coordinate)/2)return q.index}}return-1},s4=()=>Te(qw),S1=(e,t)=>t,l4=(e,t,n)=>n,_1=(e,t,n,r)=>r,bne=Q(Hi,e=>Zh(e,t=>t.coordinate)),j1=Q([yc,S1,l4,_1],VD),E1=Q([j1,wc,kd,Rd],x1),wne=(e,t,n)=>{if(t!=null){var r=yc(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},o4=Q([yc,S1,l4,_1],YD),Ah=Q([Ui,$i,ut,_n,Hi,_1,o4],KD),Nne=Q([j1,Ah],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),c4=Q([Hi,E1],GD),Sne=Q([o4,E1,Bi,kd,c4,JD,S1],WD),_ne=Q([j1,E1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),jne=(e,t,n,r,a,l,c)=>{if(!(!e||!n||!r||!a)&&yne(e,c)){var u=KY(e,t),f=i4(u,l,a,n,r),p=xne(t,a,f,e);return{activeIndex:String(f),activeCoordinate:p}}},Ene=(e,t,n,r,a,l,c)=>{if(!(!e||!r||!a||!l||!n)){var u=uX(e,n);if(u){var f=YY(u,t),p=i4(f,c,l,r,a),h=vne(t,l,p,u);return{activeIndex:String(p),activeCoordinate:h}}}},Cne=(e,t,n,r,a,l,c,u)=>{if(!(!e||!t||!r||!a||!l))return t==="horizontal"||t==="vertical"?jne(e,t,r,a,l,c,u):Ene(e,t,n,r,a,l,c)},Ane=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Tne=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(un)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:uee}});function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){kne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kne(e,t,n){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pne={},One={zIndexMap:Object.values(un).reduce((e,t)=>Sk(Sk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Pne)},Ine=new Set(Object.values(un));function Dne(e){return Ine.has(e)}var u4=Sr({name:"zIndex",initialState:One,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ft()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Dne(n)&&delete e.zIndexMap[n])},prepare:Ft()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Ft()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ft()}}}),{registerZIndexPortal:Lne,unregisterZIndexPortal:zne,registerZIndexPortalElement:Une,unregisterZIndexPortalElement:$ne}=u4.actions,Gne=u4.reducer;function dr(e){var{zIndex:t,children:n}=e,r=jJ(),a=r&&t!==void 0&&t!==0,l=In(),c=Lt();b.useLayoutEffect(()=>a?(c(Lne({zIndex:t})),()=>{c(zne({zIndex:t}))}):Fs,[c,t,a]);var u=Te(f=>Ane(f,t,l));return a?u?Tb.createPortal(n,u):null:n}function ib(){return ib=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ib.apply(null,arguments)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){Bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hne(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function Vne(e){var t,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:p,chartName:h}=e,g=n,v=r,N=a;if(!f||!g||h!=="ScatterChart"&&p!=="axis")return null;var _,j,E;if(h==="ScatterChart")_=g,j=_W,E=un.cursorLine;else if(h==="BarChart")_=jW(u,g,l,c),j=sI,E=un.cursorRectangle;else if(u==="radial"&&FP(g)){var{cx:C,cy:A,radius:k,startAngle:R,endAngle:M}=oI(g);_={cx:C,cy:A,startAngle:R,endAngle:M,innerRadius:k,outerRadius:k},j=uI,E=un.cursorLine}else _={points:hX(u,g,l)},j=Vo,E=un.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,O=gp(gp(gp(gp({stroke:"#ccc",pointerEvents:"none"},l),_),Ml(f)),{},{payload:v,payloadIndex:N,className:dt("recharts-tooltip-cursor",P)});return b.createElement(dr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},b.createElement(Hne,{cursor:f,cursorComp:j,cursorProps:O}))}function Kne(e){var t=pne(),n=FO(),r=Hs(),a=s4();return t==null||n==null||r==null||a==null?null:b.createElement(Vne,ib({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var d4=b.createContext(null),Yne=()=>b.useContext(d4),Rv={exports:{}},jk;function Jne(){return jk||(jk=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,p,h){this.fn=f,this.context=p,this.once=h||!1}function l(f,p,h,g,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var N=new a(h,g||f,v),_=n?n+p:p;return f._events[_]?f._events[_].fn?f._events[_]=[f._events[_],N]:f._events[_].push(N):(f._events[_]=N,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],h,g;if(this._eventsCount===0)return p;for(g in h=this._events)t.call(h,g)&&p.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(h)):p},u.prototype.listeners=function(p){var h=n?n+p:p,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,N=g.length,_=new Array(N);v<N;v++)_[v]=g[v].fn;return _},u.prototype.listenerCount=function(p){var h=n?n+p:p,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(p,h,g,v,N,_){var j=n?n+p:p;if(!this._events[j])return!1;var E=this._events[j],C=arguments.length,A,k;if(E.fn){switch(E.once&&this.removeListener(p,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,g),!0;case 4:return E.fn.call(E.context,h,g,v),!0;case 5:return E.fn.call(E.context,h,g,v,N),!0;case 6:return E.fn.call(E.context,h,g,v,N,_),!0}for(k=1,A=new Array(C-1);k<C;k++)A[k-1]=arguments[k];E.fn.apply(E.context,A)}else{var R=E.length,M;for(k=0;k<R;k++)switch(E[k].once&&this.removeListener(p,E[k].fn,void 0,!0),C){case 1:E[k].fn.call(E[k].context);break;case 2:E[k].fn.call(E[k].context,h);break;case 3:E[k].fn.call(E[k].context,h,g);break;case 4:E[k].fn.call(E[k].context,h,g,v);break;default:if(!A)for(M=1,A=new Array(C-1);M<C;M++)A[M-1]=arguments[M];E[k].fn.apply(E[k].context,A)}}return!0},u.prototype.on=function(p,h,g){return l(this,p,h,g,!1)},u.prototype.once=function(p,h,g){return l(this,p,h,g,!0)},u.prototype.removeListener=function(p,h,g,v){var N=n?n+p:p;if(!this._events[N])return this;if(!h)return c(this,N),this;var _=this._events[N];if(_.fn)_.fn===h&&(!v||_.once)&&(!g||_.context===g)&&c(this,N);else{for(var j=0,E=[],C=_.length;j<C;j++)(_[j].fn!==h||v&&!_[j].once||g&&_[j].context!==g)&&E.push(_[j]);E.length?this._events[N]=E.length===1?E[0]:E:c(this,N)}return this},u.prototype.removeAllListeners=function(p){var h;return p?(h=n?n+p:p,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(Rv)),Rv.exports}var Wne=Jne();const Xne=Ha(Wne);var ld=new Xne,sb="recharts.syncEvent.tooltip",Ek="recharts.syncEvent.brush",Im=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!ga(n))return e[n]}},Zne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},f4=Sr({name:"options",initialState:Zne,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Qne=f4.reducer,{createEventEmitter:ere}=f4.actions;function tre(e){return e.tooltip.syncInteraction}var nre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},p4=Sr({name:"chartData",initialState:nre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Ck,setDataStartEndIndexes:rre,setComputedData:Lde}=p4.actions,are=p4.reducer,ire=["x","y"];function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sre(e,t,n){return(t=lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lre(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t){if(e==null)return{};var n,r,a=ure(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ure(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dre(){var e=Te(Hw),t=Te(Vw),n=Lt(),r=Te(sD),a=Te(Hi),l=Hs(),c=fm(),u=Te(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return Fs;var f=(p,h,g)=>{if(t!==g&&e===p){if(r==="index"){var v;if(c&&h!==null&&h!==void 0&&(v=h.payload)!==null&&v!==void 0&&v.coordinate&&h.payload.sourceViewBox){var N=h.payload.coordinate,{x:_,y:j}=N,E=cre(N,ire),{x:C,y:A,width:k,height:R}=h.payload.sourceViewBox,M=Ro(Ro({},E),{},{x:c.x+(k?(_-C)/k:0)*c.width,y:c.y+(R?(j-A)/R:0)*c.height});n(Ro(Ro({},h),{},{payload:Ro(Ro({},h.payload),{},{coordinate:M})}))}else n(h);return}if(a!=null){var P;if(typeof r=="function"){var O={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=r(a,O);P=a[L]}else r==="value"&&(P=a.find(U=>String(U.value)===h.payload.label));var{coordinate:z}=h.payload;if(P==null||h.payload.active===!1||z==null||c==null){n(rb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:Y}=z,G=Math.min(q,c.x+c.width),W=Math.min(Y,c.y+c.height),ee={x:l==="horizontal"?P.coordinate:G,y:l==="horizontal"?W:P.coordinate},Z=rb({active:h.payload.active,coordinate:ee,dataKey:h.payload.dataKey,index:String(P.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(Z)}}};return ld.on(sb,f),()=>{ld.off(sb,f)}},[u,n,t,e,r,a,l,c])}function fre(){var e=Te(Hw),t=Te(Vw),n=Lt();b.useEffect(()=>{if(e==null)return Fs;var r=(a,l,c)=>{t!==c&&e===a&&n(rre(l))};return ld.on(Ek,r),()=>{ld.off(Ek,r)}},[n,t,e])}function pre(){var e=Lt();b.useEffect(()=>{e(ere())},[e]),dre(),fre()}function hre(e,t,n,r,a,l){var c=Te(N=>wne(N,e,t)),u=Te(Vw),f=Te(Hw),p=Te(sD),h=Te(tre),g=h?.active,v=fm();b.useEffect(()=>{if(!g&&f!=null&&u!=null){var N=rb({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});ld.emit(sb,f,N,u)}},[g,n,c,a,r,u,f,p,l,v])}function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){mre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mre(e,t,n){return(t=gre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vre(e){return e.dataKey}function yre(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(rW,t)}var Mk=[],bre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function xi(e){var t,n,r=sn(e,bre),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:p,isAnimationActive:h,offset:g,payloadUniqBy:v,position:N,reverseDirection:_,useTranslate3d:j,wrapperStyle:E,cursor:C,shared:A,trigger:k,defaultIndex:R,portal:M,axisId:P}=r,O=Lt(),L=typeof R=="number"?String(R):R;b.useEffect(()=>{O(gte({shared:A,trigger:k,axisId:P,active:a,defaultIndex:L}))},[O,A,k,P,a,L]);var z=fm(),q=tI(),Y=ute(A),{activeIndex:G,isActive:W}=(t=Te(ye=>_ne(ye,Y,k,L)))!==null&&t!==void 0?t:{},ee=Te(ye=>Sne(ye,Y,k,L)),Z=Te(ye=>c4(ye,Y,k,L)),U=Te(ye=>Nne(ye,Y,k,L)),J=ee,te=Yne(),de=(n=a??W)!==null&&n!==void 0?n:!1,[ue,D]=rO([J,de]),X=Y==="axis"?Z:void 0;hre(Y,k,U,X,G,de);var ge=M??te;if(ge==null||z==null||Y==null)return null;var xe=J??Mk;de||(xe=Mk),p&&xe.length&&(xe=ZP(xe.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),v,vre));var K=xe.length>0,le=b.createElement(uW,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:h,active:de,coordinate:U,hasPayload:K,offset:g,position:N,reverseDirection:_,useTranslate3d:j,viewBox:z,wrapperStyle:E,lastBoundingBox:ue,innerRef:D,hasPortalFromProps:!!M},yre(f,kk(kk({},r),{},{payload:xe,label:X,active:de,activeIndex:G,coordinate:U,accessibilityLayer:q})));return b.createElement(b.Fragment,null,Tb.createPortal(le,ge),de&&b.createElement(Kne,{cursor:C,tooltipEventType:Y,coordinate:U,payload:xe,index:G}))}var $s=e=>null;$s.displayName="Cell";function wre(e,t,n){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nre(e){var t=Sre(e,"string");return typeof t=="symbol"?t:t+""}function Sre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class _re{constructor(t){wre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Rk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rk(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tre={cacheSize:2e3,enableCache:!0},h4=jre({},Tre),Pk=new _re(h4.cacheSize),kre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ok="recharts_measurement_span";function Mre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u)}var Ik=(e,t)=>{try{var n=document.getElementById(Ok);n||(n=document.createElement("span"),n.setAttribute("id",Ok),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,kre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||wd.isSsr)return{width:0,height:0};if(!h4.enableCache)return Ik(t,n);var r=Mre(t,n),a=Pk.get(r);if(a)return a;var l=Ik(t,n);return Pk.set(r,l),l},m4;function Rre(e,t,n){return(t=Pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pre(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ire=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Lre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zre=["cm","mm","pt","pc","in","Q","px"];function Ure(e){return zre.includes(e)}var $o="NaN";function $re(e,t){return e*Lre[t]}class Fn{static parse(t){var n,[,r,a]=(n=Dre.exec(t))!==null&&n!==void 0?n:[];return r==null?Fn.NaN:new Fn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,ga(t)&&(this.unit=""),n!==""&&!Ire.test(n)&&(this.num=NaN,this.unit=""),Ure(n)&&(this.num=$re(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Fn(NaN,""):new Fn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ga(this.num)}}m4=Fn;Rre(Fn,"NaN",new m4(NaN,""));function g4(e){if(e==null||e.includes($o))return $o;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,l]=(n=Dk.exec(t))!==null&&n!==void 0?n:[],c=Fn.parse(r??""),u=Fn.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return $o;t=t.replace(Dk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,h,g,v]=(p=Lk.exec(t))!==null&&p!==void 0?p:[],N=Fn.parse(h??""),_=Fn.parse(v??""),j=g==="+"?N.add(_):N.subtract(_);if(j.isNaN())return $o;t=t.replace(Lk,j.toString())}return t}var zk=/\(([^()]*)\)/;function Gre(e){for(var t=e,n;(n=zk.exec(t))!=null;){var[,r]=n;t=t.replace(zk,g4(r))}return t}function Bre(e){var t=e.replace(/\s+/g,"");return t=Gre(t),t=g4(t),t}function Fre(e){try{return Bre(e)}catch{return $o}}function Pv(e){var t=Fre(e.slice(5,-1));return t===$o?"":t}var qre=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Hre=["dx","dy","angle","className","breakAll"];function lb(){return lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lb.apply(null,arguments)}function Uk(e,t){if(e==null)return{};var n,r,a=Vre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x4=/[ \f\n\r\t\v\u2028\u2029]+/,v4=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Vt(t)||(n?a=t.toString().split(""):a=t.toString().split(x4));var l=a.map(u=>({word:u,width:Lu(u,r).width})),c=n?0:Lu("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function Kre(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var y4=(e,t,n,r)=>e.reduce((a,l)=>{var{word:c,width:u}=l,f=a[a.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(c),f.width+=u+n;else{var p={words:[c],width:u};a.push(p)}return a},[]),b4=e=>e.reduce((t,n)=>t.width>n.width?t:n),Yre="",$k=(e,t,n,r,a,l,c,u)=>{var f=e.slice(0,t),p=v4({breakAll:n,style:r,children:f+Yre});if(!p)return[!1,[]];var h=y4(p.wordsWithComputedWidth,l,c,u),g=h.length>a||b4(h).width>Number(l);return[g,h]},Jre=(e,t,n,r,a)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,p=Se(l),h=String(c),g=y4(t,r,n,a);if(!p||a)return g;var v=g.length>l||b4(g).width>Number(r);if(!v)return g;for(var N=0,_=h.length-1,j=0,E;N<=_&&j<=h.length-1;){var C=Math.floor((N+_)/2),A=C-1,[k,R]=$k(h,A,f,u,l,r,n,a),[M]=$k(h,C,f,u,l,r,n,a);if(!k&&!M&&(N=C+1),k&&M&&(_=C-1),!k&&M){E=R;break}j++}return E||g},Gk=e=>{var t=Vt(e)?[]:e.toString().split(x4);return[{words:t,width:void 0}]},Wre=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=e;if((t||n)&&!wd.isSsr){var u,f,p=v4({breakAll:l,children:r,style:a});if(p){var{wordsWithComputedWidth:h,spaceWidth:g}=p;u=h,f=g}else return Gk(r);return Jre({breakAll:l,children:r,maxLines:c,style:a},u,f,t,!!n)}return Gk(r)},w4="#808080",Xre={angle:0,breakAll:!1,capHeight:"0.71em",fill:w4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Dm=b.forwardRef((e,t)=>{var n=sn(e,Xre),{x:r,y:a,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:p,verticalAnchor:h}=n,g=Uk(n,qre),v=b.useMemo(()=>Wre({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:N,dy:_,angle:j,className:E,breakAll:C}=g,A=Uk(g,Hre);if(!$a(r)||!$a(a)||v.length===0)return null;var k=Number(r)+(Se(N)?N:0),R=Number(a)+(Se(_)?_:0);if(!Ze(k)||!Ze(R))return null;var M;switch(h){case"start":M=Pv("calc(".concat(c,")"));break;case"middle":M=Pv("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:M=Pv("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[],O=v[0];if(f&&O!=null){var L=O.width,{width:z}=g;P.push("scale(".concat(Se(z)&&Se(L)?z/L:1,")"))}return j&&P.push("rotate(".concat(j,", ").concat(k,", ").concat(R,")")),P.length&&(A.transform=P.join(" ")),b.createElement("text",lb({},er(A),{ref:t,x:k,y:R,className:dt("recharts-text",E),textAnchor:p,fill:u.includes("url")?w4:u}),v.map((q,Y)=>{var G=q.words.join(C?"":" ");return b.createElement("tspan",{x:k,dy:Y===0?M:l,key:"".concat(G,"-").concat(Y)},G)}))});Dm.displayName="Text";function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){Zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zre(e,t,n){return(t=Qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qre(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tae=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:p}=fw(t),h=l,g=l+(f-p)/2,v=(h+g)/2,N=(f+p)/2,_=h+f/2,j=u>=0?1:-1,E=j*r,C=j>0?"end":"start",A=j>0?"start":"end",k=f>=0?1:-1,R=k*r,M=k>0?"end":"start",P=k>0?"start":"end",O=a;if(n==="top"){var L={x:h+f/2,y:c-E,horizontalAnchor:"middle",verticalAnchor:C};return O&&(L.height=Math.max(c-O.y,0),L.width=f),L}if(n==="bottom"){var z={x:g+p/2,y:c+u+E,horizontalAnchor:"middle",verticalAnchor:A};return O&&(z.height=Math.max(O.y+O.height-(c+u),0),z.width=p),z}if(n==="left"){var q={x:v-R,y:c+u/2,horizontalAnchor:M,verticalAnchor:"middle"};return O&&(q.width=Math.max(q.x-O.x,0),q.height=u),q}if(n==="right"){var Y={x:v+N+R,y:c+u/2,horizontalAnchor:P,verticalAnchor:"middle"};return O&&(Y.width=Math.max(O.x+O.width-Y.x,0),Y.height=u),Y}var G=O?{width:N,height:u}:{};return n==="insideLeft"?Ra({x:v+R,y:c+u/2,horizontalAnchor:P,verticalAnchor:"middle"},G):n==="insideRight"?Ra({x:v+N-R,y:c+u/2,horizontalAnchor:M,verticalAnchor:"middle"},G):n==="insideTop"?Ra({x:h+f/2,y:c+E,horizontalAnchor:"middle",verticalAnchor:A},G):n==="insideBottom"?Ra({x:g+p/2,y:c+u-E,horizontalAnchor:"middle",verticalAnchor:C},G):n==="insideTopLeft"?Ra({x:h+R,y:c+E,horizontalAnchor:P,verticalAnchor:A},G):n==="insideTopRight"?Ra({x:h+f-R,y:c+E,horizontalAnchor:M,verticalAnchor:A},G):n==="insideBottomLeft"?Ra({x:g+R,y:c+u-E,horizontalAnchor:P,verticalAnchor:C},G):n==="insideBottomRight"?Ra({x:g+p-R,y:c+u-E,horizontalAnchor:M,verticalAnchor:C},G):n&&typeof n=="object"&&(Se(n.x)||Ol(n.x))&&(Se(n.y)||Ol(n.y))?Ra({x:l+Qn(n.x,N),y:c+Qn(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},G):Ra({x:_,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},G)},nae=["labelRef"],rae=["content"];function Fk(e,t){if(e==null)return{};var n,r,a=aae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qk(Object(n),!0).forEach(function(r){iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iae(e,t,n){return(t=sae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sae(e){var t=lae(e,"string");return typeof t=="symbol"?t:t+""}function lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yi(){return yi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yi.apply(null,arguments)}var N4=b.createContext(null),oae=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:l,height:c,children:u}=e,f=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:l,height:c}),[t,n,r,a,l,c]);return b.createElement(N4.Provider,{value:f},u)},S4=()=>{var e=b.useContext(N4),t=fm();return e||(t?fw(t):void 0)},cae=b.createContext(null),uae=()=>{var e=b.useContext(cae),t=Te(dD);return e||t},dae=e=>{var{value:t,formatter:n}=e,r=Vt(e.children)?t:e.children;return typeof n=="function"?n(r):r},C1=e=>e!=null&&typeof e=="function",fae=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},pae=(e,t,n,r,a)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:p,outerRadius:h,startAngle:g,endAngle:v,clockWise:N}=a,_=(p+h)/2,j=fae(g,v),E=j>=0?1:-1,C,A;switch(t){case"insideStart":C=g+E*l,A=N;break;case"insideEnd":C=v-E*l,A=!N;break;case"end":C=v+E*l,A=N;break;default:throw new Error("Unsupported position ".concat(t))}A=j<=0?A:!A;var k=xn(u,f,_,C),R=xn(u,f,_,C+(A?1:-1)*359),M="M".concat(k.x,",").concat(k.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(R.x,",").concat(R.y),P=Vt(e.id)?Yu("recharts-radial-line-"):e.id;return b.createElement("text",yi({},r,{dominantBaseline:"central",className:dt("recharts-radial-bar-label",c)}),b.createElement("defs",null,b.createElement("path",{id:P,d:M})),b.createElement("textPath",{xlinkHref:"#".concat(P)},n))},hae=(e,t,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,p=(u+f)/2;if(n==="outside"){var{x:h,y:g}=xn(r,a,c+t,p);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:N,y:_}=xn(r,a,v,p);return{x:N,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Ap=e=>e!=null&&"cx"in e&&Se(e.cx),mae={angle:0,offset:5,zIndex:un.label,position:"middle",textBreakAll:!1};function gae(e){if(!Ap(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function js(e){var t=sn(e,mae),{viewBox:n,parentViewBox:r,position:a,value:l,children:c,content:u,className:f="",textBreakAll:p,labelRef:h}=t,g=uae(),v=S4(),N=a==="center"?v:g??v,_,j,E;n==null?_=N:Ap(n)?_=n:_=fw(n);var C=gae(_);if(!_||Vt(l)&&Vt(c)&&!b.isValidElement(u)&&typeof u!="function")return null;var A=Pu(Pu({},t),{},{viewBox:_});if(b.isValidElement(u)){var{labelRef:k}=A,R=Fk(A,nae);return b.cloneElement(u,R)}if(typeof u=="function"){var{content:M}=A,P=Fk(A,rae);if(j=b.createElement(u,P),b.isValidElement(j))return j}else j=dae(t);var O=er(t);if(Ap(_)){if(a==="insideStart"||a==="insideEnd"||a==="end")return pae(t,a,j,O,_);E=hae(_,t.offset,t.position)}else{if(!C)return null;var L=tae({viewBox:C,position:a,offset:t.offset,parentViewBox:Ap(r)?void 0:r});E=Pu(Pu({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return b.createElement(dr,{zIndex:t.zIndex},b.createElement(Dm,yi({ref:h,className:dt("recharts-label",f)},O,E,{textAnchor:Kre(O.textAnchor)?O.textAnchor:E.textAnchor,breakAll:p}),j))}js.displayName="Label";var xae=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(js,yi({key:"label-implicit"},r)):$a(e)?b.createElement(js,yi({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===js?b.cloneElement(e,Pu({key:"label-implicit"},r)):b.createElement(js,yi({key:"label-implicit",content:e},r)):C1(e)?b.createElement(js,yi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(js,yi({},e,{key:"label-implicit"},r)):null};function vae(e){var{label:t,labelRef:n}=e,r=S4();return xae(t,r,n)||null}var Ov={},Iv={},Hk;function yae(){return Hk||(Hk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Iv)),Iv}var Dv={},Vk;function bae(){return Vk||(Vk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Dv)),Dv}var Kk;function wae(){return Kk||(Kk=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yae(),n=bae(),r=tw();function a(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=a})(Ov)),Ov}var Lv,Yk;function Nae(){return Yk||(Yk=1,Lv=wae().last),Lv}var Sae=Nae();const _ae=Ha(Sae);var jae=["valueAccessor"],Eae=["dataKey","clockWise","id","textBreakAll","zIndex"];function Th(){return Th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Th.apply(null,arguments)}function Jk(e,t){if(e==null)return{};var n,r,a=Cae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Cae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Aae=e=>Array.isArray(e.value)?_ae(e.value):e.value,_4=b.createContext(void 0),A1=_4.Provider,j4=b.createContext(void 0),Tae=j4.Provider;function kae(){return b.useContext(_4)}function Mae(){return b.useContext(j4)}function Tp(e){var{valueAccessor:t=Aae}=e,n=Jk(e,jae),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:u}=n,f=Jk(n,Eae),p=kae(),h=Mae(),g=p||h;return!g||!g.length?null:b.createElement(dr,{zIndex:u??un.label},b.createElement(an,{className:"recharts-label-list"},g.map((v,N)=>{var _,j=Vt(r)?t(v,N):Nt(v.payload,r),E=Vt(l)?{}:{id:"".concat(l,"-").concat(N)};return b.createElement(js,Th({key:"label-".concat(N)},er(v),f,E,{fill:(_=n.fill)!==null&&_!==void 0?_:v.fill,parentViewBox:v.parentViewBox,value:j,textBreakAll:c,viewBox:v.viewBox,index:N,zIndex:0}))})))}Tp.displayName="LabelList";function Lm(e){var{label:t}=e;return t?t===!0?b.createElement(Tp,{key:"labelList-implicit"}):b.isValidElement(t)||C1(t)?b.createElement(Tp,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Tp,Th({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function ob(){return ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ob.apply(null,arguments)}var E4=e=>{var{cx:t,cy:n,r,className:a}=e,l=dt("recharts-dot",a);return Se(t)&&Se(n)&&Se(r)?b.createElement("circle",ob({},cr(e),ew(e),{className:l,cx:t,cy:n,r})):null},C4=e=>e.graphicalItems.polarItems,Rae=Q([Wt,Cd],Xw),zm=Q([C4,ln,Rae],Zw),Pae=Q([zm],Qw),Um=Q([Pae,Nm],e1),Oae=Q([Um,ln,zm],n1);Q([Um,ln,zm],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var l,c=Nt(r,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Nt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var Wk=()=>{},Iae=Q([Um,ln,zm,Mm,Wt],s1),Dae=Q([ln,a1,i1,Wk,Iae,Wk,ut,Wt],l1),A4=Q([ln,ut,Um,Oae,Ed,Wt,Dae],o1),Lae=Q([A4,xc,Ys],d1),zae=Q([ln,A4,Lae,Wt],p1);Q([Ys,zae],pD);var Uae={radiusAxis:{},angleAxis:{}},T4=Sr({name:"polarAxis",initialState:Uae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:zde,removeRadiusAxis:Ude,addAngleAxis:$de,removeAngleAxis:Gde}=T4.actions,$ae=T4.reducer;function k4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){Gae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gae(e,t,n){return(t=Bae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bae(e){var t=Fae(e,"string");return typeof t=="symbol"?t:t+""}function Fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qae=(e,t)=>t,T1=Q([C4,qae],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Hae=[],k1=(e,t,n)=>n?.length===0?Hae:n,M4=Q([Nm,T1,k1],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>Zk(Zk({},t.presentationProps),l.props))),a!=null)return a}}),Vae=Q([M4,T1,k1],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var l,c=Nt(r,t.nameKey,t.name),u;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:qs(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),Kae=Q([M4,T1,k1,_n],(e,t,n,r)=>{if(!(t==null||e==null))return Yie({offset:r,pieSettings:t,displayedData:e,cells:n})}),zv={exports:{}},Mt={};var Qk;function Yae(){if(Qk)return Mt;Qk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function _(j){if(typeof j=="object"&&j!==null){var E=j.$$typeof;switch(E){case e:switch(j=j.type,j){case n:case a:case r:case f:case p:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case u:case g:case h:return j;case l:return j;default:return E}}case t:return E}}}return Mt.ContextConsumer=l,Mt.ContextProvider=c,Mt.Element=e,Mt.ForwardRef=u,Mt.Fragment=n,Mt.Lazy=g,Mt.Memo=h,Mt.Portal=t,Mt.Profiler=a,Mt.StrictMode=r,Mt.Suspense=f,Mt.SuspenseList=p,Mt.isContextConsumer=function(j){return _(j)===l},Mt.isContextProvider=function(j){return _(j)===c},Mt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Mt.isForwardRef=function(j){return _(j)===u},Mt.isFragment=function(j){return _(j)===n},Mt.isLazy=function(j){return _(j)===g},Mt.isMemo=function(j){return _(j)===h},Mt.isPortal=function(j){return _(j)===t},Mt.isProfiler=function(j){return _(j)===a},Mt.isStrictMode=function(j){return _(j)===r},Mt.isSuspense=function(j){return _(j)===f},Mt.isSuspenseList=function(j){return _(j)===p},Mt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===r||j===f||j===p||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===u||j.$$typeof===N||j.getModuleId!==void 0)},Mt.typeOf=_,Mt}var eM;function Jae(){return eM||(eM=1,zv.exports=Yae()),zv.exports}var Wae=Jae(),tM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",nM=null,Uv=null,R4=e=>{if(e===nM&&Array.isArray(Uv))return Uv;var t=[];return b.Children.forEach(e,n=>{Vt(n)||(Wae.isFragment(n)?t=t.concat(R4(n.props.children)):t.push(n))}),Uv=t,nM=e,t};function M1(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>tM(a)):r=[tM(t)],R4(e).forEach(a=>{var l=Pl(a,"type.displayName")||Pl(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var R1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,$v={},rM;function Xae(){return rM||(rM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})($v)),$v}var Gv,aM;function Zae(){return aM||(aM=1,Gv=Xae().isPlainObject),Gv}var Qae=Zae();const eie=Ha(Qae);var iM,sM,lM,oM,cM;function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(r){tie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tie(e,t,n){return(t=nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(null,arguments)}function Au(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var fM=(e,t,n,r,a)=>{var l=n-r,c;return c=nn(iM||(iM=Au(["M ",",",""])),e,t),c+=nn(sM||(sM=Au(["L ",",",""])),e+n,t),c+=nn(lM||(lM=Au(["L ",",",""])),e+n-l/2,t+a),c+=nn(oM||(oM=Au(["L ",",",""])),e+n-l/2-r,t+a),c+=nn(cM||(cM=Au(["L ",","," Z"])),e,t),c},aie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iie=e=>{var t=sn(e,aie),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:h,isUpdateAnimationActive:g}=t,v=b.useRef(null),[N,_]=b.useState(-1),j=b.useRef(a),E=b.useRef(l),C=b.useRef(c),A=b.useRef(n),k=b.useRef(r),R=fc(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var ee=v.current.getTotalLength();ee&&_(ee)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var M=dt("recharts-trapezoid",u);if(!g)return b.createElement("g",null,b.createElement("path",kh({},er(t),{className:M,d:fM(n,r,a,l,c)})));var P=j.current,O=E.current,L=C.current,z=A.current,q=k.current,Y="0px ".concat(N===-1?1:N,"px"),G="".concat(N,"px 0px"),W=nI(["strokeDasharray"],p,f);return b.createElement(dc,{animationId:R,key:R,canBegin:N>0,duration:p,easing:f,isActive:g,begin:h},ee=>{var Z=wt(P,a,ee),U=wt(O,l,ee),J=wt(L,c,ee),te=wt(z,n,ee),de=wt(q,r,ee);v.current&&(j.current=Z,E.current=U,C.current=J,A.current=te,k.current=de);var ue=ee>0?{transition:W,strokeDasharray:G}:{strokeDasharray:Y};return b.createElement("path",kh({},er(t),{className:M,d:fM(te,de,Z,U,J),ref:v,style:dM(dM({},ue),t.style)}))})},sie=["option","shapeType","activeClassName"];function lie(e,t){if(e==null)return{};var n,r,a=oie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pM(Object(n),!0).forEach(function(r){cie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cie(e,t,n){return(t=uie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uie(e){var t=die(e,"string");return typeof t=="symbol"?t:t+""}function die(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fie(e,t){return Mh(Mh({},t),e)}function pie(e,t){return e==="symbols"}function hM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(sI,n);case"trapezoid":return b.createElement(iie,n);case"sector":return b.createElement(uI,n);case"symbols":if(pie(t))return b.createElement(Qb,n);break;case"curve":return b.createElement(Vo,n);default:return null}}function hie(e){return b.isValidElement(e)?e.props:e}function P1(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=lie(e,sie),l;if(b.isValidElement(t))l=b.cloneElement(t,Mh(Mh({},a),hie(t)));else if(typeof t=="function")l=t(a,a.index);else if(eie(t)&&typeof t!="boolean"){var c=fie(t,a);l=b.createElement(hM,{shapeType:n,elementProps:c})}else{var u=a;l=b.createElement(hM,{shapeType:n,elementProps:u})}return a.isActive?b.createElement(an,{className:r},l):l}var O1=(e,t,n)=>{var r=Lt();return(a,l)=>c=>{e?.(a,l,c),r(FD({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},I1=e=>{var t=Lt();return(n,r)=>a=>{e?.(n,r,a),t(xte())}},D1=(e,t,n)=>{var r=Lt();return(a,l)=>c=>{e?.(a,l,c),r(vte({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function $m(e){var{tooltipEntrySettings:t}=e,n=Lt(),r=In(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(pte(t)):a.current!==t&&n(hte({prev:a.current,next:t})),a.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{a.current&&(n(mte(a.current)),a.current=null)},[n]),null}function L1(e){var{legendPayload:t}=e,n=Lt(),r=In(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(ZO(t)):a.current!==t&&n(QO({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(eI(a.current)),a.current=null)},[n]),null}function mie(e){var{legendPayload:t}=e,n=Lt(),r=Te(ut),a=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(ZO(t)):a.current!==t&&n(QO({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(eI(a.current)),a.current=null)},[n]),null}var Bv,gie=()=>{var[e]=b.useState(()=>Yu("uid-"));return e},xie=(Bv=LL.useId)!==null&&Bv!==void 0?Bv:gie;function vie(e,t){var n=xie();return t||(e?"".concat(e,"-").concat(n):n)}var yie=b.createContext(void 0),Gm=e=>{var{id:t,type:n,children:r}=e,a=vie("recharts-".concat(n),t);return b.createElement(yie.Provider,{value:a},r(a))},bie={cartesianItems:[],polarItems:[]},P4=Sr({name:"graphicalItems",initialState:bie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ft()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=ma(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Ft()},removeCartesianGraphicalItem:{reducer(e,t){var n=ma(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ft()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ft()},removePolarGraphicalItem:{reducer(e,t){var n=ma(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ft()}}}),{addCartesianGraphicalItem:wie,replaceCartesianGraphicalItem:Nie,removeCartesianGraphicalItem:Sie,addPolarGraphicalItem:_ie,removePolarGraphicalItem:jie}=P4.actions,Eie=P4.reducer,Cie=e=>{var t=Lt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(wie(e)):n.current!==e&&t(Nie({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(Sie(n.current)),n.current=null)},[t]),null},z1=b.memo(Cie);function Aie(e){var t=Lt();return b.useLayoutEffect(()=>(t(_ie(e)),()=>{t(jie(e))}),[t,e]),null}var Tie=["key"],kie=["onMouseEnter","onClick","onMouseLeave"],Mie=["id"],Rie=["id"];function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oie(e){var t=Iie(e,"string");return typeof t=="symbol"?t:t+""}function Iie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gs.apply(null,arguments)}function Bm(e,t){if(e==null)return{};var n,r,a=Die(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Die(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lie(e){var t=b.useMemo(()=>M1(e.children,$s),[e.children]),n=Te(r=>Vae(r,e.id,t));return n==null?null:b.createElement(mie,{legendPayload:n})}var zie=b.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:p,id:h}=e,g={dataDefinedOnItem:r.map(v=>v.tooltipPayload),getPosition:v=>{var N;return(N=r[Number(v)])===null||N===void 0?void 0:N.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:qs(u,t),hide:f,type:p,color:c,unit:"",graphicalItemId:h}};return b.createElement($m,{tooltipEntrySettings:g})}),Uie=(e,t)=>e>t?"start":e<t?"end":"middle",$ie=(e,t,n)=>Qn(typeof t=="function"?t(e):t,n,n*.8),Gie=(e,t,n)=>{var{top:r,left:a,width:l,height:c}=t,u=lI(l,c),f=a+Qn(e.cx,l,l/2),p=r+Qn(e.cy,c,c/2),h=Qn(e.innerRadius,u,0),g=$ie(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:p,innerRadius:h,outerRadius:g,maxRadius:v}},Bie=(e,t)=>{var n=Pn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Fie=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=dt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=Bm(t,Tie);return b.createElement(Vo,Gs({},a,{type:"linear",className:n}))},qie=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var a=dt("recharts-pie-label-text",k4(e));return b.createElement(Dm,Gs({},t,{alignmentBaseline:"middle",className:a}),r)};function Hie(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!t)return null;var u=cr(n),f=Ml(a),p=Ml(l),h=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((v,N)=>{var _=(v.startAngle+v.endAngle)/2,j=xn(v.cx,v.cy,v.outerRadius+h,_),E=rn(rn(rn(rn({},u),v),{},{stroke:"none"},f),{},{index:N,textAnchor:Uie(j.x,v.cx)},j),C=rn(rn(rn(rn({},u),v),{},{fill:"none",stroke:v.fill},p),{},{index:N,points:[xn(v.cx,v.cy,v.outerRadius,_),j],key:"line"});return b.createElement(dr,{zIndex:un.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},b.createElement(an,null,l&&Fie(l,C),qie(a,E,Nt(v,c))))});return b.createElement(an,{className:"recharts-pie-labels"},g)}function Vie(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(Lm,{label:a}):b.createElement(Hie,{sectors:t,props:n,showLabels:r})}function Kie(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l,id:c}=e,u=Te(Us),f=Te(N1),p=Te(rne),{onMouseEnter:h,onClick:g,onMouseLeave:v}=a,N=Bm(a,kie),_=O1(h,a.dataKey,c),j=I1(v),E=D1(g,a.dataKey,c);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((C,A)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var k=p==null||p===c,R=String(A)===u&&(f==null||a.dataKey===f)&&k,M=u?r:null,P=n&&R?n:M,O=rn(rn({},C),{},{stroke:C.stroke,tabIndex:-1,[zO]:A,[UO]:c});return b.createElement(an,Gs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},md(N,C,A),{onMouseEnter:_(C,A),onMouseLeave:j(C,A),onClick:E(C,A)}),b.createElement(P1,Gs({option:l??P,index:A,shapeType:"sector",isActive:R},O)))}))}function Yie(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:p,nameKey:h,tooltipType:g}=n,v=Math.abs(n.minAngle),N=Bie(u,f),_=Math.abs(N),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter(P=>Nt(P,p,0)!==0).length,C=(_>=360?E:E-1)*j,A=_-E*v-C,k=r.reduce((P,O)=>{var L=Nt(O,p,0);return P+(Se(L)?L:0)},0),R;if(k>0){var M;R=r.map((P,O)=>{var L=Nt(P,p,0),z=Nt(P,h,O),q=Gie(n,l,P),Y=(Se(L)?L:0)/k,G,W=rn(rn({},P),a&&a[O]&&a[O].props);O?G=M.endAngle+Pn(N)*j*(L!==0?1:0):G=u;var ee=G+Pn(N)*((L!==0?v:0)+Y*A),Z=(G+ee)/2,U=(q.innerRadius+q.outerRadius)/2,J=[{name:z,value:L,payload:W,dataKey:p,type:g,graphicalItemId:n.id}],te=xn(q.cx,q.cy,U,Z);return M=rn(rn(rn(rn({},n.presentationProps),{},{percent:Y,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:J,midAngle:Z,middleRadius:U,tooltipPosition:te},W),q),{},{value:L,dataKey:p,startAngle:G,endAngle:ee,payload:W,paddingAngle:Pn(N)*j}),M})}return R}function Jie(e){var{showLabels:t,sectors:n,children:r}=e,a=b.useMemo(()=>!t||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,t]);return b.createElement(Tae,{value:t?a:void 0},r)}function Wie(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:p,inactiveShape:h,onAnimationStart:g,onAnimationEnd:v}=t,N=fc(t,"recharts-pie-"),_=n.current,[j,E]=b.useState(!1),C=b.useCallback(()=>{typeof v=="function"&&v(),E(!1)},[v]),A=b.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return b.createElement(Jie,{showLabels:!j,sectors:a},b.createElement(dc,{animationId:N,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:A,onAnimationEnd:C,key:N},k=>{var R,M=[],P=a&&a[0],O=(R=P?.startAngle)!==null&&R!==void 0?R:0;return a?.forEach((L,z)=>{var q=_&&_[z],Y=z>0?Pl(L,"paddingAngle",0):0;if(q){var G=wt(q.endAngle-q.startAngle,L.endAngle-L.startAngle,k),W=rn(rn({},L),{},{startAngle:O+Y,endAngle:O+G+Y});M.push(W),O=W.endAngle}else{var{endAngle:ee,startAngle:Z}=L,U=wt(0,ee-Z,k),J=rn(rn({},L),{},{startAngle:O+Y,endAngle:O+U+Y});M.push(J),O=J.endAngle}}),n.current=M,b.createElement(an,null,b.createElement(Kie,{sectors:M,activeShape:p,inactiveShape:h,allOtherPieProps:t,shape:t.shape,id:r}))}),b.createElement(Vie,{showLabels:!j,sectors:a,props:t}),t.children)}var Xie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:un.area};function Zie(e){var{id:t}=e,n=Bm(e,Mie),{hide:r,className:a,rootTabIndex:l}=e,c=b.useMemo(()=>M1(e.children,$s),[e.children]),u=Te(h=>Kae(h,t,c)),f=b.useRef(null),p=dt("recharts-pie",a);return r||u==null?(f.current=null,b.createElement(an,{tabIndex:l,className:p})):b.createElement(dr,{zIndex:e.zIndex},b.createElement(zie,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),b.createElement(an,{tabIndex:l,className:p},b.createElement(Wie,{props:rn(rn({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function cb(e){var t=sn(e,Xie),{id:n}=t,r=Bm(t,Rie),a=cr(r);return b.createElement(Gm,{id:n,type:"pie"},l=>b.createElement(b.Fragment,null,b.createElement(Aie,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),b.createElement(Lie,Gs({},r,{id:l})),b.createElement(Zie,Gs({},r,{id:l}))))}cb.displayName="Pie";var Qie=["points"];function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Fv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gM(Object(n),!0).forEach(function(r){ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ese(e,t,n){return(t=tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rh.apply(null,arguments)}function rse(e,t){if(e==null)return{};var n,r,a=ase(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ase(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ise(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var a=dt(r,typeof t!="boolean"?t.className:""),l=n??{},{points:c}=l,u=rse(l,Qie);return b.createElement(E4,Rh({},u,{className:a}))}function sse(e,t){return e==null?!1:t?!0:e.length===1}function O4(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:l,baseProps:c,needClip:u,clipPathId:f,zIndex:p=un.scatter}=e;if(!sse(t,n))return null;var h=R1(n),g=SV(n),v=t.map((_,j)=>{var E,C,A=Fv(Fv(Fv({r:3},c),g),{},{index:j,cx:(E=_.x)!==null&&E!==void 0?E:void 0,cy:(C=_.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:_.value,payload:_.payload,points:t});return b.createElement(ise,{key:"dot-".concat(j),option:n,dotProps:A,className:a})}),N={};return u&&f!=null&&(N.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(f,")")),b.createElement(dr,{zIndex:p},b.createElement(an,Rh({className:r},N),v))}function xM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xM(Object(n),!0).forEach(function(r){lse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lse(e,t,n){return(t=ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ose(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I4=0,use={xAxis:{},yAxis:{},zAxis:{}},D4=Sr({name:"cartesianAxis",initialState:use,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ft()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ft()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ft()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ft()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ft()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ft()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ft()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ft()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ft()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var l,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=vM(vM({},a),{},{width:r,widthHistory:u})}}}}),{addXAxis:dse,replaceXAxis:fse,removeXAxis:pse,addYAxis:hse,replaceYAxis:mse,removeYAxis:gse,addZAxis:Bde,replaceZAxis:Fde,removeZAxis:qde,updateYAxisWidth:xse}=D4.actions,vse=D4.reducer,yse=Q([_n],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bse=Q([yse,Ui,$i],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Fm=()=>Te(bse),wse=()=>Te(one);function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function qv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){Nse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nse(e,t,n){return(t=Sse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sse(e){var t=_se(e,"string");return typeof t=="symbol"?t:t+""}function _se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jse=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:l,clipPath:c}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=qv(qv(qv({},u),Ml(a)),ew(a)),p;return b.isValidElement(a)?p=b.cloneElement(a,f):typeof a=="function"?p=a(f):p=b.createElement(E4,f),b.createElement(an,{className:"recharts-active-dot",clipPath:c},p)};function ub(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:l,zIndex:c=un.activeDot}=e,u=Te(Us),f=wse();if(t==null||f==null)return null;var p=t.find(h=>f.includes(h.payload));return Vt(p)?null:b.createElement(dr,{zIndex:c},b.createElement(jse,{point:p,childIndex:Number(u),mainColor:n,dataKey:a,activeDot:r,clipPath:l}))}var bM=(e,t,n)=>{var r=n??e;if(!Vt(r))return Qn(r,t,0)},Ese=(e,t,n)=>{var r={},a=e.filter(Cm),l=e.filter(p=>p.stackId==null),c=a.reduce((p,h)=>{var g=p[h.stackId];return g==null&&(g=[]),g.push(h),p[h.stackId]=g,p},r),u=Object.entries(c).map(p=>{var h,[g,v]=p,N=v.map(j=>j.dataKey),_=bM(t,n,(h=v[0])===null||h===void 0?void 0:h.barSize);return{stackId:g,dataKeys:N,barSize:_}}),f=l.map(p=>{var h=[p.dataKey].filter(v=>v!=null),g=bM(t,n,p.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...f]};function wM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function xp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wM(Object(n),!0).forEach(function(r){Cse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cse(e,t,n){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ase(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kse(e,t,n,r,a){var l,c=r.length;if(!(c<1)){var u=Qn(e,n,0,!0),f,p=[];if(Ze((l=r[0])===null||l===void 0?void 0:l.barSize)){var h=!1,g=n/c,v=r.reduce((A,k)=>A+(k.barSize||0),0);v+=(c-1)*u,v>=n&&(v-=(c-1)*u,u=0),v>=n&&g>0&&(h=!0,g*=.9,v=c*g);var N=(n-v)/2>>0,_={offset:N-u,size:0};f=r.reduce((A,k)=>{var R,M={stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:_.offset+_.size+u,size:h?g:(R=k.barSize)!==null&&R!==void 0?R:0}},P=[...A,M];return _=M.position,P},p)}else{var j=Qn(t,n,0,!0);n-2*j-(c-1)*u<=0&&(u=0);var E=(n-2*j-(c-1)*u)/c;E>1&&(E>>=0);var C=Ze(a)?Math.min(E,a):E;f=r.reduce((A,k,R)=>[...A,{stackId:k.stackId,dataKeys:k.dataKeys,position:{offset:j+(E+u)*R+(E-C)/2,size:C}}],p)}return f}}var Mse=(e,t,n,r,a,l,c)=>{var u=Vt(c)?t:c,f=kse(n,r,a!==l?a:l,e,u);return a!==l&&f!=null&&(f=f.map(p=>xp(xp({},p),{},{position:xp(xp({},p.position),{},{offset:p.position.offset-a/2})}))),f},Rse=(e,t)=>{var n=Em(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:l}=a;if(l)return l.find(c=>c.key===n)}}}},Pse=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Ose(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Ze(e.zIndex)?e.zIndex:t}var L4=e=>{var{chartData:t}=e,n=Lt(),r=In();return b.useEffect(()=>r?()=>{}:(n(Ck(t)),()=>{n(Ck(void 0))}),[t,n,r]),null},NM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},z4=Sr({name:"brush",initialState:NM,reducers:{setBrushSettings(e,t){return t.payload==null?NM:t.payload}}}),{setBrushSettings:Hde}=z4.actions,Ise=z4.reducer;function Dse(e){return(e%180+180)%180}var Lse=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Dse(a),c=l*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},zse={dots:[],areas:[],lines:[]},U4=Sr({name:"referenceElements",initialState:zse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=ma(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=ma(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=ma(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Vde,removeDot:Kde,addArea:Yde,removeArea:Jde,addLine:Wde,removeLine:Xde}=U4.actions,Use=U4.reducer,$se=b.createContext(void 0),Gse=e=>{var{children:t}=e,[n]=b.useState("".concat(Yu("recharts"),"-clip")),r=Fm();if(r==null)return null;var{x:a,y:l,width:c,height:u}=r;return b.createElement($se.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:l,height:u,width:c}))),t)};function $4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function Bse(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Lse(r,n)}function Fse(e,t,n){var r=n==="width",{x:a,y:l,width:c,height:u}=e;return t===1?{start:r?a:l,end:r?a+c:l+u}:{start:r?a+c:l+u,end:r?a:l}}function od(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-a)<=0}function qse(e,t){return $4(e,t+1)}function Hse(e,t,n,r,a){for(var l=(r||[]).slice(),{start:c,end:u}=t,f=0,p=1,h=c,g=function(){var _=r?.[f];if(_===void 0)return{v:$4(r,p)};var j=f,E,C=()=>(E===void 0&&(E=n(_,j)),E),A=_.coordinate,k=f===0||od(e,A,C,h,u);k||(f=0,h=c,p+=1),k&&(h=A+e*(C()/2+a),f+=p)},v;p<=l.length;)if(v=g(),v)return v.v;return[]}function Vse(e,t,n,r,a){var l=(r||[]).slice(),c=l.length;if(c===0)return[];for(var{start:u,end:f}=t,p=1;p<=c;p++){for(var h=(c-1)%p,g=u,v=!0,N=function(){var R=r[j];if(R==null)return 0;var M=j,P,O=()=>(P===void 0&&(P=n(R,M)),P),L=R.coordinate,z=j===h||od(e,L,O,g,f);if(!z)return v=!1,1;z&&(g=L+e*(O()/2+a))},_,j=h;j<c&&(_=N(),!(_!==0&&_===1));j+=p);if(v){for(var E=[],C=h;C<c;C+=p){var A=r[C];A!=null&&E.push(A)}return E}}return[]}function SM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SM(Object(n),!0).forEach(function(r){Kse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kse(e,t,n){return(t=Yse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yse(e){var t=Jse(e,"string");return typeof t=="symbol"?t:t+""}function Jse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wse(e,t,n,r,a){for(var l=(r||[]).slice(),c=l.length,{start:u}=t,{end:f}=t,p=function(v){var N=l[v];if(N==null)return 1;var _=N,j,E=()=>(j===void 0&&(j=n(N,v)),j);if(v===c-1){var C=e*(_.coordinate+e*E()/2-f);l[v]=_=Jn(Jn({},_),{},{tickCoord:C>0?_.coordinate-C*e:_.coordinate})}else l[v]=_=Jn(Jn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var A=od(e,_.tickCoord,E,u,f);A&&(f=_.tickCoord-e*(E()/2+a),l[v]=Jn(Jn({},_),{},{isShow:!0}))}},h=c-1;h>=0;h--)p(h);return l}function Xse(e,t,n,r,a,l){var c=(r||[]).slice(),u=c.length,{start:f,end:p}=t;if(l){var h=r[u-1];if(h!=null){var g=n(h,u-1),v=e*(h.coordinate+e*g/2-p);if(c[u-1]=h=Jn(Jn({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate}),h.tickCoord!=null){var N=od(e,h.tickCoord,()=>g,f,p);N&&(p=h.tickCoord-e*(g/2+a),c[u-1]=Jn(Jn({},h),{},{isShow:!0}))}}}for(var _=l?u-1:u,j=function(A){var k=c[A];if(k==null)return 1;var R=k,M,P=()=>(M===void 0&&(M=n(k,A)),M);if(A===0){var O=e*(R.coordinate-e*P()/2-f);c[A]=R=Jn(Jn({},R),{},{tickCoord:O<0?R.coordinate-O*e:R.coordinate})}else c[A]=R=Jn(Jn({},R),{},{tickCoord:R.coordinate});if(R.tickCoord!=null){var L=od(e,R.tickCoord,P,f,p);L&&(f=R.tickCoord+e*(P()/2+a),c[A]=Jn(Jn({},R),{},{isShow:!0}))}},E=0;E<_;E++)j(E);return c}function U1(e,t,n){var{tick:r,ticks:a,viewBox:l,minTickGap:c,orientation:u,interval:f,tickFormatter:p,unit:h,angle:g}=e;if(!a||!a.length||!r)return[];if(Se(f)||wd.isSsr){var v;return(v=qse(a,Se(f)?f:0))!==null&&v!==void 0?v:[]}var N=[],_=u==="top"||u==="bottom"?"width":"height",j=h&&_==="width"?Lu(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(M,P)=>{var O=typeof p=="function"?p(M.value,P):M.value;return _==="width"?Bse(Lu(O,{fontSize:t,letterSpacing:n}),j,g):Lu(O,{fontSize:t,letterSpacing:n})[_]},C=a[0],A=a[1],k=a.length>=2&&C!=null&&A!=null?Pn(A.coordinate-C.coordinate):1,R=Fse(l,k,_);return f==="equidistantPreserveStart"?Hse(k,R,E,a,c):f==="equidistantPreserveEnd"?Vse(k,R,E,a,c):(f==="preserveStart"||f==="preserveStartEnd"?N=Xse(k,R,E,a,c,f==="preserveStartEnd"):N=Wse(k,R,E,a,c),N.filter(M=>M.isShow))}var Zse=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=a+l,p=c+f+u+(n?r:0);return Math.round(p)}return 0},Qse=["axisLine","width","height","className","hide","ticks","axisType"];function ele(e,t){if(e==null)return{};var n,r,a=tle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function tle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(null,arguments)}function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){nle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nle(e,t,n){return(t=rle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rle(e){var t=ale(e,"string");return typeof t=="symbol"?t:t+""}function ale(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ji={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:un.axis};function ile(e){var{x:t,y:n,width:r,height:a,orientation:l,mirror:c,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var p=tn(tn(tn({},f),cr(u)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);p=tn(tn({},p),{},{x1:t,y1:n+h*a,x2:t+r,y2:n+h*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);p=tn(tn({},p),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+a})}return b.createElement("line",Ul({},p,{className:dt("recharts-cartesian-axis-line",Pl(u,"className"))}))}function sle(e,t,n,r,a,l,c,u,f){var p,h,g,v,N,_,j=u?-1:1,E=e.tickSize||c,C=Se(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":p=h=e.coordinate,v=n+ +!u*a,g=v-j*E,_=g-j*f,N=C;break;case"left":g=v=e.coordinate,h=t+ +!u*r,p=h-j*E,N=p-j*f,_=C;break;case"right":g=v=e.coordinate,h=t+ +u*r,p=h+j*E,N=p+j*f,_=C;break;default:p=h=e.coordinate,v=n+ +u*a,g=v+j*E,_=g+j*f,N=C;break}return{line:{x1:p,y1:g,x2:h,y2:v},tick:{x:N,y:_}}}function lle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ole(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function cle(e){var{option:t,tickProps:n,value:r}=e,a,l=dt(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,tn(tn({},n),{},{className:l}));else if(typeof t=="function")a=t(tn(tn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=dt(c,k4(t))),a=b.createElement(Dm,Ul({},n,{className:c}),r)}return a}var ule=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:l,tickFormatter:c,unit:u,padding:f,tickTextProps:p,orientation:h,mirror:g,x:v,y:N,width:_,height:j,tickSize:E,tickMargin:C,fontSize:A,letterSpacing:k,getTicksConfig:R,events:M,axisType:P}=e,O=U1(tn(tn({},R),{},{ticks:n}),A,k),L=lle(h,g),z=ole(h,g),q=cr(R),Y=Ml(r),G={};typeof a=="object"&&(G=a);var W=tn(tn({},q),{},{fill:"none"},G),ee=O.map(J=>tn({entry:J},sle(J,v,N,_,j,h,E,g,C))),Z=ee.map(J=>{var{entry:te,line:de}=J;return b.createElement(an,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},a&&b.createElement("line",Ul({},W,de,{className:dt("recharts-cartesian-axis-tick-line",Pl(a,"className"))})))}),U=ee.map((J,te)=>{var de,ue,{entry:D,tick:X}=J,ge=tn(tn(tn(tn({verticalAnchor:z},q),{},{textAnchor:L,stroke:"none",fill:l},X),{},{index:te,payload:D,visibleTicksCount:O.length,tickFormatter:c,padding:f},p),{},{angle:(de=(ue=p?.angle)!==null&&ue!==void 0?ue:q.angle)!==null&&de!==void 0?de:0}),xe=tn(tn({},ge),Y);return b.createElement(an,Ul({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},md(M,D,te)),r&&b.createElement(cle,{option:r,tickProps:xe,value:"".concat(typeof c=="function"?c(D.value,te):D.value).concat(u||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},U.length>0&&b.createElement(dr,{zIndex:un.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},U)),Z.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Z))}),dle=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:l,hide:c,ticks:u,axisType:f}=e,p=ele(e,Qse),[h,g]=b.useState(""),[v,N]=b.useState(""),_=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return Zse({ticks:_.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var j=b.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");_.current=C;var A=C[0];if(A){var k=window.getComputedStyle(A),R=k.fontSize,M=k.letterSpacing;(R!==h||M!==v)&&(g(R),N(M))}}},[h,v]);return c||r!=null&&r<=0||a!=null&&a<=0?null:b.createElement(dr,{zIndex:e.zIndex},b.createElement(an,{className:dt("recharts-cartesian-axis",l)},b.createElement(ile,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:cr(e)}),b.createElement(ule,{ref:j,axisType:f,events:p,fontSize:h,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(oae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(vae,{label:e.label,labelRef:e.labelRef}),e.children)))}),$1=b.forwardRef((e,t)=>{var n=sn(e,ji);return b.createElement(dle,Ul({},n,{ref:t}))});$1.displayName="CartesianAxis";var fle=["x1","y1","x2","y2","key"],ple=["offset"],hle=["xAxisId","yAxisId"],mle=["xAxisId","yAxisId"];function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){gle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gle(e,t,n){return(t=xle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xle(e){var t=vle(e,"string");return typeof t=="symbol"?t:t+""}function vle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _l(){return _l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_l.apply(null,arguments)}function Ph(e,t){if(e==null)return{};var n,r,a=yle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ble=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:c,ry:u}=e;return b.createElement("rect",{x:r,y:a,ry:u,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function G4(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:l,y1:c,x2:u,y2:f,key:p}=n,h=Ph(n,fle),g=(a=cr(h))!==null&&a!==void 0?a:{},{offset:v}=g,N=Ph(g,ple);r=b.createElement("line",_l({},N,{x1:l,y1:c,x2:u,y2:f,fill:"none",key:p}))}return r}function wle(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Ph(e,hle),f=a.map((p,h)=>{var g=Wn(Wn({},u),{},{x1:t,y1:p,x2:t+n,y2:p,key:"line-".concat(h),index:h});return b.createElement(G4,{key:"line-".concat(h),option:r,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Nle(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Ph(e,mle),f=a.map((p,h)=>{var g=Wn(Wn({},u),{},{x1:p,y1:t,x2:p,y2:t+n,key:"line-".concat(h),index:h});return b.createElement(G4,{option:r,lineItemProps:g,key:"line-".concat(h)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Sle(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:l,height:c,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var p=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==p[0]&&p.unshift(0);var h=p.map((g,v)=>{var N=p[v+1],_=N==null,j=_?a+c-g:N-g;if(j<=0)return null;var E=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:j,width:l,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function _le(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:c,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var p=f.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==p[0]&&p.unshift(0);var h=p.map((g,v)=>{var N=p[v+1],_=N==null,j=_?a+c-g:N-g;if(j<=0)return null;var E=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:j,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var jle=(e,t)=>{var{xAxis:n,width:r,height:a,offset:l}=e;return OO(U1(Wn(Wn(Wn({},ji),n),{},{ticks:IO(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,t)},Ele=(e,t)=>{var{yAxis:n,width:r,height:a,offset:l}=e;return OO(U1(Wn(Wn(Wn({},ji),n),{},{ticks:IO(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,t)},Cle={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:un.grid};function Io(e){var t=pw(),n=hw(),r=FO(),a=Wn(Wn({},sn(e,Cle)),{},{x:Se(e.x)?e.x:r.left,y:Se(e.y)?e.y:r.top,width:Se(e.width)?e.width:r.width,height:Se(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:u,y:f,width:p,height:h,syncWithTicks:g,horizontalValues:v,verticalValues:N}=a,_=In(),j=Te(z=>mk(z,"xAxis",l,_)),E=Te(z=>mk(z,"yAxis",c,_));if(!Ga(p)||!Ga(h)||!Se(u)||!Se(f))return null;var C=a.verticalCoordinatesGenerator||jle,A=a.horizontalCoordinatesGenerator||Ele,{horizontalPoints:k,verticalPoints:R}=a;if((!k||!k.length)&&typeof A=="function"){var M=v&&v.length,P=A({yAxis:E?Wn(Wn({},E),{},{ticks:M?v:E.ticks}):void 0,width:t??p,height:n??h,offset:r},M?!0:g);ah(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}if((!R||!R.length)&&typeof C=="function"){var O=N&&N.length,L=C({xAxis:j?Wn(Wn({},j),{},{ticks:O?N:j.ticks}):void 0,width:t??p,height:n??h,offset:r},O?!0:g);ah(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(R=L)}return b.createElement(dr,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(ble,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Sle,_l({},a,{horizontalPoints:k})),b.createElement(_le,_l({},a,{verticalPoints:R})),b.createElement(wle,_l({},a,{offset:r,horizontalPoints:k,xAxis:j,yAxis:E})),b.createElement(Nle,_l({},a,{offset:r,verticalPoints:R,xAxis:j,yAxis:E}))))}Io.displayName="CartesianGrid";var Ale={},B4=Sr({name:"errorBars",initialState:Ale,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Zde,replaceErrorBar:Qde,removeErrorBar:efe}=B4.actions,Tle=B4.reducer,kle=["children"];function Mle(e,t){if(e==null)return{};var n,r,a=Rle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Ple={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Ole=b.createContext(Ple);function F4(e){var{children:t}=e,n=Mle(e,kle);return b.createElement(Ole.Provider,{value:n},t)}function qm(e,t){var n,r,a=Te(p=>Fi(p,e)),l=Te(p=>qi(p,t)),c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Tn.allowDataOverflow,u=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:kn.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function G1(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=Fm(),{needClipX:l,needClipY:c,needClip:u}=qm(t,n);if(!u||!a)return null;var{x:f,y:p,width:h,height:g}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:l?f:f-h/2,y:c?p:p-g/2,width:l?h:h*2,height:c?g:g*2}))}var q4=(e,t,n,r)=>qa(e,"xAxis",t,r),H4=(e,t,n,r)=>Fa(e,"xAxis",t,r),V4=(e,t,n,r)=>qa(e,"yAxis",n,r),K4=(e,t,n,r)=>Fa(e,"yAxis",n,r),Ile=Q([ut,q4,V4,H4,K4],(e,t,n,r,a)=>Na(e,"xAxis")?zs(t,r,!1):zs(n,a,!1)),Dle=(e,t,n,r,a)=>a;function Lle(e){return e.type==="line"}var zle=Q([Ad,Dle],(e,t)=>e.filter(Lle).find(n=>n.id===t)),Ule=Q([ut,q4,V4,H4,K4,zle,Ile,Gw],(e,t,n,r,a,l,c,u)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:h}=u;if(!(l==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:v}=l,N;if(v!=null&&v.length>0?N=v:N=f?.slice(p,h+1),N!=null)return joe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:c,displayedData:N})}});function Y4(e){var t=Ml(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:l}=t,c=Number(a),u=Number(l);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var Hv={exports:{}},Vv={};var EM;function $le(){if(EM)return Vv;EM=1;var e=ic();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return Vv.useSyncExternalStoreWithSelector=function(f,p,h,g,v){var N=a(null);if(N.current===null){var _={hasValue:!1,value:null};N.current=_}else _=N.current;N=c(function(){function E(M){if(!C){if(C=!0,A=M,M=g(M),v!==void 0&&_.hasValue){var P=_.value;if(v(P,M))return k=P}return k=M}if(P=k,n(A,M))return P;var O=g(M);return v!==void 0&&v(P,O)?(A=M,P):(A=M,k=O)}var C=!1,A,k,R=h===void 0?null:h;return[function(){return E(p())},R===null?void 0:function(){return E(R())}]},[p,h,g,v]);var j=r(f,N[0],N[1]);return l(function(){_.hasValue=!0,_.value=j},[j]),u(j),j},Vv}var CM;function Gle(){return CM||(CM=1,Hv.exports=$le()),Hv.exports}Gle();function Ble(e){e()}function Fle(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ble(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var AM={notify(){},get:()=>[]};function qle(e,t){let n,r=AM,a=0,l=!1;function c(j){h();const E=r.subscribe(j);let C=!1;return()=>{C||(C=!0,E(),g())}}function u(){r.notify()}function f(){_.onStateChange&&_.onStateChange()}function p(){return l}function h(){a++,n||(n=e.subscribe(f),r=Fle())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=AM)}function v(){l||(l=!0,h())}function N(){l&&(l=!1,g())}const _={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:p,trySubscribe:v,tryUnsubscribe:N,getListeners:()=>r};return _}var Hle=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vle=Hle(),Kle=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Yle=Kle(),Jle=()=>Vle||Yle?b.useLayoutEffect:b.useEffect,Wle=Jle();function TM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Xle(e,t){if(TM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!TM(e[n[a]],t[n[a]]))return!1;return!0}var Zle=Symbol.for("react-redux-context"),Qle=typeof globalThis<"u"?globalThis:{};function eoe(){if(!b.createContext)return{};const e=Qle[Zle]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var toe=eoe();function noe(e){const{children:t,context:n,serverState:r,store:a}=e,l=b.useMemo(()=>{const f=qle(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=b.useMemo(()=>a.getState(),[a]);Wle(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=n||toe;return b.createElement(u.Provider,{value:l},t)}var roe=noe,aoe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ioe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Od(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(aoe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Xle(e[r],t[r]))return!1}else if(!ioe(e[r],t[r]))return!1;return!0}var soe=["id"],loe=["type","layout","connectNulls","needClip","shape"],ooe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function cd(){return cd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cd.apply(null,arguments)}function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function coe(e,t,n){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uoe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B1(e,t){if(e==null)return{};var n,r,a=foe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function foe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var poe=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:qs(n,t),payload:e}]},hoe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:c,hide:u,unit:f,tooltipType:p,id:h}=e,g={dataDefinedOnItem:n,getPosition:Fs,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:qs(c,t),hide:u,type:p,color:r,unit:f,graphicalItemId:h}};return b.createElement($m,{tooltipEntrySettings:g})}),J4=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function moe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var goe=(e,t,n)=>{var r=n.reduce((N,_)=>N+_);if(!r)return J4(t,e);for(var a=Math.floor(e/r),l=e%r,c=t-e,u=[],f=0,p=0;f<n.length;p+=(h=n[f])!==null&&h!==void 0?h:0,++f){var h,g=n[f];if(g!=null&&p+g>l){u=[...n.slice(0,f),l-p];break}}var v=u.length%2===0?[0,c]:[c];return[...moe(n,a),...u,...v].map(N=>"".concat(N,"px")).join(", ")};function xoe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:l,needClip:c}=r,{id:u}=r,f=B1(r,soe),p=cr(f);return b.createElement(O4,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:p,needClip:c,clipPathId:t})}function voe(e){var{showLabels:t,children:n,points:r}=e,a=b.useMemo(()=>r?.map(l=>{var c,u,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(u=l.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Oa(Oa({},f),{},{value:l.value,payload:l.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(A1,{value:t?a:void 0},n)}function MM(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:l}=e,{type:c,layout:u,connectNulls:f,needClip:p,shape:h}=l,g=B1(l,loe),v=Oa(Oa({},er(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:u,connectNulls:f,strokeDasharray:a??l.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(P1,cd({shapeType:"curve",option:h},v,{pathRef:n})),b.createElement(xoe,{points:r,clipPathId:t,props:l}))}function yoe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function boe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:u,isAnimationActive:f,animationBegin:p,animationDuration:h,animationEasing:g,animateNewValues:v,width:N,height:_,onAnimationEnd:j,onAnimationStart:E}=n,C=a.current,A=fc(c,"recharts-line-"),k=b.useRef(A),[R,M]=b.useState(!1),P=!R,O=b.useCallback(()=>{typeof j=="function"&&j(),M(!1)},[j]),L=b.useCallback(()=>{typeof E=="function"&&E(),M(!0)},[E]),z=yoe(r.current),q=b.useRef(0);k.current!==A&&(q.current=l.current,k.current=A);var Y=q.current;return b.createElement(voe,{points:c,showLabels:P},n.children,b.createElement(dc,{animationId:A,begin:p,duration:h,isActive:f,easing:g,onAnimationEnd:O,onAnimationStart:L,key:A},G=>{var W=wt(Y,z+Y,G),ee=Math.min(W,z),Z;if(f)if(u){var U="".concat(u).split(/[,\s]+/gim).map(de=>parseFloat(de));Z=goe(ee,z,U)}else Z=J4(z,ee);else Z=u==null?void 0:String(u);if(G>0&&z>0&&(a.current=c,l.current=Math.max(l.current,ee)),C){var J=C.length/c.length,te=G===1?c:c.map((de,ue)=>{var D=Math.floor(ue*J);if(C[D]){var X=C[D];return Oa(Oa({},de),{},{x:wt(X.x,de.x,G),y:wt(X.y,de.y,G)})}return v?Oa(Oa({},de),{},{x:wt(N*2,de.x,G),y:wt(_/2,de.y,G)}):Oa(Oa({},de),{},{x:de.x,y:de.y})});return a.current=te,b.createElement(MM,{props:n,points:te,clipPathId:t,pathRef:r,strokeDasharray:Z})}return b.createElement(MM,{props:n,points:c,clipPathId:t,pathRef:r,strokeDasharray:Z})}),b.createElement(Lm,{label:n.label}))}function woe(e){var{clipPathId:t,props:n}=e,r=b.useRef(null),a=b.useRef(0),l=b.useRef(null);return b.createElement(boe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:l})}var Noe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Nt(e.payload,t)}};class Soe extends b.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:l,yAxisId:c,top:u,left:f,width:p,height:h,id:g,needClip:v,zIndex:N}=this.props;if(t)return null;var _=dt("recharts-line",a),j=g,{r:E,strokeWidth:C}=Y4(n),A=R1(n),k=E*2+C,R=v?"url(#clipPath-".concat(A?"":"dots-").concat(j,")"):void 0;return b.createElement(dr,{zIndex:N},b.createElement(an,{className:_},v&&b.createElement("defs",null,b.createElement(G1,{clipPathId:j,xAxisId:l,yAxisId:c}),!A&&b.createElement("clipPath",{id:"clipPath-dots-".concat(j)},b.createElement("rect",{x:f-k/2,y:u-k/2,width:p+k,height:h+k}))),b.createElement(F4,{xAxisId:l,yAxisId:c,data:r,dataPointFormatter:Noe,errorBarOffset:0},b.createElement(woe,{props:this.props,clipPathId:j}))),b.createElement(ub,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:R}))}}var W4={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:un.line,type:"linear"};function _oe(e){var t=sn(e,W4),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:c,connectNulls:u,dot:f,hide:p,isAnimationActive:h,label:g,legendType:v,xAxisId:N,yAxisId:_,id:j}=t,E=B1(t,ooe),{needClip:C}=qm(N,_),A=Fm(),k=Hs(),R=In(),M=Te(q=>Ule(q,N,_,R,j));if(k!=="horizontal"&&k!=="vertical"||M==null||A==null)return null;var{height:P,width:O,x:L,y:z}=A;return b.createElement(Soe,cd({},E,{id:j,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:p,label:g,legendType:v,xAxisId:N,yAxisId:_,points:M,layout:k,height:P,width:O,left:L,top:z,needClip:C}))}function joe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:c,bandSize:u,displayedData:f}=e;return f.map((p,h)=>{var g=Nt(p,c);if(t==="horizontal"){var v=rh({axis:n,ticks:a,bandSize:u,entry:p,index:h}),N=Vt(g)?null:r.scale.map(g);return{x:v,y:N??null,value:g,payload:p}}var _=Vt(g)?null:n.scale.map(g),j=rh({axis:r,ticks:l,bandSize:u,entry:p,index:h});return _==null||j==null?null:{x:_,y:j,value:g,payload:p}}).filter(Boolean)}function Eoe(e){var t=sn(e,W4),n=In();return b.createElement(Gm,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(L1,{legendPayload:poe(t)}),b.createElement(hoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(z1,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(_oe,cd({},t,{id:r}))))}var db=b.memo(Eoe,Od);db.displayName="Line";function Va(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:I4}function Ka(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:I4}var X4=(e,t,n)=>qa(e,"xAxis",Va(e,t),n),Z4=(e,t,n)=>Fa(e,"xAxis",Va(e,t),n),Q4=(e,t,n)=>qa(e,"yAxis",Ka(e,t),n),e5=(e,t,n)=>Fa(e,"yAxis",Ka(e,t),n),Coe=Q([ut,X4,Q4,Z4,e5],(e,t,n,r,a)=>Na(e,"xAxis")?zs(t,r,!1):zs(n,a,!1)),Aoe=(e,t)=>t,t5=Q([Ad,Aoe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),n5=e=>{var t=ut(e),n=Na(t,"xAxis");return n?"yAxis":"xAxis"},Toe=(e,t)=>{var n=n5(e);return n==="yAxis"?Ka(e,t):Va(e,t)},koe=(e,t,n)=>Eh(e,n5(e),Toe(e,t),n),Moe=Q([t5,koe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,a=Em(e);if(!(r==null||a==null)){var l=(n=t[r])===null||n===void 0?void 0:n.stackedData,c=l?.find(u=>u.key===a);if(c!=null)return c.map(u=>[u[0],u[1]])}}}),Roe=Q([ut,X4,Q4,Z4,e5,Moe,HI,Coe,t5,ree],(e,t,n,r,a,l,c,u,f,p)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||a==null||r.length===0||a.length===0||u==null)){var{data:N}=f,_;if(N&&N.length>0?_=N:_=h?.slice(g,v+1),_!=null)return Xoe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:_,chartBaseValue:p,bandSize:u})}}),Poe=["id"],Ooe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(null,arguments)}function r5(e,t){if(e==null)return{};var n,r,a=Ioe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ioe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){Doe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Doe(e,t,n){return(t=Loe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Loe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(e,t){return e&&e!=="none"?e:t}var Uoe=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:Oh(r,a),value:qs(n,t),payload:e}]},$oe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:c,hide:u,unit:f,tooltipType:p,id:h}=e,g={dataDefinedOnItem:n,getPosition:Fs,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:qs(c,t),hide:u,type:p,color:Oh(r,l),unit:f,graphicalItemId:h}};return b.createElement($m,{tooltipEntrySettings:g})});function Goe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:l,dataKey:c}=r,u=cr(r);return b.createElement(O4,{points:n,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:u,needClip:a,clipPathId:t})}function Boe(e){var{showLabels:t,children:n,points:r}=e,a=r.map(l=>{var c,u,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(u=l.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Go(Go({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return b.createElement(A1,{value:t?a:void 0},n)}function PM(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:l}=e,{layout:c,type:u,stroke:f,connectNulls:p,isRange:h}=l,{id:g}=l,v=r5(l,Poe),N=cr(v),_=er(v);return b.createElement(b.Fragment,null,t?.length>1&&b.createElement(an,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},b.createElement(Vo,Al({},_,{id:g,points:t,connectNulls:p,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(Vo,Al({},N,{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:t})),f!=="none"&&h&&b.createElement(Vo,Al({},N,{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:n}))),b.createElement(Goe,{points:t,props:v,clipPathId:a}))}function Foe(e){var t,n,{alpha:r,baseLine:a,points:l,strokeWidth:c}=e,u=(t=l[0])===null||t===void 0?void 0:t.y,f=(n=l[l.length-1])===null||n===void 0?void 0:n.y;if(!Ze(u)||!Ze(f))return null;var p=r*Math.abs(u-f),h=Math.max(...l.map(g=>g.x||0));return Se(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(g=>g.x||0),h)),Se(h)?b.createElement("rect",{x:0,y:u<f?u:u-p,width:h+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function qoe(e){var t,n,{alpha:r,baseLine:a,points:l,strokeWidth:c}=e,u=(t=l[0])===null||t===void 0?void 0:t.x,f=(n=l[l.length-1])===null||n===void 0?void 0:n.x;if(!Ze(u)||!Ze(f))return null;var p=r*Math.abs(u-f),h=Math.max(...l.map(g=>g.y||0));return Se(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(g=>g.y||0),h)),Se(h)?b.createElement("rect",{x:u<f?u:u-p,y:0,width:p,height:Math.floor(h+(c?parseInt("".concat(c),10):1))}):null}function Hoe(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:l}=e;return n==="vertical"?b.createElement(Foe,{alpha:t,points:r,baseLine:a,strokeWidth:l}):b.createElement(qoe,{alpha:t,points:r,baseLine:a,strokeWidth:l})}function Voe(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l}=e,{points:c,baseLine:u,isAnimationActive:f,animationBegin:p,animationDuration:h,animationEasing:g,onAnimationStart:v,onAnimationEnd:N}=r,_=b.useMemo(()=>({points:c,baseLine:u}),[c,u]),j=fc(_,"recharts-area-"),E=mw(),[C,A]=b.useState(!1),k=!C,R=b.useCallback(()=>{typeof N=="function"&&N(),A(!1)},[N]),M=b.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);if(E==null)return null;var P=a.current,O=l.current;return b.createElement(Boe,{showLabels:k,points:c},r.children,b.createElement(dc,{animationId:j,begin:p,duration:h,isActive:f,easing:g,onAnimationEnd:R,onAnimationStart:M,key:j},L=>{if(P){var z=P.length/c.length,q=L===1?c:c.map((G,W)=>{var ee=Math.floor(W*z);if(P[ee]){var Z=P[ee];return Go(Go({},G),{},{x:wt(Z.x,G.x,L),y:wt(Z.y,G.y,L)})}return G}),Y;return Se(u)?Y=wt(O,u,L):Vt(u)||ga(u)?Y=wt(O,0,L):Y=u.map((G,W)=>{var ee=Math.floor(W*z);if(Array.isArray(O)&&O[ee]){var Z=O[ee];return Go(Go({},G),{},{x:wt(Z.x,G.x,L),y:wt(Z.y,G.y,L)})}return G}),L>0&&(a.current=q,l.current=Y),b.createElement(PM,{points:q,baseLine:Y,needClip:t,clipPathId:n,props:r})}return L>0&&(a.current=c,l.current=u),b.createElement(an,null,f&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(Hoe,{alpha:L,points:c,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),b.createElement(an,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(PM,{points:c,baseLine:u,needClip:t,clipPathId:n,props:r})))}),b.createElement(Lm,{label:r.label}))}function Koe(e){var{needClip:t,clipPathId:n,props:r}=e,a=b.useRef(null),l=b.useRef();return b.createElement(Voe,{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l})}class Yoe extends b.PureComponent{render(){var{hide:t,dot:n,points:r,className:a,top:l,left:c,needClip:u,xAxisId:f,yAxisId:p,width:h,height:g,id:v,baseLine:N,zIndex:_}=this.props;if(t)return null;var j=dt("recharts-area",a),E=v,{r:C,strokeWidth:A}=Y4(n),k=R1(n),R=C*2+A,M=u?"url(#clipPath-".concat(k?"":"dots-").concat(E,")"):void 0;return b.createElement(dr,{zIndex:_},b.createElement(an,{className:j},u&&b.createElement("defs",null,b.createElement(G1,{clipPathId:E,xAxisId:f,yAxisId:p}),!k&&b.createElement("clipPath",{id:"clipPath-dots-".concat(E)},b.createElement("rect",{x:c-R/2,y:l-R/2,width:h+R,height:g+R}))),b.createElement(Koe,{needClip:u,clipPathId:E,props:this.props})),b.createElement(ub,{points:r,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}),this.props.isRange&&Array.isArray(N)&&b.createElement(ub,{points:N,mainColor:Oh(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:M}))}}var a5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:un.area};function Joe(e){var t,n=sn(e,a5),{activeDot:r,animationBegin:a,animationDuration:l,animationEasing:c,connectNulls:u,dot:f,fill:p,fillOpacity:h,hide:g,isAnimationActive:v,legendType:N,stroke:_,xAxisId:j,yAxisId:E}=n,C=r5(n,Ooe),A=Hs(),k=s4(),{needClip:R}=qm(j,E),M=In(),{points:P,isRange:O,baseLine:L}=(t=Te(ee=>Roe(ee,e.id,M)))!==null&&t!==void 0?t:{},z=Fm();if(A!=="horizontal"&&A!=="vertical"||z==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:q,width:Y,x:G,y:W}=z;return!P||!P.length?null:b.createElement(Yoe,Al({},C,{activeDot:r,animationBegin:a,animationDuration:l,animationEasing:c,baseLine:L,connectNulls:u,dot:f,fill:p,fillOpacity:h,height:q,hide:g,layout:A,isAnimationActive:v==="auto"?!wd.isSsr:v,isRange:O,legendType:N,needClip:R,points:P,stroke:_,width:Y,left:G,top:W,xAxisId:j,yAxisId:E}))}var Woe=(e,t,n,r,a)=>{var l=n??t;if(Se(l))return l;var c=e==="horizontal"?a:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]};function Xoe(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:a,layout:l,chartBaseValue:c,xAxis:u,yAxis:f,displayedData:p,dataStartIndex:h,xAxisTicks:g,yAxisTicks:v,bandSize:N}=e,_=a&&a.length,j=Woe(l,c,n,u,f),E=l==="horizontal",C=!1,A=p.map((R,M)=>{var P,O,L,z;if(_)z=a[h+M];else{var q=Nt(R,r);Array.isArray(q)?(z=q,C=!0):z=[j,q]}var Y=(P=(O=z)===null||O===void 0?void 0:O[1])!==null&&P!==void 0?P:null,G=Y==null||_&&!t&&Nt(R,r)==null;if(E){var W;return{x:rh({axis:u,ticks:g,bandSize:N,entry:R,index:M}),y:G?null:(W=f.scale.map(Y))!==null&&W!==void 0?W:null,value:z,payload:R}}return{x:G?null:(L=u.scale.map(Y))!==null&&L!==void 0?L:null,y:rh({axis:f,ticks:v,bandSize:N,entry:R,index:M}),value:z,payload:R}}),k;return _||C?k=A.map(R=>{var M,P=Array.isArray(R.value)?R.value[0]:null;if(E){var O;return{x:R.x,y:P!=null&&R.y!=null&&(O=f.scale.map(P))!==null&&O!==void 0?O:null,payload:R.payload}}return{x:P!=null&&(M=u.scale.map(P))!==null&&M!==void 0?M:null,y:R.y,payload:R.payload}}):k=E?f.scale.map(j):u.scale.map(j),{points:A,baseLine:k??0,isRange:C}}function Zoe(e){var t=sn(e,a5),n=In();return b.createElement(Gm,{id:t.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(L1,{legendPayload:Uoe(t)}),b.createElement($oe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(z1,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:DO(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),b.createElement(Joe,Al({},t,{id:r}))))}var kp=b.memo(Zoe,Od);kp.displayName="Area";var Qoe="Invariant failed";function ece(e,t){throw new Error(Qoe)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fb.apply(null,arguments)}function Ih(e){return b.createElement(P1,fb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var tce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Se(t))return t;var l=Se(r)||Vt(r);return l?t(r,a):(l||ece(),n)}},nce=(e,t,n)=>n,rce=(e,t)=>t,Id=Q([Ad,rce],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),ace=Q([Id],e=>e?.maxBarSize),ice=(e,t,n,r)=>r,sce=Q([ut,Ad,Va,Ka,nce],(e,t,n,r,a)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),lce=(e,t,n)=>{var r=ut(e),a=Va(e,t),l=Ka(e,t);if(!(a==null||l==null))return r==="horizontal"?Eh(e,"yAxis",l,n):Eh(e,"xAxis",a,n)},oce=(e,t)=>{var n=ut(e),r=Va(e,t),a=Ka(e,t);if(!(r==null||a==null))return n==="horizontal"?hk(e,"xAxis",r):hk(e,"yAxis",a)},cce=Q([sce,nee,oce],Ese),uce=(e,t,n)=>{var r,a,l=Id(e,t);if(l==null)return 0;var c=Va(e,t),u=Ka(e,t);if(c==null||u==null)return 0;var f=ut(e),p=rD(e),{maxBarSize:h}=l,g=Vt(h)?p:h,v,N;return f==="horizontal"?(v=qa(e,"xAxis",c,n),N=Fa(e,"xAxis",c,n)):(v=qa(e,"yAxis",u,n),N=Fa(e,"yAxis",u,n)),(r=(a=zs(v,N,!0))!==null&&a!==void 0?a:g)!==null&&r!==void 0?r:0},i5=(e,t,n)=>{var r=ut(e),a=Va(e,t),l=Ka(e,t);if(!(a==null||l==null)){var c,u;return r==="horizontal"?(c=qa(e,"xAxis",a,n),u=Fa(e,"xAxis",a,n)):(c=qa(e,"yAxis",l,n),u=Fa(e,"yAxis",l,n)),zs(c,u)}},dce=Q([cce,rD,tee,aD,uce,i5,ace],Mse),fce=(e,t,n)=>{var r=Va(e,t);if(r!=null)return qa(e,"xAxis",r,n)},pce=(e,t,n)=>{var r=Ka(e,t);if(r!=null)return qa(e,"yAxis",r,n)},hce=(e,t,n)=>{var r=Va(e,t);if(r!=null)return Fa(e,"xAxis",r,n)},mce=(e,t,n)=>{var r=Ka(e,t);if(r!=null)return Fa(e,"yAxis",r,n)},gce=Q([dce,Id],Pse),xce=Q([lce,Id],Rse),vce=Q([_n,uw,fce,pce,hce,mce,gce,ut,HI,i5,xce,Id,ice],(e,t,n,r,a,l,c,u,f,p,h,g,v)=>{var{chartData:N,dataStartIndex:_,dataEndIndex:j}=f;if(!(g==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||a==null||l==null||p==null)){var{data:E}=g,C;if(E!=null&&E.length>0?C=E:C=N?.slice(_,j+1),C!=null)return Vce({layout:u,barSettings:g,pos:c,parentViewBox:t,bandSize:p,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:h,displayedData:C,offset:e,cells:v,dataStartIndex:_})}}),yce=["index"];function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(null,arguments)}function bce(e,t){if(e==null)return{};var n,r,a=wce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var s5=b.createContext(void 0),Nce=e=>{var t=b.useContext(s5);if(t!=null)return t.stackId;if(e!=null)return DO(e)},Sce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),_ce=e=>{var t=b.useContext(s5);if(t!=null){var{stackId:n}=t;return"url(#".concat(Sce(n,e),")")}},l5=e=>{var{index:t}=e,n=bce(e,yce),r=_ce(t);return b.createElement(an,pb({className:"recharts-bar-stack-layer",clipPath:r},n))},jce=["onMouseEnter","onMouseLeave","onClick"],Ece=["value","background","tooltipPosition"],Cce=["id"],Ace=["onMouseEnter","onClick","onMouseLeave"];function Di(){return Di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(null,arguments)}function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OM(Object(n),!0).forEach(function(r){Tce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tce(e,t,n){return(t=kce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kce(e){var t=Mce(e,"string");return typeof t=="symbol"?t:t+""}function Mce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dh(e,t){if(e==null)return{};var n,r,a=Rce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pce=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:qs(n,t),payload:e}]},Oce=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:l,hide:c,unit:u,tooltipType:f,id:p}=e,h={dataDefinedOnItem:void 0,getPosition:Fs,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:qs(l,t),hide:c,type:f,color:a,unit:u,graphicalItemId:p}};return b.createElement($m,{tooltipEntrySettings:h})});function Ice(e){var t=Te(Us),{data:n,dataKey:r,background:a,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=l,p=Dh(l,jce),h=O1(c,r,l.id),g=I1(u),v=D1(f,r,l.id);if(!a||n==null)return null;var N=Ml(a);return b.createElement(dr,{zIndex:Ose(a,un.barBackground)},n.map((_,j)=>{var{value:E,background:C,tooltipPosition:A}=_,k=Dh(_,Ece);if(!C)return null;var R=h(_,j),M=g(_,j),P=v(_,j),O=ir(ir(ir(ir(ir({option:a,isActive:String(j)===t},k),{},{fill:"#eee"},C),N),md(p,_,j)),{},{onMouseEnter:R,onMouseLeave:M,onClick:P,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return b.createElement(Ih,Di({key:"background-bar-".concat(j)},O))}))}function Dce(e){var{showLabels:t,children:n,rects:r}=e,a=r?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return ir(ir({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return b.createElement(A1,{value:t?a:void 0},n)}function Lce(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:l,dataKey:c}=e,u=Te(Us),f=Te(N1),p=n&&String(l)===u&&(f==null||c===f),h=p?n:t;return p?b.createElement(dr,{zIndex:un.activeBar},b.createElement(l5,{index:l},b.createElement(Ih,Di({},r,{name:String(r.name)},a,{isActive:p,option:h,index:l,dataKey:c})))):b.createElement(Ih,Di({},r,{name:String(r.name)},a,{isActive:p,option:h,index:l,dataKey:c}))}function zce(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:l}=e;return b.createElement(Ih,Di({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:l}))}function Uce(e){var t,{data:n,props:r}=e,a=(t=cr(r))!==null&&t!==void 0?t:{},{id:l}=a,c=Dh(a,Cce),{shape:u,dataKey:f,activeBar:p}=r,{onMouseEnter:h,onClick:g,onMouseLeave:v}=r,N=Dh(r,Ace),_=O1(h,f,l),j=I1(v),E=D1(g,f,l);return n?b.createElement(b.Fragment,null,n.map((C,A)=>b.createElement(l5,Di({index:A,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(A),className:"recharts-bar-rectangle"},md(N,C,A),{onMouseEnter:_(C,A),onMouseLeave:j(C,A),onClick:E(C,A)}),p?b.createElement(Lce,{shape:u,activeBar:p,baseProps:c,entry:C,index:A,dataKey:f}):b.createElement(zce,{shape:u,baseProps:c,entry:C,index:A,dataKey:f})))):null}function $ce(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:p,onAnimationStart:h}=t,g=n.current,v=fc(t,"recharts-bar-"),[N,_]=b.useState(!1),j=!N,E=b.useCallback(()=>{typeof p=="function"&&p(),_(!1)},[p]),C=b.useCallback(()=>{typeof h=="function"&&h(),_(!0)},[h]);return b.createElement(Dce,{showLabels:j,rects:r},b.createElement(dc,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:C,key:v},A=>{var k=A===1?r:r?.map((R,M)=>{var P=g&&g[M];if(P)return ir(ir({},R),{},{x:wt(P.x,R.x,A),y:wt(P.y,R.y,A),width:wt(P.width,R.width,A),height:wt(P.height,R.height,A)});if(a==="horizontal"){var O=wt(0,R.height,A),L=wt(R.stackedBarStart,R.y,A);return ir(ir({},R),{},{y:L,height:O})}var z=wt(0,R.width,A),q=wt(R.stackedBarStart,R.x,A);return ir(ir({},R),{},{width:z,x:q})});return A>0&&(n.current=k??null),k==null?null:b.createElement(an,null,b.createElement(Uce,{props:t,data:k}))}),b.createElement(Lm,{label:t.label}),t.children)}function Gce(e){var t=b.useRef(null);return b.createElement($ce,{previousRectanglesRef:t,props:e})}var o5=0,Bce=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Nt(e,t)}};class Fce extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:c,needClip:u,background:f,id:p}=this.props;if(t||n==null)return null;var h=dt("recharts-bar",a),g=p;return b.createElement(an,{className:h,id:p},u&&b.createElement("defs",null,b.createElement(G1,{clipPathId:g,xAxisId:l,yAxisId:c})),b.createElement(an,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},b.createElement(Ice,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(Gce,this.props)))}}var qce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:o5,xAxisId:0,yAxisId:0,zIndex:un.bar};function Hce(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:p,isAnimationActive:h}=e,{needClip:g}=qm(t,n),v=Hs(),N=In(),_=M1(e.children,$s),j=Te(A=>vce(A,e.id,N,_));if(v!=="vertical"&&v!=="horizontal")return null;var E,C=j?.[0];return C==null||C.height==null||C.width==null?E=0:E=v==="vertical"?C.height/2:C.width/2,b.createElement(F4,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:Bce,errorBarOffset:E},b.createElement(Fce,Di({},e,{layout:v,needClip:g,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:p,isAnimationActive:h})))}function Vce(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:p,stackedData:h,displayedData:g,offset:v,cells:N,parentViewBox:_,dataStartIndex:j}=e,E=t==="horizontal"?u:c,C=h?E.scale.domain():null,A=FY({numericAxis:E}),k=E.scale.map(A);return g.map((R,M)=>{var P,O,L,z,q,Y;if(h){var G=h[M+j];if(G==null)return null;P=zY(G,C)}else P=Nt(R,n),Array.isArray(P)||(P=[A,P]);var W=tce(r,o5)(P[1],M);if(t==="horizontal"){var ee,Z=u.scale.map(P[0]),U=u.scale.map(P[1]);if(Z==null||U==null)return null;O=pA({axis:c,ticks:f,bandSize:l,offset:a.offset,entry:R,index:M}),L=(ee=U??Z)!==null&&ee!==void 0?ee:void 0,z=a.size;var J=Z-U;if(q=ga(J)?0:J,Y={x:O,y:v.top,width:z,height:v.height},Math.abs(W)>0&&Math.abs(q)<Math.abs(W)){var te=Pn(q||W)*(Math.abs(W)-Math.abs(q));L-=te,q+=te}}else{var de=c.scale.map(P[0]),ue=c.scale.map(P[1]);if(de==null||ue==null)return null;if(O=de,L=pA({axis:u,ticks:p,bandSize:l,offset:a.offset,entry:R,index:M}),z=ue-de,q=a.size,Y={x:v.left,y:L,width:v.width,height:q},Math.abs(W)>0&&Math.abs(z)<Math.abs(W)){var D=Pn(z||W)*(Math.abs(W)-Math.abs(z));z+=D}}if(O==null||L==null||z==null||q==null)return null;var X=ir(ir({},R),{},{stackedBarStart:k,x:O,y:L,width:z,height:q,value:h?P:P[1],payload:R,background:Y,tooltipPosition:{x:O+z/2,y:L+q/2},parentViewBox:_},N&&N[M]&&N[M].props);return X}).filter(Boolean)}function Kce(e){var t=sn(e,qce),n=Nce(t.stackId),r=In();return b.createElement(Gm,{id:t.id,type:"bar"},a=>b.createElement(b.Fragment,null,b.createElement(L1,{legendPayload:Pce(t)}),b.createElement(Oce,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),b.createElement(z1,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(dr,{zIndex:t.zIndex},b.createElement(Hce,Di({},t,{id:a})))))}var Yo=b.memo(Kce,Od);Yo.displayName="Bar";var Yce=["domain","range"],Jce=["domain","range"];function IM(e,t){if(e==null)return{};var n,r,a=Wce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Wce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function DM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function c5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=IM(e,Yce),{domain:l,range:c}=t,u=IM(t,Jce);return!DM(n,l)||!DM(r,c)?!1:Od(a,u)}var Xce=["type"],Zce=["dangerouslySetInnerHTML","ticks","scale"],Qce=["id","scale"];function hb(){return hb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hb.apply(null,arguments)}function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){eue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eue(e,t,n){return(t=tue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mb(e,t){if(e==null)return{};var n,r,a=rue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aue(e){var t=Lt(),n=b.useRef(null),r=mw(),{type:a}=e,l=mb(e,Xce),c=_m(r,"xAxis",a),u=b.useMemo(()=>{if(c!=null)return zM(zM({},l),{},{type:c})},[l,c]);return b.useLayoutEffect(()=>{u!=null&&(n.current===null?t(dse(u)):n.current!==u&&t(fse({prev:n.current,next:u})),n.current=u)},[u,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(pse(n.current)),n.current=null)},[t]),null}var iue=e=>{var{xAxisId:t,className:n}=e,r=Te(uw),a=In(),l="xAxis",c=Te(C=>LD(C,l,t,a)),u=Te(C=>PD(C,t)),f=Te(C=>rte(C,t)),p=Te(C=>hD(C,t));if(u==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:h,ticks:g,scale:v}=e,N=mb(e,Zce),{id:_,scale:j}=p,E=mb(p,Qce);return b.createElement($1,hb({},N,E,{x:f.x,y:f.y,width:u.width,height:u.height,className:dt("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:c,axisType:l}))},sue={allowDataOverflow:Tn.allowDataOverflow,allowDecimals:Tn.allowDecimals,allowDuplicatedCategory:Tn.allowDuplicatedCategory,angle:Tn.angle,axisLine:ji.axisLine,height:Tn.height,hide:!1,includeHidden:Tn.includeHidden,interval:Tn.interval,label:!1,minTickGap:Tn.minTickGap,mirror:Tn.mirror,orientation:Tn.orientation,padding:Tn.padding,reversed:Tn.reversed,scale:Tn.scale,tick:Tn.tick,tickCount:Tn.tickCount,tickLine:ji.tickLine,tickSize:ji.tickSize,type:Tn.type,xAxisId:0},lue=e=>{var t=sn(e,sue);return b.createElement(b.Fragment,null,b.createElement(aue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(iue,t))},Cs=b.memo(lue,c5);Cs.displayName="XAxis";var oue=["type"],cue=["dangerouslySetInnerHTML","ticks","scale"],uue=["id","scale"];function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gb.apply(null,arguments)}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $M(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){due(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function due(e,t,n){return(t=fue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fue(e){var t=pue(e,"string");return typeof t=="symbol"?t:t+""}function pue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xb(e,t){if(e==null)return{};var n,r,a=hue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mue(e){var t=Lt(),n=b.useRef(null),r=mw(),{type:a}=e,l=xb(e,oue),c=_m(r,"yAxis",a),u=b.useMemo(()=>{if(c!=null)return $M($M({},l),{},{type:c})},[c,l]);return b.useLayoutEffect(()=>{u!=null&&(n.current===null?t(hse(u)):n.current!==u&&t(mse({prev:n.current,next:u})),n.current=u)},[u,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(gse(n.current)),n.current=null)},[t]),null}function gue(e){var{yAxisId:t,className:n,width:r,label:a}=e,l=b.useRef(null),c=b.useRef(null),u=Te(uw),f=In(),p=Lt(),h="yAxis",g=Te(P=>OD(P,t)),v=Te(P=>ite(P,t)),N=Te(P=>LD(P,h,t,f)),_=Te(P=>mD(P,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!g||C1(a)||b.isValidElement(a)||_==null)){var P=l.current;if(P){var O=P.getCalculatedWidth();Math.round(g.width)!==Math.round(O)&&p(xse({id:t,width:O}))}}},[N,g,p,a,t,r,_]),g==null||v==null||_==null)return null;var{dangerouslySetInnerHTML:j,ticks:E,scale:C}=e,A=xb(e,cue),{id:k,scale:R}=_,M=xb(_,uue);return b.createElement($1,gb({},A,M,{ref:l,labelRef:c,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:dt("recharts-".concat(h," ").concat(h),n),viewBox:u,ticks:N,axisType:h}))}var xue={allowDataOverflow:kn.allowDataOverflow,allowDecimals:kn.allowDecimals,allowDuplicatedCategory:kn.allowDuplicatedCategory,angle:kn.angle,axisLine:ji.axisLine,hide:!1,includeHidden:kn.includeHidden,interval:kn.interval,label:!1,minTickGap:kn.minTickGap,mirror:kn.mirror,orientation:kn.orientation,padding:kn.padding,reversed:kn.reversed,scale:kn.scale,tick:kn.tick,tickCount:kn.tickCount,tickLine:ji.tickLine,tickSize:ji.tickSize,type:kn.type,width:kn.width,yAxisId:0},vue=e=>{var t=sn(e,xue);return b.createElement(b.Fragment,null,b.createElement(mue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(gue,t))},As=b.memo(vue,c5);As.displayName="YAxis";var yue=(e,t)=>t,F1=Q([yue,ut,dD,Ln,e4,Hi,bne,_n],Cne),q1=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},u5=na("mouseClick"),d5=xd();d5.startListening({actionCreator:u5,effect:(e,t)=>{var n=e.payload,r=F1(t.getState(),q1(n));r?.activeIndex!=null&&t.dispatch(yte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var vb=na("mouseMove"),f5=xd(),vp=null;f5.startListening({actionCreator:vb,effect:(e,t)=>{var n=e.payload;vp!==null&&cancelAnimationFrame(vp);var r=q1(n);vp=requestAnimationFrame(()=>{var a=t.getState(),l=g1(a,a.tooltip.settings.shared);if(l==="axis"){var c=F1(a,r);c?.activeIndex!=null?t.dispatch(HD({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(qD())}vp=null})}});function bue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var GM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},p5=Sr({name:"rootProps",initialState:GM,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:GM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),wue=p5.reducer,{updateOptions:Nue}=p5.actions,Sue=null,_ue={updatePolarOptions:(e,t)=>t.payload},h5=Sr({name:"polarOptions",initialState:Sue,reducers:_ue}),{updatePolarOptions:jue}=h5.actions,Eue=h5.reducer,m5=na("keyDown"),g5=na("focus"),H1=xd();H1.startListening({actionCreator:m5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=x1(a,wc(n),kd(n),Rd(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=Hi(n);if(l==="Enter"){var p=Ah(n,"axis","hover",String(a.index));t.dispatch(ab({active:!a.active,activeIndex:a.index,activeCoordinate:p}));return}var h=cte(n),g=h==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,N=u+v*g;if(!(f==null||N>=f.length||N<0)){var _=Ah(n,"axis","hover",String(N));t.dispatch(ab({active:!0,activeIndex:N.toString(),activeCoordinate:_}))}}}}}});H1.startListening({actionCreator:g5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=Ah(n,"axis","hover",String(l));t.dispatch(ab({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Wr=na("externalEvent"),x5=xd(),Kv=new Map;x5.startListening({actionCreator:Wr,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,l=Kv.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:ine(u),activeDataKey:N1(u),activeIndex:Us(u),activeLabel:r4(u),activeTooltipIndex:Us(u),isTooltipActive:sne(u)};n(f,r)}finally{Kv.delete(a)}});Kv.set(a,c)}}});var Cue=Q([yc],e=>e.tooltipItemPayloads),Aue=Q([Cue,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(l=>l.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),v5=na("touchMove"),y5=xd();y5.startListening({actionCreator:v5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=g1(r,r.tooltip.settings.shared);if(a==="axis"){var l=n.touches[0];if(l==null)return;var c=F1(r,q1({clientX:l.clientX,clientY:l.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(HD({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var p=document.elementFromPoint(f.clientX,f.clientY);if(!p||!p.getAttribute)return;var h=p.getAttribute(zO),g=(u=p.getAttribute(UO))!==null&&u!==void 0?u:void 0,v=bc(r).find(j=>j.id===g);if(h==null||v==null||g==null)return;var{dataKey:N}=v,_=Aue(r,h,g);t.dispatch(FD({activeDataKey:N,activeIndex:h,activeCoordinate:_,activeGraphicalItemId:g}))}}}});var Tue=iO({brush:Ise,cartesianAxis:vse,chartData:are,errorBars:Tle,graphicalItems:Eie,layout:PY,legend:UJ,options:Qne,polarAxis:$ae,polarOptions:Eue,referenceElements:Use,rootProps:wue,tooltip:bte,zIndex:Gne}),kue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return aY({reducer:Tue,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([d5.middleware,f5.middleware,H1.middleware,x5.middleware,y5.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(bO({type:"raf"}))},devTools:{serialize:{replacer:bue},name:"recharts-".concat(n)}})};function b5(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=In(),l=b.useRef(null);if(a)return n;l.current==null&&(l.current=kue(t,r));var c=rw;return b.createElement(roe,{context:c,store:l.current},n)}function Mue(e){var{layout:t,margin:n}=e,r=Lt(),a=In();return b.useEffect(()=>{a||(r(kY(t)),r(TY(n)))},[r,a,t,n]),null}var w5=b.memo(Mue,Od);function N5(e){var t=Lt();return b.useEffect(()=>{t(Nue(e))},[t,e]),null}function BM(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),a=Lt();return b.useLayoutEffect(()=>(r.current&&a(Une({zIndex:t,element:r.current,isPanorama:n})),()=>{a($ne({zIndex:t,isPanorama:n}))}),[a,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function FM(e){var{children:t,isPanorama:n}=e,r=Te(Tne);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return b.createElement(b.Fragment,null,a.map(c=>b.createElement(BM,{key:c,zIndex:c,isPanorama:n})),t,l.map(c=>b.createElement(BM,{key:c,zIndex:c,isPanorama:n})))}var Rue=["children"];function Pue(e,t){if(e==null)return{};var n,r,a=Oue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Oue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lh(){return Lh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lh.apply(null,arguments)}var Iue={width:"100%",height:"100%",display:"block"},Due=b.forwardRef((e,t)=>{var n=pw(),r=hw(),a=tI();if(!Ga(n)||!Ga(r))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,p,h;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=a?0:void 0,typeof c.role=="string"?h=c.role:h=a?"application":void 0),b.createElement(Vb,Lh({},c,{title:u,desc:f,role:h,tabIndex:p,width:n,height:r,style:Iue,ref:t}),l)}),Lue=e=>{var{children:t}=e,n=Te(dm);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return b.createElement(Vb,{width:r,height:a,x:c,y:l},t)},qM=b.forwardRef((e,t)=>{var{children:n}=e,r=Pue(e,Rue),a=In();return a?b.createElement(Lue,null,b.createElement(FM,{isPanorama:!0},n)):b.createElement(Due,Lh({ref:t},r),b.createElement(FM,{isPanorama:!1},n))});function zue(){var e=Lt(),[t,n]=b.useState(null),r=Te(JY);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;Ze(l)&&l!==r&&e(RY(l))}},[t,e,r]),n}function HM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(n),!0).forEach(function(r){$ue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ue(e,t,n){return(t=Gue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gue(e){var t=Bue(e,"string");return typeof t=="symbol"?t:t+""}function Bue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Is.apply(null,arguments)}var Fue=()=>(pre(),null);function zh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var que=b.forwardRef((e,t)=>{var n,r,a=b.useRef(null),[l,c]=b.useState({containerWidth:zh((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:zh((r=e.style)===null||r===void 0?void 0:r.height)}),u=b.useCallback((p,h)=>{c(g=>{var v=Math.round(p),N=Math.round(h);return g.containerWidth===v&&g.containerHeight===N?g:{containerWidth:v,containerHeight:N}})},[]),f=b.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:h,height:g}=p.getBoundingClientRect();u(h,g);var v=_=>{var j=_[0];if(j!=null){var{width:E,height:C}=j.contentRect;u(E,C)}},N=new ResizeObserver(v);N.observe(p),a.current=N}},[t,u]);return b.useEffect(()=>()=>{var p=a.current;p?.disconnect()},[u]),b.createElement(b.Fragment,null,b.createElement(yd,{width:l.containerWidth,height:l.containerHeight}),b.createElement("div",Is({ref:f},e)))}),Hue=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,l]=b.useState({containerWidth:zh(n),containerHeight:zh(r)}),c=b.useCallback((f,p)=>{l(h=>{var g=Math.round(f),v=Math.round(p);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),u=b.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:p,height:h}=f.getBoundingClientRect();c(p,h)}},[t,c]);return b.createElement(b.Fragment,null,b.createElement(yd,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",Is({ref:u},e)))}),Vue=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(yd,{width:n,height:r}),b.createElement("div",Is({ref:t},e)))}),Kue=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(Hue,Is({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(Vue,Is({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(yd,{width:n,height:r}),b.createElement("div",Is({ref:t},e)))});function Yue(e){return e?que:Kue}var Jue=b.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:p,onMouseLeave:h,onMouseMove:g,onMouseUp:v,onTouchEnd:N,onTouchMove:_,onTouchStart:j,style:E,width:C,responsive:A,dispatchTouchEvents:k=!0}=e,R=b.useRef(null),M=Lt(),[P,O]=b.useState(null),[L,z]=b.useState(null),q=zue(),Y=dw(),G=Y?.width>0?Y.width:C,W=Y?.height>0?Y.height:a,ee=b.useCallback(oe=>{q(oe),typeof t=="function"&&t(oe),O(oe),z(oe),oe!=null&&(R.current=oe)},[q,t,O,z]),Z=b.useCallback(oe=>{M(u5(oe)),M(Wr({handler:l,reactEvent:oe}))},[M,l]),U=b.useCallback(oe=>{M(vb(oe)),M(Wr({handler:p,reactEvent:oe}))},[M,p]),J=b.useCallback(oe=>{M(qD()),M(Wr({handler:h,reactEvent:oe}))},[M,h]),te=b.useCallback(oe=>{M(vb(oe)),M(Wr({handler:g,reactEvent:oe}))},[M,g]),de=b.useCallback(()=>{M(g5())},[M]),ue=b.useCallback(oe=>{M(m5(oe.key))},[M]),D=b.useCallback(oe=>{M(Wr({handler:c,reactEvent:oe}))},[M,c]),X=b.useCallback(oe=>{M(Wr({handler:u,reactEvent:oe}))},[M,u]),ge=b.useCallback(oe=>{M(Wr({handler:f,reactEvent:oe}))},[M,f]),xe=b.useCallback(oe=>{M(Wr({handler:v,reactEvent:oe}))},[M,v]),K=b.useCallback(oe=>{M(Wr({handler:j,reactEvent:oe}))},[M,j]),le=b.useCallback(oe=>{k&&M(v5(oe)),M(Wr({handler:_,reactEvent:oe}))},[M,k,_]),ye=b.useCallback(oe=>{M(Wr({handler:N,reactEvent:oe}))},[M,N]),Ge=Yue(A);return b.createElement(d4.Provider,{value:P},b.createElement(NP.Provider,{value:L},b.createElement(Ge,{width:G??E?.width,height:W??E?.height,className:dt("recharts-wrapper",r),style:Uue({position:"relative",cursor:"default",width:G,height:W},E),onClick:Z,onContextMenu:D,onDoubleClick:X,onFocus:de,onKeyDown:ue,onMouseDown:ge,onMouseEnter:U,onMouseLeave:J,onMouseMove:te,onMouseUp:xe,onTouchEnd:ye,onTouchMove:le,onTouchStart:K,ref:ee},b.createElement(Fue,null),n)))}),Wue=["width","height","responsive","children","className","style","compact","title","desc"];function Xue(e,t){if(e==null)return{};var n,r,a=Zue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Zue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var S5=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:u,compact:f,title:p,desc:h}=e,g=Xue(e,Wue),v=cr(g);return f?b.createElement(b.Fragment,null,b.createElement(yd,{width:n,height:r}),b.createElement(qM,{otherAttributes:v,title:p,desc:h},l)):b.createElement(Jue,{className:c,style:u,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(qM,{otherAttributes:v,title:p,desc:h,ref:t},b.createElement(Gse,null,l)))});function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}var Que={top:5,right:5,bottom:5,left:5},ede={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Que,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},V1=b.forwardRef(function(t,n){var r,a=sn(t.categoricalChartProps,ede),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(b5,{preloadedState:{options:h},reduxStoreName:(r=p.id)!==null&&r!==void 0?r:l},b.createElement(L4,{chartData:p.data}),b.createElement(w5,{layout:a.layout,margin:a.margin}),b.createElement(N5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(S5,yb({},a,{ref:n})))}),tde=["axis"],nde=b.forwardRef((e,t)=>b.createElement(V1,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tde,tooltipPayloadSearcher:Im,categoricalChartProps:e,ref:t})),rde=["axis","item"],zu=b.forwardRef((e,t)=>b.createElement(V1,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:rde,tooltipPayloadSearcher:Im,categoricalChartProps:e,ref:t}));function ade(e){var t=Lt();return b.useEffect(()=>{t(jue(e))},[t,e]),null}var ide=["layout"];function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}function sde(e,t){if(e==null)return{};var n,r,a=lde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ode={top:5,right:5,bottom:5,left:5},_5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ode,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},cde=b.forwardRef(function(t,n){var r,a=sn(t.categoricalChartProps,_5),{layout:l}=a,c=sde(a,ide),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:h}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:h,eventEmitter:void 0};return b.createElement(b5,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},b.createElement(L4,{chartData:a.data}),b.createElement(w5,{layout:l,margin:a.margin}),b.createElement(N5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(ade,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(S5,bb({},c,{ref:n})))});function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){ude(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ude(e,t,n){return(t=dde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dde(e){var t=fde(e,"string");return typeof t=="symbol"?t:t+""}function fde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pde=["item"],hde=KM(KM({},_5),{},{layout:"centric",startAngle:0,endAngle:360}),YM=b.forwardRef((e,t)=>{var n=sn(e,hde);return b.createElement(cde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pde,tooltipPayloadSearcher:Im,categoricalChartProps:n,ref:t})}),mde=["axis"],gde=b.forwardRef((e,t)=>b.createElement(V1,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mde,tooltipPayloadSearcher:Im,categoricalChartProps:e,ref:t}));const xde=({user:e,onUserUpdate:t})=>{const[n,r]=b.useState(!1),[a,l]=b.useState(!0),[c,u]=b.useState(!1),[f,p]=b.useState(null),[h,g]=b.useState({major:e.major||"",bio:e.bio||"",location:e.location||""});b.useEffect(()=>{(async()=>{l(!0);try{const[C,A]=await Promise.all([Ae.getProfile(),Ae.getProfileStats()]);g({major:C.major||"",bio:C.bio||"",location:C.location||""}),p(A),t(C)}catch(C){console.error("Failed to load profile data",C)}finally{l(!1)}})()},[]);const v=async()=>{u(!0);try{const E=await Ae.updateProfile(h);t(E),r(!1)}catch{alert("Failed to update profile. Please try again.")}finally{u(!1)}},N=e.banned?{label:"Status",value:"BANNED",icon:s.jsx(Ts,{className:"text-red-500"}),color:"text-red-600"}:{label:"Warnings",value:`${e.warnings||0}/3`,icon:s.jsx(Sn,{className:"text-amber-500"}),color:(e.warnings||0)>=2?"text-amber-600":"text-slate-900"},_=[{label:"Groups Joined",value:f?.groups_joined||"0",icon:s.jsx(gt,{className:"text-orange-500"}),color:"text-slate-900"},{label:"Study Sessions",value:f?.study_hours||"0",icon:s.jsx(Xv,{className:"text-blue-500"}),color:"text-slate-900"},N,{label:"Karma Points",value:f?.karma||"0",icon:s.jsx(Ds,{className:"text-emerald-500"}),color:"text-slate-900"}],j=f?.activity?.map((E,C)=>({day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][C],hours:E}))||[];return a?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(Re,{className:"animate-spin text-orange-500",size:40})}):s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-48 w-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-[3rem] shadow-xl shadow-orange-100"}),s.jsxs("div",{className:"absolute top-8 left-12 flex flex-col md:flex-row items-start gap-6 w-[calc(100%-6rem)]",children:[s.jsx("div",{className:"w-32 h-32 bg-white rounded-[2.5rem] p-2 shadow-2xl shrink-0",children:s.jsx("div",{className:"w-full h-full bg-orange-100 rounded-[2rem] flex items-center justify-center text-orange-600 text-4xl font-black border border-orange-200",children:e.avatar||e.name[0]})}),s.jsxs("div",{className:"mt-12 space-y-1 flex-1 min-w-0",children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight truncate",children:e.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white font-bold text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Nr,{size:14,className:"text-white"})," ",h.location||"Location not set"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ls,{size:14,className:"text-white"})," ",e.email]})]})]})]}),s.jsx("div",{className:"absolute top-20 right-12 hidden md:block",children:n?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{disabled:c,onClick:()=>r(!1),className:"px-6 py-3 bg-white text-red-500 border border-red-100 rounded-2xl font-bold hover:bg-red-50 transition-all disabled:opacity-50",children:"Cancel"}),s.jsxs("button",{disabled:c,onClick:v,className:"px-6 py-3 bg-orange-500 text-white rounded-2xl font-bold shadow-lg shadow-orange-200 hover:bg-orange-600 transition-all flex items-center gap-2 disabled:opacity-50",children:[c?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsx(Jj,{size:18}),"Save Changes"]})]}):s.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-3 bg-white text-slate-900 border border-slate-200 rounded-2xl font-bold shadow-lg hover:bg-slate-50 transition-all flex items-center gap-2",children:[s.jsx(Wo,{size:18}),"Edit Profile"]})})]}),s.jsx("div",{className:"mt-24 md:hidden px-4",children:n?s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("button",{disabled:c,onClick:v,className:"w-full px-6 py-4 bg-orange-500 text-white rounded-2xl font-bold shadow-md flex items-center justify-center gap-2",children:[c?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsx(Jj,{size:18}),"Save Changes"]}),s.jsx("button",{disabled:c,onClick:()=>r(!1),className:"w-full px-6 py-4 bg-white text-red-500 border border-red-100 rounded-2xl font-bold",children:"Cancel"})]}):s.jsxs("button",{onClick:()=>r(!0),className:"w-full px-6 py-4 bg-white text-slate-900 border border-slate-200 rounded-2xl font-bold shadow-md flex items-center justify-center gap-2",children:[s.jsx(Wo,{size:18}),"Edit Profile"]})}),s.jsxs("div",{className:`${n?"mt-8":"mt-20"} grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Personal Details"}),!n&&s.jsx(Rb,{size:16,className:"text-slate-300"})]}),n?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Academic Major"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xv,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:border-orange-500 focus:bg-white transition-all",placeholder:"e.g. Computer Science",value:h.major,onChange:E=>g({...h,major:E.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Current Location"}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),s.jsx("input",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:border-orange-500 focus:bg-white transition-all",placeholder:"e.g. Bangkok, Thailand",value:h.location,onChange:E=>g({...h,location:E.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"About Me / Bio"}),s.jsx("textarea",{rows:4,className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm resize-none focus:border-orange-500 focus:bg-white transition-all",placeholder:"Tell us a bit about your study habits or interests...",value:h.bio,onChange:E=>g({...h,bio:E.target.value})})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Major"}),s.jsx("p",{className:"font-bold text-slate-800",children:h.major||"Not specified"})]}),s.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bio"}),s.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:h.bio?`"${h.bio}"`:"Write something about yourself..."})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:_.map((E,C)=>s.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-slate-200 shadow-sm text-center group hover:border-orange-200 transition-all ${E.label==="Status"&&e.banned?"border-red-200 bg-red-50":""}`,children:[s.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-white transition-colors",children:E.icon}),s.jsx("h4",{className:`text-2xl font-black ${E.color||"text-slate-900"}`,children:E.value}),s.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:E.label})]},C))})]}),s.jsx("div",{className:"lg:col-span-2 space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm h-full",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight mb-8",children:"Weekly Activity"}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(gi,{width:"100%",height:"100%",children:s.jsxs(zu,{data:j,children:[s.jsx(Cs,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),s.jsx(As,{hide:!0}),s.jsx(xi,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontWeight:700}}),s.jsx(Yo,{dataKey:"hours",radius:[8,8,8,8],barSize:40,children:j.map((E,C)=>s.jsx($s,{fill:C===5||C===6?"#F97316":"#f1f5f9"},`cell-${C}`))})]})})}),s.jsxs("div",{className:"mt-8 flex items-center justify-between p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:s.jsx(Ds,{size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-900",children:"Karma Milestone"}),s.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-widest",children:"Contribute to the hub to earn more!"})]})]}),s.jsx("span",{className:"text-4xl font-black text-orange-500",children:f?.karma||0})]})]})})]})]})},vde=()=>{const{userId:e}=lR(),t=Lr(),[n,r]=b.useState(!0),[a,l]=b.useState(null),[c,u]=b.useState(null);b.useEffect(()=>{(async()=>{if(e){r(!0);try{const[v,N]=await Promise.all([Ae.getUserById(parseInt(e)),Ae.getUserStats(parseInt(e))]);l(v),u(N)}catch(v){console.error("Failed to load user profile",v),alert("Failed to load user profile. They may have privacy settings enabled.")}finally{r(!1)}}})()},[e]);const f=a?.banned?{label:"Status",value:"BANNED",icon:s.jsx(Ts,{className:"text-red-500"}),color:"text-red-600"}:{label:"Warnings",value:`${a?.warnings||0}/3`,icon:s.jsx(Sn,{className:"text-amber-500"}),color:(a?.warnings||0)>=2?"text-amber-600":"text-slate-900"},p=[{label:"Groups Joined",value:c?.groups_joined||"0",icon:s.jsx(gt,{className:"text-orange-500"}),color:"text-slate-900"},{label:"Study Sessions",value:c?.study_hours||"0",icon:s.jsx(Xv,{className:"text-blue-500"}),color:"text-slate-900"},f,{label:"Karma Points",value:c?.karma||"0",icon:s.jsx(Ds,{className:"text-emerald-500"}),color:"text-slate-900"}],h=c?.activity?.map((g,v)=>({day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][v],hours:g}))||[];return n?s.jsx("div",{className:"h-64 flex items-center justify-center",children:s.jsx(Re,{className:"animate-spin text-orange-500",size:40})}):a?s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[s.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 font-bold transition-colors mb-4",children:[s.jsx(kz,{size:20}),"Back"]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-48 w-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-[3rem] shadow-xl shadow-orange-100"}),s.jsxs("div",{className:"absolute top-8 left-12 flex flex-col md:flex-row items-start gap-6 w-[calc(100%-6rem)]",children:[s.jsx("div",{className:"w-32 h-32 bg-white rounded-[2.5rem] p-2 shadow-2xl shrink-0",children:s.jsx("div",{className:"w-full h-full bg-orange-100 rounded-[2rem] flex items-center justify-center text-orange-600 text-4xl font-black border border-orange-200",children:a.avatar||a.name[0]})}),s.jsxs("div",{className:"mt-12 space-y-1 flex-1 min-w-0",children:[s.jsx("h1",{className:"text-3xl font-black text-white tracking-tight truncate",children:a.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white font-bold text-sm",children:[s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Nr,{size:14,className:"text-white"})," ",a.location||"Location not set"]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsx(Ls,{size:14,className:"text-white"})," ",a.email]})]})]})]})]}),s.jsxs("div",{className:"mt-20 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm space-y-6",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Personal Details"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Major"}),s.jsx("p",{className:"font-bold text-slate-800",children:a.major||"Not specified"})]}),s.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bio"}),s.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:a.bio?`"${a.bio}"`:"No bio available"})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map((g,v)=>s.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-slate-200 shadow-sm text-center group hover:border-orange-200 transition-all ${g.label==="Status"&&a?.banned?"border-red-200 bg-red-50":""}`,children:[s.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-white transition-colors",children:g.icon}),s.jsx("h4",{className:`text-2xl font-black ${g.color||"text-slate-900"}`,children:g.value}),s.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:g.label})]},v))})]}),s.jsx("div",{className:"lg:col-span-2 space-y-8",children:s.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm h-full",children:[s.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight mb-8",children:"Weekly Activity"}),s.jsx("div",{className:"h-[300px] w-full",children:s.jsx(gi,{width:"100%",height:"100%",children:s.jsxs(zu,{data:h,children:[s.jsx(Cs,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),s.jsx(As,{hide:!0}),s.jsx(xi,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontWeight:700}}),s.jsx(Yo,{dataKey:"hours",radius:[8,8,8,8],barSize:40,children:h.map((g,v)=>s.jsx($s,{fill:v===5||v===6?"#F97316":"#f1f5f9"},`cell-${v}`))})]})})}),s.jsxs("div",{className:"mt-8 flex items-center justify-between p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:s.jsx(Ds,{size:24})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold text-slate-900",children:"Karma Points"}),s.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-widest",children:"Community Contributions"})]})]}),s.jsx("span",{className:"text-4xl font-black text-orange-500",children:c?.karma||0})]})]})})]})]}):s.jsxs("div",{className:"h-64 flex flex-col items-center justify-center space-y-4",children:[s.jsx("p",{className:"text-slate-600 font-bold",children:"User not found"}),s.jsx("button",{onClick:()=>t(-1),className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition-all",children:"Go Back"})]})},yde=()=>{const e=[{title:"Account & Security",items:[{label:"Login & Security",icon:s.jsx(sr,{className:"text-blue-500"}),desc:"Change password and manage 2FA"},{label:"Privacy Center",icon:s.jsx(Si,{className:"text-emerald-500"}),desc:"Control who sees your profile activity"}]},{title:"Preferences",items:[{label:"Notifications",icon:s.jsx(Gh,{className:"text-orange-500"}),desc:"Mute chats or enable sound alerts"},{label:"Appearance",icon:s.jsx(Rp,{className:"text-purple-500"}),desc:"Switch to Dark Mode or customize accent colors"}]},{title:"Data & Sync",items:[{label:"Storage Usage",icon:s.jsx(tU,{className:"text-slate-500"}),desc:"Clear cache and manage shared files"},{label:"Device Management",icon:s.jsx(WU,{className:"text-sky-500"}),desc:"See active sessions on other devices"}]}];return s.jsx("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:s.jsxs("div",{className:"space-y-8",children:[e.map((t,n)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:t.title}),s.jsx("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] overflow-hidden shadow-sm",children:t.items.map((r,a)=>s.jsxs("button",{className:`w-full flex items-center justify-between p-6 hover:bg-slate-50 transition-colors group ${a!==t.items.length-1?"border-b border-slate-100":""}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center transition-colors group-hover:bg-white shadow-sm",children:r.icon}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-slate-900",children:r.label}),s.jsx("p",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:r.desc})]})]}),s.jsx(Jo,{size:18,className:"text-slate-300 group-hover:text-slate-600 transition-colors"})]},a))})]},n)),s.jsxs("div",{className:"pt-8 space-y-4",children:[s.jsx("h3",{className:"text-[10px] font-black text-red-400 uppercase tracking-[0.2em] ml-2",children:"Danger Zone"}),s.jsx("div",{className:"bg-white border border-red-100 rounded-[2.5rem] overflow-hidden shadow-sm",children:s.jsxs("button",{className:"w-full flex items-center justify-between p-6 hover:bg-red-50 transition-colors group",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100/50 rounded-2xl flex items-center justify-center",children:s.jsx(Ai,{className:"text-red-500"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("h4",{className:"font-bold text-red-600",children:"Delete Account"}),s.jsx("p",{className:"text-xs font-semibold text-red-400 mt-0.5",children:"Permanently remove all your data and groups"})]})]}),s.jsx(Jo,{size:18,className:"text-red-300"})]})})]})]})})},bde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(null),[c,u]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{r(!0),l(null);try{const h=await Ae.getLeaders();t(h)}catch(h){console.error("Failed to load contributors:",h),l("Could not load leaderboard data. Please try again later.")}finally{r(!1)}},p=h=>h===1?"":h===2?"":h===3?"":null;return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-[2.5rem] p-12 text-white shadow-xl shadow-orange-200",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:s.jsx(Qv,{size:32,className:"text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-extrabold tracking-tight",children:"Top Contributors"}),s.jsx("p",{className:"text-orange-100 font-medium text-lg mt-1",children:"Most active members in our community"})]})]}),s.jsx("button",{onClick:()=>u(!0),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",title:"How Karma Points Work",children:s.jsx(Rb,{size:24,className:"text-white"})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[s.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Ds,{className:"text-orange-200",size:24}),s.jsx("p",{className:"text-sm font-bold text-orange-100 uppercase tracking-widest",children:"Total Contributors"})]}),s.jsx("p",{className:"text-3xl font-black",children:e.length})]}),s.jsxs("div",{className:"bg-white/10 backdrop-blur rounded-2xl p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(Xo,{className:"text-orange-200",size:24}),s.jsx("p",{className:"text-sm font-bold text-orange-100 uppercase tracking-widest",children:"Total Karma"})]}),s.jsx("p",{className:"text-3xl font-black",children:e.reduce((h,g)=>h+g.karma_points,0).toLocaleString()})]})]})]}),a&&s.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 rounded-2xl text-red-800",children:[s.jsx("p",{className:"font-bold",children:a}),s.jsx("button",{onClick:f,className:"mt-3 text-xs font-black uppercase tracking-widest underline decoration-2 underline-offset-4",children:"Retry"})]}),n?s.jsxs("div",{className:"flex flex-col items-center justify-center py-24 space-y-4",children:[s.jsx(Re,{size:48,className:"animate-spin text-orange-500"}),s.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Loading Leaderboard..."})]}):s.jsx("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] overflow-hidden shadow-xl",children:s.jsxs("table",{className:"w-full text-left",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-slate-50 border-b-2 border-slate-200",children:[s.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Rank"}),s.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"User"}),s.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Major"}),s.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Karma Points"})]})}),s.jsx("tbody",{children:e.length===0?s.jsx("tr",{children:s.jsxs("td",{colSpan:4,className:"px-8 py-16 text-center",children:[s.jsx(Qv,{size:48,className:"mx-auto mb-4 text-slate-200"}),s.jsx("p",{className:"font-bold text-slate-400",children:"No contributors yet."}),s.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Be the first to earn karma points!"})]})}):e.map((h,g)=>{const v=p(g+1),N=g<3;return s.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${N?"bg-orange-50/30":""}`,children:[s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-bold text-sm ${g===0?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200":g===1?"bg-gradient-to-br from-slate-300 to-slate-400 text-white shadow-lg shadow-slate-200":g===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white shadow-lg shadow-amber-200":"bg-slate-100 text-slate-500"}`,children:["#",g+1]}),v&&s.jsx("span",{className:"text-2xl",children:v})]})}),s.jsx("td",{className:"px-8 py-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(Dt,{to:`/profile/${h.id}`,className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center font-bold text-orange-600 border border-orange-100 cursor-pointer hover:scale-105 transition-transform",children:h.name[0]}),s.jsxs("div",{children:[s.jsx(Dt,{to:`/profile/${h.id}`,className:"font-bold text-slate-900 hover:text-orange-500 transition-colors cursor-pointer text-lg",children:h.name}),s.jsx("p",{className:"text-xs text-slate-400 font-semibold",children:h.email})]})]})}),s.jsx("td",{className:"px-8 py-6",children:s.jsx("span",{className:"text-sm font-semibold text-slate-600",children:h.major||"Student"})}),s.jsx("td",{className:"px-8 py-6 text-right",children:s.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 border border-orange-100 rounded-xl",children:[s.jsx(Ds,{className:"text-orange-500",size:16}),s.jsx("span",{className:"font-black text-slate-900",children:h.karma_points.toLocaleString()})]})})]},h.id)})})]})}),c&&s.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-8 flex justify-between items-center text-white",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-extrabold tracking-tight",children:"How Karma Points Work"}),s.jsx("p",{className:"text-orange-100 font-medium mt-1",children:"Earn karma by being an active and positive member of the community"})]}),s.jsx("button",{onClick:()=>u(!1),className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:s.jsx(ct,{size:20,className:"text-white"})})]}),s.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(85vh-120px)] space-y-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-emerald-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center text-white font-black text-sm",children:"+"}),"Earning Karma (Positive Actions)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Create Group"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+20"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Start a new study group"})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Join Group"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Join an existing study group"})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Create Event"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+15"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Schedule a study meeting"})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Upload File"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Share study materials"})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Send Message"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+5"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Participate in group chat"})]}),s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Good Rating"}),s.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Receive 4-5 star rating"})]})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h3",{className:"text-lg font-bold text-red-700 flex items-center gap-2",children:[s.jsx("span",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white font-black text-sm",children:""}),"Losing Karma (Negative Actions)"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Banned"}),s.jsx("span",{className:"text-red-600 font-black",children:"-50"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Permanent account ban"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"30-Day Suspension"}),s.jsx("span",{className:"text-red-600 font-black",children:"-30"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Long suspension period"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"7-Day Suspension"}),s.jsx("span",{className:"text-red-600 font-black",children:"-20"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Week suspension period"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Kicked from Group"}),s.jsx("span",{className:"text-red-600 font-black",children:"-20"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Removed by group leader"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Warning"}),s.jsx("span",{className:"text-red-600 font-black",children:"-15"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Receive moderator warning"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"3-Day Suspension"}),s.jsx("span",{className:"text-red-600 font-black",children:"-10"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Short suspension period"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Leave Group"}),s.jsx("span",{className:"text-red-600 font-black",children:"-5"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Voluntarily exit a group"})]}),s.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Bad Rating"}),s.jsx("span",{className:"text-red-600 font-black",children:"-5"})]}),s.jsx("p",{className:"text-sm text-slate-600",children:"Receive 1-2 star rating"})]})]})]}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:s.jsxs("p",{className:"text-sm text-orange-800 font-semibold text-center",children:[" ",s.jsx("strong",{children:"Pro Tip:"})," Stay active, be helpful, maintain good conduct, and lead quality study groups to maximize your karma points!"]})})]})]})})]})},wde=()=>s.jsxs("div",{className:"min-h-screen bg-slate-50",children:[s.jsxs("header",{className:"fixed top-0 inset-x-0 h-20 bg-white/80 backdrop-blur-md border-b border-slate-100 z-50 px-6 md:px-12 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shadow-orange-100",children:"AU"}),s.jsx("span",{className:"text-xl font-black text-slate-900 tracking-tight",children:"StudyGroupFinder"})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[s.jsx("a",{href:"#features",className:"text-sm font-bold text-slate-500 hover:text-slate-900",children:"Features"}),s.jsx("a",{href:"#how",className:"text-sm font-bold text-slate-500 hover:text-slate-900",children:"How it works"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Dt,{to:"/login",className:"text-sm font-bold text-slate-600 px-5 py-2 hover:bg-slate-100 rounded-xl transition-all",children:"Login"}),s.jsx(Dt,{to:"/signup",className:"bg-orange-500 text-white text-sm font-bold px-6 py-2.5 rounded-xl shadow-lg shadow-orange-100 hover:bg-orange-600 transition-all",children:"Sign Up"})]})]}),s.jsxs("section",{className:"pt-40 pb-24 px-6 md:px-12 max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center",children:[s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 border border-orange-100 rounded-full text-orange-600 text-xs font-black uppercase tracking-widest",children:[s.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),"Built for Students by Students"]}),s.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[1.1] tracking-tight",children:["Study better, ",s.jsx("br",{})," ",s.jsx("span",{className:"text-orange-500",children:"together."})]}),s.jsx("p",{className:"text-lg text-slate-500 font-medium leading-relaxed max-w-lg",children:"Find classmates, join study groups, and ace your exams. AU StudyHub connects you with the right people for every subject."}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[s.jsxs(Dt,{to:"/signup",className:"w-full sm:w-auto px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-orange-200 hover:bg-orange-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3",children:["Get Started ",s.jsx(kb,{size:18})]}),s.jsxs("div",{className:"flex -space-x-3 px-4",children:[[1,2,3,4].map(e=>s.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-white bg-slate-200"},e)),s.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-white bg-orange-500 text-white flex items-center justify-center text-[10px] font-black",children:"+2k"})]}),s.jsx("span",{className:"text-sm font-bold text-slate-400",children:"Join 2,000+ students online"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4",children:[s.jsxs("div",{className:"flex items-center gap-3 text-slate-500 font-bold text-sm",children:[s.jsx(Iu,{className:"text-orange-500"})," Real classmates"]}),s.jsxs("div",{className:"flex items-center gap-3 text-slate-500 font-bold text-sm",children:[s.jsx(Iu,{className:"text-orange-500"})," Faculty filtered"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-[100px] rounded-full"}),s.jsxs("div",{className:"relative bg-white border border-slate-200 rounded-[3rem] p-4 shadow-2xl",children:[s.jsx("img",{src:"https://www.u-fukui.ac.jp/wp/wp-content/uploads/Assumption-Campus.jpg",className:"rounded-[2.5rem] w-full h-auto opacity-90",alt:"Study Group"}),s.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-white p-6 rounded-3xl shadow-xl border border-slate-100 animate-bounce duration-[3000ms]",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-500 rounded-full"}),s.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Live Now"})]}),s.jsx("p",{className:"font-bold text-slate-900",children:"Calc III Study Room"}),s.jsx("div",{className:"flex mt-3",children:[1,2,3].map(e=>s.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-white bg-slate-200 -ml-2 first:ml-0"},e))})]})]})]})]}),s.jsx("section",{id:"features",className:"py-24 px-6 md:px-12 bg-white",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-16 space-y-4",children:[s.jsx("h2",{className:"text-4xl font-black text-slate-900",children:"Everything you need to succeed"}),s.jsx("p",{className:"text-slate-500 font-medium max-w-xl mx-auto",children:"A specialized toolset designed to make collaborative learning effortless and productive."})]}),s.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:s.jsx(gt,{className:"text-orange-500"}),title:"Smart Groups",desc:"Join groups limited by seats to ensure focused and high-quality study sessions."},{icon:s.jsx($u,{className:"text-blue-500"}),title:"AI Study Assistant",desc:"Use Gemini-powered chat summaries and auto-generated study descriptions."},{icon:s.jsx(sr,{className:"text-emerald-500"}),title:"Verified Profiles",desc:"Only university students with valid emails can join our verified community."}].map((e,t)=>s.jsxs("div",{className:"p-10 bg-slate-50 rounded-[3rem] border border-slate-100 hover:border-orange-200 transition-all hover:bg-white hover:shadow-xl hover:shadow-orange-50/50 group text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm group-hover:scale-110 transition-all",children:e.icon}),s.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:e.title}),s.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:e.desc})]},t))})]})}),s.jsx("footer",{className:"py-12 border-t border-slate-100 text-center",children:s.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:" 2026 AU Study Group Finder  Built with  for students"})})]}),Nde=({onLogin:e})=>{const[t,n]=b.useState(""),[r,a]=b.useState(""),[l,c]=b.useState(!1),[u,f]=b.useState(""),p=Lr(),h=async g=>{g.preventDefault(),c(!0),f("");try{const v=await Ae.login({email:t,password:r}),N={...v.user,token:v.token};e(N),p("/home")}catch(v){f(v.message||"Login failed. Please check your credentials.")}finally{c(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-50",children:s.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-[3rem] shadow-2xl p-10 space-y-8 animate-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-3xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl shadow-orange-100 mb-4",children:"AU"}),s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Welcome Back"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Log in to find your study group"})]}),u&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl text-xs font-bold border border-red-100",children:u}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),s.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"u6.....@au.edu",value:t,onChange:g=>n(g.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center ml-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Password"}),s.jsx("button",{type:"button",className:"text-[10px] font-black text-orange-500 uppercase tracking-widest hover:text-orange-600",children:"Forgot?"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Si,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),s.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:r,onChange:g=>a(g.target.value)})]})]}),s.jsx("button",{type:"submit",disabled:l,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-100 hover:bg-orange-600 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:l?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:["Login ",s.jsx(kb,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),s.jsxs("p",{className:"text-center text-slate-500 font-bold text-sm",children:["Don't have an account? ",s.jsx(Dt,{to:"/signup",className:"text-orange-500 hover:text-orange-600 underline",children:"Sign up for free"})]})]})})},Sde=({onSignup:e})=>{const[t,n]=b.useState({name:"",email:"",pass:"",confirm:""}),[r,a]=b.useState(!1),[l,c]=b.useState(""),[u,f]=b.useState(""),p=Lr(),h=async g=>{if(g.preventDefault(),t.pass!==t.confirm){alert("Passwords don't match!");return}a(!0),c("");try{const v=await Ae.register({name:t.name,email:t.email,password:t.pass,password_confirmation:t.confirm}),N={...v.user,token:v.token};e(N),v.message&&f(v.message),setTimeout(()=>{p("/home")},2e3)}catch(v){c(v.message||"Registration failed. Please try again.")}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-50",children:s.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-[3rem] shadow-2xl p-10 space-y-8 animate-in zoom-in-95 duration-300",children:[s.jsxs("div",{className:"text-center space-y-2",children:[s.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-3xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl shadow-orange-100 mb-4",children:"AU"}),s.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Join StudyHub"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Create your account to start studying"})]}),l&&s.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl text-xs font-bold border border-red-100",children:l}),u&&s.jsxs("div",{className:"bg-green-50 text-green-700 p-4 rounded-2xl text-xs font-bold border border-green-100 flex items-center gap-2",children:[s.jsx(Ls,{size:16}),u]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Full Name"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bh,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),s.jsx("input",{type:"text",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"John Doe",value:t.name,onChange:g=>n({...t,name:g.target.value})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),s.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"u6....@au.edu",value:t.email,onChange:g=>n({...t,email:g.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Password"}),s.jsx("input",{type:"password",required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:t.pass,onChange:g=>n({...t,pass:g.target.value})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Confirm"}),s.jsx("input",{type:"password",required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:t.confirm,onChange:g=>n({...t,confirm:g.target.value})})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-100 hover:bg-orange-600 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:r?s.jsx(Re,{size:18,className:"animate-spin"}):s.jsxs(s.Fragment,{children:["Create Account ",s.jsx(kb,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),s.jsxs("p",{className:"text-center text-slate-500 font-bold text-sm",children:["Already have an account? ",s.jsx(Dt,{to:"/login",className:"text-orange-500 hover:text-orange-600 underline",children:"Login here"})]})]})})},_de=()=>{const{id:e,hash:t}=lR(),[n]=fd(),r=Lr(),[a,l]=b.useState("verifying"),[c,u]=b.useState("");b.useEffect(()=>{f()},[]);const f=async()=>{try{const p=n.toString(),h=`${Ip.BASE_URL}/email/verify/${e}/${t}${p?`?${p}`:""}`,g=await fetch(h,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),v=await g.json();if(g.ok){l("success"),u(v.message||"Email verified successfully!");const N=localStorage.getItem("auth_user");if(N){try{const _=JSON.parse(N);_.email_verified_at=new Date().toISOString(),localStorage.setItem("auth_user",JSON.stringify(_))}catch(_){console.error("Failed to update user data",_)}setTimeout(()=>{r("/home")},3e3)}}else l("error"),u(v.message||"Verification failed. The link may be invalid or expired.")}catch{l("error"),u("An error occurred while verifying your email.")}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center p-6",children:s.jsxs("div",{className:"w-full max-w-lg",children:[s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden",children:[s.jsx("div",{className:`p-10 flex justify-center items-center ${a==="success"?"bg-green-500":a==="error"?"bg-red-500":"bg-blue-500"} text-white`,children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:[a==="verifying"&&s.jsx(Re,{size:40,className:"animate-spin"}),a==="success"&&s.jsx(La,{size:40}),a==="error"&&s.jsx(ct,{size:40})]}),s.jsxs("h1",{className:"text-3xl font-black tracking-tight",children:[a==="verifying"&&"Verifying Email...",a==="success"&&"Email Verified!",a==="error"&&"Verification Failed"]})]})}),s.jsxs("div",{className:"p-10 text-center space-y-6",children:[s.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:c}),a==="success"&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-2xl",children:s.jsx("p",{className:"text-sm text-green-800 font-bold",children:" Your account is now fully activated! You can now access all features of StudyGroupFinder."})}),s.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Redirecting you to the home page in 3 seconds..."})]}),a==="error"&&s.jsxs("div",{className:"p-6 bg-red-50 border-2 border-red-200 rounded-2xl space-y-4",children:[s.jsx("p",{className:"text-sm text-red-800 font-bold",children:"This verification link may have expired or is invalid."}),s.jsx("p",{className:"text-xs text-red-600",children:"If you're logged in, you can request a new verification email from your account settings."})]}),s.jsx("div",{className:"pt-6 space-y-3",children:a==="success"?s.jsx(Dt,{to:"/home",className:"w-full px-8 py-4 bg-green-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-green-600 shadow-lg shadow-green-100 transition-all inline-block",children:"Go to Home"}):a==="error"?s.jsxs(s.Fragment,{children:[s.jsx(Dt,{to:"/login",className:"w-full px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-orange-600 shadow-lg shadow-orange-100 transition-all inline-block",children:"Go to Login"}),s.jsx(Dt,{to:"/",className:"block text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Back to Home"})]}):null})]})]}),s.jsx("div",{className:"mt-8 text-center",children:s.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"StudyGroupFinder - Connect, Collaborate, Succeed"})})]})})},JM="processed_notifications",j5=({notifications:e,onMarkRead:t,onClose:n,onNotificationClick:r,onRefresh:a})=>{const[l,c]=b.useState(null),[u,f]=b.useState(()=>{try{const M=localStorage.getItem(JM);return M?JSON.parse(M):{}}catch{return{}}}),[p,h]=b.useState(!1),[g,v]=b.useState(""),[N,_]=b.useState(null);b.useEffect(()=>{try{localStorage.setItem(JM,JSON.stringify(u))}catch(M){console.error("Failed to save processed notifications:",M)}},[u]),b.useEffect(()=>{const M=new Set(e.map(L=>L.id)),P={...u};let O=!1;Object.keys(P).forEach(L=>{const z=parseInt(L);M.has(z)||(delete P[z],O=!0)}),O&&f(P)},[e]);const j=M=>{switch(M){case"message":return s.jsx(Tl,{size:16,className:"text-orange-500"});case"group_join":return s.jsx(ey,{size:16,className:"text-blue-500"});case"event":return s.jsx(Rn,{size:16,className:"text-emerald-500"});case"join_request":return s.jsx(ey,{size:16,className:"text-amber-500"});case"join_approved":return s.jsx(Ou,{size:16,className:"text-emerald-500"});case"join_rejected":return s.jsx(ct,{size:16,className:"text-red-500"});case"removed_from_group":return s.jsx(bR,{size:16,className:"text-red-600"});case"report_submitted":return s.jsx(sr,{size:16,className:"text-red-500"});case"user_warned":return s.jsx(Sn,{size:16,className:"text-amber-500"});case"user_banned":return s.jsx(Ts,{size:16,className:"text-red-600"});case"user_suspended":return s.jsx(Ts,{size:16,className:"text-orange-600"});case"role_changed":return s.jsx(Ds,{size:16,className:"text-purple-600"});case"group_approved":return s.jsx(La,{size:16,className:"text-emerald-600"});case"group_rejected":return s.jsx(Rs,{size:16,className:"text-red-600"});case"ownership_transferred":return s.jsx(Ci,{size:16,className:"text-blue-600"});case"ownership_received":return s.jsx(Ds,{size:16,className:"text-blue-600"});case"group_leadership_changed":return s.jsx(Ci,{size:16,className:"text-slate-600"});case"password_reset":return s.jsx(xR,{size:16,className:"text-teal-600"});case"report_resolved":return s.jsx(KU,{size:16,className:"text-green-600"});case"new_report":return s.jsx(sr,{size:16,className:"text-orange-600"});case"warning_received":return s.jsx(Sn,{size:16,className:"text-amber-600"});case"group_archived_admin":return s.jsx(Pa,{size:16,className:"text-slate-600"});case"suspension_lifted":return s.jsx(La,{size:16,className:"text-emerald-600"});case"ban_lifted":return s.jsx(La,{size:16,className:"text-emerald-600"});case"new_group_pending":return s.jsx(Sn,{size:16,className:"text-blue-600"});default:return s.jsx(dn,{size:16,className:"text-slate-400"})}},E=M=>{const P=new Date(M),L=Math.floor((new Date().getTime()-P.getTime())/1e3);return L<60?"Just now":L<3600?`${Math.floor(L/60)}m ago`:L<86400?`${Math.floor(L/3600)}h ago`:P.toLocaleDateString()},C=async(M,P)=>{M.stopPropagation();const O=P.data.group_id,L=P.data.user_id;if(!O||!L){alert("Invalid notification data");return}c(P.id);try{await Ae.approveJoinRequest(O,L.toString()),f(z=>({...z,[P.id]:"approved"})),a?.()}catch(z){alert(z.message||"Failed to approve")}finally{c(null)}},A=(M,P)=>{M.stopPropagation(),_(P),h(!0)},k=async M=>{if(!N)return;const P=N.data.group_id,O=N.data.user_id;if(!P||!O){alert("Invalid notification data");return}c(N.id),h(!1);try{await Ae.rejectJoinRequest(P,O.toString(),M),f(L=>({...L,[N.id]:"rejected"})),a?.()}catch(L){alert(L.message||"Failed to reject")}finally{c(null),_(null),v("")}},R=()=>{h(!1),_(null),v("")};return s.jsxs("div",{className:"absolute top-14 right-0 w-80 bg-white border border-slate-200 rounded-[2rem] shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Notifications"}),s.jsxs("button",{onClick:t,className:"text-[10px] font-black text-orange-500 uppercase tracking-widest flex items-center gap-1 hover:text-orange-600 transition-colors",children:[s.jsx(Ou,{size:12}),"Read All"]})]}),s.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.length===0?s.jsxs("div",{className:"p-12 text-center space-y-2 opacity-30",children:[s.jsx(dn,{size:32,className:"mx-auto"}),s.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear for now"})]}):e.map(M=>{const P=M.type==="user_warned"||M.type==="warning_received",O=M.type==="user_banned",L=M.type==="user_suspended",z=M.type==="report_submitted"||M.type==="new_report",q=M.type==="role_changed"||M.type==="ownership_received",Y=M.type==="group_approved",G=M.type==="password_reset",W=M.type==="group_archived_admin",ee=O?"bg-red-50/50 border-l-4 border-l-red-500":L?"bg-orange-50/50 border-l-4 border-l-orange-500":P?"bg-amber-50/50 border-l-4 border-l-amber-500":z?"bg-red-50/30 border-l-4 border-l-red-400":q?"bg-purple-50/50 border-l-4 border-l-purple-500":Y?"bg-emerald-50/50 border-l-4 border-l-emerald-500":G?"bg-teal-50/50 border-l-4 border-l-teal-500":W?"bg-slate-50/50 border-l-4 border-l-slate-500":M.read_at?"":"bg-orange-50/30";return s.jsxs("div",{onClick:()=>r?.(M),className:`p-5 border-b border-slate-50 flex gap-4 hover:bg-slate-50 transition-colors cursor-pointer ${ee}`,children:[s.jsx("div",{className:"mt-1 shrink-0 w-8 h-8 rounded-xl bg-white border border-slate-100 flex items-center justify-center shadow-sm",children:j(M.type)}),s.jsxs("div",{className:"space-y-1 flex-1",children:[s.jsx("p",{className:`text-xs font-bold leading-tight ${O?"text-red-700":P?"text-amber-700":"text-slate-800"}`,children:M.data.message}),(P||O||L)&&M.data.reason&&s.jsxs("p",{className:"text-[11px] font-semibold text-slate-600 leading-snug mt-1 italic",children:["Reason: ",M.data.reason]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:E(M.created_at)})}),M.type==="join_request"&&(u[M.id]?s.jsx("div",{className:`mt-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest text-center ${u[M.id]==="approved"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:u[M.id]==="approved"?"Approved!":"Rejected!"}):s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs("button",{onClick:Z=>C(Z,M),disabled:l===M.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-emerald-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-emerald-600 disabled:opacity-50 transition-all",children:[l===M.id?s.jsx(Re,{size:10,className:"animate-spin"}):s.jsx(Ou,{size:10}),"Accept"]}),s.jsxs("button",{onClick:Z=>A(Z,M),disabled:l===M.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-red-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-red-600 disabled:opacity-50 transition-all",children:[l===M.id?s.jsx(Re,{size:10,className:"animate-spin"}):s.jsx(Rs,{size:10}),"Reject"]})]}))]})]},M.id)})}),s.jsx("div",{className:"p-4 bg-slate-50 text-center",children:s.jsx("button",{onClick:n,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"})}),p&&N&&s.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:s.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Reject Request"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:N.data.user_name||"User"})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for rejecting this request? This is optional."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Rejection Reason (Optional)"}),s.jsx("textarea",{value:g,onChange:M=>v(M.target.value),placeholder:"e.g., Group is full, Looking for members with specific background, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[g.length,"/500 characters"]})]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[s.jsx("button",{onClick:R,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),s.jsx("button",{onClick:()=>k(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Reject"}),s.jsx("button",{onClick:()=>k(g.trim()||void 0),disabled:g.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Reject"})]})]})})]})},jde=()=>{const[e,t]=b.useState(!0),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(!0),[f,p]=b.useState(""),[h,g]=b.useState("");b.useEffect(()=>{v()},[]);const v=async()=>{try{const _=await Ae.checkVerificationStatus();t(_.verified),g(_.email)}catch(_){console.error("Failed to check verification status",_)}finally{r(!1)}},N=async()=>{l(!0),p("");try{const _=await Ae.resendVerification();p(_.message||"Verification email sent!"),setTimeout(()=>p(""),5e3)}catch(_){p(_.message||"Failed to resend email"),setTimeout(()=>p(""),5e3)}finally{l(!1)}};return n||e||!c?null:s.jsx("div",{className:"bg-amber-50 border-b-2 border-amber-200 animate-in slide-in-from-top duration-300",children:s.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center text-white shrink-0",children:s.jsx(Ls,{size:20})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("h4",{className:"font-bold text-amber-900 text-sm",children:"Verify Your Email"}),f&&s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600",children:[s.jsx(La,{size:14}),f]})]}),s.jsxs("p",{className:"text-sm text-amber-700",children:["We sent a verification email to ",s.jsx("span",{className:"font-bold",children:h}),". Please check your inbox and click the verification link to access all features."]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[s.jsx("button",{onClick:N,disabled:a,className:"px-4 py-2 bg-amber-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-amber-600 transition-all disabled:opacity-50 flex items-center gap-2",children:a?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:14,className:"animate-spin"}),"Sending..."]}):"Resend Email"}),s.jsx("button",{onClick:()=>u(!1),className:"p-2 text-amber-400 hover:text-amber-600 transition-colors",title:"Dismiss",children:s.jsx(ct,{size:18})})]})]})})})},Ede=()=>{const e=Lr(),[t,n]=b.useState({email:"",password:""}),[r,a]=b.useState(!1),[l,c]=b.useState(""),u=async f=>{f.preventDefault(),c(""),a(!0);try{const p=await Ae.login(t);if(!["admin","moderator"].includes(p.user.role)){c("Access denied. Admin or moderator credentials required."),a(!1);return}localStorage.setItem("admin_auth",JSON.stringify({...p.user,token:p.token})),window.dispatchEvent(new Event("admin_auth_change")),e("/admin/dashboard")}catch(p){c(p.message||"Login failed. Please check your credentials.")}finally{a(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-6",children:[s.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0djItaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"}),s.jsxs("div",{className:"relative w-full max-w-md animate-in zoom-in-95 duration-500",children:[s.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 p-12 text-center relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/10"}),s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:s.jsx(sr,{size:40,className:"text-white"})}),s.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:"Admin Portal"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold",children:"StudyHub Management System"})]})]}),s.jsxs("form",{onSubmit:u,className:"p-10 space-y-6",children:[l&&s.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[s.jsx(Gu,{className:"text-red-500 shrink-0 mt-0.5",size:20}),s.jsx("p",{className:"text-sm font-bold text-red-800",children:l})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-4",children:"Admin Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"email",placeholder:"admin@au.edu",value:t.email,onChange:f=>n({...t,email:f.target.value}),className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-4",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Si,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"password",placeholder:"Enter admin password",value:t.password,onChange:f=>n({...t,password:f.target.value}),className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",required:!0})]})]}),s.jsx("button",{type:"submit",disabled:r,className:"w-full py-5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:from-purple-700 hover:to-purple-800 transition-all shadow-xl shadow-purple-200 flex items-center justify-center gap-2 disabled:opacity-50",children:r?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:20,className:"animate-spin"}),"Authenticating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{size:20}),"Access Admin Panel"]})}),s.jsx("div",{className:"pt-6 border-t border-slate-100",children:s.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm font-bold text-slate-400 hover:text-slate-900 transition-colors w-full text-center",children:" Back to Main Site"})})]})]}),s.jsx("p",{className:"text-center text-white/60 text-xs font-bold mt-6",children:"Authorized personnel only  All actions are logged"})]})]})},va=({children:e})=>{const t=aa(),n=Lr(),[r,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState([]),[p,h]=b.useState(0),[g,v]=b.useState(null),N=b.useRef(null);b.useEffect(()=>{const A=localStorage.getItem("admin_auth");if(A){const k=JSON.parse(A);v({name:k.name,role:k.role}),_();const R=setInterval(_,3e4);return()=>clearInterval(R)}},[]),b.useEffect(()=>{const A=k=>{N.current&&!N.current.contains(k.target)&&c(!1)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const _=async()=>{try{const A=localStorage.getItem("admin_auth"),k=A?JSON.parse(A).token:null;if(!k){console.error("No admin auth token found");return}const[R,M]=await Promise.all([fetch("http://localhost:8000/api/admin/notifications",{headers:{Authorization:`Bearer ${k}`,Accept:"application/json"}}),fetch("http://localhost:8000/api/admin/notifications/unread-count",{headers:{Authorization:`Bearer ${k}`,Accept:"application/json"}})]);if(!R.ok||!M.ok){console.error("Failed to fetch notifications:",R.status,M.status);return}const P=await R.json(),O=await M.json();if(!Array.isArray(P)){console.error("Notifications response is not an array:",P);return}f(L=>{const z=new Set(P.map(Y=>Y.id)),q=L.filter(Y=>Y.read_at&&!z.has(Y.id));return[...P,...q].sort((Y,G)=>new Date(G.created_at).getTime()-new Date(Y.created_at).getTime())}),h(O.count)}catch(A){console.error("Failed to fetch notifications",A)}},j=async()=>{try{const A=localStorage.getItem("admin_auth"),k=A?JSON.parse(A).token:null;if(!k){console.error("No admin auth token found");return}await fetch("http://localhost:8000/api/admin/notifications/mark-read",{method:"POST",headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json",Accept:"application/json"}}),h(0),f(R=>R.map(M=>({...M,read_at:new Date().toISOString()})))}catch(A){console.error("Failed to mark as read",A)}},E=()=>{localStorage.removeItem("admin_auth"),n("/admin/login")},C=[{path:"/admin/dashboard",icon:vU,label:"Dashboard"},{path:"/admin/users",icon:gt,label:"User Management"},{path:"/admin/groups",icon:gt,label:"Group Management"},{path:"/admin/events",icon:Rn,label:"Events Management"},{path:"/admin/ratings",icon:Zr,label:"Ratings Management"},{path:"/admin/reports",icon:Sn,label:"User Reports"},{path:"/admin/analytics",icon:gR,label:"Analytics"}];return s.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[r&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>a(!1)}),s.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-purple-900 to-purple-950 text-white flex flex-col transition-transform duration-300 lg:translate-x-0 lg:static
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:[s.jsxs("div",{className:"p-6 border-b border-purple-800/50 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:s.jsx(sr,{size:24})}),s.jsxs("div",{children:[s.jsx("h1",{className:"font-black text-lg leading-none",children:"Admin Panel"}),s.jsx("p",{className:"text-xs text-purple-300 font-bold mt-1",children:"StudyHub Management"})]})]}),s.jsx("button",{onClick:()=>a(!1),className:"lg:hidden",children:s.jsx(ct,{className:"w-6 h-6"})})]}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:C.map(A=>{const k=t.pathname===A.path;return s.jsxs(Dt,{to:A.path,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k?"bg-purple-500 text-white shadow-lg":"text-purple-200 hover:bg-purple-800/50 hover:text-white"}`,children:[s.jsx(A.icon,{size:20}),s.jsx("span",{className:"font-bold",children:A.label})]},A.path)})}),s.jsx("div",{className:"p-4 border-t border-purple-800/50",children:s.jsxs("button",{onClick:E,className:"flex items-center gap-3 w-full px-4 py-3 text-purple-200 hover:bg-purple-800/50 hover:text-white rounded-xl transition-all font-bold",children:[s.jsx(Pb,{size:20}),s.jsx("span",{children:"Logout"})]})})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"h-20 bg-white border-b border-slate-200 px-6 flex items-center justify-between sticky top-0 z-30",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg",children:s.jsx(vR,{className:"w-6 h-6 text-slate-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-black text-slate-900",children:C.find(A=>A.path===t.pathname)?.label||"Admin Panel"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Manage and monitor your StudyHub platform"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",ref:N,children:[s.jsxs("button",{onClick:()=>c(!l),className:`p-2 hover:bg-slate-100 rounded-xl relative transition-all ${l?"bg-slate-50 text-slate-900":"text-slate-400"}`,children:[s.jsx(Gh,{size:22}),p>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-purple-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black text-white",children:p>9?"9+":p})]}),l&&s.jsx(j5,{notifications:u,onMarkRead:j,onClose:()=>c(!1),onRefresh:_})]}),s.jsx("div",{className:"h-10 w-[1px] bg-slate-200 mx-2 hidden sm:block"}),s.jsx("div",{className:"px-4 py-2 bg-purple-50 border border-purple-200 rounded-xl",children:g&&s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-xs font-black text-purple-900 leading-tight",children:g.name}),s.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest",children:g.role})]})})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:e})]})]})},Cde=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null);b.useEffect(()=>{f();const g=setInterval(()=>{f(!0)},3e4);return()=>clearInterval(g)},[]);const f=async(g=!1)=>{try{g||l(!0);const v=localStorage.getItem("admin_auth");if(!v)return;const _=JSON.parse(v).token,j=await fetch("http://localhost:8000/api/admin/dashboard",{headers:{Authorization:`Bearer ${_}`,"Content-Type":"application/json"}});if(!j.ok)throw new Error("Failed to fetch dashboard");const E=await j.json();t(E),u(new Date)}catch(v){console.error("Failed to load dashboard:",v)}finally{r(!1),l(!1)}},p=()=>{f()},h=g=>{if(!g)return"Never";const v=Math.floor((new Date().getTime()-g.getTime())/1e3);if(v<60)return"Just now";const N=Math.floor(v/60);return N<60?`${N}m ago`:`${Math.floor(N/60)}h ago`};return n?s.jsx(va,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Tu,{size:32,className:"text-purple-600 animate-pulse"})}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading dashboard..."})]})})}):s.jsx(va,{children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-[2rem] p-8 text-white shadow-xl",children:s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black mb-2",children:"Welcome to Admin Dashboard"}),s.jsx("p",{className:"text-purple-100 font-medium",children:"Monitor and manage your StudyHub platform"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-purple-100 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",h(c)]})]}),s.jsxs("button",{onClick:p,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:s.jsx(gt,{size:24,className:"text-blue-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Users"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_users||0}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[s.jsxs("span",{className:"font-bold text-slate-500",children:["Leaders: ",e?.leaders_count||0]}),s.jsx("span",{className:"text-slate-300",children:""}),s.jsxs("span",{className:"font-bold text-slate-500",children:["Members: ",e?.members_count||0]}),s.jsx("span",{className:"text-slate-300",children:""}),s.jsxs("span",{className:"font-bold text-slate-500",children:["Admins: ",e?.admin_count||0]}),s.jsx("span",{className:"text-slate-300",children:""}),s.jsxs("span",{className:"font-bold text-slate-500",children:["Mods: ",e?.moderator_count||0]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:s.jsx(gt,{size:24,className:"text-emerald-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Study Groups"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_groups||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Tu,{size:14,className:"text-emerald-500"}),s.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[e?.active_groups||0," Active"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:s.jsx(Tl,{size:24,className:"text-orange-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Messages"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_messages||0}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Xo,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Platform activity"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:s.jsx(Zr,{size:24,className:"text-amber-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Ratings"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_ratings||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Zr,{size:14,className:"text-amber-500 fill-amber-500"}),s.jsxs("span",{className:"text-sm font-bold text-slate-500",children:["Avg: ",e?.avg_rating?e.avg_rating.toFixed(1):"0.0"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:s.jsx(Rn,{size:24,className:"text-purple-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Events"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_events||0}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(Rn,{size:14,className:"text-purple-500"}),s.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[e?.upcoming_events||0," Upcoming"]})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:s.jsx(Sn,{size:24,className:"text-red-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Reports"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.reports_count||0}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Sn,{size:14,className:"text-red-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Pending reports"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-xl flex items-center justify-center",children:s.jsx(gt,{size:24,className:"text-teal-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"New Today"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.new_groups_today||0}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Xo,{size:14,className:"text-teal-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Groups created today"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:s.jsx(Rn,{size:24,className:"text-indigo-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"This Week"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.meetings_this_week||0}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(Rn,{size:14,className:"text-indigo-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Meetings scheduled"})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center",children:s.jsx(Sn,{size:24,className:"text-rose-600"})}),s.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Violations"})]}),s.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.violations_count||0}),s.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[s.jsx(t$,{size:14,className:"text-rose-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Banned/Suspended users"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Group with Most Meetings"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Most active group this week"})]}),s.jsx("div",{className:"p-6",children:e?.group_with_most_meetings?s.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border-2 border-indigo-200",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-2xl flex items-center justify-center font-black text-2xl flex-shrink-0 shadow-lg",children:e.group_with_most_meetings.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"text-xl font-black text-slate-900 mb-1",children:e.group_with_most_meetings.name}),s.jsx("p",{className:"text-sm text-slate-600 font-medium mb-3",children:e.group_with_most_meetings.subject}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{size:16,className:"text-indigo-600"}),s.jsxs("span",{className:"text-sm font-bold text-indigo-700",children:[e.group_with_most_meetings.events_count," meeting",e.group_with_most_meetings.events_count!==1?"s":""," this week"]})]})}),s.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:s.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["Led by ",s.jsx("span",{className:"font-bold text-slate-700",children:e.group_with_most_meetings.creator.name})]})})]})]})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Rn,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No meetings scheduled this week"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Most Reported Users"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Users with highest report count"})]}),s.jsx("div",{className:"p-6",children:e?.most_reported_users&&e.most_reported_users.length>0?s.jsx("div",{className:"space-y-4",children:e.most_reported_users.slice(0,5).map((g,v)=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-red-50 rounded-xl border border-red-100",children:[s.jsx("div",{className:"w-10 h-10 bg-red-200 text-red-700 rounded-lg flex items-center justify-center font-bold flex-shrink-0",children:g.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),s.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.email})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-red-100 px-3 py-1 rounded-full",children:[s.jsx(Sn,{size:14,className:"text-red-600"}),s.jsx("span",{className:"text-sm font-black text-red-700",children:g.report_count})]})]},v))}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Sn,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No reports yet"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Activity Feed"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest platform activities"})]}),s.jsx("div",{className:"p-6",children:e?.recent_activity_feed&&e.recent_activity_feed.length>0?s.jsx("div",{className:"space-y-3",children:e.recent_activity_feed.map((g,v)=>{const N=j=>{switch(j){case"user_joined":return s.jsx(gt,{size:16,className:"text-blue-600"});case"group_created":return s.jsx(gt,{size:16,className:"text-emerald-600"});case"report_submitted":return s.jsx(Sn,{size:16,className:"text-red-600"});default:return s.jsx(Tu,{size:16,className:"text-slate-600"})}},_=j=>{switch(j){case"user_joined":return"bg-blue-100";case"group_created":return"bg-emerald-100";case"report_submitted":return"bg-red-100";default:return"bg-slate-100"}};return s.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:`w-8 h-8 ${_(g.type)} rounded-lg flex items-center justify-center flex-shrink-0`,children:N(g.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-bold text-slate-900",children:g.description}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:h(new Date(g.timestamp))})]})]},v)})}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Tu,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No recent activity"})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Users"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest registered users"})]}),s.jsx("div",{className:"p-6 space-y-4",children:e?.recent_users.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:g.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),s.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.email})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${g.role==="leader"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:g.role})]},g.id))})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Groups"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest created study groups"})]}),s.jsx("div",{className:"p-6 space-y-4",children:e?.recent_groups.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-100 text-emerald-600 rounded-lg flex items-center justify-center font-bold",children:g.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),s.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.subject})]}),s.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[g.members_count," members"]})]},g.id))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Ratings"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest group ratings submitted"})]}),s.jsx("div",{className:"p-6 space-y-4",children:e?.recent_ratings&&e.recent_ratings.length>0?e.recent_ratings.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-lg flex items-center justify-center font-bold",children:s.jsx(Zr,{size:20,className:"fill-amber-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.group_name}),s.jsxs("p",{className:"text-xs text-slate-500 font-medium truncate",children:["by ",g.user_name]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Zr,{size:12,className:"text-amber-500 fill-amber-500"}),s.jsx("span",{className:"text-xs font-bold text-slate-700",children:g.group_rating.toFixed(1)})]}),s.jsx("span",{className:"text-xs text-slate-400",children:"Group"})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Zr,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No ratings yet"})]})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsxs("div",{className:"p-6 border-b border-slate-100",children:[s.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Events"}),s.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest scheduled events"})]}),s.jsx("div",{className:"p-6 space-y-4",children:e?.recent_events&&e.recent_events.length>0?e.recent_events.slice(0,5).map(g=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:s.jsx(Rn,{size:20})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.title}),s.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.type})]}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("span",{className:"text-xs font-bold text-slate-700",children:new Date(g.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("span",{className:"text-xs text-slate-400",children:new Date(g.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]},g.id)):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Rn,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-slate-500",children:"No events yet"})]})})]})]})]})})},Ade=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(""),[h,g]=b.useState(""),[v,N]=b.useState(1),[_,j]=b.useState(1),[E,C]=b.useState(0),[A,k]=b.useState(null),[R,M]=b.useState({name:"",email:"",role:"",major:"",bio:"",location:""}),[P,O]=b.useState(!1),[L,z]=b.useState(null),[q,Y]=b.useState(null),[G,W]=b.useState(!1),[ee,Z]=b.useState(null),[U,J]=b.useState({duration:"7",reason:""}),[te,de]=b.useState(null),[ue,D]=b.useState(""),[X,ge]=b.useState(null),[xe,K]=b.useState(null),[le,ye]=b.useState(""),[Ge,oe]=b.useState(null),[_e,Pe]=b.useState(""),ve=ie=>{if(!ie)return null;const Oe=new Date(ie),et=new Date,tt=Oe.getTime()-et.getTime(),pt=Math.ceil(tt/(1e3*60*60*24));return pt>0?pt:null},lt=()=>{const ie=localStorage.getItem("admin_auth");if(!ie)return!1;const{role:Oe}=JSON.parse(ie);return Oe==="admin"},Be=ie=>!["admin","moderator"].includes(ie.role);b.useEffect(()=>{Qe();const ie=setInterval(()=>{Qe(!0)},3e4);return()=>clearInterval(ie)},[v,f,h]);const Qe=async(ie=!1)=>{try{ie||l(!0);const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token,pt=new URLSearchParams({page:v.toString(),...f&&{search:f},...h&&{role:h}}),yt=await fetch(`http://localhost:8000/api/admin/users?${pt}`,{headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}});if(!yt.ok)throw new Error("Failed to fetch users");const $=await yt.json();t($.data),N($.current_page),j($.last_page),C($.total),u(new Date)}catch(Oe){console.error("Failed to load users:",Oe)}finally{r(!1),l(!1)}},ft=()=>{Qe()},Xt=ie=>{if(!ie)return"Never";const Oe=Math.floor((new Date().getTime()-ie.getTime())/1e3);if(Oe<60)return"Just now";const et=Math.floor(Oe/60);return et<60?`${et}m ago`:`${Math.floor(et/60)}h ago`},Cn=ie=>{k(ie),M({name:ie.name,email:ie.email,role:ie.role,major:ie.major||"",bio:ie.bio||"",location:ie.location||""})},fr=async()=>{if(A){O(!0);try{const ie=localStorage.getItem("admin_auth");if(!ie)return;const et=JSON.parse(ie).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${A.id}`,{method:"PUT",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify(R)})).ok)throw new Error("Failed to update user");alert("User updated successfully!"),k(null),Qe()}catch(ie){alert(ie.message||"Failed to update user")}finally{O(!1)}}},tr=async ie=>{try{const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token,pt=await fetch(`http://localhost:8000/api/admin/users/${ie}`,{method:"DELETE",headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}});if(!pt.ok){const yt=await pt.json();throw new Error(yt.message||"Failed to delete user")}alert("User deleted successfully!"),z(null),Qe()}catch(Oe){alert(Oe.message||"Failed to delete user")}},nr=async ie=>{W(!0);try{const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token,pt=await fetch(`http://localhost:8000/api/admin/users/${ie}/profile`,{headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}});if(!pt.ok)throw new Error("Failed to fetch user profile");const yt=await pt.json();Y(yt)}catch(Oe){console.error("Failed to load user profile:",Oe),alert("Failed to load user profile")}finally{W(!1)}},qn=async()=>{if(ee){O(!0);try{const ie=localStorage.getItem("admin_auth");if(!ie)return;const et=JSON.parse(ie).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${ee.id}/suspend`,{method:"POST",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({duration_days:parseInt(U.duration),reason:U.reason})})).ok)throw new Error("Failed to suspend user");alert("User suspended successfully!"),Z(null),J({duration:"7",reason:""}),Qe()}catch(ie){alert(ie.message||"Failed to suspend user")}finally{O(!1)}}},pe=async()=>{if(te){O(!0);try{const ie=localStorage.getItem("admin_auth");if(!ie)return;const et=JSON.parse(ie).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${te.id}/assign-role`,{method:"POST",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({role:ue})})).ok)throw new Error("Failed to assign role");alert("Role assigned successfully!"),de(null),D(""),Qe()}catch(ie){alert(ie.message||"Failed to assign role")}finally{O(!1)}}},ze=async ie=>{if(confirm("Are you sure you want to reset this user's password? A new password will be generated and sent to their email."))try{const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token,pt=await fetch(`http://localhost:8000/api/admin/users/${ie}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}});if(!pt.ok)throw new Error("Failed to reset password");const yt=await pt.json();alert(`Password reset successfully! New password: ${yt.new_password}

Please share this with the user securely.`)}catch(Oe){alert(Oe.message||"Failed to reset password")}},Ot=async()=>{if(xe){O(!0);try{const ie=localStorage.getItem("admin_auth");if(!ie)return;const et=JSON.parse(ie).token,tt=await fetch(`http://localhost:8000/api/admin/users/${xe.id}/warn`,{method:"POST",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({reason:le})});if(!tt.ok)throw new Error("Failed to warn user");const pt=await tt.json();alert(pt.auto_banned?"User has been automatically banned after receiving 3 warnings!":"User warned successfully!"),K(null),ye(""),Qe()}catch(ie){alert(ie.message||"Failed to warn user")}finally{O(!1)}}},ae=async()=>{if(Ge){O(!0);try{const ie=localStorage.getItem("admin_auth");if(!ie)return;const et=JSON.parse(ie).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${Ge.id}/ban`,{method:"POST",headers:{Authorization:`Bearer ${et}`,"Content-Type":"application/json"},body:JSON.stringify({reason:_e})})).ok)throw new Error("Failed to ban user");alert("User banned successfully!"),oe(null),Pe(""),Qe()}catch(ie){alert(ie.message||"Failed to ban user")}finally{O(!1)}}},je=async ie=>{if(confirm("Are you sure you want to unban this user? This will also reset their warnings."))try{const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${ie}/unban`,{method:"POST",headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unban user");alert("User unbanned successfully!"),Qe()}catch(Oe){alert(Oe.message||"Failed to unban user")}},Fe=async ie=>{if(confirm("Are you sure you want to lift this user's suspension?"))try{const Oe=localStorage.getItem("admin_auth");if(!Oe)return;const tt=JSON.parse(Oe).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${ie}/unsuspend`,{method:"POST",headers:{Authorization:`Bearer ${tt}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unsuspend user");alert("User suspension lifted successfully!"),Qe()}catch(Oe){alert(Oe.message||"Failed to unsuspend user")}};return s.jsxs(va,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"User Management"}),s.jsxs("p",{className:"text-slate-500 font-medium",children:[E," total users registered"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",Xt(c)]})]}),s.jsxs("button",{onClick:ft,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsxs("div",{className:"relative w-full md:w-96",children:[s.jsx(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search users by name, email, major...",value:f,onChange:ie=>{p(ie.target.value),N(1)},className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 placeholder:text-slate-400"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(sr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsxs("select",{value:h,onChange:ie=>{g(ie.target.value),N(1)},className:"w-full md:w-48 pl-12 pr-10 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 appearance-none cursor-pointer",children:[s.jsx("option",{value:"",children:"All Roles"}),s.jsx("option",{value:"member",children:"Members"}),s.jsx("option",{value:"leader",children:"Leaders"}),s.jsx("option",{value:"moderator",children:"Moderators"}),s.jsx("option",{value:"admin",children:"Admins"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:n?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Re,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading users..."})]}):e.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Jz,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"No users found"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Users will appear here"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"User"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Role"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Major"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Groups"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Joined"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(ie=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:ie.name[0]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900",children:ie.name}),s.jsx("p",{className:"text-sm text-slate-500",children:ie.email})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ie.role==="admin"?"bg-purple-100 text-purple-700":ie.role==="moderator"?"bg-orange-100 text-orange-700":ie.role==="leader"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:ie.role}),!!ie.banned&&s.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-red-100 text-red-700",children:"Banned"}),ie.suspended_until&&new Date(ie.suspended_until)>new Date&&s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-700",children:["Suspended (",ve(ie.suspended_until),"d left)"]}),!!ie.warnings&&ie.warnings>0&&s.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-amber-100 text-amber-700",children:[ie.warnings," ",ie.warning_expires_at&&ve(ie.warning_expires_at)!==null&&s.jsxs(s.Fragment,{children:[" (",ve(ie.warning_expires_at),"d left)"]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm font-bold text-slate-700",children:ie.major||"N/A"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold text-purple-600",children:ie.created_groups_count}),s.jsx("span",{className:"text-xs text-slate-400",children:"created"})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-slate-500 font-medium",children:new Date(ie.created_at).toLocaleDateString()})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:()=>nr(ie.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:"View profile",children:s.jsx(Rp,{size:16})}),s.jsx("button",{onClick:()=>Cn(ie),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit user",children:s.jsx(Wo,{size:16})}),ie.email!=="admin@au.edu"&&s.jsxs(s.Fragment,{children:[lt()&&s.jsx("button",{onClick:()=>{de(ie),D(ie.role)},className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Assign role",children:s.jsx(sr,{size:16})}),(Be(ie)||lt())&&s.jsxs(s.Fragment,{children:[ie.banned?s.jsx("button",{onClick:()=>je(ie.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Unban user",children:s.jsx(Zo,{size:16})}):ie.suspended_until&&new Date(ie.suspended_until)>new Date?s.jsx("button",{onClick:()=>Fe(ie.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Lift suspension",children:s.jsx(Zo,{size:16})}):s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>K(ie),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Warn user",children:s.jsx(Sn,{size:16})}),s.jsx("button",{onClick:()=>Z(ie),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-all",title:"Suspend user",children:s.jsx(Ts,{size:16})}),s.jsx("button",{onClick:()=>oe(ie),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Ban user permanently",children:s.jsx(Ts,{size:16,className:"fill-current"})})]}),s.jsx("button",{onClick:()=>ze(ie.id),className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-all",title:"Reset password",children:s.jsx(xR,{size:16})})]}),lt()&&s.jsx("button",{onClick:()=>z(ie.id),className:"p-2 text-slate-600 hover:bg-slate-50 rounded-lg transition-all",title:"Delete user",children:s.jsx(Ai,{size:16})})]})]})})]},ie.id))})]})})})}),_>1&&s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",v," of ",_]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>N(ie=>Math.max(1,ie-1)),disabled:v===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),s.jsx("button",{onClick:()=>N(ie=>Math.min(_,ie+1)),disabled:v===_,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),A&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Edit User"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Update user information"})]}),s.jsx("button",{onClick:()=>k(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Name"}),s.jsx("input",{type:"text",value:R.name,onChange:ie=>M({...R,name:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email"}),s.jsx("input",{type:"email",value:R.email,onChange:ie=>M({...R,email:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Role"}),s.jsxs("select",{value:R.role,onChange:ie=>M({...R,role:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"leader",children:"Leader"}),s.jsx("option",{value:"moderator",children:"Moderator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Major"}),s.jsx("input",{type:"text",value:R.major,onChange:ie=>M({...R,major:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsx("input",{type:"text",value:R.location,onChange:ie=>M({...R,location:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Bio"}),s.jsx("textarea",{value:R.bio,onChange:ie=>M({...R,bio:ie.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold resize-none"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:fr,disabled:P,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Saving..."]}):"Save Changes"}),s.jsx("button",{onClick:()=>k(null),className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),L&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gu,{size:32,className:"text-red-600"})}),s.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete User?"}),s.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. All user data and created groups will be permanently deleted."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>tr(L),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),s.jsx("button",{onClick:()=>z(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),q&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-4xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"User Profile"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:q.user.name})]}),s.jsx("button",{onClick:()=>Y(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Email"}),s.jsx("p",{className:"font-bold text-slate-900",children:q.user.email})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Role"}),s.jsx("p",{className:"font-bold text-slate-900 capitalize",children:q.user.role})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Major"}),s.jsx("p",{className:"font-bold text-slate-900",children:q.user.major||"N/A"})]}),s.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Location"}),s.jsx("p",{className:"font-bold text-slate-900",children:q.user.location||"N/A"})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[s.jsx(gt,{size:20,className:"text-purple-600"}),"Groups (",(q.created_groups?.length||0)+(q.joined_groups?.length||0),")"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border-2 border-purple-200",children:[s.jsx("p",{className:"text-sm font-black text-purple-600 mb-2",children:"Created"}),s.jsx("p",{className:"text-2xl font-black text-slate-900",children:q.created_groups?.length||0})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[s.jsx("p",{className:"text-sm font-black text-blue-600 mb-2",children:"Joined"}),s.jsx("p",{className:"text-2xl font-black text-slate-900",children:q.joined_groups?.length||0})]})]})]}),s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[s.jsx(Gu,{size:20,className:"text-orange-600"}),"Reports"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border-2 border-orange-200",children:[s.jsx("p",{className:"text-sm font-black text-orange-600 mb-2",children:"Reports Made"}),s.jsx("p",{className:"text-2xl font-black text-slate-900",children:q.reports_made?.length||0})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[s.jsx("p",{className:"text-sm font-black text-red-600 mb-2",children:"Reports Received"}),s.jsx("p",{className:"text-2xl font-black text-slate-900",children:q.reports_received?.length||0})]})]})]}),(q.moderation_history?.length||0)>0&&s.jsxs("div",{children:[s.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[s.jsx(sr,{size:20,className:"text-slate-600"}),"Moderation History"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:q.moderation_history.map((ie,Oe)=>s.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("span",{className:"font-black text-slate-900",children:ie.action_type}),s.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(ie.created_at).toLocaleDateString()})]}),ie.reason&&s.jsx("p",{className:"text-slate-600 font-medium",children:ie.reason})]},Oe))})]}),s.jsx("button",{onClick:()=>Y(null),className:"w-full py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Close"})]})]})}),ee&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Suspend User"}),s.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Temporarily restrict access"})]}),s.jsx("button",{onClick:()=>{Z(null),J({duration:"7",reason:""})},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border-2 border-orange-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:ee.name}),s.jsx("p",{className:"text-sm text-slate-600",children:ee.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Duration (Days)"}),s.jsxs("select",{value:U.duration,onChange:ie=>J({...U,duration:ie.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none font-bold",children:[s.jsx("option",{value:"1",children:"1 Day"}),s.jsx("option",{value:"3",children:"3 Days"}),s.jsx("option",{value:"7",children:"7 Days"}),s.jsx("option",{value:"14",children:"14 Days"}),s.jsx("option",{value:"30",children:"30 Days"}),s.jsx("option",{value:"90",children:"90 Days"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),s.jsx("textarea",{value:U.reason,onChange:ie=>J({...U,reason:ie.target.value}),rows:4,placeholder:"Explain why this user is being suspended...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:qn,disabled:P||!U.reason.trim(),className:"flex-1 py-4 bg-orange-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-orange-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Suspending..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ts,{size:18}),"Suspend User"]})}),s.jsx("button",{onClick:()=>{Z(null),J({duration:"7",reason:""})},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),te&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-emerald-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Assign Role"}),s.jsx("p",{className:"text-emerald-100 text-sm font-bold mt-1",children:"Change user permissions"})]}),s.jsx("button",{onClick:()=>{de(null),D("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border-2 border-emerald-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:te.name}),s.jsx("p",{className:"text-sm text-slate-600",children:te.email}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Current role: ",s.jsx("span",{className:"font-bold capitalize",children:te.role})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Role"}),s.jsxs("select",{value:ue,onChange:ie=>D(ie.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all outline-none font-bold",children:[s.jsx("option",{value:"member",children:"Member"}),s.jsx("option",{value:"leader",children:"Leader"}),s.jsx("option",{value:"moderator",children:"Moderator"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[s.jsx("p",{className:"text-xs font-black text-blue-600 uppercase tracking-widest mb-2",children:"Role Permissions"}),s.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 font-medium",children:[ue==="member"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Can join and create groups"}),s.jsx("li",{children:" Basic platform access"})]}),ue==="leader"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Can manage own groups"}),s.jsx("li",{children:" Can organize meetings"}),s.jsx("li",{children:" Standard user privileges"})]}),ue==="moderator"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Can review reports"}),s.jsx("li",{children:" Can moderate content"}),s.jsx("li",{children:" Can suspend users temporarily"})]}),ue==="admin"&&s.jsxs(s.Fragment,{children:[s.jsx("li",{children:" Full platform access"}),s.jsx("li",{children:" Can manage all users and groups"}),s.jsx("li",{children:" Can access analytics dashboard"})]})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:pe,disabled:P||ue===te.role,className:"flex-1 py-4 bg-emerald-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Assigning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(sr,{size:18}),"Assign Role"]})}),s.jsx("button",{onClick:()=>{de(null),D("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),xe&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-amber-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Warn User"}),s.jsx("p",{className:"text-amber-100 text-sm font-bold mt-1",children:"Issue a warning (3 warnings = auto-ban)"})]}),s.jsx("button",{onClick:()=>{K(null),ye("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border-2 border-amber-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:xe.name}),s.jsx("p",{className:"text-sm text-slate-600",children:xe.email}),s.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Current warnings: ",s.jsx("span",{className:"font-bold",children:xe.warnings||0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),s.jsx("textarea",{value:le,onChange:ie=>ye(ie.target.value),rows:4,placeholder:"Explain why this user is being warned...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),(xe.warnings||0)>=2&&s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[s.jsx("p",{className:"text-sm font-black text-red-600",children:" WARNING"}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"This will be the user's 3rd warning. They will be automatically banned!"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Ot,disabled:P||!le.trim(),className:"flex-1 py-4 bg-amber-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-amber-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Warning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Sn,{size:18}),"Issue Warning"]})}),s.jsx("button",{onClick:()=>{K(null),ye("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),Ge&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Ban User"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:"Permanently ban user from platform"})]}),s.jsx("button",{onClick:()=>{oe(null),Pe("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:Ge.name}),s.jsx("p",{className:"text-sm text-slate-600",children:Ge.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),s.jsx("textarea",{value:_e,onChange:ie=>Pe(ie.target.value),rows:4,placeholder:"Explain why this user is being permanently banned...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[s.jsx("p",{className:"text-sm font-black text-red-600",children:" PERMANENT ACTION"}),s.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"This user will lose all access to the platform. Use unban to restore access."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:ae,disabled:P||!_e.trim(),className:"flex-1 py-4 bg-red-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Banning..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ts,{size:18}),"Ban User"]})}),s.jsx("button",{onClick:()=>{oe(null),Pe("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})})]})},Tde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(""),[h,g]=b.useState(""),[v,N]=b.useState(""),[_,j]=b.useState(1),[E,C]=b.useState(1),[A,k]=b.useState(0),[R,M]=b.useState(null),[P,O]=b.useState({name:"",subject:"",faculty:"",description:"",max_members:5,location:"",status:"open"}),[L,z]=b.useState(!1),[q,Y]=b.useState(null),[G,W]=b.useState(null),[ee,Z]=b.useState(null),[U,J]=b.useState(""),[te,de]=b.useState(null),[ue,D]=b.useState(""),[X,ge]=b.useState([]),[xe,K]=b.useState(null),[le,ye]=b.useState([]),[Ge,oe]=b.useState(!1);b.useEffect(()=>{_e();const pe=setInterval(()=>{_e(!0)},3e4);return()=>clearInterval(pe)},[_,f,h,v]);const _e=async(pe=!1)=>{try{pe||l(!0);const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,je=await fetch(`http://localhost:8000/api/admin/groups?page=${_}&search=${f}&status=${h}&approval_status=${v}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error("Failed to fetch groups");const Fe=await je.json();t(Fe.data),j(Fe.current_page),C(Fe.last_page),k(Fe.total),u(new Date)}catch(ze){console.error("Failed to load groups:",ze)}finally{r(!1),l(!1)}},Pe=()=>{_e()},ve=pe=>{if(!pe)return"Never";const ze=Math.floor((new Date().getTime()-pe.getTime())/1e3);if(ze<60)return"Just now";const Ot=Math.floor(ze/60);return Ot<60?`${Ot}m ago`:`${Math.floor(Ot/60)}h ago`},lt=pe=>{M(pe),O({name:pe.name,subject:pe.subject,faculty:pe.faculty,description:pe.description,max_members:pe.max_members,location:pe.location,status:pe.status})},Be=async()=>{if(R){z(!0);try{const pe=localStorage.getItem("admin_auth");if(!pe)return;const Ot=JSON.parse(pe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${R.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Ot}`,"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw new Error("Failed to update group");alert("Group updated successfully!"),M(null),_e()}catch(pe){alert(pe.message||"Failed to update group")}finally{z(!1)}}},Qe=async pe=>{try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${pe}`,{method:"DELETE",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete group");alert("Group deleted successfully!"),Y(null),_e()}catch(ze){alert(ze.message||"Failed to delete group")}},ft=async()=>{if(G){z(!0);try{const pe=localStorage.getItem("admin_auth");if(!pe)return;const Ot=JSON.parse(pe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${G.id}/approve`,{method:"POST",headers:{Authorization:`Bearer ${Ot}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to approve group");alert("Group approved successfully!"),W(null),_e()}catch(pe){alert(pe.message||"Failed to approve group")}finally{z(!1)}}},Xt=async()=>{if(ee){z(!0);try{const pe=localStorage.getItem("admin_auth");if(!pe)return;const Ot=JSON.parse(pe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${ee.id}/reject`,{method:"POST",headers:{Authorization:`Bearer ${Ot}`,"Content-Type":"application/json"},body:JSON.stringify({reason:U})})).ok)throw new Error("Failed to reject group");alert("Group rejected successfully!"),Z(null),J(""),_e()}catch(pe){alert(pe.message||"Failed to reject group")}finally{z(!1)}}},Cn=async pe=>{de(pe);try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,je=await fetch(`http://localhost:8000/api/groups/${pe.id}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error("Failed to fetch group members");const Fe=await je.json();ge(Fe.members||[])}catch(ze){console.error("Failed to load group members:",ze),alert("Failed to load group members")}},fr=async()=>{if(!(!te||!ue)){z(!0);try{const pe=localStorage.getItem("admin_auth");if(!pe)return;const Ot=JSON.parse(pe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${te.id}/transfer-ownership`,{method:"POST",headers:{Authorization:`Bearer ${Ot}`,"Content-Type":"application/json"},body:JSON.stringify({new_owner_id:ue})})).ok)throw new Error("Failed to transfer ownership");alert("Ownership transferred successfully!"),de(null),D(""),ge([]),_e()}catch(pe){alert(pe.message||"Failed to transfer ownership")}finally{z(!1)}}},tr=async pe=>{K(pe),oe(!0);try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,je=await fetch(`http://localhost:8000/api/admin/groups/${pe.id}/chat-logs`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error("Failed to fetch chat logs");const Fe=await je.json();ye(Fe.messages||[])}catch(ze){console.error("Failed to load chat logs:",ze),alert("Failed to load chat logs")}finally{oe(!1)}},nr=pe=>{switch(pe){case"open":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:[s.jsx(Bu,{size:12})," Open"]});case"closed":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1 rounded-lg",children:[s.jsx(Si,{size:12})," Closed"]});case"archived":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-slate-500 bg-slate-100 px-3 py-1 rounded-lg",children:[s.jsx(Pa,{size:12})," Archived"]});default:return null}},qn=pe=>{switch(pe){case"approved":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:[s.jsx(La,{size:12})," Approved"]});case"rejected":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-3 py-1 rounded-lg",children:[s.jsx(Rs,{size:12})," Rejected"]});case"pending":return s.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1 rounded-lg",children:[s.jsx(Kz,{size:12})," Pending"]});default:return null}};return s.jsxs(va,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"Group Management"}),s.jsxs("p",{className:"text-slate-500 font-medium",children:[A," total study groups"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",ve(c)]})]}),s.jsxs("button",{onClick:Pe,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("select",{value:h,onChange:pe=>{g(pe.target.value),j(1)},className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"closed",children:"Closed"}),s.jsx("option",{value:"archived",children:"Archived"})]}),s.jsxs("select",{value:v,onChange:pe=>{N(pe.target.value),j(1)},className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",children:[s.jsx("option",{value:"",children:"All Approvals"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"approved",children:"Approved"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsxs("div",{className:"relative w-full sm:w-80",children:[s.jsx(Ua,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search groups...",value:f,onChange:pe=>{p(pe.target.value),j(1)},className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 placeholder:text-slate-400"})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:n?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Re,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading groups..."})]}):e.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(gt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"No groups found"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Groups will appear here"})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Group"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Leader"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Faculty"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Members"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Status"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Approval"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Created"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(pe=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900",children:pe.name}),s.jsx("p",{className:"text-sm text-slate-500",children:pe.subject})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-700",children:pe.creator.name}),s.jsx("p",{className:"text-xs text-slate-500",children:pe.creator.email})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm font-bold text-slate-700",children:pe.faculty})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{size:14,className:"text-purple-600"}),s.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[pe.members_count,"/",pe.max_members]})]})}),s.jsx("td",{className:"px-6 py-4",children:nr(pe.status)}),s.jsx("td",{className:"px-6 py-4",children:qn(pe.approval_status)}),s.jsx("td",{className:"px-6 py-4",children:s.jsx("span",{className:"text-sm text-slate-500 font-medium",children:new Date(pe.created_at).toLocaleDateString()})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[pe.approval_status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>W(pe),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Approve group",children:s.jsx(La,{size:16})}),s.jsx("button",{onClick:()=>Z(pe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Reject group",children:s.jsx(Rs,{size:16})})]}),s.jsx("button",{onClick:()=>tr(pe),className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-all",title:"View chat logs",children:s.jsx(Tl,{size:16})}),s.jsx("button",{onClick:()=>Cn(pe),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:"Transfer ownership",children:s.jsx(Zo,{size:16})}),s.jsx("button",{onClick:()=>lt(pe),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit group",children:s.jsx(Wo,{size:16})}),s.jsx("button",{onClick:()=>Y(pe.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete group",children:s.jsx(Ai,{size:16})})]})})]},pe.id))})]})})})}),E>1&&s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",_," of ",E]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>j(pe=>Math.max(1,pe-1)),disabled:_===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),s.jsx("button",{onClick:()=>j(pe=>Math.min(E,pe+1)),disabled:_===E,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),R&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Edit Group"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Update group information"})]}),s.jsx("button",{onClick:()=>M(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Group Name"}),s.jsx("input",{type:"text",value:P.name,onChange:pe=>O({...P,name:pe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject"}),s.jsx("input",{type:"text",value:P.subject,onChange:pe=>O({...P,subject:pe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),s.jsx("input",{type:"text",value:P.faculty,onChange:pe=>O({...P,faculty:pe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Members"}),s.jsx("input",{type:"number",min:"2",value:P.max_members,onChange:pe=>O({...P,max_members:parseInt(pe.target.value)}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),s.jsx("input",{type:"text",value:P.location,onChange:pe=>O({...P,location:pe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Status"}),s.jsxs("select",{value:P.status,onChange:pe=>O({...P,status:pe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"closed",children:"Closed"}),s.jsx("option",{value:"archived",children:"Archived"})]})]}),s.jsxs("div",{className:"col-span-2 space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),s.jsx("textarea",{value:P.description,onChange:pe=>O({...P,description:pe.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold resize-none"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Be,disabled:L,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Saving..."]}):"Save Changes"}),s.jsx("button",{onClick:()=>M(null),className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),q&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gu,{size:32,className:"text-red-600"})}),s.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete Group?"}),s.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. All messages and group data will be permanently deleted."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>Qe(q),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),s.jsx("button",{onClick:()=>Y(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),G&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(La,{size:32,className:"text-emerald-600"})}),s.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Approve Group?"}),s.jsx("p",{className:"text-slate-600 text-center mb-2",children:"You are about to approve the following group:"}),s.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl mb-6",children:[s.jsx("p",{className:"font-bold text-slate-900",children:G.name}),s.jsx("p",{className:"text-sm text-slate-600",children:G.subject}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Created by: ",G.creator.name]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:ft,disabled:L,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-bold hover:bg-emerald-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:16,className:"animate-spin"}),"Approving..."]}):"Approve"}),s.jsx("button",{onClick:()=>W(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),ee&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-red-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Reject Group"}),s.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:"Provide a reason for rejection"})]}),s.jsx("button",{onClick:()=>{Z(null),J("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:ee.name}),s.jsx("p",{className:"text-sm text-slate-600",children:ee.subject}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Created by: ",ee.creator.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Rejection Reason"}),s.jsx("textarea",{value:U,onChange:pe=>J(pe.target.value),rows:4,placeholder:"Explain why this group is being rejected...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:Xt,disabled:L||!U.trim(),className:"flex-1 py-4 bg-red-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Rejecting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Rs,{size:18}),"Reject Group"]})}),s.jsx("button",{onClick:()=>{Z(null),J("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),te&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Transfer Ownership"}),s.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Assign a new group leader"})]}),s.jsx("button",{onClick:()=>{de(null),D(""),ge([])},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8 space-y-6",children:[s.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border-2 border-purple-200",children:[s.jsx("p",{className:"font-bold text-slate-900",children:te.name}),s.jsx("p",{className:"text-sm text-slate-600",children:te.subject}),s.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current leader: ",te.creator.name]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Owner"}),X.length>0?s.jsxs("select",{value:ue,onChange:pe=>D(pe.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[s.jsx("option",{value:"",children:"Select a member"}),X.map(pe=>s.jsxs("option",{value:pe.id,children:[pe.name," (",pe.email,")"]},pe.id))]}):s.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl",children:[s.jsx(Re,{size:16,className:"animate-spin text-purple-600"}),s.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Loading members..."})]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[s.jsx("p",{className:"text-xs font-black text-blue-600 uppercase tracking-widest mb-2",children:" Important"}),s.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 font-medium",children:[s.jsx("li",{children:" The current leader will become a regular member"}),s.jsx("li",{children:" The new owner will have full group management rights"}),s.jsx("li",{children:" This action cannot be undone"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:fr,disabled:L||!ue,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:18,className:"animate-spin"}),"Transferring..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Zo,{size:18}),"Transfer Ownership"]})}),s.jsx("button",{onClick:()=>{de(null),D(""),ge([])},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),xe&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-4xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 p-8 text-white flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-black",children:"Chat Logs"}),s.jsx("p",{className:"text-teal-100 text-sm font-bold mt-1",children:xe.name})]}),s.jsx("button",{onClick:()=>{K(null),ye([])},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:s.jsx(ct,{size:24})})]}),s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"bg-slate-50 rounded-xl border-2 border-slate-200 p-6 max-h-[600px] overflow-y-auto",children:Ge?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Re,{size:32,className:"animate-spin text-teal-600 mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading chat logs..."})]}):!Array.isArray(le)||le.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(Tl,{className:"w-16 h-16 text-slate-300 mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"No messages yet"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Chat messages will appear here"})]}):s.jsx("div",{className:"space-y-4",children:le.map((pe,ze)=>s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-blue-500 text-white rounded-lg flex items-center justify-center font-bold text-sm",children:pe.user?.name?.[0]||"U"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900",children:pe.user?.name||"Unknown User"}),s.jsx("p",{className:"text-xs text-slate-500",children:pe.user?.email||"No email"})]})]}),s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:new Date(pe.created_at).toLocaleString()})]}),pe.content&&s.jsx("p",{className:"text-slate-700 font-medium ml-13 mb-2",children:pe.content}),pe.file_path&&s.jsx("div",{className:"ml-13 mt-2 bg-slate-50 p-3 rounded-xl border-2 border-slate-200 inline-block",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"bg-teal-100 p-2 rounded-lg",children:s.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("a",{href:`http://localhost:8000/storage/${pe.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-teal-600 hover:text-teal-700 hover:underline",children:pe.file_name}),s.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[s.jsx("p",{className:"text-xs text-slate-500",children:pe.file_type}),pe.file_size&&s.jsxs("p",{className:"text-xs text-slate-500",children:[(pe.file_size/1024/1024).toFixed(2)," MB"]})]})]})]})})]},ze))})}),s.jsx("button",{onClick:()=>{K(null),ye([])},className:"w-full mt-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Close"})]})]})})]})},kde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[h,g]=b.useState(1),[v,N]=b.useState(0),[_,j]=b.useState(""),[E,C]=b.useState(""),[A,k]=b.useState(null),[R,M]=b.useState(null),[P,O]=b.useState(!1);b.useEffect(()=>{L();const Z=setInterval(()=>{L(!0)},3e4);return()=>clearInterval(Z)},[f,_,E]);const L=async(Z=!1)=>{try{Z||l(!0);const U=localStorage.getItem("admin_auth");if(!U)return;const te=JSON.parse(U).token,de=new URLSearchParams({page:f.toString(),per_page:"20",..._&&{search:_},...E&&{type:E}}),ue=await fetch(`http://localhost:8000/api/admin/events?${de}`,{headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}});if(!ue.ok)throw new Error("Failed to fetch events");const D=await ue.json();t(D.data),p(D.current_page),g(D.last_page),N(D.total),u(new Date)}catch(U){console.error("Failed to load events:",U)}finally{r(!1),l(!1)}},z=()=>{L()},q=Z=>{if(!Z)return"Never";const U=Math.floor((new Date().getTime()-Z.getTime())/1e3);if(U<60)return"Just now";const J=Math.floor(U/60);return J<60?`${J}m ago`:`${Math.floor(J/60)}h ago`},Y=async Z=>{if(confirm("Are you sure you want to delete this event? This action cannot be undone."))try{k(Z);const U=localStorage.getItem("admin_auth");if(!U)return;const te=JSON.parse(U).token;if(!(await fetch(`http://localhost:8000/api/admin/events/${Z}`,{method:"DELETE",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete event");alert("Event deleted successfully"),L()}catch(U){console.error("Failed to delete event:",U),alert("Failed to delete event")}finally{k(null)}},G=async Z=>{if(Z.preventDefault(),!!R)try{O(!0);const U=localStorage.getItem("admin_auth");if(!U)return;const te=JSON.parse(U).token;if(!(await fetch(`http://localhost:8000/api/admin/events/${R.id}`,{method:"PUT",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"},body:JSON.stringify({title:R.title,type:R.type,start_time:R.start_time,location:R.location||null,recurrence:R.recurrence,recurrence_count:R.recurrence_count||null})})).ok)throw new Error("Failed to update event");alert("Event updated successfully"),M(null),L()}catch(U){console.error("Failed to update event:",U),alert("Failed to update event")}finally{O(!1)}},W=Z=>new Date(Z).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),ee=Z=>({General:"bg-slate-100 text-slate-700",Project:"bg-blue-100 text-blue-700","Group Meeting":"bg-purple-100 text-purple-700",Exam:"bg-red-100 text-red-700",Assignment:"bg-orange-100 text-orange-700"})[Z]||"bg-slate-100 text-slate-700";return n&&e.length===0?s.jsx(va,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Re,{className:"w-16 h-16 text-purple-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading events..."})]})})}):s.jsxs(va,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Events Management"}),s.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:["Manage all calendar events and meetings (",v," total)"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",q(c)]})]}),s.jsxs("button",{onClick:z,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by title, location, creator, or group...",value:_,onChange:Z=>{j(Z.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsxs("select",{value:E,onChange:Z=>{C(Z.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[s.jsx("option",{value:"",children:"All Event Types"}),s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Project",children:"Project"}),s.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),s.jsx("option",{value:"Exam",children:"Exam"}),s.jsx("option",{value:"Assignment",children:"Assignment"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:e.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Rn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"No events found"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:_||E?"Try adjusting your filters":"Events will appear here"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Event Details"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Date & Time"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Location"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Creator"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(Z=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rn,{size:16,className:"text-purple-500"}),s.jsx("span",{className:"font-bold text-slate-900",children:Z.title})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${ee(Z.type)}`,children:Z.type}),Z.recurrence!=="none"&&Z.recurrence_count&&s.jsxs("span",{className:"flex items-center gap-1 text-xs text-slate-500 font-medium",children:[s.jsx(Bo,{size:12}),Z.recurrence," (",Z.recurrence_count,"x)"]})]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700",children:[s.jsx(dn,{size:14,className:"text-slate-400"}),W(Z.start_time)]})}),s.jsx("td",{className:"px-6 py-4",children:Z.location?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Nr,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-sm font-medium text-slate-700",children:Z.location})]}):s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"No location"})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900 text-sm",children:Z.user.name}),s.jsx("p",{className:"text-xs text-slate-500",children:Z.user.email})]})}),s.jsx("td",{className:"px-6 py-4",children:Z.group?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-900",children:Z.group.name})]}):s.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Personal Event"})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsxs("button",{onClick:()=>M(Z),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-all font-bold text-sm",children:[s.jsx(Wo,{size:14}),"Edit"]}),s.jsxs("button",{onClick:()=>Y(Z.id),disabled:A===Z.id,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all font-bold text-sm disabled:opacity-50",children:[A===Z.id?s.jsx(Re,{size:14,className:"animate-spin"}):s.jsx(Ai,{size:14}),"Delete"]})]})})]},Z.id))})]})})}),h>1&&s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",h]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p(Z=>Math.max(1,Z-1)),disabled:f===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),s.jsx("button",{onClick:()=>p(Z=>Math.min(h,Z+1)),disabled:f===h,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),R&&s.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"bg-purple-600 p-6 text-white flex justify-between items-center sticky top-0",children:[s.jsx("h3",{className:"text-xl font-black",children:"Edit Event"}),s.jsx("button",{onClick:()=>M(null),className:"hover:bg-purple-700 rounded-lg p-1 transition-all",children:s.jsx(ct,{size:20})})]}),s.jsxs("form",{onSubmit:G,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Event Title"}),s.jsx("input",{type:"text",required:!0,value:R.title,onChange:Z=>M({...R,title:Z.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Event Type"}),s.jsxs("select",{value:R.type,onChange:Z=>M({...R,type:Z.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500",children:[s.jsx("option",{value:"General",children:"General"}),s.jsx("option",{value:"Project",children:"Project"}),s.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),s.jsx("option",{value:"Exam",children:"Exam"}),s.jsx("option",{value:"Assignment",children:"Assignment"})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Date & Time"}),s.jsx("input",{type:"datetime-local",required:!0,value:R.start_time.slice(0,16),onChange:Z=>M({...R,start_time:Z.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location (Optional)"}),s.jsx("input",{type:"text",value:R.location||"",onChange:Z=>M({...R,location:Z.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),s.jsxs("select",{value:R.recurrence,onChange:Z=>M({...R,recurrence:Z.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500",children:[s.jsx("option",{value:"none",children:"One-time (No repeat)"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),R.recurrence!=="none"&&s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence Count"}),s.jsx("input",{type:"number",min:"1",max:"365",value:R.recurrence_count||"",onChange:Z=>M({...R,recurrence_count:parseInt(Z.target.value)||null}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Event Info"}),s.jsxs("div",{className:"text-sm space-y-1",children:[s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Creator:"})," ",R.user.name]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Group:"})," ",R.group?R.group.name:"Personal Event"]}),s.jsxs("p",{children:[s.jsx("span",{className:"font-bold",children:"Created:"})," ",new Date(R.created_at).toLocaleString()]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>M(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:P,className:"flex-1 py-3 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:P?s.jsxs(s.Fragment,{children:[s.jsx(Re,{size:16,className:"animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})]})},Mde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[h,g]=b.useState(1),[v,N]=b.useState(0),[_,j]=b.useState(""),[E,C]=b.useState(""),[A,k]=b.useState(""),[R,M]=b.useState(null);b.useEffect(()=>{P();const W=setInterval(()=>{P(!0)},3e4);return()=>clearInterval(W)},[f,_,E,A]);const P=async(W=!1)=>{try{W||l(!0);const ee=localStorage.getItem("admin_auth");if(!ee)return;const U=JSON.parse(ee).token,J=new URLSearchParams({page:f.toString(),per_page:"20",..._&&{search:_},...E&&{min_rating:E},...A&&{rating_type:A}}),te=await fetch(`http://localhost:8000/api/admin/ratings?${J}`,{headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}});if(!te.ok)throw new Error("Failed to fetch ratings");const de=await te.json();t(de.data),p(de.current_page),g(de.last_page),N(de.total),u(new Date)}catch(ee){console.error("Failed to load ratings:",ee)}finally{r(!1),l(!1)}},O=()=>{P()},L=W=>{if(!W)return"Never";const ee=Math.floor((new Date().getTime()-W.getTime())/1e3);if(ee<60)return"Just now";const Z=Math.floor(ee/60);return Z<60?`${Z}m ago`:`${Math.floor(Z/60)}h ago`},z=async W=>{if(confirm("Are you sure you want to delete this rating? This action cannot be undone."))try{M(W);const ee=localStorage.getItem("admin_auth");if(!ee)return;const U=JSON.parse(ee).token;if(!(await fetch(`http://localhost:8000/api/admin/ratings/${W}`,{method:"DELETE",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete rating");alert("Rating deleted successfully"),P()}catch(ee){console.error("Failed to delete rating:",ee),alert("Failed to delete rating")}finally{M(null)}},q=W=>s.jsxs("div",{className:"flex items-center gap-0.5",children:[[1,2,3,4,5].map(ee=>s.jsx(Zr,{size:14,className:ee<=W?"text-amber-500 fill-amber-500":"text-slate-300"},ee)),s.jsx("span",{className:"ml-1 text-sm font-bold text-slate-700",children:W.toFixed(1)})]}),Y=W=>new Date(W).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),G=(W,ee)=>((W+ee)/2).toFixed(1);return n&&e.length===0?s.jsx(va,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Re,{className:"w-16 h-16 text-purple-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading ratings..."})]})})}):s.jsx(va,{children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 shadow-sm",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Ratings Management"}),s.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:["Manage all group and leader ratings (",v," total)"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",L(c)]})]}),s.jsxs("button",{onClick:O,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ua,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsx("input",{type:"text",placeholder:"Search by user name or group name...",value:_,onChange:W=>{j(W.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Mb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsxs("select",{value:A,onChange:W=>{k(W.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[s.jsx("option",{value:"",children:"All Types"}),s.jsx("option",{value:"group",children:"Group Ratings Only"}),s.jsx("option",{value:"leader",children:"Leader Ratings Only"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),s.jsxs("select",{value:E,onChange:W=>{C(W.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[s.jsx("option",{value:"",children:"All Ratings"}),s.jsx("option",{value:"4",children:"4+ Stars"}),s.jsx("option",{value:"3",children:"3+ Stars"}),s.jsx("option",{value:"2",children:"2+ Stars"}),s.jsx("option",{value:"1",children:"1+ Stars"})]})]})]})]}),s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:e.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Zr,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"No ratings found"}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:_||E||A?"Try adjusting your filters":"Ratings will appear here"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Reviewer"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group Rated"}),(A===""||A==="group")&&s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group Rating"}),(A===""||A==="leader")&&s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Leader Rating"}),A===""&&s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Average"}),s.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(W=>s.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900 text-sm",children:W.user.name}),s.jsx("p",{className:"text-xs text-slate-500",children:W.user.email}),W.update_count>0&&s.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:["Updated ",W.update_count,"x"]})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{size:14,className:"text-emerald-500"}),s.jsx("span",{className:"text-sm font-bold text-slate-900",children:W.group.name})]})}),(A===""||A==="group")&&s.jsx("td",{className:"px-6 py-4",children:q(W.group_rating)}),(A===""||A==="leader")&&s.jsx("td",{className:"px-6 py-4",children:q(W.leader_rating)}),A===""&&s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xo,{size:14,className:"text-purple-500"}),s.jsx("span",{className:"text-sm font-black text-purple-600",children:G(W.group_rating,W.leader_rating)})]})}),s.jsx("td",{className:"px-6 py-4",children:s.jsxs("div",{className:"text-sm text-slate-600 font-medium",children:[s.jsx("div",{children:Y(W.created_at)}),W.updated_at!==W.created_at&&s.jsxs("div",{className:"text-xs text-slate-400",children:["Updated: ",Y(W.updated_at)]})]})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("button",{onClick:()=>z(W.id),disabled:R===W.id,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all font-bold text-sm disabled:opacity-50",children:[R===W.id?s.jsx(Re,{size:14,className:"animate-spin"}):s.jsx(Ai,{size:14}),"Delete"]})})]},W.id))})]})})}),h>1&&s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",h]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p(W=>Math.max(1,W-1)),disabled:f===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),s.jsx("button",{onClick:()=>p(W=>Math.min(h,W+1)),disabled:f===h,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]})})},Rde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[h,g]=b.useState(1),[v,N]=b.useState(0),[_,j]=b.useState(null),[E,C]=b.useState(""),[A,k]=b.useState("all"),[R,M]=b.useState("all"),[P,O]=b.useState(null),[L,z]=b.useState(""),[q,Y]=b.useState(""),[G,W]=b.useState(null);b.useEffect(()=>{ee();const K=setInterval(()=>{ee(!0)},3e4);return()=>clearInterval(K)},[f,A,R]);const ee=async(K=!1)=>{try{K||l(!0);const le=localStorage.getItem("admin_auth");if(!le)return;const Ge=JSON.parse(le).token,oe=new URLSearchParams({page:f.toString(),status:A,priority:R}),_e=await fetch(`http://localhost:8000/api/admin/reports?${oe}`,{headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"}});if(!_e.ok)throw new Error("Failed to fetch reports");const Pe=await _e.json();t(Pe.data),p(Pe.current_page),g(Pe.last_page),N(Pe.total),u(new Date)}catch(le){console.error("Failed to load reports:",le)}finally{r(!1),l(!1)}},Z=()=>{ee()},U=K=>{if(!K)return"Never";const le=Math.floor((new Date().getTime()-K.getTime())/1e3);if(le<60)return"Just now";const ye=Math.floor(le/60);return ye<60?`${ye}m ago`:`${Math.floor(ye/60)}h ago`},J=async K=>{try{const le=localStorage.getItem("admin_auth");if(!le)return;const Ge=JSON.parse(le).token;if(!(await fetch(`http://localhost:8000/api/admin/reports/${K}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete report");alert("Report deleted successfully!"),j(null),ee()}catch(le){alert(le.message||"Failed to delete report")}},te=async()=>{if(!P||!L){alert("Please select a resolution action");return}try{const K=localStorage.getItem("admin_auth");if(!K)return;const ye=JSON.parse(K).token;if(!(await fetch(`http://localhost:8000/api/admin/reports/${P.id}/resolve`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify({resolution_action:L,resolution_notes:q})})).ok)throw new Error("Failed to resolve report");alert("Report resolved successfully!"),O(null),z(""),Y(""),ee()}catch(K){alert(K.message||"Failed to resolve report")}},de=K=>({spam:"Spam",harassment:"Harassment",inappropriate_content:"Inappropriate Content",fake_profile:"Fake Profile",other:"Other"})[K]||K,ue=K=>{const le={low:{bg:"bg-blue-100",text:"text-blue-700"},medium:{bg:"bg-yellow-100",text:"text-yellow-700"},high:{bg:"bg-orange-100",text:"text-orange-700"},urgent:{bg:"bg-red-100",text:"text-red-700"}},ye=le[K]||le.medium;return s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ye.bg} ${ye.text} uppercase`,children:K})},D=K=>{const le={pending:{bg:"bg-amber-100",text:"text-amber-700",icon:dn},investigating:{bg:"bg-blue-100",text:"text-blue-700",icon:Rp},resolved:{bg:"bg-emerald-100",text:"text-emerald-700",icon:La},dismissed:{bg:"bg-slate-100",text:"text-slate-700",icon:Rs}},ye=le[K]||le.pending,Ge=ye.icon;return s.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ${ye.bg} ${ye.text}`,children:[s.jsx(Ge,{size:12}),K]})},X=e.filter(K=>{if(!E)return!0;const le=E.toLowerCase();return K.reported_user.name.toLowerCase().includes(le)||K.reported_user.email.toLowerCase().includes(le)||K.reporter.name.toLowerCase().includes(le)||K.reporter.email.toLowerCase().includes(le)||K.reason.toLowerCase().includes(le)||K.description.toLowerCase().includes(le)}).sort((K,le)=>{const ye={pending:1,dismissed:2,resolved:3};return(ye[K.status]||99)-(ye[le.status]||99)}),ge=e.filter(K=>K.status==="pending").length,xe=e.filter(K=>K.priority==="urgent").length;return s.jsxs(va,{children:[s.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"User Reports Management"}),s.jsxs("p",{className:"text-slate-500 font-medium",children:[v," total reports ",E&&`(${X.length} matching)`]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",U(c)]})]}),s.jsxs("button",{onClick:Z,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-1",children:[s.jsx(Ua,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),s.jsx("input",{type:"text",placeholder:"Search reports...",value:E,onChange:K=>C(K.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-purple-500 transition-all"})]}),s.jsxs("select",{value:A,onChange:K=>k(K.target.value),className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"dismissed",children:"Dismissed"})]}),s.jsxs("select",{value:R,onChange:K=>M(K.target.value),className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[s.jsx("option",{value:"all",children:"All Priorities"}),s.jsx("option",{value:"low",children:"Low"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"urgent",children:"Urgent"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pending Review"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(dn,{size:20,className:"text-amber-400"}),s.jsx("span",{className:"text-2xl font-black text-slate-900",children:ge}),s.jsx("span",{className:"text-sm text-slate-500",children:"awaiting action"})]})]}),s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Urgent Reports"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Sn,{size:20,className:"text-red-400"}),s.jsx("span",{className:"text-2xl font-black text-slate-900",children:xe}),s.jsx("span",{className:"text-sm text-slate-500",children:"high priority"})]})]}),s.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Reports"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sr,{size:20,className:"text-blue-400"}),s.jsx("span",{className:"text-2xl font-black text-slate-900",children:v}),s.jsx("span",{className:"text-sm text-slate-500",children:"all time"})]})]})]})]}),s.jsx("div",{className:"grid gap-6",children:n?s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-12 text-center",children:[s.jsx(Re,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading reports..."})]}):X.length===0?s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-12 text-center",children:[s.jsx(sr,{size:48,className:"text-slate-300 mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:e.length===0?"No reports received yet":"No reports match your filters"}),(E||A!=="all"||R!=="all")&&s.jsx("button",{onClick:()=>{C(""),k("all"),M("all")},className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all",children:"Clear Filters"})]}):s.jsxs(s.Fragment,{children:[X.map(K=>s.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all overflow-hidden",children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:s.jsx(Bh,{size:24})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("p",{className:"font-black text-slate-900 text-lg",children:K.reported_user.name}),ue(K.priority),D(K.status)]}),s.jsx("p",{className:"text-sm text-slate-500",children:K.reported_user.email}),s.jsx("div",{className:"mt-2 inline-block px-3 py-1 bg-slate-100 rounded-full",children:s.jsx("p",{className:"text-xs font-bold text-slate-600",children:de(K.reason)})})]})]}),s.jsxs("div",{className:"border-t border-slate-100 pt-4 mb-4",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Reporter Information"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-bold",children:K.reporter.name[0]}),s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-slate-900 text-sm",children:K.reporter.name}),s.jsx("p",{className:"text-xs text-slate-500",children:K.reporter.email})]})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>W(K),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"View details",children:s.jsx(Rp,{size:18})}),s.jsx("button",{onClick:()=>j(K.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete report",children:s.jsx(Ai,{size:18})})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsxs("span",{className:"text-sm text-slate-400",children:["Reported on ",new Date(K.created_at).toLocaleString()]}),K.reported_group&&s.jsxs("span",{className:"text-sm text-slate-500",children:[" Group: ",s.jsx("span",{className:"font-bold",children:K.reported_group.name})]})]}),s.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-4",children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),s.jsx("p",{className:"text-slate-700 leading-relaxed",children:K.description}),K.evidence_url&&s.jsxs("a",{href:K.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 font-bold text-sm",children:[s.jsx(Yj,{size:14}),"View Evidence"]})]}),(K.status==="resolved"||K.status==="dismissed")&&Array.isArray(K.moderation_logs)&&K.moderation_logs.length>0&&s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200 mb-4",children:[s.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest mb-2",children:"Moderation Action"}),K.moderation_logs.map(le=>s.jsxs("div",{className:"mb-2",children:[s.jsxs("p",{className:"text-sm font-bold text-emerald-900",children:["Action: ",le.action_type==="warn"?" Warned":le.action_type==="suspend"?" Suspended":le.action_type==="ban"?" Banned":le.action_type==="dismiss_report"?" Dismissed":le.action_type,le.duration_days&&` (${le.duration_days} days)`]}),s.jsx("p",{className:"text-sm text-emerald-700 mt-1",children:le.reason}),s.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:["By ",le.moderator.name," on ",new Date(le.created_at).toLocaleString()]})]},le.id)),K.resolution_notes&&s.jsxs("p",{className:"text-sm text-emerald-700 mt-2 pt-2 border-t border-emerald-200",children:["Notes: ",K.resolution_notes]})]}),(K.status==="resolved"||K.status==="dismissed")&&(K.reported_user.banned===!0||K.reported_user.suspended_until&&new Date(K.reported_user.suspended_until)>new Date)&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-slate-200 mb-4",children:[K.reported_user.banned===!0&&s.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to unban this user?")){const le=localStorage.getItem("admin_auth");if(!le)return;const Ge=JSON.parse(le).token;try{if(!(await fetch(`http://localhost:8000/api/admin/users/${K.reported_user_id}/unban`,{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unban user");alert("User unbanned successfully!"),ee()}catch(oe){alert(oe.message||"Failed to unban user")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition-all",children:[s.jsx(Zo,{size:18}),"Unban User"]}),K.reported_user.suspended_until&&new Date(K.reported_user.suspended_until)>new Date&&s.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to lift this user's suspension?")){const le=localStorage.getItem("admin_auth");if(!le)return;const Ge=JSON.parse(le).token;try{if(!(await fetch(`http://localhost:8000/api/admin/users/${K.reported_user_id}/unsuspend`,{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unsuspend user");alert("User suspension lifted successfully!"),ee()}catch(oe){alert(oe.message||"Failed to unsuspend user")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition-all",children:[s.jsx(Zo,{size:18}),"Lift Suspension"]})]}),K.status==="pending"&&s.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-slate-200",children:[s.jsxs("button",{onClick:()=>O(K),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-xl font-bold transition-all",children:[s.jsx(La,{size:18}),"Resolve Report"]}),s.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to dismiss this report?")){const le=localStorage.getItem("admin_auth");if(!le)return;const Ge=JSON.parse(le).token;try{if(!(await fetch(`http://localhost:8000/api/admin/reports/${K.id}/resolve`,{method:"POST",headers:{Authorization:`Bearer ${Ge}`,"Content-Type":"application/json"},body:JSON.stringify({resolution_action:"dismissed",resolution_notes:"Report dismissed - no action needed"})})).ok)throw new Error("Failed to dismiss report");alert("Report dismissed"),ee()}catch(oe){alert(oe.message||"Failed to dismiss report")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-500 hover:bg-slate-600 text-white rounded-xl font-bold transition-all",children:[s.jsx(Rs,{size:18}),"Dismiss"]})]})]})},K.id)),h>1&&s.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-200 px-6 py-4 flex items-center justify-between",children:[s.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",h]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p(K=>Math.max(1,K-1)),disabled:f===1,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),s.jsx("button",{onClick:()=>p(K=>Math.min(h,K+1)),disabled:f===h,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]})})]}),P&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-purple-600 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black",children:"Resolve Report"}),s.jsxs("p",{className:"text-purple-100 font-medium mt-1",children:["Report against ",P.reported_user.name]})]}),s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Resolution Action"}),s.jsxs("select",{value:L,onChange:K=>z(K.target.value),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[s.jsx("option",{value:"",children:"Select an action..."}),s.jsx("option",{value:"warning",children:"Issue Warning"}),s.jsx("option",{value:"suspension_3d",children:"Suspend for 3 Days"}),s.jsx("option",{value:"suspension_7d",children:"Suspend for 7 Days"}),s.jsx("option",{value:"suspension_30d",children:"Suspend for 30 Days"}),s.jsx("option",{value:"ban",children:"Permanent Ban"}),s.jsx("option",{value:"no_action",children:"No Action Required"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Resolution Notes (Optional)"}),s.jsx("textarea",{value:q,onChange:K=>Y(K.target.value),rows:4,placeholder:"Add any notes about this resolution...",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-medium text-slate-900 focus:outline-none focus:border-purple-500 transition-all resize-none"})]})]}),s.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[s.jsx("button",{onClick:()=>{O(null),z(""),Y("")},className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),s.jsx("button",{onClick:te,disabled:!L,className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Resolve Report"})]})]})}),G&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[s.jsxs("div",{className:"bg-blue-600 p-8 text-white",children:[s.jsx("h3",{className:"text-2xl font-black",children:"Report Details"}),s.jsxs("p",{className:"text-blue-100 font-medium mt-1",children:["ID: ",G.id]})]}),s.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reported User"}),s.jsx("p",{className:"font-bold text-slate-900",children:G.reported_user.name}),s.jsx("p",{className:"text-sm text-slate-500",children:G.reported_user.email})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reporter"}),s.jsx("p",{className:"font-bold text-slate-900",children:G.reporter.name}),s.jsx("p",{className:"text-sm text-slate-500",children:G.reporter.email})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),ue(G.priority)]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),D(G.status)]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reason"}),s.jsx("p",{className:"font-bold text-slate-900",children:de(G.reason)})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),s.jsx("p",{className:"text-slate-700 leading-relaxed",children:G.description})]}),G.evidence_url&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Evidence"}),s.jsxs("a",{href:G.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-bold",children:[s.jsx(Yj,{size:16}),"View Evidence Link"]})]}),G.reported_group&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Related Group"}),s.jsx("p",{className:"font-bold text-slate-900",children:G.reported_group.name})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Created"}),s.jsx("p",{className:"text-slate-700",children:new Date(G.created_at).toLocaleString()})]}),G.status==="resolved"&&s.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200",children:[s.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest mb-2",children:"Resolution"}),s.jsxs("p",{className:"font-bold text-emerald-900 mb-1",children:["Action: ",G.resolution_action]}),G.resolution_notes&&s.jsx("p",{className:"text-sm text-emerald-700 mb-2",children:G.resolution_notes}),G.resolver&&s.jsxs("p",{className:"text-xs text-emerald-600",children:["Resolved by ",G.resolver.name," on ",new Date(G.resolved_at).toLocaleString()]})]})]}),s.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:s.jsx("button",{onClick:()=>W(null),className:"w-full px-6 py-3 bg-slate-700 text-white rounded-xl font-bold uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Close"})})]})}),_&&s.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:s.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:s.jsxs("div",{className:"p-8",children:[s.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Sn,{size:32,className:"text-red-600"})}),s.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete Report?"}),s.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. This report will be permanently removed from the system."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>J(_),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),s.jsx("button",{onClick:()=>j(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})})]})},Pde=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState("monthly");b.useEffect(()=>{h();const C=setInterval(()=>{h(!0)},3e4);return()=>clearInterval(C)},[f]);const h=async(C=!1)=>{try{C||l(!0);const A=localStorage.getItem("admin_auth");if(!A)return;const R=JSON.parse(A).token,M=await fetch(`http://localhost:8000/api/admin/analytics?range=${f}`,{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(!M.ok)throw new Error("Failed to fetch analytics");const P=await M.json();t(P),u(new Date)}catch(A){console.error("Failed to load analytics:",A)}finally{r(!1),l(!1)}},g=()=>{h()},v=C=>{if(!C)return"Never";const A=Math.floor((new Date().getTime()-C.getTime())/1e3);if(A<60)return"Just now";const k=Math.floor(A/60);return k<60?`${k}m ago`:`${Math.floor(k/60)}h ago`};if(n)return s.jsx(va,{children:s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Re,{size:48,className:"text-purple-600 animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-slate-600 font-bold",children:"Loading analytics..."})]})})});const N=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#14b8a6"],_=({active:C,payload:A,label:k})=>C&&A&&A.length?s.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border-2 border-slate-200",children:[s.jsx("p",{className:"font-bold text-slate-900 mb-2",children:k}),A.map((R,M)=>s.jsxs("p",{className:"text-sm font-medium",style:{color:R.color},children:[R.name,": ",R.value]},M))]}):null,j=()=>{if(!e)return[];const C=new Map;return e.user_growth.forEach(A=>{C.set(A.date,{date:A.date,users:A.count,groups:0})}),e.group_growth.forEach(A=>{const k=C.get(A.date);k?k.groups=A.count:C.set(A.date,{date:A.date,users:0,groups:A.count})}),Array.from(C.values()).sort((A,k)=>A.date.localeCompare(k.date))},E=()=>{if(!e)return[];const C=new Map;return e.message_activity.forEach(A=>{C.set(A.date,{date:A.date,messages:A.count,ratings:0,events:0})}),e.rating_activity.forEach(A=>{const k=C.get(A.date);k?k.ratings=A.count:C.set(A.date,{date:A.date,messages:0,ratings:A.count,events:0})}),e.event_activity.forEach(A=>{const k=C.get(A.date);k?k.events=A.count:C.set(A.date,{date:A.date,messages:0,ratings:0,events:A.count})}),Array.from(C.values()).sort((A,k)=>A.date.localeCompare(k.date))};return s.jsx(va,{children:s.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"Analytics & Insights"}),s.jsx("p",{className:"text-slate-500 font-medium",children:"Platform performance metrics and trends"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[s.jsx(dn,{size:16}),s.jsxs("span",{children:["Updated ",v(c)]})]}),s.jsxs("button",{onClick:g,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[s.jsx(Ci,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),s.jsx("div",{className:"flex items-center gap-3 bg-white rounded-2xl border-2 border-slate-200 p-2 shadow-sm w-fit",children:[{value:"daily",label:"Daily (24h)"},{value:"weekly",label:"Weekly (7d)"},{value:"monthly",label:"Monthly (30d)"}].map(C=>s.jsx("button",{onClick:()=>p(C.value),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${f===C.value?"bg-purple-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100"}`,children:C.label},C.value))}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.user_retention_rate!==void 0&&s.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(DU,{size:24}),s.jsx("h3",{className:"font-black",children:"Retention Rate"})]}),s.jsxs("p",{className:"text-4xl font-black mb-1",children:[e.user_retention_rate.toFixed(1),"%"]}),s.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Users active in last 30 days"})]}),e.average_group_size!==void 0&&s.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx(gt,{size:24}),s.jsx("h3",{className:"font-black",children:"Average Group Size"})]}),s.jsx("p",{className:"text-4xl font-black mb-1",children:e.average_group_size.toFixed(1)}),s.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Members per study group"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Xo,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Platform Growth"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Users and groups over time"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(nde,{data:j(),children:[s.jsx(Io,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Cs,{dataKey:"date",tickFormatter:C=>new Date(C).toLocaleDateString(void 0,{month:"short",day:"numeric"}),stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(As,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(xi,{content:s.jsx(_,{})}),s.jsx(By,{wrapperStyle:{fontSize:"14px",fontWeight:"bold"}}),s.jsx(db,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:3,name:"Users",dot:{fill:"#3b82f6",r:4}}),s.jsx(db,{type:"monotone",dataKey:"groups",stroke:"#8b5cf6",strokeWidth:3,name:"Groups",dot:{fill:"#8b5cf6",r:4}})]})})})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Tu,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Activity Trends"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Messages, ratings, and events"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(gde,{data:E(),children:[s.jsxs("defs",{children:[s.jsxs("linearGradient",{id:"colorMessages",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorRatings",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),s.jsxs("linearGradient",{id:"colorEvents",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),s.jsx(Io,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Cs,{dataKey:"date",tickFormatter:C=>new Date(C).toLocaleDateString(void 0,{month:"short",day:"numeric"}),stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(As,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(xi,{content:s.jsx(_,{})}),s.jsx(By,{wrapperStyle:{fontSize:"14px",fontWeight:"bold"}}),s.jsx(kp,{type:"monotone",dataKey:"messages",stroke:"#f97316",fillOpacity:1,fill:"url(#colorMessages)",name:"Messages"}),s.jsx(kp,{type:"monotone",dataKey:"ratings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRatings)",name:"Ratings"}),s.jsx(kp,{type:"monotone",dataKey:"events",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorEvents)",name:"Events"})]})})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e?.peak_activity_hours&&e.peak_activity_hours.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dn,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Peak Activity Hours"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Most active hours of the day"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(zu,{data:e.peak_activity_hours,children:[s.jsx(Io,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Cs,{dataKey:"hour",tickFormatter:C=>`${C}:00`,stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(As,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(xi,{content:s.jsx(_,{})}),s.jsx(Yo,{dataKey:"count",fill:"#8b5cf6",radius:[8,8,0,0],name:"Activity"})]})})})]}),e?.groups_by_faculty&&e.groups_by_faculty.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gt,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Groups by Faculty"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Distribution across faculties"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(YM,{children:[s.jsx(cb,{data:e.groups_by_faculty,cx:"50%",cy:"50%",labelLine:!1,label:C=>`${C.faculty}: ${(C.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"faculty",children:e.groups_by_faculty.map((C,A)=>s.jsx($s,{fill:N[A%N.length]},`cell-${A}`))}),s.jsx(xi,{content:s.jsx(_,{})})]})})})]})]}),s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(gR,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Top Subjects"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Most popular study subjects"})]})]})}),s.jsx("div",{className:"p-6",children:e?.top_subjects&&e.top_subjects.length>0?s.jsx(gi,{width:"100%",height:300,children:s.jsxs(zu,{data:e.top_subjects,layout:"vertical",children:[s.jsx(Io,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Cs,{type:"number",stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(As,{type:"category",dataKey:"subject",stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"},width:100}),s.jsx(xi,{content:s.jsx(_,{})}),s.jsx(Yo,{dataKey:"count",fill:"#8b5cf6",radius:[0,8,8,0],name:"Groups"})]})}):s.jsx("div",{className:"flex items-center justify-center h-[300px]",children:s.jsx("p",{className:"text-slate-400 font-medium",children:"No groups yet"})})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e?.most_active_time_for_events&&e.most_active_time_for_events.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(dn,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Peak Meeting Times"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Most common hours for scheduled meetings"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(zu,{data:e.most_active_time_for_events,children:[s.jsx(Io,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),s.jsx(Cs,{dataKey:"hour",tickFormatter:C=>`${C}:00`,stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(As,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),s.jsx(xi,{content:s.jsx(_,{})}),s.jsx(Yo,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0],name:"Meetings"})]})})})]}),e?.report_severity_distribution&&e.report_severity_distribution.length>0&&s.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[s.jsx("div",{className:"p-6 border-b border-slate-100",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Sn,{className:"text-purple-600",size:24}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-black text-slate-900",children:"Report Severity Distribution"}),s.jsx("p",{className:"text-sm text-slate-500",children:"Reports by priority level"})]})]})}),s.jsx("div",{className:"p-6",children:s.jsx(gi,{width:"100%",height:300,children:s.jsxs(YM,{children:[s.jsx(cb,{data:e.report_severity_distribution,cx:"50%",cy:"50%",labelLine:!1,label:C=>`${C.priority}: ${C.count}`,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"priority",children:e.report_severity_distribution.map((C,A)=>{const k={urgent:"#ef4444",high:"#f97316",medium:"#f59e0b",low:"#3b82f6"};return s.jsx($s,{fill:k[C.priority]||N[A%N.length]},`cell-${A}`)})}),s.jsx(xi,{content:s.jsx(_,{})})]})})})]})]})]})})},ml=({to:e,icon:t,label:n})=>{const r=aa(),[a]=fd(),l=r.pathname===e,c=a.get("q"),u=c?`${e}?q=${encodeURIComponent(c)}`:e;return s.jsxs(Dt,{to:u,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${l?"bg-orange-500 text-white shadow-lg shadow-orange-200":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[t,s.jsx("span",{className:"font-semibold",children:n})]})},Ns=({children:e,user:t,onLogout:n,showSearch:r=!1,pageTitle:a,pageSubtitle:l})=>{const c=Lr(),u=aa(),[f,p]=b.useState(!1),[h,g]=b.useState(!1),[v,N]=b.useState([]),[_,j]=b.useState(0),E=b.useRef(null),C=b.useRef(null),[A,k]=fd(),R=A.get("q")||"",[M,P]=b.useState(!1),[O,L]=b.useState([]),[z,q]=b.useState([]),[Y,G]=b.useState(!1),W=ue=>{ue.data.group_id&&(g(!1),c(`/groups?group=${ue.data.group_id}`))};b.useEffect(()=>{ee();const ue=setInterval(ee,3e4);return()=>clearInterval(ue)},[]),b.useEffect(()=>{const ue=D=>{E.current&&!E.current.contains(D.target)&&g(!1),C.current&&!C.current.contains(D.target)&&P(!1)};return document.addEventListener("mousedown",ue),()=>document.removeEventListener("mousedown",ue)},[]),b.useEffect(()=>{const ue=async()=>{if(!R||R.length<2){L([]),q([]),P(!1);return}G(!0);try{const[X,ge]=await Promise.all([Ae.getGroups(),Ae.searchUsers(R)]),xe=X.filter(le=>{const ye=R.toLowerCase();return le.name.toLowerCase().includes(ye)||le.subject.toLowerCase().includes(ye)||le.faculty.toLowerCase().includes(ye)||le.description.toLowerCase().includes(ye)||le.creator_name.toLowerCase().includes(ye)||le.location.toLowerCase().includes(ye)}).slice(0,5),K=ge.slice(0,5);L(xe),q(K),P(!0)}catch(X){console.error("Search error:",X),L([]),q([])}finally{G(!1)}};if(!(A.get("searchMode")==="full")){const X=setTimeout(ue,300);return()=>clearTimeout(X)}},[R,A]);const ee=async()=>{try{const[ue,D]=await Promise.all([Ae.getNotifications(),Ae.getUnreadCount()]);N(X=>{const ge=new Set(ue.map(K=>K.id)),xe=X.filter(K=>K.read_at&&!ge.has(K.id));return[...ue,...xe].sort((K,le)=>new Date(le.created_at).getTime()-new Date(K.created_at).getTime())}),j(D.count)}catch(ue){console.error("Failed to fetch notifications",ue)}},Z=async()=>{try{await Ae.markNotificationsAsRead(),j(0),N(ue=>ue.map(D=>({...D,read_at:new Date().toISOString()})))}catch(ue){console.error("Failed to mark as read",ue)}},U=ue=>{const D=ue.target.value,X=Object.fromEntries(A.entries());if(D){const{searchMode:ge,...xe}=X;k({...xe,q:D})}else{const{q:ge,searchMode:xe,...K}=X;k(K),P(!1)}},J=ue=>{if(ue.key==="Enter"&&R){const D=Object.fromEntries(A.entries());k({...D,searchMode:"full"}),P(!1),u.pathname!=="/home"&&c(`/home?q=${encodeURIComponent(R)}&searchMode=full`)}},te=ue=>{P(!1);const D=ue.name;k({q:D,searchMode:"full"}),u.pathname!=="/home"&&c(`/home?q=${encodeURIComponent(D)}&searchMode=full`)},de=ue=>{P(!1),c(`/profile/${ue.id}`)};return s.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[f&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),s.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 flex flex-col transition-transform duration-300 lg:translate-x-0 lg:static
        ${f?"translate-x-0":"-translate-x-full"}
      `,children:[s.jsxs("div",{className:"p-6 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-orange-200",children:"AU"}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"font-extrabold text-slate-900 leading-none",children:"StudyHub"}),s.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Study Group"})]})]}),s.jsx("button",{onClick:()=>p(!1),className:"lg:hidden",children:s.jsx(ct,{className:"w-6 h-6 text-slate-400"})})]}),s.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[s.jsx(ml,{to:"/home",icon:s.jsx(hU,{size:20}),label:"Home"}),s.jsx(ml,{to:"/groups",icon:s.jsx(gt,{size:20}),label:"My Groups"}),s.jsx(ml,{to:"/report",icon:s.jsx(Sn,{size:20}),label:"Report"}),s.jsx(ml,{to:"/calendar",icon:s.jsx(Rn,{size:20}),label:"Calendar"}),s.jsx(ml,{to:"/leaders",icon:s.jsx(Qv,{size:20}),label:"Contributors"}),s.jsx(ml,{to:"/profile",icon:s.jsx(Bh,{size:20}),label:"Profile"}),s.jsx(ml,{to:"/settings",icon:s.jsx(qU,{size:20}),label:"Settings"})]}),s.jsx("div",{className:"p-4 mt-auto",children:s.jsxs("button",{onClick:n,className:"flex items-center gap-3 w-full px-4 py-3 text-slate-500 hover:bg-red-50 hover:text-red-600 rounded-xl transition-colors font-semibold",children:[s.jsx(Pb,{size:20}),s.jsx("span",{children:"Logout"})]})})]}),s.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[s.jsxs("header",{className:"h-20 bg-white border-b border-slate-200 px-6 flex items-center justify-between sticky top-0 z-30",children:[s.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[s.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg",children:s.jsx(vR,{className:"w-6 h-6 text-slate-600"})}),r&&s.jsxs("div",{className:"relative w-full max-w-md",ref:C,children:[s.jsxs("div",{className:"flex items-center bg-slate-100 px-4 py-2 rounded-xl w-full border border-slate-200 focus-within:bg-white focus-within:ring-2 focus-within:ring-orange-500/20 transition-all",children:[s.jsx(Ua,{className:`w-5 h-5 transition-colors ${R?"text-orange-500":"text-slate-400"}`}),s.jsx("input",{type:"text",placeholder:"Search groups, subjects, faculty...",className:"bg-transparent border-none outline-none ml-3 w-full text-slate-600 placeholder:text-slate-400 font-medium",value:R,onChange:U,onKeyDown:J})]}),M&&R&&u.pathname!=="/groups"&&s.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[s.jsx("div",{className:"p-3 border-b border-slate-100",children:s.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Quick Results"})}),Y?s.jsx("div",{className:"p-8 text-center",children:s.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto"})}):O.length>0||z.length>0?s.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[O.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"px-4 py-2 bg-slate-50/50",children:s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Groups"})}),O.map(ue=>s.jsx("button",{onClick:()=>te(ue),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-50",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm shrink-0",children:ue.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-900 truncate text-sm",children:ue.name}),s.jsxs("p",{className:"text-xs text-slate-500 truncate",children:[ue.subject,"  ",ue.faculty]})]})]})},ue.id))]}),z.length>0&&s.jsxs("div",{children:[s.jsx("div",{className:"px-4 py-2 bg-slate-50/50",children:s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Users"})}),z.map(ue=>s.jsx("button",{onClick:()=>de(ue),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-50 last:border-b-0",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm shrink-0",children:ue.name[0]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-bold text-slate-900 truncate text-sm",children:ue.name}),s.jsx("p",{className:"text-xs text-slate-500 truncate",children:ue.major||"Student"})]})]})},ue.id))]})]}):s.jsx("div",{className:"p-6 text-center",children:s.jsx("p",{className:"text-sm text-slate-400",children:"No results found"})}),s.jsx("div",{className:"p-3 bg-slate-50 border-t border-slate-100",children:s.jsxs("p",{className:"text-xs text-slate-500 text-center",children:["Press ",s.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-200 rounded text-xs font-bold",children:"Enter"})," to see all results"]})})]})]}),a&&s.jsxs("div",{className:"ml-4",children:[s.jsx("h1",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:a}),l&&s.jsx("p",{className:"text-xs text-slate-500 font-medium",children:l})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",ref:E,children:[s.jsxs("button",{onClick:()=>g(!h),className:`p-2 hover:bg-slate-100 rounded-xl relative transition-all ${h?"bg-slate-50 text-slate-900":"text-slate-400"}`,children:[s.jsx(Gh,{size:22}),_>0&&s.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-orange-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black text-white",children:_>9?"9+":_})]}),h&&s.jsx(j5,{notifications:v,onMarkRead:Z,onClose:()=>g(!1),onNotificationClick:W,onRefresh:ee})]}),s.jsx("div",{className:"h-10 w-[1px] bg-slate-200 mx-2 hidden sm:block"}),s.jsxs(Dt,{to:"/profile",className:"flex items-center gap-3 hover:bg-slate-50 p-1.5 rounded-xl transition-all",children:[s.jsx("div",{className:"w-9 h-9 bg-orange-100 text-orange-600 rounded-lg flex items-center justify-center font-bold text-sm border border-orange-200",children:t.avatar||t.name[0]}),s.jsxs("div",{className:"hidden md:flex flex-col text-left",children:[s.jsx("span",{className:"text-sm font-bold text-slate-900 leading-none",children:t.name}),s.jsx("span",{className:"text-[10px] font-semibold text-slate-400 mt-1",children:t.major||"Student"})]})]})]})]}),s.jsx(jde,{}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:e})]})]})},gl=()=>{try{const e=localStorage.getItem("admin_auth");if(!e)return!1;const t=JSON.parse(e);return["admin","moderator"].includes(t?.role)}catch{return!1}},Ode=()=>{const[e,t]=b.useState(()=>{const c=localStorage.getItem("auth_user");return c?JSON.parse(c):null}),[,n]=b.useState(0);b.useEffect(()=>{const c=()=>n(u=>u+1);return window.addEventListener("admin_auth_change",c),()=>window.removeEventListener("admin_auth_change",c)},[]);const r=c=>{t(c),localStorage.setItem("auth_user",JSON.stringify(c))},a=()=>{t(null),localStorage.removeItem("auth_user")},l=c=>{const u={...e,...c};t(u),localStorage.setItem("auth_user",JSON.stringify(u))};return s.jsx(fz,{children:s.jsxs(G3,{children:[s.jsx(Jt,{path:"/",element:s.jsx(wde,{})}),s.jsx(Jt,{path:"/login",element:e?s.jsx(wn,{to:"/home"}):s.jsx(Nde,{onLogin:r})}),s.jsx(Jt,{path:"/signup",element:e?s.jsx(wn,{to:"/home"}):s.jsx(Sde,{onSignup:r})}),s.jsx(Jt,{path:"/email/verify/:id/:hash",element:s.jsx(_de,{})}),s.jsx(Jt,{path:"/home",element:e?s.jsx(Ns,{user:e,onLogout:a,showSearch:!0,children:s.jsx(K$,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/groups",element:e?s.jsx(Ns,{user:e,onLogout:a,showSearch:!0,children:s.jsx(gV,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/report",element:e?s.jsx(Ns,{user:e,onLogout:a,pageTitle:"Report User",pageSubtitle:"Help us maintain a safe community",children:s.jsx(xV,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/calendar",element:e?s.jsx(Ns,{user:e,onLogout:a,pageTitle:"Calendar",pageSubtitle:"Manage your study schedule",children:s.jsx(yV,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/leaders",element:e?s.jsx(Ns,{user:e,onLogout:a,children:s.jsx(bde,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/profile",element:e?s.jsx(Ns,{user:e,onLogout:a,pageTitle:"Profile",pageSubtitle:"View and edit your information",children:s.jsx(xde,{user:e,onUserUpdate:l})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/profile/:userId",element:e?s.jsx(Ns,{user:e,onLogout:a,children:s.jsx(vde,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/settings",element:e?s.jsx(Ns,{user:e,onLogout:a,pageTitle:"Settings",pageSubtitle:"Manage your experience and data",children:s.jsx(yde,{})}):s.jsx(wn,{to:"/login"})}),s.jsx(Jt,{path:"/admin/login",element:s.jsx(Ede,{})}),s.jsx(Jt,{path:"/admin/dashboard",element:gl()?s.jsx(Cde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/users",element:gl()?s.jsx(Ade,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/groups",element:gl()?s.jsx(Tde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/events",element:gl()?s.jsx(kde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/ratings",element:gl()?s.jsx(Mde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/reports",element:gl()?s.jsx(Rde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin/analytics",element:gl()?s.jsx(Pde,{}):s.jsx(wn,{to:"/admin/login"})}),s.jsx(Jt,{path:"/admin",element:s.jsx(wn,{to:"/admin/dashboard"})}),s.jsx(Jt,{path:"*",element:s.jsx(wn,{to:"/"})})]})})},E5=document.getElementById("root");if(!E5)throw new Error("Could not find root element to mount to");const Ide=qL.createRoot(E5);Ide.render(s.jsx(wb.StrictMode,{children:s.jsx(Ode,{})}));
//# sourceMappingURL=index-Dyrd-o9H.js.map
