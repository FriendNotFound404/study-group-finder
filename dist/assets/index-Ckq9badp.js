function B3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function ei(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dx={exports:{}},Tu={};var $_;function F3(){if($_)return Tu;$_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var u in a)u!=="key"&&(l[u]=a[u])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Tu.Fragment=t,Tu.jsx=n,Tu.jsxs=n,Tu}var G_;function q3(){return G_||(G_=1,dx.exports=F3()),dx.exports}var i=q3(),fx={exports:{}},He={};var B_;function H3(){if(B_)return He;B_=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=v&&O[v]||O["@@iterator"],typeof O=="function"?O:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function C(O,K,ce){this.props=O,this.context=K,this.refs=E,this.updater=ce||j}C.prototype.isReactComponent={},C.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},C.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function A(){}A.prototype=C.prototype;function R(O,K,ce){this.props=O,this.context=K,this.refs=E,this.updater=ce||j}var M=R.prototype=new A;M.constructor=R,_(M,C.prototype),M.isPureReactComponent=!0;var I=Array.isArray;function P(){}var k={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function z(O,K,ce){var xe=ce.ref;return{$$typeof:e,type:O,key:K,ref:xe!==void 0?xe:null,props:ce}}function q(O,K){return z(O.type,K,O.props)}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===e}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return K[ce]})}var Y=/\/+/g;function te(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function he(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(P,P):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function F(O,K,ce,xe,Z){var ue=typeof O;(ue==="undefined"||ue==="boolean")&&(O=null);var ye=!1;if(O===null)ye=!0;else switch(ue){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(O.$$typeof){case e:case t:ye=!0;break;case m:return ye=O._init,F(ye(O._payload),K,ce,xe,Z)}}if(ye)return Z=Z(O),ye=xe===""?"."+te(O,0):xe,I(Z)?(ce="",ye!=null&&(ce=ye.replace(Y,"$&/")+"/"),F(Z,K,ce,"",function(je){return je})):Z!=null&&(J(Z)&&(Z=q(Z,ce+(Z.key==null||O&&O.key===Z.key?"":(""+Z.key).replace(Y,"$&/")+"/")+ye)),K.push(Z)),1;ye=0;var Ne=xe===""?".":xe+":";if(I(O))for(var ne=0;ne<O.length;ne++)xe=O[ne],ue=Ne+te(xe,ne),ye+=F(xe,K,ce,ue,Z);else if(ne=N(O),typeof ne=="function")for(O=ne.call(O),ne=0;!(xe=O.next()).done;)xe=xe.value,ue=Ne+te(xe,ne++),ye+=F(xe,K,ce,ue,Z);else if(ue==="object"){if(typeof O.then=="function")return F(he(O),K,ce,xe,Z);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function G(O,K,ce){if(O==null)return O;var xe=[],Z=0;return F(O,xe,"","",function(ue){return K.call(ce,ue,Z++)}),xe}function X(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var oe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},ve={map:G,forEach:function(O,K,ce){G(O,function(){K.apply(this,arguments)},ce)},count:function(O){var K=0;return G(O,function(){K++}),K},toArray:function(O){return G(O,function(K){return K})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return He.Activity=g,He.Children=ve,He.Component=C,He.Fragment=n,He.Profiler=a,He.PureComponent=R,He.StrictMode=r,He.Suspense=f,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,He.__COMPILER_RUNTIME={__proto__:null,c:function(O){return k.H.useMemoCache(O)}},He.cache=function(O){return function(){return O.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(O,K,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var xe=_({},O.props),Z=O.key;if(K!=null)for(ue in K.key!==void 0&&(Z=""+K.key),K)!L.call(K,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&K.ref===void 0||(xe[ue]=K[ue]);var ue=arguments.length-2;if(ue===1)xe.children=ce;else if(1<ue){for(var ye=Array(ue),Ne=0;Ne<ue;Ne++)ye[Ne]=arguments[Ne+2];xe.children=ye}return z(O.type,Z,xe)},He.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},He.createElement=function(O,K,ce){var xe,Z={},ue=null;if(K!=null)for(xe in K.key!==void 0&&(ue=""+K.key),K)L.call(K,xe)&&xe!=="key"&&xe!=="__self"&&xe!=="__source"&&(Z[xe]=K[xe]);var ye=arguments.length-2;if(ye===1)Z.children=ce;else if(1<ye){for(var Ne=Array(ye),ne=0;ne<ye;ne++)Ne[ne]=arguments[ne+2];Z.children=Ne}if(O&&O.defaultProps)for(xe in ye=O.defaultProps,ye)Z[xe]===void 0&&(Z[xe]=ye[xe]);return z(O,ue,Z)},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:u,render:O}},He.isValidElement=J,He.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:X}},He.memo=function(O,K){return{$$typeof:p,type:O,compare:K===void 0?null:K}},He.startTransition=function(O){var K=k.T,ce={};k.T=ce;try{var xe=O(),Z=k.S;Z!==null&&Z(ce,xe),typeof xe=="object"&&xe!==null&&typeof xe.then=="function"&&xe.then(P,oe)}catch(ue){oe(ue)}finally{K!==null&&ce.types!==null&&(K.types=ce.types),k.T=K}},He.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},He.use=function(O){return k.H.use(O)},He.useActionState=function(O,K,ce){return k.H.useActionState(O,K,ce)},He.useCallback=function(O,K){return k.H.useCallback(O,K)},He.useContext=function(O){return k.H.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O,K){return k.H.useDeferredValue(O,K)},He.useEffect=function(O,K){return k.H.useEffect(O,K)},He.useEffectEvent=function(O){return k.H.useEffectEvent(O)},He.useId=function(){return k.H.useId()},He.useImperativeHandle=function(O,K,ce){return k.H.useImperativeHandle(O,K,ce)},He.useInsertionEffect=function(O,K){return k.H.useInsertionEffect(O,K)},He.useLayoutEffect=function(O,K){return k.H.useLayoutEffect(O,K)},He.useMemo=function(O,K){return k.H.useMemo(O,K)},He.useOptimistic=function(O,K){return k.H.useOptimistic(O,K)},He.useReducer=function(O,K,ce){return k.H.useReducer(O,K,ce)},He.useRef=function(O){return k.H.useRef(O)},He.useState=function(O){return k.H.useState(O)},He.useSyncExternalStore=function(O,K,ce){return k.H.useSyncExternalStore(O,K,ce)},He.useTransition=function(){return k.H.useTransition()},He.version="19.2.4",He}var F_;function bc(){return F_||(F_=1,fx.exports=H3()),fx.exports}var b=bc();const Pb=ei(b),V3=B3({__proto__:null,default:Pb},[b]);var px={exports:{}},ku={},mx={exports:{}},hx={};var q_;function K3(){return q_||(q_=1,(function(e){function t(F,G){var X=F.length;F.push(G);e:for(;0<X;){var oe=X-1>>>1,ve=F[oe];if(0<a(ve,G))F[oe]=G,F[X]=ve,X=oe;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var G=F[0],X=F.pop();if(X!==G){F[0]=X;e:for(var oe=0,ve=F.length,O=ve>>>1;oe<O;){var K=2*(oe+1)-1,ce=F[K],xe=K+1,Z=F[xe];if(0>a(ce,X))xe<ve&&0>a(Z,ce)?(F[oe]=Z,F[xe]=X,oe=xe):(F[oe]=ce,F[K]=X,oe=K);else if(xe<ve&&0>a(Z,X))F[oe]=Z,F[xe]=X,oe=xe;else break e}}return G}function a(F,G){var X=F.sortIndex-G.sortIndex;return X!==0?X:F.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var f=[],p=[],m=1,g=null,v=3,N=!1,j=!1,_=!1,E=!1,C=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function M(F){for(var G=n(p);G!==null;){if(G.callback===null)r(p);else if(G.startTime<=F)r(p),G.sortIndex=G.expirationTime,t(f,G);else break;G=n(p)}}function I(F){if(_=!1,M(F),!j)if(n(f)!==null)j=!0,P||(P=!0,U());else{var G=n(p);G!==null&&he(I,G.startTime-F)}}var P=!1,k=-1,L=5,z=-1;function q(){return E?!0:!(e.unstable_now()-z<L)}function J(){if(E=!1,P){var F=e.unstable_now();z=F;var G=!0;try{e:{j=!1,_&&(_=!1,A(k),k=-1),N=!0;var X=v;try{t:{for(M(F),g=n(f);g!==null&&!(g.expirationTime>F&&q());){var oe=g.callback;if(typeof oe=="function"){g.callback=null,v=g.priorityLevel;var ve=oe(g.expirationTime<=F);if(F=e.unstable_now(),typeof ve=="function"){g.callback=ve,M(F),G=!0;break t}g===n(f)&&r(f),M(F)}else r(f);g=n(f)}if(g!==null)G=!0;else{var O=n(p);O!==null&&he(I,O.startTime-F),G=!1}}break e}finally{g=null,v=X,N=!1}G=void 0}}finally{G?U():P=!1}}}var U;if(typeof R=="function")U=function(){R(J)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,te=Y.port2;Y.port1.onmessage=J,U=function(){te.postMessage(null)}}else U=function(){C(J,0)};function he(F,G){k=C(function(){F(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(F){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var X=v;v=G;try{return F()}finally{v=X}},e.unstable_requestPaint=function(){E=!0},e.unstable_runWithPriority=function(F,G){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=v;v=F;try{return G()}finally{v=X}},e.unstable_scheduleCallback=function(F,G,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?oe+X:oe):X=oe,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=X+ve,F={id:m++,callback:G,priorityLevel:F,startTime:X,expirationTime:ve,sortIndex:-1},X>oe?(F.sortIndex=X,t(p,F),n(f)===null&&F===n(p)&&(_?(A(k),k=-1):_=!0,he(I,X-oe))):(F.sortIndex=ve,t(f,F),j||N||(j=!0,P||(P=!0,U()))),F},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(F){var G=v;return function(){var X=v;v=G;try{return F.apply(this,arguments)}finally{v=X}}}})(hx)),hx}var H_;function Y3(){return H_||(H_=1,mx.exports=K3()),mx.exports}var gx={exports:{}},Yn={};var V_;function J3(){if(V_)return Yn;V_=1;var e=bc();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)p+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(f,p,m){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:m}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,p){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,m)},Yn.flushSync=function(f){var p=c.T,m=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=p,r.p=m,r.d.f()}},Yn.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var m=p.as,g=u(m,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,N=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;m==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:N}):m==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:N,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yn.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var m=u(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},Yn.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var m=p.as,g=u(m,p.crossOrigin);r.d.L(f,m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yn.preloadModule=function(f,p){if(typeof f=="string")if(p){var m=u(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:m,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,p){return f(p)},Yn.useFormState=function(f,p,m){return c.H.useFormState(f,p,m)},Yn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Yn.version="19.2.4",Yn}var K_;function iR(){if(K_)return gx.exports;K_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),gx.exports=J3(),gx.exports}var Y_;function W3(){if(Y_)return ku;Y_=1;var e=Y3(),t=bc(),n=iR();function r(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function l(s){var o=s,d=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(d=o.return),s=o.return;while(s)}return o.tag===3?d:null}function c(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function u(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function f(s){if(l(s)!==s)throw Error(r(188))}function p(s){var o=s.alternate;if(!o){if(o=l(s),o===null)throw Error(r(188));return o!==s?null:s}for(var d=s,h=o;;){var w=d.return;if(w===null)break;var S=w.alternate;if(S===null){if(h=w.return,h!==null){d=h;continue}break}if(w.child===S.child){for(S=w.child;S;){if(S===d)return f(w),s;if(S===h)return f(w),o;S=S.sibling}throw Error(r(188))}if(d.return!==h.return)d=w,h=S;else{for(var T=!1,D=w.child;D;){if(D===d){T=!0,d=w,h=S;break}if(D===h){T=!0,h=w,d=S;break}D=D.sibling}if(!T){for(D=S.child;D;){if(D===d){T=!0,d=S,h=w;break}if(D===h){T=!0,h=S,d=w;break}D=D.sibling}if(!T)throw Error(r(189))}}if(d.alternate!==h)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?s:o}function m(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=m(s),o!==null)return o;s=s.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),R=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Symbol.for("react.client.reference");function te(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Y?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case P:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case j:return"Portal";case R:return s.displayName||"Context";case A:return(s._context.displayName||"Context")+".Consumer";case M:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return o=s.displayName||null,o!==null?o:te(s.type)||"Memo";case L:o=s._payload,s=s._init;try{return te(s(o))}catch{}}return null}var he=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},oe=[],ve=-1;function O(s){return{current:s}}function K(s){0>ve||(s.current=oe[ve],oe[ve]=null,ve--)}function ce(s,o){ve++,oe[ve]=s.current,s.current=o}var xe=O(null),Z=O(null),ue=O(null),ye=O(null);function Ne(s,o){switch(ce(ue,o),ce(Z,s),ce(xe,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?c_(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=c_(o),s=u_(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(xe),ce(xe,s)}function ne(){K(xe),K(Z),K(ue)}function je(s){s.memoizedState!==null&&ce(ye,s);var o=xe.current,d=u_(o,s.type);o!==d&&(ce(Z,s),ce(xe,d))}function Oe(s){Z.current===s&&(K(xe),K(Z)),ye.current===s&&(K(ye),_u._currentValue=X)}var ge,st;function Fe(s){if(ge===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);ge=o&&o[1]||"",st=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ge+s+st}var vt=!1;function yt(s,o){if(!s||vt)return"";vt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(o){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(le){var ie=le}Reflect.construct(s,[],me)}else{try{me.call()}catch(le){ie=le}s.call(me.prototype)}}else{try{throw Error()}catch(le){ie=le}(me=s())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(le){if(le&&ie&&typeof le.stack=="string")return[le.stack,ie.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var S=h.DetermineComponentFrameRoot(),T=S[0],D=S[1];if(T&&D){var B=T.split(`
`),re=D.split(`
`);for(w=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;w<re.length&&!re[w].includes("DetermineComponentFrameRoot");)w++;if(h===B.length||w===re.length)for(h=B.length-1,w=re.length-1;1<=h&&0<=w&&B[h]!==re[w];)w--;for(;1<=h&&0<=w;h--,w--)if(B[h]!==re[w]){if(h!==1||w!==1)do if(h--,w--,0>w||B[h]!==re[w]){var de=`
`+B[h].replace(" at new "," at ");return s.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",s.displayName)),de}while(1<=h&&0<=w);break}}}finally{vt=!1,Error.prepareStackTrace=d}return(d=s?s.displayName||s.name:"")?Fe(d):""}function St(s,o){switch(s.tag){case 26:case 27:case 5:return Fe(s.type);case 16:return Fe("Lazy");case 13:return s.child!==o&&o!==null?Fe("Suspense Fallback"):Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 15:return yt(s.type,!1);case 11:return yt(s.type.render,!1);case 1:return yt(s.type,!0);case 31:return Fe("Activity");default:return""}}function In(s){try{var o="",d=null;do o+=St(s,d),d=s,s=s.return;while(s);return o}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var pr=Object.prototype.hasOwnProperty,Fn=e.unstable_scheduleCallback,On=e.unstable_cancelCallback,tr=e.unstable_shouldYield,fe=e.unstable_requestPaint,ze=e.unstable_now,Mt=e.unstable_getCurrentPriorityLevel,ae=e.unstable_ImmediatePriority,Re=e.unstable_UserBlockingPriority,Ye=e.unstable_NormalPriority,un=e.unstable_LowPriority,nr=e.unstable_IdlePriority,se=e.log,De=e.unstable_setDisableYieldValue,rt=null,Ze=null;function $(s){if(typeof se=="function"&&De(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(rt,s)}catch{}}var Ie=Math.clz32?Math.clz32:Dn,Ue=Math.log,ut=Math.LN2;function Dn(s){return s>>>=0,s===0?32:31-(Ue(s)/ut|0)|0}var Gr=256,Br=262144,Fr=4194304;function qr(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function rr(s,o,d){var h=s.pendingLanes;if(h===0)return 0;var w=0,S=s.suspendedLanes,T=s.pingedLanes;s=s.warmLanes;var D=h&134217727;return D!==0?(h=D&~S,h!==0?w=qr(h):(T&=D,T!==0?w=qr(T):d||(d=D&~s,d!==0&&(w=qr(d))))):(D=h&~S,D!==0?w=qr(D):T!==0?w=qr(T):d||(d=h&~s,d!==0&&(w=qr(d)))),w===0?0:o!==0&&o!==w&&(o&S)===0&&(S=w&-w,d=o&-o,S>=d||S===32&&(d&4194048)!==0)?o:w}function Ma(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function ri(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ra(){var s=Fr;return Fr<<=1,(Fr&62914560)===0&&(Fr=4194304),s}function Hr(s){for(var o=[],d=0;31>d;d++)o.push(s);return o}function ai(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ii(s,o,d,h,w,S){var T=s.pendingLanes;s.pendingLanes=d,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=d,s.entangledLanes&=d,s.errorRecoveryDisabledLanes&=d,s.shellSuspendCounter=0;var D=s.entanglements,B=s.expirationTimes,re=s.hiddenUpdates;for(d=T&~d;0<d;){var de=31-Ie(d),me=1<<de;D[de]=0,B[de]=-1;var ie=re[de];if(ie!==null)for(re[de]=null,de=0;de<ie.length;de++){var le=ie[de];le!==null&&(le.lane&=-536870913)}d&=~me}h!==0&&Qd(s,h,0),S!==0&&w===0&&s.tag!==0&&(s.suspendedLanes|=S&~(T&~o))}function Qd(s,o,d){s.pendingLanes|=o,s.suspendedLanes&=~o;var h=31-Ie(o);s.entangledLanes|=o,s.entanglements[h]=s.entanglements[h]|1073741824|d&261930}function ro(s,o){var d=s.entangledLanes|=o;for(s=s.entanglements;d;){var h=31-Ie(d),w=1<<h;w&o|s[h]&o&&(s[h]|=o),d&=~w}}function sl(s,o){var d=o&-o;return d=(d&42)!==0?1:ll(d),(d&(s.suspendedLanes|o))!==0?0:d}function ll(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function si(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function ao(){var s=G.p;return s!==0?s:(s=window.event,s===void 0?32:P_(s.type))}function ef(s,o){var d=G.p;try{return G.p=s,o()}finally{G.p=d}}var Er=Math.random().toString(36).slice(2),gt="__reactFiber$"+Er,Jt="__reactProps$"+Er,ar="__reactContainer$"+Er,li="__reactEvents$"+Er,io="__reactListeners$"+Er,ol="__reactHandles$"+Er,os="__reactResources$"+Er,cs="__reactMarker$"+Er;function so(s){delete s[gt],delete s[Jt],delete s[li],delete s[io],delete s[ol]}function we(s){var o=s[gt];if(o)return o;for(var d=s.parentNode;d;){if(o=d[ar]||d[gt]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(s=x_(s);s!==null;){if(d=s[gt])return d;s=x_(s)}return o}s=d,d=s.parentNode}return null}function qn(s){if(s=s[gt]||s[ar]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Pa(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(r(33))}function oi(s){var o=s[os];return o||(o=s[os]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function an(s){s[cs]=!0}var Lc=new Set,lo={};function pa(s,o){ci(s,o),ci(s+"Capture",o)}function ci(s,o){for(lo[s]=o,s=0;s<o.length;s++)Lc.add(o[s])}var ui=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zc={},tf={};function l0(s){return pr.call(tf,s)?!0:pr.call(zc,s)?!1:ui.test(s)?tf[s]=!0:(zc[s]=!0,!1)}function oo(s,o,d){if(l0(o))if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var h=o.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+d)}}function co(s,o,d){if(d===null)s.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+d)}}function ma(s,o,d,h){if(h===null)s.removeAttribute(d);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(d);return}s.setAttributeNS(o,d,""+h)}}function mr(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function uo(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function o0(s,o,d){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var w=h.get,S=h.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return w.call(this)},set:function(T){d=""+T,S.call(this,T)}}),Object.defineProperty(s,o,{enumerable:h.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Uc(s){if(!s._valueTracker){var o=uo(s)?"checked":"value";s._valueTracker=o0(s,o,""+s[o])}}function nf(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var d=o.getValue(),h="";return s&&(h=uo(s)?s.checked?"true":"false":s.value),s=h,s!==d?(o.setValue(s),!0):!1}function fo(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var c0=/[\n"\\]/g;function hr(s){return s.replace(c0,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function $c(s,o,d,h,w,S,T,D){s.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?s.type=T:s.removeAttribute("type"),o!=null?T==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+mr(o)):s.value!==""+mr(o)&&(s.value=""+mr(o)):T!=="submit"&&T!=="reset"||s.removeAttribute("value"),o!=null?Gc(s,T,mr(o)):d!=null?Gc(s,T,mr(d)):h!=null&&s.removeAttribute("value"),w==null&&S!=null&&(s.defaultChecked=!!S),w!=null&&(s.checked=w&&typeof w!="function"&&typeof w!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+mr(D):s.removeAttribute("name")}function cl(s,o,d,h,w,S,T,D){if(S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(s.type=S),o!=null||d!=null){if(!(S!=="submit"&&S!=="reset"||o!=null)){Uc(s);return}d=d!=null?""+mr(d):"",o=o!=null?""+mr(o):d,D||o===s.value||(s.value=o),s.defaultValue=o}h=h??w,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=D?s.checked:!!h,s.defaultChecked=!!h,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(s.name=T),Uc(s)}function Gc(s,o,d){o==="number"&&fo(s.ownerDocument)===s||s.defaultValue===""+d||(s.defaultValue=""+d)}function di(s,o,d,h){if(s=s.options,o){o={};for(var w=0;w<d.length;w++)o["$"+d[w]]=!0;for(d=0;d<s.length;d++)w=o.hasOwnProperty("$"+s[d].value),s[d].selected!==w&&(s[d].selected=w),w&&h&&(s[d].defaultSelected=!0)}else{for(d=""+mr(d),o=null,w=0;w<s.length;w++){if(s[w].value===d){s[w].selected=!0,h&&(s[w].defaultSelected=!0);return}o!==null||s[w].disabled||(o=s[w])}o!==null&&(o.selected=!0)}}function rf(s,o,d){if(o!=null&&(o=""+mr(o),o!==s.value&&(s.value=o),d==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=d!=null?""+mr(d):""}function af(s,o,d,h){if(o==null){if(h!=null){if(d!=null)throw Error(r(92));if(he(h)){if(1<h.length)throw Error(r(93));h=h[0]}d=h}d==null&&(d=""),o=d}d=mr(o),s.defaultValue=d,h=s.textContent,h===d&&h!==""&&h!==null&&(s.value=h),Uc(s)}function fi(s,o){if(o){var d=s.firstChild;if(d&&d===s.lastChild&&d.nodeType===3){d.nodeValue=o;return}}s.textContent=o}var H=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function be(s,o,d){var h=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?h?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":h?s.setProperty(o,d):typeof d!="number"||d===0||H.has(o)?o==="float"?s.cssFloat=d:s[o]=(""+d).trim():s[o]=d+"px"}function Le(s,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(s=s.style,d!=null){for(var h in d)!d.hasOwnProperty(h)||o!=null&&o.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var w in o)h=o[w],o.hasOwnProperty(w)&&d[w]!==h&&be(s,w,h)}else for(var S in o)o.hasOwnProperty(S)&&be(s,S,o[S])}function Rt(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(s){return bt.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Kn(){}var pi=null;function po(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var mi=null,mo=null;function oN(s){var o=qn(s);if(o&&(s=o.stateNode)){var d=s[Jt]||null;e:switch(s=o.stateNode,o.type){case"input":if($c(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=s;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+hr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var h=d[o];if(h!==s&&h.form===s.form){var w=h[Jt]||null;if(!w)throw Error(r(90));$c(h,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(o=0;o<d.length;o++)h=d[o],h.form===s.form&&nf(h)}break e;case"textarea":rf(s,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&di(s,!!d.multiple,o,!1)}}}var u0=!1;function cN(s,o,d){if(u0)return s(o,d);u0=!0;try{var h=s(o);return h}finally{if(u0=!1,(mi!==null||mo!==null)&&(Vf(),mi&&(o=mi,s=mo,mo=mi=null,oN(o),s)))for(o=0;o<s.length;o++)oN(s[o])}}function Bc(s,o){var d=s.stateNode;if(d===null)return null;var h=d[Jt]||null;if(h===null)return null;d=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d0=!1;if(hi)try{var Fc={};Object.defineProperty(Fc,"passive",{get:function(){d0=!0}}),window.addEventListener("test",Fc,Fc),window.removeEventListener("test",Fc,Fc)}catch{d0=!1}var us=null,f0=null,sf=null;function uN(){if(sf)return sf;var s,o=f0,d=o.length,h,w="value"in us?us.value:us.textContent,S=w.length;for(s=0;s<d&&o[s]===w[s];s++);var T=d-s;for(h=1;h<=T&&o[d-h]===w[S-h];h++);return sf=w.slice(s,1<h?1-h:void 0)}function lf(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function of(){return!0}function dN(){return!1}function gr(s){function o(d,h,w,S,T){this._reactName=d,this._targetInst=w,this.type=h,this.nativeEvent=S,this.target=T,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(d=s[D],this[D]=d?d(S):S[D]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?of:dN,this.isPropagationStopped=dN,this}return g(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=of)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=of)},persist:function(){},isPersistent:of}),o}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cf=gr(ul),qc=g({},ul,{view:0,detail:0}),$5=gr(qc),p0,m0,Hc,uf=g({},qc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g0,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Hc&&(Hc&&s.type==="mousemove"?(p0=s.screenX-Hc.screenX,m0=s.screenY-Hc.screenY):m0=p0=0,Hc=s),p0)},movementY:function(s){return"movementY"in s?s.movementY:m0}}),fN=gr(uf),G5=g({},uf,{dataTransfer:0}),B5=gr(G5),F5=g({},qc,{relatedTarget:0}),h0=gr(F5),q5=g({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),H5=gr(q5),V5=g({},ul,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),K5=gr(V5),Y5=g({},ul,{data:0}),pN=gr(Y5),J5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},W5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z5(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=X5[s])?!!o[s]:!1}function g0(){return Z5}var Q5=g({},qc,{key:function(s){if(s.key){var o=J5[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=lf(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?W5[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g0,charCode:function(s){return s.type==="keypress"?lf(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?lf(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),e6=gr(Q5),t6=g({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mN=gr(t6),n6=g({},qc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g0}),r6=gr(n6),a6=g({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),i6=gr(a6),s6=g({},uf,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),l6=gr(s6),o6=g({},ul,{newState:0,oldState:0}),c6=gr(o6),u6=[9,13,27,32],x0=hi&&"CompositionEvent"in window,Vc=null;hi&&"documentMode"in document&&(Vc=document.documentMode);var d6=hi&&"TextEvent"in window&&!Vc,hN=hi&&(!x0||Vc&&8<Vc&&11>=Vc),gN=" ",xN=!1;function vN(s,o){switch(s){case"keyup":return u6.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yN(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ho=!1;function f6(s,o){switch(s){case"compositionend":return yN(o);case"keypress":return o.which!==32?null:(xN=!0,gN);case"textInput":return s=o.data,s===gN&&xN?null:s;default:return null}}function p6(s,o){if(ho)return s==="compositionend"||!x0&&vN(s,o)?(s=uN(),sf=f0=us=null,ho=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hN&&o.locale!=="ko"?null:o.data;default:return null}}var m6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bN(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!m6[s.type]:o==="textarea"}function wN(s,o,d,h){mi?mo?mo.push(h):mo=[h]:mi=h,o=Qf(o,"onChange"),0<o.length&&(d=new cf("onChange","change",null,d,h),s.push({event:d,listeners:o}))}var Kc=null,Yc=null;function h6(s){r_(s,0)}function df(s){var o=Pa(s);if(nf(o))return s}function NN(s,o){if(s==="change")return o}var SN=!1;if(hi){var v0;if(hi){var y0="oninput"in document;if(!y0){var jN=document.createElement("div");jN.setAttribute("oninput","return;"),y0=typeof jN.oninput=="function"}v0=y0}else v0=!1;SN=v0&&(!document.documentMode||9<document.documentMode)}function _N(){Kc&&(Kc.detachEvent("onpropertychange",EN),Yc=Kc=null)}function EN(s){if(s.propertyName==="value"&&df(Yc)){var o=[];wN(o,Yc,s,po(s)),cN(h6,o)}}function g6(s,o,d){s==="focusin"?(_N(),Kc=o,Yc=d,Kc.attachEvent("onpropertychange",EN)):s==="focusout"&&_N()}function x6(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return df(Yc)}function v6(s,o){if(s==="click")return df(o)}function y6(s,o){if(s==="input"||s==="change")return df(o)}function b6(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Cr=typeof Object.is=="function"?Object.is:b6;function Jc(s,o){if(Cr(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var d=Object.keys(s),h=Object.keys(o);if(d.length!==h.length)return!1;for(h=0;h<d.length;h++){var w=d[h];if(!pr.call(o,w)||!Cr(s[w],o[w]))return!1}return!0}function CN(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function AN(s,o){var d=CN(s);s=0;for(var h;d;){if(d.nodeType===3){if(h=s+d.textContent.length,s<=o&&h>=o)return{node:d,offset:o-s};s=h}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=CN(d)}}function TN(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?TN(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function kN(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=fo(s.document);o instanceof s.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)s=o.contentWindow;else break;o=fo(s.document)}return o}function b0(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var w6=hi&&"documentMode"in document&&11>=document.documentMode,go=null,w0=null,Wc=null,N0=!1;function MN(s,o,d){var h=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;N0||go==null||go!==fo(h)||(h=go,"selectionStart"in h&&b0(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wc&&Jc(Wc,h)||(Wc=h,h=Qf(w0,"onSelect"),0<h.length&&(o=new cf("onSelect","select",null,o,d),s.push({event:o,listeners:h}),o.target=go)))}function dl(s,o){var d={};return d[s.toLowerCase()]=o.toLowerCase(),d["Webkit"+s]="webkit"+o,d["Moz"+s]="moz"+o,d}var xo={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},S0={},RN={};hi&&(RN=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function fl(s){if(S0[s])return S0[s];if(!xo[s])return s;var o=xo[s],d;for(d in o)if(o.hasOwnProperty(d)&&d in RN)return S0[s]=o[d];return s}var PN=fl("animationend"),IN=fl("animationiteration"),ON=fl("animationstart"),N6=fl("transitionrun"),S6=fl("transitionstart"),j6=fl("transitioncancel"),DN=fl("transitionend"),LN=new Map,j0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");j0.push("scrollEnd");function ha(s,o){LN.set(s,o),pa(o,[s])}var ff=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Vr=[],vo=0,_0=0;function pf(){for(var s=vo,o=_0=vo=0;o<s;){var d=Vr[o];Vr[o++]=null;var h=Vr[o];Vr[o++]=null;var w=Vr[o];Vr[o++]=null;var S=Vr[o];if(Vr[o++]=null,h!==null&&w!==null){var T=h.pending;T===null?w.next=w:(w.next=T.next,T.next=w),h.pending=w}S!==0&&zN(d,w,S)}}function mf(s,o,d,h){Vr[vo++]=s,Vr[vo++]=o,Vr[vo++]=d,Vr[vo++]=h,_0|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function E0(s,o,d,h){return mf(s,o,d,h),hf(s)}function pl(s,o){return mf(s,null,null,o),hf(s)}function zN(s,o,d){s.lanes|=d;var h=s.alternate;h!==null&&(h.lanes|=d);for(var w=!1,S=s.return;S!==null;)S.childLanes|=d,h=S.alternate,h!==null&&(h.childLanes|=d),S.tag===22&&(s=S.stateNode,s===null||s._visibility&1||(w=!0)),s=S,S=S.return;return s.tag===3?(S=s.stateNode,w&&o!==null&&(w=31-Ie(d),s=S.hiddenUpdates,h=s[w],h===null?s[w]=[o]:h.push(o),o.lane=d|536870912),S):null}function hf(s){if(50<vu)throw vu=0,Og=null,Error(r(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var yo={};function _6(s,o,d,h){this.tag=s,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(s,o,d,h){return new _6(s,o,d,h)}function C0(s){return s=s.prototype,!(!s||!s.isReactComponent)}function gi(s,o){var d=s.alternate;return d===null?(d=Ar(s.tag,o,s.key,s.mode),d.elementType=s.elementType,d.type=s.type,d.stateNode=s.stateNode,d.alternate=s,s.alternate=d):(d.pendingProps=o,d.type=s.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=s.flags&65011712,d.childLanes=s.childLanes,d.lanes=s.lanes,d.child=s.child,d.memoizedProps=s.memoizedProps,d.memoizedState=s.memoizedState,d.updateQueue=s.updateQueue,o=s.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=s.sibling,d.index=s.index,d.ref=s.ref,d.refCleanup=s.refCleanup,d}function UN(s,o){s.flags&=65011714;var d=s.alternate;return d===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=d.childLanes,s.lanes=d.lanes,s.child=d.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=d.memoizedProps,s.memoizedState=d.memoizedState,s.updateQueue=d.updateQueue,s.type=d.type,o=d.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function gf(s,o,d,h,w,S){var T=0;if(h=s,typeof s=="function")C0(s)&&(T=1);else if(typeof s=="string")T=k3(s,d,xe.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case z:return s=Ar(31,d,o,w),s.elementType=z,s.lanes=S,s;case _:return ml(d.children,w,S,o);case E:T=8,w|=24;break;case C:return s=Ar(12,d,o,w|2),s.elementType=C,s.lanes=S,s;case I:return s=Ar(13,d,o,w),s.elementType=I,s.lanes=S,s;case P:return s=Ar(19,d,o,w),s.elementType=P,s.lanes=S,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case R:T=10;break e;case A:T=9;break e;case M:T=11;break e;case k:T=14;break e;case L:T=16,h=null;break e}T=29,d=Error(r(130,s===null?"null":typeof s,"")),h=null}return o=Ar(T,d,o,w),o.elementType=s,o.type=h,o.lanes=S,o}function ml(s,o,d,h){return s=Ar(7,s,h,o),s.lanes=d,s}function A0(s,o,d){return s=Ar(6,s,null,o),s.lanes=d,s}function $N(s){var o=Ar(18,null,null,0);return o.stateNode=s,o}function T0(s,o,d){return o=Ar(4,s.children!==null?s.children:[],s.key,o),o.lanes=d,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var GN=new WeakMap;function Kr(s,o){if(typeof s=="object"&&s!==null){var d=GN.get(s);return d!==void 0?d:(o={value:s,source:o,stack:In(o)},GN.set(s,o),o)}return{value:s,source:o,stack:In(o)}}var bo=[],wo=0,xf=null,Xc=0,Yr=[],Jr=0,ds=null,Ia=1,Oa="";function xi(s,o){bo[wo++]=Xc,bo[wo++]=xf,xf=s,Xc=o}function BN(s,o,d){Yr[Jr++]=Ia,Yr[Jr++]=Oa,Yr[Jr++]=ds,ds=s;var h=Ia;s=Oa;var w=32-Ie(h)-1;h&=~(1<<w),d+=1;var S=32-Ie(o)+w;if(30<S){var T=w-w%5;S=(h&(1<<T)-1).toString(32),h>>=T,w-=T,Ia=1<<32-Ie(o)+w|d<<w|h,Oa=S+s}else Ia=1<<S|d<<w|h,Oa=s}function k0(s){s.return!==null&&(xi(s,1),BN(s,1,0))}function M0(s){for(;s===xf;)xf=bo[--wo],bo[wo]=null,Xc=bo[--wo],bo[wo]=null;for(;s===ds;)ds=Yr[--Jr],Yr[Jr]=null,Oa=Yr[--Jr],Yr[Jr]=null,Ia=Yr[--Jr],Yr[Jr]=null}function FN(s,o){Yr[Jr++]=Ia,Yr[Jr++]=Oa,Yr[Jr++]=ds,Ia=o.id,Oa=o.overflow,ds=s}var Ln=null,Lt=null,lt=!1,fs=null,Wr=!1,R0=Error(r(519));function ps(s){var o=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zc(Kr(o,s)),R0}function qN(s){var o=s.stateNode,d=s.type,h=s.memoizedProps;switch(o[gt]=s,o[Jt]=h,d){case"dialog":nt("cancel",o),nt("close",o);break;case"iframe":case"object":case"embed":nt("load",o);break;case"video":case"audio":for(d=0;d<bu.length;d++)nt(bu[d],o);break;case"source":nt("error",o);break;case"img":case"image":case"link":nt("error",o),nt("load",o);break;case"details":nt("toggle",o);break;case"input":nt("invalid",o),cl(o,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":nt("invalid",o);break;case"textarea":nt("invalid",o),af(o,h.value,h.defaultValue,h.children)}d=h.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||h.suppressHydrationWarning===!0||l_(o.textContent,d)?(h.popover!=null&&(nt("beforetoggle",o),nt("toggle",o)),h.onScroll!=null&&nt("scroll",o),h.onScrollEnd!=null&&nt("scrollend",o),h.onClick!=null&&(o.onclick=Kn),o=!0):o=!1,o||ps(s,!0)}function HN(s){for(Ln=s.return;Ln;)switch(Ln.tag){case 5:case 31:case 13:Wr=!1;return;case 27:case 3:Wr=!0;return;default:Ln=Ln.return}}function No(s){if(s!==Ln)return!1;if(!lt)return HN(s),lt=!0,!1;var o=s.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=s.type,d=!(d!=="form"&&d!=="button")||Wg(s.type,s.memoizedProps)),d=!d),d&&Lt&&ps(s),HN(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Lt=g_(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Lt=g_(s)}else o===27?(o=Lt,Cs(s.type)?(s=tx,tx=null,Lt=s):Lt=o):Lt=Ln?Zr(s.stateNode.nextSibling):null;return!0}function hl(){Lt=Ln=null,lt=!1}function P0(){var s=fs;return s!==null&&(br===null?br=s:br.push.apply(br,s),fs=null),s}function Zc(s){fs===null?fs=[s]:fs.push(s)}var I0=O(null),gl=null,vi=null;function ms(s,o,d){ce(I0,o._currentValue),o._currentValue=d}function yi(s){s._currentValue=I0.current,K(I0)}function O0(s,o,d){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===d)break;s=s.return}}function D0(s,o,d,h){var w=s.child;for(w!==null&&(w.return=s);w!==null;){var S=w.dependencies;if(S!==null){var T=w.child;S=S.firstContext;e:for(;S!==null;){var D=S;S=w;for(var B=0;B<o.length;B++)if(D.context===o[B]){S.lanes|=d,D=S.alternate,D!==null&&(D.lanes|=d),O0(S.return,d,s),h||(T=null);break e}S=D.next}}else if(w.tag===18){if(T=w.return,T===null)throw Error(r(341));T.lanes|=d,S=T.alternate,S!==null&&(S.lanes|=d),O0(T,d,s),T=null}else T=w.child;if(T!==null)T.return=w;else for(T=w;T!==null;){if(T===s){T=null;break}if(w=T.sibling,w!==null){w.return=T.return,T=w;break}T=T.return}w=T}}function So(s,o,d,h){s=null;for(var w=o,S=!1;w!==null;){if(!S){if((w.flags&524288)!==0)S=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var T=w.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var D=w.type;Cr(w.pendingProps.value,T.value)||(s!==null?s.push(D):s=[D])}}else if(w===ye.current){if(T=w.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(s!==null?s.push(_u):s=[_u])}w=w.return}s!==null&&D0(o,s,d,h),o.flags|=262144}function vf(s){for(s=s.firstContext;s!==null;){if(!Cr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function xl(s){gl=s,vi=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function zn(s){return VN(gl,s)}function yf(s,o){return gl===null&&xl(s),VN(s,o)}function VN(s,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},vi===null){if(s===null)throw Error(r(308));vi=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else vi=vi.next=o;return d}var E6=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(d,h){s.push(h)}};this.abort=function(){o.aborted=!0,s.forEach(function(d){return d()})}},C6=e.unstable_scheduleCallback,A6=e.unstable_NormalPriority,dn={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function L0(){return{controller:new E6,data:new Map,refCount:0}}function Qc(s){s.refCount--,s.refCount===0&&C6(A6,function(){s.controller.abort()})}var eu=null,z0=0,jo=0,_o=null;function T6(s,o){if(eu===null){var d=eu=[];z0=0,jo=Gg(),_o={status:"pending",value:void 0,then:function(h){d.push(h)}}}return z0++,o.then(KN,KN),o}function KN(){if(--z0===0&&eu!==null){_o!==null&&(_o.status="fulfilled");var s=eu;eu=null,jo=0,_o=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function k6(s,o){var d=[],h={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return s.then(function(){h.status="fulfilled",h.value=o;for(var w=0;w<d.length;w++)(0,d[w])(o)},function(w){for(h.status="rejected",h.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),h}var YN=F.S;F.S=function(s,o){Mj=ze(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&T6(s,o),YN!==null&&YN(s,o)};var vl=O(null);function U0(){var s=vl.current;return s!==null?s:Pt.pooledCache}function bf(s,o){o===null?ce(vl,vl.current):ce(vl,o.pool)}function JN(){var s=U0();return s===null?null:{parent:dn._currentValue,pool:s}}var Eo=Error(r(460)),$0=Error(r(474)),wf=Error(r(542)),Nf={then:function(){}};function WN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function XN(s,o,d){switch(d=s[d],d===void 0?s.push(o):d!==o&&(o.then(Kn,Kn),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,QN(s),s;default:if(typeof o.status=="string")o.then(Kn,Kn);else{if(s=Pt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=o,s.status="pending",s.then(function(h){if(o.status==="pending"){var w=o;w.status="fulfilled",w.value=h}},function(h){if(o.status==="pending"){var w=o;w.status="rejected",w.reason=h}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,QN(s),s}throw bl=o,Eo}}function yl(s){try{var o=s._init;return o(s._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(bl=d,Eo):d}}var bl=null;function ZN(){if(bl===null)throw Error(r(459));var s=bl;return bl=null,s}function QN(s){if(s===Eo||s===wf)throw Error(r(483))}var Co=null,tu=0;function Sf(s){var o=tu;return tu+=1,Co===null&&(Co=[]),XN(Co,s,o)}function nu(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function jf(s,o){throw o.$$typeof===v?Error(r(525)):(s=Object.prototype.toString.call(o),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function eS(s){function o(W,V){if(s){var ee=W.deletions;ee===null?(W.deletions=[V],W.flags|=16):ee.push(V)}}function d(W,V){if(!s)return null;for(;V!==null;)o(W,V),V=V.sibling;return null}function h(W){for(var V=new Map;W!==null;)W.key!==null?V.set(W.key,W):V.set(W.index,W),W=W.sibling;return V}function w(W,V){return W=gi(W,V),W.index=0,W.sibling=null,W}function S(W,V,ee){return W.index=ee,s?(ee=W.alternate,ee!==null?(ee=ee.index,ee<V?(W.flags|=67108866,V):ee):(W.flags|=67108866,V)):(W.flags|=1048576,V)}function T(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function D(W,V,ee,pe){return V===null||V.tag!==6?(V=A0(ee,W.mode,pe),V.return=W,V):(V=w(V,ee),V.return=W,V)}function B(W,V,ee,pe){var $e=ee.type;return $e===_?de(W,V,ee.props.children,pe,ee.key):V!==null&&(V.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===L&&yl($e)===V.type)?(V=w(V,ee.props),nu(V,ee),V.return=W,V):(V=gf(ee.type,ee.key,ee.props,null,W.mode,pe),nu(V,ee),V.return=W,V)}function re(W,V,ee,pe){return V===null||V.tag!==4||V.stateNode.containerInfo!==ee.containerInfo||V.stateNode.implementation!==ee.implementation?(V=T0(ee,W.mode,pe),V.return=W,V):(V=w(V,ee.children||[]),V.return=W,V)}function de(W,V,ee,pe,$e){return V===null||V.tag!==7?(V=ml(ee,W.mode,pe,$e),V.return=W,V):(V=w(V,ee),V.return=W,V)}function me(W,V,ee){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=A0(""+V,W.mode,ee),V.return=W,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case N:return ee=gf(V.type,V.key,V.props,null,W.mode,ee),nu(ee,V),ee.return=W,ee;case j:return V=T0(V,W.mode,ee),V.return=W,V;case L:return V=yl(V),me(W,V,ee)}if(he(V)||U(V))return V=ml(V,W.mode,ee,null),V.return=W,V;if(typeof V.then=="function")return me(W,Sf(V),ee);if(V.$$typeof===R)return me(W,yf(W,V),ee);jf(W,V)}return null}function ie(W,V,ee,pe){var $e=V!==null?V.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return $e!==null?null:D(W,V,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return ee.key===$e?B(W,V,ee,pe):null;case j:return ee.key===$e?re(W,V,ee,pe):null;case L:return ee=yl(ee),ie(W,V,ee,pe)}if(he(ee)||U(ee))return $e!==null?null:de(W,V,ee,pe,null);if(typeof ee.then=="function")return ie(W,V,Sf(ee),pe);if(ee.$$typeof===R)return ie(W,V,yf(W,ee),pe);jf(W,ee)}return null}function le(W,V,ee,pe,$e){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return W=W.get(ee)||null,D(V,W,""+pe,$e);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case N:return W=W.get(pe.key===null?ee:pe.key)||null,B(V,W,pe,$e);case j:return W=W.get(pe.key===null?ee:pe.key)||null,re(V,W,pe,$e);case L:return pe=yl(pe),le(W,V,ee,pe,$e)}if(he(pe)||U(pe))return W=W.get(ee)||null,de(V,W,pe,$e,null);if(typeof pe.then=="function")return le(W,V,ee,Sf(pe),$e);if(pe.$$typeof===R)return le(W,V,ee,yf(V,pe),$e);jf(V,pe)}return null}function Te(W,V,ee,pe){for(var $e=null,dt=null,Pe=V,We=V=0,it=null;Pe!==null&&We<ee.length;We++){Pe.index>We?(it=Pe,Pe=null):it=Pe.sibling;var ft=ie(W,Pe,ee[We],pe);if(ft===null){Pe===null&&(Pe=it);break}s&&Pe&&ft.alternate===null&&o(W,Pe),V=S(ft,V,We),dt===null?$e=ft:dt.sibling=ft,dt=ft,Pe=it}if(We===ee.length)return d(W,Pe),lt&&xi(W,We),$e;if(Pe===null){for(;We<ee.length;We++)Pe=me(W,ee[We],pe),Pe!==null&&(V=S(Pe,V,We),dt===null?$e=Pe:dt.sibling=Pe,dt=Pe);return lt&&xi(W,We),$e}for(Pe=h(Pe);We<ee.length;We++)it=le(Pe,W,We,ee[We],pe),it!==null&&(s&&it.alternate!==null&&Pe.delete(it.key===null?We:it.key),V=S(it,V,We),dt===null?$e=it:dt.sibling=it,dt=it);return s&&Pe.forEach(function(Rs){return o(W,Rs)}),lt&&xi(W,We),$e}function Be(W,V,ee,pe){if(ee==null)throw Error(r(151));for(var $e=null,dt=null,Pe=V,We=V=0,it=null,ft=ee.next();Pe!==null&&!ft.done;We++,ft=ee.next()){Pe.index>We?(it=Pe,Pe=null):it=Pe.sibling;var Rs=ie(W,Pe,ft.value,pe);if(Rs===null){Pe===null&&(Pe=it);break}s&&Pe&&Rs.alternate===null&&o(W,Pe),V=S(Rs,V,We),dt===null?$e=Rs:dt.sibling=Rs,dt=Rs,Pe=it}if(ft.done)return d(W,Pe),lt&&xi(W,We),$e;if(Pe===null){for(;!ft.done;We++,ft=ee.next())ft=me(W,ft.value,pe),ft!==null&&(V=S(ft,V,We),dt===null?$e=ft:dt.sibling=ft,dt=ft);return lt&&xi(W,We),$e}for(Pe=h(Pe);!ft.done;We++,ft=ee.next())ft=le(Pe,W,We,ft.value,pe),ft!==null&&(s&&ft.alternate!==null&&Pe.delete(ft.key===null?We:ft.key),V=S(ft,V,We),dt===null?$e=ft:dt.sibling=ft,dt=ft);return s&&Pe.forEach(function(G3){return o(W,G3)}),lt&&xi(W,We),$e}function Tt(W,V,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===_&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:e:{for(var $e=ee.key;V!==null;){if(V.key===$e){if($e=ee.type,$e===_){if(V.tag===7){d(W,V.sibling),pe=w(V,ee.props.children),pe.return=W,W=pe;break e}}else if(V.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===L&&yl($e)===V.type){d(W,V.sibling),pe=w(V,ee.props),nu(pe,ee),pe.return=W,W=pe;break e}d(W,V);break}else o(W,V);V=V.sibling}ee.type===_?(pe=ml(ee.props.children,W.mode,pe,ee.key),pe.return=W,W=pe):(pe=gf(ee.type,ee.key,ee.props,null,W.mode,pe),nu(pe,ee),pe.return=W,W=pe)}return T(W);case j:e:{for($e=ee.key;V!==null;){if(V.key===$e)if(V.tag===4&&V.stateNode.containerInfo===ee.containerInfo&&V.stateNode.implementation===ee.implementation){d(W,V.sibling),pe=w(V,ee.children||[]),pe.return=W,W=pe;break e}else{d(W,V);break}else o(W,V);V=V.sibling}pe=T0(ee,W.mode,pe),pe.return=W,W=pe}return T(W);case L:return ee=yl(ee),Tt(W,V,ee,pe)}if(he(ee))return Te(W,V,ee,pe);if(U(ee)){if($e=U(ee),typeof $e!="function")throw Error(r(150));return ee=$e.call(ee),Be(W,V,ee,pe)}if(typeof ee.then=="function")return Tt(W,V,Sf(ee),pe);if(ee.$$typeof===R)return Tt(W,V,yf(W,ee),pe);jf(W,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,V!==null&&V.tag===6?(d(W,V.sibling),pe=w(V,ee),pe.return=W,W=pe):(d(W,V),pe=A0(ee,W.mode,pe),pe.return=W,W=pe),T(W)):d(W,V)}return function(W,V,ee,pe){try{tu=0;var $e=Tt(W,V,ee,pe);return Co=null,$e}catch(Pe){if(Pe===Eo||Pe===wf)throw Pe;var dt=Ar(29,Pe,null,W.mode);return dt.lanes=pe,dt.return=W,dt}}}var wl=eS(!0),tS=eS(!1),hs=!1;function G0(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function B0(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function gs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function xs(s,o,d){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(xt&2)!==0){var w=h.pending;return w===null?o.next=o:(o.next=w.next,w.next=o),h.pending=o,o=hf(s),zN(s,null,d),o}return mf(s,h,o,d),hf(s)}function ru(s,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,ro(s,d)}}function F0(s,o){var d=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,d===h)){var w=null,S=null;if(d=d.firstBaseUpdate,d!==null){do{var T={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};S===null?w=S=T:S=S.next=T,d=d.next}while(d!==null);S===null?w=S=o:S=S.next=o}else w=S=o;d={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:S,shared:h.shared,callbacks:h.callbacks},s.updateQueue=d;return}s=d.lastBaseUpdate,s===null?d.firstBaseUpdate=o:s.next=o,d.lastBaseUpdate=o}var q0=!1;function au(){if(q0){var s=_o;if(s!==null)throw s}}function iu(s,o,d,h){q0=!1;var w=s.updateQueue;hs=!1;var S=w.firstBaseUpdate,T=w.lastBaseUpdate,D=w.shared.pending;if(D!==null){w.shared.pending=null;var B=D,re=B.next;B.next=null,T===null?S=re:T.next=re,T=B;var de=s.alternate;de!==null&&(de=de.updateQueue,D=de.lastBaseUpdate,D!==T&&(D===null?de.firstBaseUpdate=re:D.next=re,de.lastBaseUpdate=B))}if(S!==null){var me=w.baseState;T=0,de=re=B=null,D=S;do{var ie=D.lane&-536870913,le=ie!==D.lane;if(le?(at&ie)===ie:(h&ie)===ie){ie!==0&&ie===jo&&(q0=!0),de!==null&&(de=de.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var Te=s,Be=D;ie=o;var Tt=d;switch(Be.tag){case 1:if(Te=Be.payload,typeof Te=="function"){me=Te.call(Tt,me,ie);break e}me=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=Be.payload,ie=typeof Te=="function"?Te.call(Tt,me,ie):Te,ie==null)break e;me=g({},me,ie);break e;case 2:hs=!0}}ie=D.callback,ie!==null&&(s.flags|=64,le&&(s.flags|=8192),le=w.callbacks,le===null?w.callbacks=[ie]:le.push(ie))}else le={lane:ie,tag:D.tag,payload:D.payload,callback:D.callback,next:null},de===null?(re=de=le,B=me):de=de.next=le,T|=ie;if(D=D.next,D===null){if(D=w.shared.pending,D===null)break;le=D,D=le.next,le.next=null,w.lastBaseUpdate=le,w.shared.pending=null}}while(!0);de===null&&(B=me),w.baseState=B,w.firstBaseUpdate=re,w.lastBaseUpdate=de,S===null&&(w.shared.lanes=0),Ns|=T,s.lanes=T,s.memoizedState=me}}function nS(s,o){if(typeof s!="function")throw Error(r(191,s));s.call(o)}function rS(s,o){var d=s.callbacks;if(d!==null)for(s.callbacks=null,s=0;s<d.length;s++)nS(d[s],o)}var Ao=O(null),_f=O(0);function aS(s,o){s=Ai,ce(_f,s),ce(Ao,o),Ai=s|o.baseLanes}function H0(){ce(_f,Ai),ce(Ao,Ao.current)}function V0(){Ai=_f.current,K(Ao),K(_f)}var Tr=O(null),Xr=null;function vs(s){var o=s.alternate;ce(sn,sn.current&1),ce(Tr,s),Xr===null&&(o===null||Ao.current!==null||o.memoizedState!==null)&&(Xr=s)}function K0(s){ce(sn,sn.current),ce(Tr,s),Xr===null&&(Xr=s)}function iS(s){s.tag===22?(ce(sn,sn.current),ce(Tr,s),Xr===null&&(Xr=s)):ys()}function ys(){ce(sn,sn.current),ce(Tr,Tr.current)}function kr(s){K(Tr),Xr===s&&(Xr=null),K(sn)}var sn=O(0);function Ef(s){for(var o=s;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||Qg(d)||ex(d)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var bi=0,Je=null,Ct=null,fn=null,Cf=!1,To=!1,Nl=!1,Af=0,su=0,ko=null,M6=0;function Wt(){throw Error(r(321))}function Y0(s,o){if(o===null)return!1;for(var d=0;d<o.length&&d<s.length;d++)if(!Cr(s[d],o[d]))return!1;return!0}function J0(s,o,d,h,w,S){return bi=S,Je=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,F.H=s===null||s.memoizedState===null?BS:ug,Nl=!1,S=d(h,w),Nl=!1,To&&(S=lS(o,d,h,w)),sS(s),S}function sS(s){F.H=cu;var o=Ct!==null&&Ct.next!==null;if(bi=0,fn=Ct=Je=null,Cf=!1,su=0,ko=null,o)throw Error(r(300));s===null||pn||(s=s.dependencies,s!==null&&vf(s)&&(pn=!0))}function lS(s,o,d,h){Je=s;var w=0;do{if(To&&(ko=null),su=0,To=!1,25<=w)throw Error(r(301));if(w+=1,fn=Ct=null,s.updateQueue!=null){var S=s.updateQueue;S.lastEffect=null,S.events=null,S.stores=null,S.memoCache!=null&&(S.memoCache.index=0)}F.H=FS,S=o(d,h)}while(To);return S}function R6(){var s=F.H,o=s.useState()[0];return o=typeof o.then=="function"?lu(o):o,s=s.useState()[0],(Ct!==null?Ct.memoizedState:null)!==s&&(Je.flags|=1024),o}function W0(){var s=Af!==0;return Af=0,s}function X0(s,o,d){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~d}function Z0(s){if(Cf){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Cf=!1}bi=0,fn=Ct=Je=null,To=!1,su=Af=0,ko=null}function ir(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Je.memoizedState=fn=s:fn=fn.next=s,fn}function ln(){if(Ct===null){var s=Je.alternate;s=s!==null?s.memoizedState:null}else s=Ct.next;var o=fn===null?Je.memoizedState:fn.next;if(o!==null)fn=o,Ct=s;else{if(s===null)throw Je.alternate===null?Error(r(467)):Error(r(310));Ct=s,s={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},fn===null?Je.memoizedState=fn=s:fn=fn.next=s}return fn}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function lu(s){var o=su;return su+=1,ko===null&&(ko=[]),s=XN(ko,s,o),o=Je,(fn===null?o.memoizedState:fn.next)===null&&(o=o.alternate,F.H=o===null||o.memoizedState===null?BS:ug),s}function kf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return lu(s);if(s.$$typeof===R)return zn(s)}throw Error(r(438,String(s)))}function Q0(s){var o=null,d=Je.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var h=Je.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(o={data:h.data.map(function(w){return w.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Tf(),Je.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(s),h=0;h<s;h++)d[h]=q;return o.index++,d}function wi(s,o){return typeof o=="function"?o(s):o}function Mf(s){var o=ln();return eg(o,Ct,s)}function eg(s,o,d){var h=s.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=d;var w=s.baseQueue,S=h.pending;if(S!==null){if(w!==null){var T=w.next;w.next=S.next,S.next=T}o.baseQueue=w=S,h.pending=null}if(S=s.baseState,w===null)s.memoizedState=S;else{o=w.next;var D=T=null,B=null,re=o,de=!1;do{var me=re.lane&-536870913;if(me!==re.lane?(at&me)===me:(bi&me)===me){var ie=re.revertLane;if(ie===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null}),me===jo&&(de=!0);else if((bi&ie)===ie){re=re.next,ie===jo&&(de=!0);continue}else me={lane:0,revertLane:re.revertLane,gesture:null,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},B===null?(D=B=me,T=S):B=B.next=me,Je.lanes|=ie,Ns|=ie;me=re.action,Nl&&d(S,me),S=re.hasEagerState?re.eagerState:d(S,me)}else ie={lane:me,revertLane:re.revertLane,gesture:re.gesture,action:re.action,hasEagerState:re.hasEagerState,eagerState:re.eagerState,next:null},B===null?(D=B=ie,T=S):B=B.next=ie,Je.lanes|=me,Ns|=me;re=re.next}while(re!==null&&re!==o);if(B===null?T=S:B.next=D,!Cr(S,s.memoizedState)&&(pn=!0,de&&(d=_o,d!==null)))throw d;s.memoizedState=S,s.baseState=T,s.baseQueue=B,h.lastRenderedState=S}return w===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function tg(s){var o=ln(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=s;var h=d.dispatch,w=d.pending,S=o.memoizedState;if(w!==null){d.pending=null;var T=w=w.next;do S=s(S,T.action),T=T.next;while(T!==w);Cr(S,o.memoizedState)||(pn=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),d.lastRenderedState=S}return[S,h]}function oS(s,o,d){var h=Je,w=ln(),S=lt;if(S){if(d===void 0)throw Error(r(407));d=d()}else d=o();var T=!Cr((Ct||w).memoizedState,d);if(T&&(w.memoizedState=d,pn=!0),w=w.queue,ag(dS.bind(null,h,w,s),[s]),w.getSnapshot!==o||T||fn!==null&&fn.memoizedState.tag&1){if(h.flags|=2048,Mo(9,{destroy:void 0},uS.bind(null,h,w,d,o),null),Pt===null)throw Error(r(349));S||(bi&127)!==0||cS(h,o,d)}return d}function cS(s,o,d){s.flags|=16384,s={getSnapshot:o,value:d},o=Je.updateQueue,o===null?(o=Tf(),Je.updateQueue=o,o.stores=[s]):(d=o.stores,d===null?o.stores=[s]:d.push(s))}function uS(s,o,d,h){o.value=d,o.getSnapshot=h,fS(o)&&pS(s)}function dS(s,o,d){return d(function(){fS(o)&&pS(s)})}function fS(s){var o=s.getSnapshot;s=s.value;try{var d=o();return!Cr(s,d)}catch{return!0}}function pS(s){var o=pl(s,2);o!==null&&wr(o,s,2)}function ng(s){var o=ir();if(typeof s=="function"){var d=s;if(s=d(),Nl){$(!0);try{d()}finally{$(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:s},o}function mS(s,o,d,h){return s.baseState=d,eg(s,Ct,typeof h=="function"?h:wi)}function P6(s,o,d,h,w){if(If(s))throw Error(r(485));if(s=o.action,s!==null){var S={payload:w,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){S.listeners.push(T)}};F.T!==null?d(!0):S.isTransition=!1,h(S),d=o.pending,d===null?(S.next=o.pending=S,hS(o,S)):(S.next=d.next,o.pending=d.next=S)}}function hS(s,o){var d=o.action,h=o.payload,w=s.state;if(o.isTransition){var S=F.T,T={};F.T=T;try{var D=d(w,h),B=F.S;B!==null&&B(T,D),gS(s,o,D)}catch(re){rg(s,o,re)}finally{S!==null&&T.types!==null&&(S.types=T.types),F.T=S}}else try{S=d(w,h),gS(s,o,S)}catch(re){rg(s,o,re)}}function gS(s,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(h){xS(s,o,h)},function(h){return rg(s,o,h)}):xS(s,o,d)}function xS(s,o,d){o.status="fulfilled",o.value=d,vS(o),s.state=d,o=s.pending,o!==null&&(d=o.next,d===o?s.pending=null:(d=d.next,o.next=d,hS(s,d)))}function rg(s,o,d){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do o.status="rejected",o.reason=d,vS(o),o=o.next;while(o!==h)}s.action=null}function vS(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function yS(s,o){return o}function bS(s,o){if(lt){var d=Pt.formState;if(d!==null){e:{var h=Je;if(lt){if(Lt){t:{for(var w=Lt,S=Wr;w.nodeType!==8;){if(!S){w=null;break t}if(w=Zr(w.nextSibling),w===null){w=null;break t}}S=w.data,w=S==="F!"||S==="F"?w:null}if(w){Lt=Zr(w.nextSibling),h=w.data==="F!";break e}}ps(h)}h=!1}h&&(o=d[0])}}return d=ir(),d.memoizedState=d.baseState=o,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yS,lastRenderedState:o},d.queue=h,d=US.bind(null,Je,h),h.dispatch=d,h=ng(!1),S=cg.bind(null,Je,!1,h.queue),h=ir(),w={state:o,dispatch:null,action:s,pending:null},h.queue=w,d=P6.bind(null,Je,w,S,d),w.dispatch=d,h.memoizedState=s,[o,d,!1]}function wS(s){var o=ln();return NS(o,Ct,s)}function NS(s,o,d){if(o=eg(s,o,yS)[0],s=Mf(wi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var h=lu(o)}catch(T){throw T===Eo?wf:T}else h=o;o=ln();var w=o.queue,S=w.dispatch;return d!==o.memoizedState&&(Je.flags|=2048,Mo(9,{destroy:void 0},I6.bind(null,w,d),null)),[h,S,s]}function I6(s,o){s.action=o}function SS(s){var o=ln(),d=Ct;if(d!==null)return NS(o,d,s);ln(),o=o.memoizedState,d=ln();var h=d.queue.dispatch;return d.memoizedState=s,[o,h,!1]}function Mo(s,o,d,h){return s={tag:s,create:d,deps:h,inst:o,next:null},o=Je.updateQueue,o===null&&(o=Tf(),Je.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=s.next=s:(h=d.next,d.next=s,s.next=h,o.lastEffect=s),s}function jS(){return ln().memoizedState}function Rf(s,o,d,h){var w=ir();Je.flags|=s,w.memoizedState=Mo(1|o,{destroy:void 0},d,h===void 0?null:h)}function Pf(s,o,d,h){var w=ln();h=h===void 0?null:h;var S=w.memoizedState.inst;Ct!==null&&h!==null&&Y0(h,Ct.memoizedState.deps)?w.memoizedState=Mo(o,S,d,h):(Je.flags|=s,w.memoizedState=Mo(1|o,S,d,h))}function _S(s,o){Rf(8390656,8,s,o)}function ag(s,o){Pf(2048,8,s,o)}function O6(s){Je.flags|=4;var o=Je.updateQueue;if(o===null)o=Tf(),Je.updateQueue=o,o.events=[s];else{var d=o.events;d===null?o.events=[s]:d.push(s)}}function ES(s){var o=ln().memoizedState;return O6({ref:o,nextImpl:s}),function(){if((xt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}function CS(s,o){return Pf(4,2,s,o)}function AS(s,o){return Pf(4,4,s,o)}function TS(s,o){if(typeof o=="function"){s=s();var d=o(s);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function kS(s,o,d){d=d!=null?d.concat([s]):null,Pf(4,4,TS.bind(null,o,s),d)}function ig(){}function MS(s,o){var d=ln();o=o===void 0?null:o;var h=d.memoizedState;return o!==null&&Y0(o,h[1])?h[0]:(d.memoizedState=[s,o],s)}function RS(s,o){var d=ln();o=o===void 0?null:o;var h=d.memoizedState;if(o!==null&&Y0(o,h[1]))return h[0];if(h=s(),Nl){$(!0);try{s()}finally{$(!1)}}return d.memoizedState=[h,o],h}function sg(s,o,d){return d===void 0||(bi&1073741824)!==0&&(at&261930)===0?s.memoizedState=o:(s.memoizedState=d,s=Pj(),Je.lanes|=s,Ns|=s,d)}function PS(s,o,d,h){return Cr(d,o)?d:Ao.current!==null?(s=sg(s,d,h),Cr(s,o)||(pn=!0),s):(bi&42)===0||(bi&1073741824)!==0&&(at&261930)===0?(pn=!0,s.memoizedState=d):(s=Pj(),Je.lanes|=s,Ns|=s,o)}function IS(s,o,d,h,w){var S=G.p;G.p=S!==0&&8>S?S:8;var T=F.T,D={};F.T=D,cg(s,!1,o,d);try{var B=w(),re=F.S;if(re!==null&&re(D,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var de=k6(B,h);ou(s,o,de,Pr(s))}else ou(s,o,h,Pr(s))}catch(me){ou(s,o,{then:function(){},status:"rejected",reason:me},Pr())}finally{G.p=S,T!==null&&D.types!==null&&(T.types=D.types),F.T=T}}function D6(){}function lg(s,o,d,h){if(s.tag!==5)throw Error(r(476));var w=OS(s).queue;IS(s,w,o,X,d===null?D6:function(){return DS(s),d(h)})}function OS(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:X},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:d},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function DS(s){var o=OS(s);o.next===null&&(o=s.alternate.memoizedState),ou(s,o.next.queue,{},Pr())}function og(){return zn(_u)}function LS(){return ln().memoizedState}function zS(){return ln().memoizedState}function L6(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var d=Pr();s=gs(d);var h=xs(o,s,d);h!==null&&(wr(h,o,d),ru(h,o,d)),o={cache:L0()},s.payload=o;return}o=o.return}}function z6(s,o,d){var h=Pr();d={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},If(s)?$S(o,d):(d=E0(s,o,d,h),d!==null&&(wr(d,s,h),GS(d,o,h)))}function US(s,o,d){var h=Pr();ou(s,o,d,h)}function ou(s,o,d,h){var w={lane:h,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(If(s))$S(o,w);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var T=o.lastRenderedState,D=S(T,d);if(w.hasEagerState=!0,w.eagerState=D,Cr(D,T))return mf(s,o,w,0),Pt===null&&pf(),!1}catch{}if(d=E0(s,o,w,h),d!==null)return wr(d,s,h),GS(d,o,h),!0}return!1}function cg(s,o,d,h){if(h={lane:2,revertLane:Gg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},If(s)){if(o)throw Error(r(479))}else o=E0(s,d,h,2),o!==null&&wr(o,s,2)}function If(s){var o=s.alternate;return s===Je||o!==null&&o===Je}function $S(s,o){To=Cf=!0;var d=s.pending;d===null?o.next=o:(o.next=d.next,d.next=o),s.pending=o}function GS(s,o,d){if((d&4194048)!==0){var h=o.lanes;h&=s.pendingLanes,d|=h,o.lanes=d,ro(s,d)}}var cu={readContext:zn,use:kf,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt};cu.useEffectEvent=Wt;var BS={readContext:zn,use:kf,useCallback:function(s,o){return ir().memoizedState=[s,o===void 0?null:o],s},useContext:zn,useEffect:_S,useImperativeHandle:function(s,o,d){d=d!=null?d.concat([s]):null,Rf(4194308,4,TS.bind(null,o,s),d)},useLayoutEffect:function(s,o){return Rf(4194308,4,s,o)},useInsertionEffect:function(s,o){Rf(4,2,s,o)},useMemo:function(s,o){var d=ir();o=o===void 0?null:o;var h=s();if(Nl){$(!0);try{s()}finally{$(!1)}}return d.memoizedState=[h,o],h},useReducer:function(s,o,d){var h=ir();if(d!==void 0){var w=d(o);if(Nl){$(!0);try{d(o)}finally{$(!1)}}}else w=o;return h.memoizedState=h.baseState=w,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:w},h.queue=s,s=s.dispatch=z6.bind(null,Je,s),[h.memoizedState,s]},useRef:function(s){var o=ir();return s={current:s},o.memoizedState=s},useState:function(s){s=ng(s);var o=s.queue,d=US.bind(null,Je,o);return o.dispatch=d,[s.memoizedState,d]},useDebugValue:ig,useDeferredValue:function(s,o){var d=ir();return sg(d,s,o)},useTransition:function(){var s=ng(!1);return s=IS.bind(null,Je,s.queue,!0,!1),ir().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,d){var h=Je,w=ir();if(lt){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Pt===null)throw Error(r(349));(at&127)!==0||cS(h,o,d)}w.memoizedState=d;var S={value:d,getSnapshot:o};return w.queue=S,_S(dS.bind(null,h,S,s),[s]),h.flags|=2048,Mo(9,{destroy:void 0},uS.bind(null,h,S,d,o),null),d},useId:function(){var s=ir(),o=Pt.identifierPrefix;if(lt){var d=Oa,h=Ia;d=(h&~(1<<32-Ie(h)-1)).toString(32)+d,o="_"+o+"R_"+d,d=Af++,0<d&&(o+="H"+d.toString(32)),o+="_"}else d=M6++,o="_"+o+"r_"+d.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:og,useFormState:bS,useActionState:bS,useOptimistic:function(s){var o=ir();o.memoizedState=o.baseState=s;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=cg.bind(null,Je,!0,d),d.dispatch=o,[s,o]},useMemoCache:Q0,useCacheRefresh:function(){return ir().memoizedState=L6.bind(null,Je)},useEffectEvent:function(s){var o=ir(),d={impl:s};return o.memoizedState=d,function(){if((xt&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},ug={readContext:zn,use:kf,useCallback:MS,useContext:zn,useEffect:ag,useImperativeHandle:kS,useInsertionEffect:CS,useLayoutEffect:AS,useMemo:RS,useReducer:Mf,useRef:jS,useState:function(){return Mf(wi)},useDebugValue:ig,useDeferredValue:function(s,o){var d=ln();return PS(d,Ct.memoizedState,s,o)},useTransition:function(){var s=Mf(wi)[0],o=ln().memoizedState;return[typeof s=="boolean"?s:lu(s),o]},useSyncExternalStore:oS,useId:LS,useHostTransitionStatus:og,useFormState:wS,useActionState:wS,useOptimistic:function(s,o){var d=ln();return mS(d,Ct,s,o)},useMemoCache:Q0,useCacheRefresh:zS};ug.useEffectEvent=ES;var FS={readContext:zn,use:kf,useCallback:MS,useContext:zn,useEffect:ag,useImperativeHandle:kS,useInsertionEffect:CS,useLayoutEffect:AS,useMemo:RS,useReducer:tg,useRef:jS,useState:function(){return tg(wi)},useDebugValue:ig,useDeferredValue:function(s,o){var d=ln();return Ct===null?sg(d,s,o):PS(d,Ct.memoizedState,s,o)},useTransition:function(){var s=tg(wi)[0],o=ln().memoizedState;return[typeof s=="boolean"?s:lu(s),o]},useSyncExternalStore:oS,useId:LS,useHostTransitionStatus:og,useFormState:SS,useActionState:SS,useOptimistic:function(s,o){var d=ln();return Ct!==null?mS(d,Ct,s,o):(d.baseState=s,[s,d.queue.dispatch])},useMemoCache:Q0,useCacheRefresh:zS};FS.useEffectEvent=ES;function dg(s,o,d,h){o=s.memoizedState,d=d(h,o),d=d==null?o:g({},o,d),s.memoizedState=d,s.lanes===0&&(s.updateQueue.baseState=d)}var fg={enqueueSetState:function(s,o,d){s=s._reactInternals;var h=Pr(),w=gs(h);w.payload=o,d!=null&&(w.callback=d),o=xs(s,w,h),o!==null&&(wr(o,s,h),ru(o,s,h))},enqueueReplaceState:function(s,o,d){s=s._reactInternals;var h=Pr(),w=gs(h);w.tag=1,w.payload=o,d!=null&&(w.callback=d),o=xs(s,w,h),o!==null&&(wr(o,s,h),ru(o,s,h))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var d=Pr(),h=gs(d);h.tag=2,o!=null&&(h.callback=o),o=xs(s,h,d),o!==null&&(wr(o,s,d),ru(o,s,d))}};function qS(s,o,d,h,w,S,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,S,T):o.prototype&&o.prototype.isPureReactComponent?!Jc(d,h)||!Jc(w,S):!0}function HS(s,o,d,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,h),o.state!==s&&fg.enqueueReplaceState(o,o.state,null)}function Sl(s,o){var d=o;if("ref"in o){d={};for(var h in o)h!=="ref"&&(d[h]=o[h])}if(s=s.defaultProps){d===o&&(d=g({},d));for(var w in s)d[w]===void 0&&(d[w]=s[w])}return d}function VS(s){ff(s)}function KS(s){console.error(s)}function YS(s){ff(s)}function Of(s,o){try{var d=s.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(h){setTimeout(function(){throw h})}}function JS(s,o,d){try{var h=s.onCaughtError;h(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function pg(s,o,d){return d=gs(d),d.tag=3,d.payload={element:null},d.callback=function(){Of(s,o)},d}function WS(s){return s=gs(s),s.tag=3,s}function XS(s,o,d,h){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var S=h.value;s.payload=function(){return w(S)},s.callback=function(){JS(o,d,h)}}var T=d.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(s.callback=function(){JS(o,d,h),typeof w!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function U6(s,o,d,h,w){if(d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(o=d.alternate,o!==null&&So(o,d,w,!0),d=Tr.current,d!==null){switch(d.tag){case 31:case 13:return Xr===null?Kf():d.alternate===null&&Xt===0&&(Xt=3),d.flags&=-257,d.flags|=65536,d.lanes=w,h===Nf?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([h]):o.add(h),zg(s,h,w)),!1;case 22:return d.flags|=65536,h===Nf?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([h])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([h]):d.add(h)),zg(s,h,w)),!1}throw Error(r(435,d.tag))}return zg(s,h,w),Kf(),!1}if(lt)return o=Tr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=w,h!==R0&&(s=Error(r(422),{cause:h}),Zc(Kr(s,d)))):(h!==R0&&(o=Error(r(423),{cause:h}),Zc(Kr(o,d))),s=s.current.alternate,s.flags|=65536,w&=-w,s.lanes|=w,h=Kr(h,d),w=pg(s.stateNode,h,w),F0(s,w),Xt!==4&&(Xt=2)),!1;var S=Error(r(520),{cause:h});if(S=Kr(S,d),xu===null?xu=[S]:xu.push(S),Xt!==4&&(Xt=2),o===null)return!0;h=Kr(h,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,s=w&-w,d.lanes|=s,s=pg(d.stateNode,h,s),F0(d,s),!1;case 1:if(o=d.type,S=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ss===null||!Ss.has(S))))return d.flags|=65536,w&=-w,d.lanes|=w,w=WS(w),XS(w,s,d,h),F0(d,w),!1}d=d.return}while(d!==null);return!1}var mg=Error(r(461)),pn=!1;function Un(s,o,d,h){o.child=s===null?tS(o,null,d,h):wl(o,s.child,d,h)}function ZS(s,o,d,h,w){d=d.render;var S=o.ref;if("ref"in h){var T={};for(var D in h)D!=="ref"&&(T[D]=h[D])}else T=h;return xl(o),h=J0(s,o,d,T,S,w),D=W0(),s!==null&&!pn?(X0(s,o,w),Ni(s,o,w)):(lt&&D&&k0(o),o.flags|=1,Un(s,o,h,w),o.child)}function QS(s,o,d,h,w){if(s===null){var S=d.type;return typeof S=="function"&&!C0(S)&&S.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=S,ej(s,o,S,h,w)):(s=gf(d.type,null,h,o,o.mode,w),s.ref=o.ref,s.return=o,o.child=s)}if(S=s.child,!Ng(s,w)){var T=S.memoizedProps;if(d=d.compare,d=d!==null?d:Jc,d(T,h)&&s.ref===o.ref)return Ni(s,o,w)}return o.flags|=1,s=gi(S,h),s.ref=o.ref,s.return=o,o.child=s}function ej(s,o,d,h,w){if(s!==null){var S=s.memoizedProps;if(Jc(S,h)&&s.ref===o.ref)if(pn=!1,o.pendingProps=h=S,Ng(s,w))(s.flags&131072)!==0&&(pn=!0);else return o.lanes=s.lanes,Ni(s,o,w)}return hg(s,o,d,h,w)}function tj(s,o,d,h){var w=h.children,S=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((o.flags&128)!==0){if(S=S!==null?S.baseLanes|d:d,s!==null){for(h=o.child=s.child,w=0;h!==null;)w=w|h.lanes|h.childLanes,h=h.sibling;h=w&~S}else h=0,o.child=null;return nj(s,o,S,d,h)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&bf(o,S!==null?S.cachePool:null),S!==null?aS(o,S):H0(),iS(o);else return h=o.lanes=536870912,nj(s,o,S!==null?S.baseLanes|d:d,d,h)}else S!==null?(bf(o,S.cachePool),aS(o,S),ys(),o.memoizedState=null):(s!==null&&bf(o,null),H0(),ys());return Un(s,o,w,d),o.child}function uu(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function nj(s,o,d,h,w){var S=U0();return S=S===null?null:{parent:dn._currentValue,pool:S},o.memoizedState={baseLanes:d,cachePool:S},s!==null&&bf(o,null),H0(),iS(o),s!==null&&So(s,o,h,!0),o.childLanes=w,null}function Df(s,o){return o=zf({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function rj(s,o,d){return wl(o,s.child,null,d),s=Df(o,o.pendingProps),s.flags|=2,kr(o),o.memoizedState=null,s}function $6(s,o,d){var h=o.pendingProps,w=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(lt){if(h.mode==="hidden")return s=Df(o,h),o.lanes=536870912,uu(null,s);if(K0(o),(s=Lt)?(s=h_(s,Wr),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ds!==null?{id:Ia,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},d=$N(s),d.return=o,o.child=d,Ln=o,Lt=null)):s=null,s===null)throw ps(o);return o.lanes=536870912,null}return Df(o,h)}var S=s.memoizedState;if(S!==null){var T=S.dehydrated;if(K0(o),w)if(o.flags&256)o.flags&=-257,o=rj(s,o,d);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(r(558));else if(pn||So(s,o,d,!1),w=(d&s.childLanes)!==0,pn||w){if(h=Pt,h!==null&&(T=sl(h,d),T!==0&&T!==S.retryLane))throw S.retryLane=T,pl(s,T),wr(h,s,T),mg;Kf(),o=rj(s,o,d)}else s=S.treeContext,Lt=Zr(T.nextSibling),Ln=o,lt=!0,fs=null,Wr=!1,s!==null&&FN(o,s),o=Df(o,h),o.flags|=4096;return o}return s=gi(s.child,{mode:h.mode,children:h.children}),s.ref=o.ref,o.child=s,s.return=o,s}function Lf(s,o){var d=o.ref;if(d===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(s===null||s.ref!==d)&&(o.flags|=4194816)}}function hg(s,o,d,h,w){return xl(o),d=J0(s,o,d,h,void 0,w),h=W0(),s!==null&&!pn?(X0(s,o,w),Ni(s,o,w)):(lt&&h&&k0(o),o.flags|=1,Un(s,o,d,w),o.child)}function aj(s,o,d,h,w,S){return xl(o),o.updateQueue=null,d=lS(o,h,d,w),sS(s),h=W0(),s!==null&&!pn?(X0(s,o,S),Ni(s,o,S)):(lt&&h&&k0(o),o.flags|=1,Un(s,o,d,S),o.child)}function ij(s,o,d,h,w){if(xl(o),o.stateNode===null){var S=yo,T=d.contextType;typeof T=="object"&&T!==null&&(S=zn(T)),S=new d(h,S),o.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=fg,o.stateNode=S,S._reactInternals=o,S=o.stateNode,S.props=h,S.state=o.memoizedState,S.refs={},G0(o),T=d.contextType,S.context=typeof T=="object"&&T!==null?zn(T):yo,S.state=o.memoizedState,T=d.getDerivedStateFromProps,typeof T=="function"&&(dg(o,d,T,h),S.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(T=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),T!==S.state&&fg.enqueueReplaceState(S,S.state,null),iu(o,h,S,w),au(),S.state=o.memoizedState),typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!0}else if(s===null){S=o.stateNode;var D=o.memoizedProps,B=Sl(d,D);S.props=B;var re=S.context,de=d.contextType;T=yo,typeof de=="object"&&de!==null&&(T=zn(de));var me=d.getDerivedStateFromProps;de=typeof me=="function"||typeof S.getSnapshotBeforeUpdate=="function",D=o.pendingProps!==D,de||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(D||re!==T)&&HS(o,S,h,T),hs=!1;var ie=o.memoizedState;S.state=ie,iu(o,h,S,w),au(),re=o.memoizedState,D||ie!==re||hs?(typeof me=="function"&&(dg(o,d,me,h),re=o.memoizedState),(B=hs||qS(o,d,B,h,ie,re,T))?(de||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=re),S.props=h,S.state=re,S.context=T,h=B):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,B0(s,o),T=o.memoizedProps,de=Sl(d,T),S.props=de,me=o.pendingProps,ie=S.context,re=d.contextType,B=yo,typeof re=="object"&&re!==null&&(B=zn(re)),D=d.getDerivedStateFromProps,(re=typeof D=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(T!==me||ie!==B)&&HS(o,S,h,B),hs=!1,ie=o.memoizedState,S.state=ie,iu(o,h,S,w),au();var le=o.memoizedState;T!==me||ie!==le||hs||s!==null&&s.dependencies!==null&&vf(s.dependencies)?(typeof D=="function"&&(dg(o,d,D,h),le=o.memoizedState),(de=hs||qS(o,d,de,h,ie,le,B)||s!==null&&s.dependencies!==null&&vf(s.dependencies))?(re||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,le,B),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,le,B)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=le),S.props=h,S.state=le,S.context=B,h=de):(typeof S.componentDidUpdate!="function"||T===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),h=!1)}return S=h,Lf(s,o),h=(o.flags&128)!==0,S||h?(S=o.stateNode,d=h&&typeof d.getDerivedStateFromError!="function"?null:S.render(),o.flags|=1,s!==null&&h?(o.child=wl(o,s.child,null,w),o.child=wl(o,null,d,w)):Un(s,o,d,w),o.memoizedState=S.state,s=o.child):s=Ni(s,o,w),s}function sj(s,o,d,h){return hl(),o.flags|=256,Un(s,o,d,h),o.child}var gg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(s){return{baseLanes:s,cachePool:JN()}}function vg(s,o,d){return s=s!==null?s.childLanes&~d:0,o&&(s|=Rr),s}function lj(s,o,d){var h=o.pendingProps,w=!1,S=(o.flags&128)!==0,T;if((T=S)||(T=s!==null&&s.memoizedState===null?!1:(sn.current&2)!==0),T&&(w=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,s===null){if(lt){if(w?vs(o):ys(),(s=Lt)?(s=h_(s,Wr),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:ds!==null?{id:Ia,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},d=$N(s),d.return=o,o.child=d,Ln=o,Lt=null)):s=null,s===null)throw ps(o);return ex(s)?o.lanes=32:o.lanes=536870912,null}var D=h.children;return h=h.fallback,w?(ys(),w=o.mode,D=zf({mode:"hidden",children:D},w),h=ml(h,w,d,null),D.return=o,h.return=o,D.sibling=h,o.child=D,h=o.child,h.memoizedState=xg(d),h.childLanes=vg(s,T,d),o.memoizedState=gg,uu(null,h)):(vs(o),yg(o,D))}var B=s.memoizedState;if(B!==null&&(D=B.dehydrated,D!==null)){if(S)o.flags&256?(vs(o),o.flags&=-257,o=bg(s,o,d)):o.memoizedState!==null?(ys(),o.child=s.child,o.flags|=128,o=null):(ys(),D=h.fallback,w=o.mode,h=zf({mode:"visible",children:h.children},w),D=ml(D,w,d,null),D.flags|=2,h.return=o,D.return=o,h.sibling=D,o.child=h,wl(o,s.child,null,d),h=o.child,h.memoizedState=xg(d),h.childLanes=vg(s,T,d),o.memoizedState=gg,o=uu(null,h));else if(vs(o),ex(D)){if(T=D.nextSibling&&D.nextSibling.dataset,T)var re=T.dgst;T=re,h=Error(r(419)),h.stack="",h.digest=T,Zc({value:h,source:null,stack:null}),o=bg(s,o,d)}else if(pn||So(s,o,d,!1),T=(d&s.childLanes)!==0,pn||T){if(T=Pt,T!==null&&(h=sl(T,d),h!==0&&h!==B.retryLane))throw B.retryLane=h,pl(s,h),wr(T,s,h),mg;Qg(D)||Kf(),o=bg(s,o,d)}else Qg(D)?(o.flags|=192,o.child=s.child,o=null):(s=B.treeContext,Lt=Zr(D.nextSibling),Ln=o,lt=!0,fs=null,Wr=!1,s!==null&&FN(o,s),o=yg(o,h.children),o.flags|=4096);return o}return w?(ys(),D=h.fallback,w=o.mode,B=s.child,re=B.sibling,h=gi(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,re!==null?D=gi(re,D):(D=ml(D,w,d,null),D.flags|=2),D.return=o,h.return=o,h.sibling=D,o.child=h,uu(null,h),h=o.child,D=s.child.memoizedState,D===null?D=xg(d):(w=D.cachePool,w!==null?(B=dn._currentValue,w=w.parent!==B?{parent:B,pool:B}:w):w=JN(),D={baseLanes:D.baseLanes|d,cachePool:w}),h.memoizedState=D,h.childLanes=vg(s,T,d),o.memoizedState=gg,uu(s.child,h)):(vs(o),d=s.child,s=d.sibling,d=gi(d,{mode:"visible",children:h.children}),d.return=o,d.sibling=null,s!==null&&(T=o.deletions,T===null?(o.deletions=[s],o.flags|=16):T.push(s)),o.child=d,o.memoizedState=null,d)}function yg(s,o){return o=zf({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function zf(s,o){return s=Ar(22,s,null,o),s.lanes=0,s}function bg(s,o,d){return wl(o,s.child,null,d),s=yg(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function oj(s,o,d){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),O0(s.return,o,d)}function wg(s,o,d,h,w,S){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:d,tailMode:w,treeForkCount:S}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=h,T.tail=d,T.tailMode=w,T.treeForkCount=S)}function cj(s,o,d){var h=o.pendingProps,w=h.revealOrder,S=h.tail;h=h.children;var T=sn.current,D=(T&2)!==0;if(D?(T=T&1|2,o.flags|=128):T&=1,ce(sn,T),Un(s,o,h,d),h=lt?Xc:0,!D&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&oj(s,d,o);else if(s.tag===19)oj(s,d,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(w){case"forwards":for(d=o.child,w=null;d!==null;)s=d.alternate,s!==null&&Ef(s)===null&&(w=d),d=d.sibling;d=w,d===null?(w=o.child,o.child=null):(w=d.sibling,d.sibling=null),wg(o,!1,w,d,S,h);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=o.child,o.child=null;w!==null;){if(s=w.alternate,s!==null&&Ef(s)===null){o.child=w;break}s=w.sibling,w.sibling=d,d=w,w=s}wg(o,!0,d,null,S,h);break;case"together":wg(o,!1,null,null,void 0,h);break;default:o.memoizedState=null}return o.child}function Ni(s,o,d){if(s!==null&&(o.dependencies=s.dependencies),Ns|=o.lanes,(d&o.childLanes)===0)if(s!==null){if(So(s,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(r(153));if(o.child!==null){for(s=o.child,d=gi(s,s.pendingProps),o.child=d,d.return=o;s.sibling!==null;)s=s.sibling,d=d.sibling=gi(s,s.pendingProps),d.return=o;d.sibling=null}return o.child}function Ng(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&vf(s)))}function G6(s,o,d){switch(o.tag){case 3:Ne(o,o.stateNode.containerInfo),ms(o,dn,s.memoizedState.cache),hl();break;case 27:case 5:je(o);break;case 4:Ne(o,o.stateNode.containerInfo);break;case 10:ms(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,K0(o),null;break;case 13:var h=o.memoizedState;if(h!==null)return h.dehydrated!==null?(vs(o),o.flags|=128,null):(d&o.child.childLanes)!==0?lj(s,o,d):(vs(o),s=Ni(s,o,d),s!==null?s.sibling:null);vs(o);break;case 19:var w=(s.flags&128)!==0;if(h=(d&o.childLanes)!==0,h||(So(s,o,d,!1),h=(d&o.childLanes)!==0),w){if(h)return cj(s,o,d);o.flags|=128}if(w=o.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ce(sn,sn.current),h)break;return null;case 22:return o.lanes=0,tj(s,o,d,o.pendingProps);case 24:ms(o,dn,s.memoizedState.cache)}return Ni(s,o,d)}function uj(s,o,d){if(s!==null)if(s.memoizedProps!==o.pendingProps)pn=!0;else{if(!Ng(s,d)&&(o.flags&128)===0)return pn=!1,G6(s,o,d);pn=(s.flags&131072)!==0}else pn=!1,lt&&(o.flags&1048576)!==0&&BN(o,Xc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var h=o.pendingProps;if(s=yl(o.elementType),o.type=s,typeof s=="function")C0(s)?(h=Sl(s,h),o.tag=1,o=ij(null,o,s,h,d)):(o.tag=0,o=hg(null,o,s,h,d));else{if(s!=null){var w=s.$$typeof;if(w===M){o.tag=11,o=ZS(null,o,s,h,d);break e}else if(w===k){o.tag=14,o=QS(null,o,s,h,d);break e}}throw o=te(s)||s,Error(r(306,o,""))}}return o;case 0:return hg(s,o,o.type,o.pendingProps,d);case 1:return h=o.type,w=Sl(h,o.pendingProps),ij(s,o,h,w,d);case 3:e:{if(Ne(o,o.stateNode.containerInfo),s===null)throw Error(r(387));h=o.pendingProps;var S=o.memoizedState;w=S.element,B0(s,o),iu(o,h,null,d);var T=o.memoizedState;if(h=T.cache,ms(o,dn,h),h!==S.cache&&D0(o,[dn],d,!0),au(),h=T.element,S.isDehydrated)if(S={element:h,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){o=sj(s,o,h,d);break e}else if(h!==w){w=Kr(Error(r(424)),o),Zc(w),o=sj(s,o,h,d);break e}else for(s=o.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,Lt=Zr(s.firstChild),Ln=o,lt=!0,fs=null,Wr=!0,d=tS(o,null,h,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(hl(),h===w){o=Ni(s,o,d);break e}Un(s,o,h,d)}o=o.child}return o;case 26:return Lf(s,o),s===null?(d=w_(o.type,null,o.pendingProps,null))?o.memoizedState=d:lt||(d=o.type,s=o.pendingProps,h=ep(ue.current).createElement(d),h[gt]=o,h[Jt]=s,$n(h,d,s),an(h),o.stateNode=h):o.memoizedState=w_(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return je(o),s===null&&lt&&(h=o.stateNode=v_(o.type,o.pendingProps,ue.current),Ln=o,Wr=!0,w=Lt,Cs(o.type)?(tx=w,Lt=Zr(h.firstChild)):Lt=w),Un(s,o,o.pendingProps.children,d),Lf(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&lt&&((w=h=Lt)&&(h=x3(h,o.type,o.pendingProps,Wr),h!==null?(o.stateNode=h,Ln=o,Lt=Zr(h.firstChild),Wr=!1,w=!0):w=!1),w||ps(o)),je(o),w=o.type,S=o.pendingProps,T=s!==null?s.memoizedProps:null,h=S.children,Wg(w,S)?h=null:T!==null&&Wg(w,T)&&(o.flags|=32),o.memoizedState!==null&&(w=J0(s,o,R6,null,null,d),_u._currentValue=w),Lf(s,o),Un(s,o,h,d),o.child;case 6:return s===null&&lt&&((s=d=Lt)&&(d=v3(d,o.pendingProps,Wr),d!==null?(o.stateNode=d,Ln=o,Lt=null,s=!0):s=!1),s||ps(o)),null;case 13:return lj(s,o,d);case 4:return Ne(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=wl(o,null,h,d):Un(s,o,h,d),o.child;case 11:return ZS(s,o,o.type,o.pendingProps,d);case 7:return Un(s,o,o.pendingProps,d),o.child;case 8:return Un(s,o,o.pendingProps.children,d),o.child;case 12:return Un(s,o,o.pendingProps.children,d),o.child;case 10:return h=o.pendingProps,ms(o,o.type,h.value),Un(s,o,h.children,d),o.child;case 9:return w=o.type._context,h=o.pendingProps.children,xl(o),w=zn(w),h=h(w),o.flags|=1,Un(s,o,h,d),o.child;case 14:return QS(s,o,o.type,o.pendingProps,d);case 15:return ej(s,o,o.type,o.pendingProps,d);case 19:return cj(s,o,d);case 31:return $6(s,o,d);case 22:return tj(s,o,d,o.pendingProps);case 24:return xl(o),h=zn(dn),s===null?(w=U0(),w===null&&(w=Pt,S=L0(),w.pooledCache=S,S.refCount++,S!==null&&(w.pooledCacheLanes|=d),w=S),o.memoizedState={parent:h,cache:w},G0(o),ms(o,dn,w)):((s.lanes&d)!==0&&(B0(s,o),iu(o,null,null,d),au()),w=s.memoizedState,S=o.memoizedState,w.parent!==h?(w={parent:h,cache:h},o.memoizedState=w,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=w),ms(o,dn,h)):(h=S.cache,ms(o,dn,h),h!==w.cache&&D0(o,[dn],d,!0))),Un(s,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Si(s){s.flags|=4}function Sg(s,o,d,h,w){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(w&335544128)===w)if(s.stateNode.complete)s.flags|=8192;else if(Lj())s.flags|=8192;else throw bl=Nf,$0}else s.flags&=-16777217}function dj(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!E_(o))if(Lj())s.flags|=8192;else throw bl=Nf,$0}function Uf(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?Ra():536870912,s.lanes|=o,Oo|=o)}function du(s,o){if(!lt)switch(s.tailMode){case"hidden":o=s.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s.tail=null:d.sibling=null;break;case"collapsed":d=s.tail;for(var h=null;d!==null;)d.alternate!==null&&(h=d),d=d.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function zt(s){var o=s.alternate!==null&&s.alternate.child===s.child,d=0,h=0;if(o)for(var w=s.child;w!==null;)d|=w.lanes|w.childLanes,h|=w.subtreeFlags&65011712,h|=w.flags&65011712,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)d|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=h,s.childLanes=d,o}function B6(s,o,d){var h=o.pendingProps;switch(M0(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(o),null;case 1:return zt(o),null;case 3:return d=o.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),yi(dn),ne(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(No(o)?Si(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,P0())),zt(o),null;case 26:var w=o.type,S=o.memoizedState;return s===null?(Si(o),S!==null?(zt(o),dj(o,S)):(zt(o),Sg(o,w,null,h,d))):S?S!==s.memoizedState?(Si(o),zt(o),dj(o,S)):(zt(o),o.flags&=-16777217):(s=s.memoizedProps,s!==h&&Si(o),zt(o),Sg(o,w,s,h,d)),null;case 27:if(Oe(o),d=ue.current,w=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Si(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}s=xe.current,No(o)?qN(o):(s=v_(w,h,d),o.stateNode=s,Si(o))}return zt(o),null;case 5:if(Oe(o),w=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==h&&Si(o);else{if(!h){if(o.stateNode===null)throw Error(r(166));return zt(o),null}if(S=xe.current,No(o))qN(o);else{var T=ep(ue.current);switch(S){case 1:S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":S=T.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":S=T.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":S=T.createElement("div"),S.innerHTML="<script><\/script>",S=S.removeChild(S.firstChild);break;case"select":S=typeof h.is=="string"?T.createElement("select",{is:h.is}):T.createElement("select"),h.multiple?S.multiple=!0:h.size&&(S.size=h.size);break;default:S=typeof h.is=="string"?T.createElement(w,{is:h.is}):T.createElement(w)}}S[gt]=o,S[Jt]=h;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)S.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=S;e:switch($n(S,w,h),w){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&Si(o)}}return zt(o),Sg(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,d),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==h&&Si(o);else{if(typeof h!="string"&&o.stateNode===null)throw Error(r(166));if(s=ue.current,No(o)){if(s=o.stateNode,d=o.memoizedProps,h=null,w=Ln,w!==null)switch(w.tag){case 27:case 5:h=w.memoizedProps}s[gt]=o,s=!!(s.nodeValue===d||h!==null&&h.suppressHydrationWarning===!0||l_(s.nodeValue,d)),s||ps(o,!0)}else s=ep(s).createTextNode(h),s[gt]=o,o.stateNode=s}return zt(o),null;case 31:if(d=o.memoizedState,s===null||s.memoizedState!==null){if(h=No(o),d!==null){if(s===null){if(!h)throw Error(r(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[gt]=o}else hl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),s=!1}else d=P0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=d),s=!0;if(!s)return o.flags&256?(kr(o),o):(kr(o),null);if((o.flags&128)!==0)throw Error(r(558))}return zt(o),null;case 13:if(h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(w=No(o),h!==null&&h.dehydrated!==null){if(s===null){if(!w)throw Error(r(318));if(w=o.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[gt]=o}else hl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;zt(o),w=!1}else w=P0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=w),w=!0;if(!w)return o.flags&256?(kr(o),o):(kr(o),null)}return kr(o),(o.flags&128)!==0?(o.lanes=d,o):(d=h!==null,s=s!==null&&s.memoizedState!==null,d&&(h=o.child,w=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(w=h.alternate.memoizedState.cachePool.pool),S=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(S=h.memoizedState.cachePool.pool),S!==w&&(h.flags|=2048)),d!==s&&d&&(o.child.flags|=8192),Uf(o,o.updateQueue),zt(o),null);case 4:return ne(),s===null&&Hg(o.stateNode.containerInfo),zt(o),null;case 10:return yi(o.type),zt(o),null;case 19:if(K(sn),h=o.memoizedState,h===null)return zt(o),null;if(w=(o.flags&128)!==0,S=h.rendering,S===null)if(w)du(h,!1);else{if(Xt!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(S=Ef(s),S!==null){for(o.flags|=128,du(h,!1),s=S.updateQueue,o.updateQueue=s,Uf(o,s),o.subtreeFlags=0,s=d,d=o.child;d!==null;)UN(d,s),d=d.sibling;return ce(sn,sn.current&1|2),lt&&xi(o,h.treeForkCount),o.child}s=s.sibling}h.tail!==null&&ze()>qf&&(o.flags|=128,w=!0,du(h,!1),o.lanes=4194304)}else{if(!w)if(s=Ef(S),s!==null){if(o.flags|=128,w=!0,s=s.updateQueue,o.updateQueue=s,Uf(o,s),du(h,!0),h.tail===null&&h.tailMode==="hidden"&&!S.alternate&&!lt)return zt(o),null}else 2*ze()-h.renderingStartTime>qf&&d!==536870912&&(o.flags|=128,w=!0,du(h,!1),o.lanes=4194304);h.isBackwards?(S.sibling=o.child,o.child=S):(s=h.last,s!==null?s.sibling=S:o.child=S,h.last=S)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=ze(),s.sibling=null,d=sn.current,ce(sn,w?d&1|2:d&1),lt&&xi(o,h.treeForkCount),s):(zt(o),null);case 22:case 23:return kr(o),V0(),h=o.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(o.flags|=8192):h&&(o.flags|=8192),h?(d&536870912)!==0&&(o.flags&128)===0&&(zt(o),o.subtreeFlags&6&&(o.flags|=8192)):zt(o),d=o.updateQueue,d!==null&&Uf(o,d.retryQueue),d=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),h=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==d&&(o.flags|=2048),s!==null&&K(vl),null;case 24:return d=null,s!==null&&(d=s.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),yi(dn),zt(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function F6(s,o){switch(M0(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return yi(dn),ne(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return Oe(o),null;case 31:if(o.memoizedState!==null){if(kr(o),o.alternate===null)throw Error(r(340));hl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(kr(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(r(340));hl()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return K(sn),null;case 4:return ne(),null;case 10:return yi(o.type),null;case 22:case 23:return kr(o),V0(),s!==null&&K(vl),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return yi(dn),null;case 25:return null;default:return null}}function fj(s,o){switch(M0(o),o.tag){case 3:yi(dn),ne();break;case 26:case 27:case 5:Oe(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&kr(o);break;case 13:kr(o);break;case 19:K(sn);break;case 10:yi(o.type);break;case 22:case 23:kr(o),V0(),s!==null&&K(vl);break;case 24:yi(dn)}}function fu(s,o){try{var d=o.updateQueue,h=d!==null?d.lastEffect:null;if(h!==null){var w=h.next;d=w;do{if((d.tag&s)===s){h=void 0;var S=d.create,T=d.inst;h=S(),T.destroy=h}d=d.next}while(d!==w)}}catch(D){_t(o,o.return,D)}}function bs(s,o,d){try{var h=o.updateQueue,w=h!==null?h.lastEffect:null;if(w!==null){var S=w.next;h=S;do{if((h.tag&s)===s){var T=h.inst,D=T.destroy;if(D!==void 0){T.destroy=void 0,w=o;var B=d,re=D;try{re()}catch(de){_t(w,B,de)}}}h=h.next}while(h!==S)}}catch(de){_t(o,o.return,de)}}function pj(s){var o=s.updateQueue;if(o!==null){var d=s.stateNode;try{rS(o,d)}catch(h){_t(s,s.return,h)}}}function mj(s,o,d){d.props=Sl(s.type,s.memoizedProps),d.state=s.memoizedState;try{d.componentWillUnmount()}catch(h){_t(s,o,h)}}function pu(s,o){try{var d=s.ref;if(d!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof d=="function"?s.refCleanup=d(h):d.current=h}}catch(w){_t(s,o,w)}}function Da(s,o){var d=s.ref,h=s.refCleanup;if(d!==null)if(typeof h=="function")try{h()}catch(w){_t(s,o,w)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){_t(s,o,w)}else d.current=null}function hj(s){var o=s.type,d=s.memoizedProps,h=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&h.focus();break e;case"img":d.src?h.src=d.src:d.srcSet&&(h.srcset=d.srcSet)}}catch(w){_t(s,s.return,w)}}function jg(s,o,d){try{var h=s.stateNode;d3(h,s.type,d,o),h[Jt]=o}catch(w){_t(s,s.return,w)}}function gj(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Cs(s.type)||s.tag===4}function _g(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||gj(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Cs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Eg(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(s,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(s),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Kn));else if(h!==4&&(h===27&&Cs(s.type)&&(d=s.stateNode,o=null),s=s.child,s!==null))for(Eg(s,o,d),s=s.sibling;s!==null;)Eg(s,o,d),s=s.sibling}function $f(s,o,d){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?d.insertBefore(s,o):d.appendChild(s);else if(h!==4&&(h===27&&Cs(s.type)&&(d=s.stateNode),s=s.child,s!==null))for($f(s,o,d),s=s.sibling;s!==null;)$f(s,o,d),s=s.sibling}function xj(s){var o=s.stateNode,d=s.memoizedProps;try{for(var h=s.type,w=o.attributes;w.length;)o.removeAttributeNode(w[0]);$n(o,h,d),o[gt]=s,o[Jt]=d}catch(S){_t(s,s.return,S)}}var ji=!1,mn=!1,Cg=!1,vj=typeof WeakSet=="function"?WeakSet:Set,Sn=null;function q6(s,o){if(s=s.containerInfo,Yg=lp,s=kN(s),b0(s)){if("selectionStart"in s)var d={start:s.selectionStart,end:s.selectionEnd};else e:{d=(d=s.ownerDocument)&&d.defaultView||window;var h=d.getSelection&&d.getSelection();if(h&&h.rangeCount!==0){d=h.anchorNode;var w=h.anchorOffset,S=h.focusNode;h=h.focusOffset;try{d.nodeType,S.nodeType}catch{d=null;break e}var T=0,D=-1,B=-1,re=0,de=0,me=s,ie=null;t:for(;;){for(var le;me!==d||w!==0&&me.nodeType!==3||(D=T+w),me!==S||h!==0&&me.nodeType!==3||(B=T+h),me.nodeType===3&&(T+=me.nodeValue.length),(le=me.firstChild)!==null;)ie=me,me=le;for(;;){if(me===s)break t;if(ie===d&&++re===w&&(D=T),ie===S&&++de===h&&(B=T),(le=me.nextSibling)!==null)break;me=ie,ie=me.parentNode}me=le}d=D===-1||B===-1?null:{start:D,end:B}}else d=null}d=d||{start:0,end:0}}else d=null;for(Jg={focusedElem:s,selectionRange:d},lp=!1,Sn=o;Sn!==null;)if(o=Sn,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Sn=s;else for(;Sn!==null;){switch(o=Sn,S=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(d=0;d<s.length;d++)w=s[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&S!==null){s=void 0,d=o,w=S.memoizedProps,S=S.memoizedState,h=d.stateNode;try{var Te=Sl(d.type,w);s=h.getSnapshotBeforeUpdate(Te,S),h.__reactInternalSnapshotBeforeUpdate=s}catch(Be){_t(d,d.return,Be)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,d=s.nodeType,d===9)Zg(s);else if(d===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Zg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=o.sibling,s!==null){s.return=o.return,Sn=s;break}Sn=o.return}}function yj(s,o,d){var h=d.flags;switch(d.tag){case 0:case 11:case 15:Ei(s,d),h&4&&fu(5,d);break;case 1:if(Ei(s,d),h&4)if(s=d.stateNode,o===null)try{s.componentDidMount()}catch(T){_t(d,d.return,T)}else{var w=Sl(d.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(w,o,s.__reactInternalSnapshotBeforeUpdate)}catch(T){_t(d,d.return,T)}}h&64&&pj(d),h&512&&pu(d,d.return);break;case 3:if(Ei(s,d),h&64&&(s=d.updateQueue,s!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{rS(s,o)}catch(T){_t(d,d.return,T)}}break;case 27:o===null&&h&4&&xj(d);case 26:case 5:Ei(s,d),o===null&&h&4&&hj(d),h&512&&pu(d,d.return);break;case 12:Ei(s,d);break;case 31:Ei(s,d),h&4&&Nj(s,d);break;case 13:Ei(s,d),h&4&&Sj(s,d),h&64&&(s=d.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(d=Q6.bind(null,d),y3(s,d))));break;case 22:if(h=d.memoizedState!==null||ji,!h){o=o!==null&&o.memoizedState!==null||mn,w=ji;var S=mn;ji=h,(mn=o)&&!S?Ci(s,d,(d.subtreeFlags&8772)!==0):Ei(s,d),ji=w,mn=S}break;case 30:break;default:Ei(s,d)}}function bj(s){var o=s.alternate;o!==null&&(s.alternate=null,bj(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&so(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Gt=null,xr=!1;function _i(s,o,d){for(d=d.child;d!==null;)wj(s,o,d),d=d.sibling}function wj(s,o,d){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(rt,d)}catch{}switch(d.tag){case 26:mn||Da(d,o),_i(s,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:mn||Da(d,o);var h=Gt,w=xr;Cs(d.type)&&(Gt=d.stateNode,xr=!1),_i(s,o,d),Nu(d.stateNode),Gt=h,xr=w;break;case 5:mn||Da(d,o);case 6:if(h=Gt,w=xr,Gt=null,_i(s,o,d),Gt=h,xr=w,Gt!==null)if(xr)try{(Gt.nodeType===9?Gt.body:Gt.nodeName==="HTML"?Gt.ownerDocument.body:Gt).removeChild(d.stateNode)}catch(S){_t(d,o,S)}else try{Gt.removeChild(d.stateNode)}catch(S){_t(d,o,S)}break;case 18:Gt!==null&&(xr?(s=Gt,p_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,d.stateNode),Fo(s)):p_(Gt,d.stateNode));break;case 4:h=Gt,w=xr,Gt=d.stateNode.containerInfo,xr=!0,_i(s,o,d),Gt=h,xr=w;break;case 0:case 11:case 14:case 15:bs(2,d,o),mn||bs(4,d,o),_i(s,o,d);break;case 1:mn||(Da(d,o),h=d.stateNode,typeof h.componentWillUnmount=="function"&&mj(d,o,h)),_i(s,o,d);break;case 21:_i(s,o,d);break;case 22:mn=(h=mn)||d.memoizedState!==null,_i(s,o,d),mn=h;break;default:_i(s,o,d)}}function Nj(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Fo(s)}catch(d){_t(o,o.return,d)}}}function Sj(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Fo(s)}catch(d){_t(o,o.return,d)}}function H6(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new vj),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new vj),o;default:throw Error(r(435,s.tag))}}function Gf(s,o){var d=H6(s);o.forEach(function(h){if(!d.has(h)){d.add(h);var w=e3.bind(null,s,h);h.then(w,w)}})}function vr(s,o){var d=o.deletions;if(d!==null)for(var h=0;h<d.length;h++){var w=d[h],S=s,T=o,D=T;e:for(;D!==null;){switch(D.tag){case 27:if(Cs(D.type)){Gt=D.stateNode,xr=!1;break e}break;case 5:Gt=D.stateNode,xr=!1;break e;case 3:case 4:Gt=D.stateNode.containerInfo,xr=!0;break e}D=D.return}if(Gt===null)throw Error(r(160));wj(S,T,w),Gt=null,xr=!1,S=w.alternate,S!==null&&(S.return=null),w.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)jj(o,s),o=o.sibling}var ga=null;function jj(s,o){var d=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vr(o,s),yr(s),h&4&&(bs(3,s,s.return),fu(3,s),bs(5,s,s.return));break;case 1:vr(o,s),yr(s),h&512&&(mn||d===null||Da(d,d.return)),h&64&&ji&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(d=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=d===null?h:d.concat(h))));break;case 26:var w=ga;if(vr(o,s),yr(s),h&512&&(mn||d===null||Da(d,d.return)),h&4){var S=d!==null?d.memoizedState:null;if(h=s.memoizedState,d===null)if(h===null)if(s.stateNode===null){e:{h=s.type,d=s.memoizedProps,w=w.ownerDocument||w;t:switch(h){case"title":S=w.getElementsByTagName("title")[0],(!S||S[cs]||S[gt]||S.namespaceURI==="http://www.w3.org/2000/svg"||S.hasAttribute("itemprop"))&&(S=w.createElement(h),w.head.insertBefore(S,w.querySelector("head > title"))),$n(S,h,d),S[gt]=s,an(S),h=S;break e;case"link":var T=j_("link","href",w).get(h+(d.href||""));if(T){for(var D=0;D<T.length;D++)if(S=T[D],S.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&S.getAttribute("rel")===(d.rel==null?null:d.rel)&&S.getAttribute("title")===(d.title==null?null:d.title)&&S.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){T.splice(D,1);break t}}S=w.createElement(h),$n(S,h,d),w.head.appendChild(S);break;case"meta":if(T=j_("meta","content",w).get(h+(d.content||""))){for(D=0;D<T.length;D++)if(S=T[D],S.getAttribute("content")===(d.content==null?null:""+d.content)&&S.getAttribute("name")===(d.name==null?null:d.name)&&S.getAttribute("property")===(d.property==null?null:d.property)&&S.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&S.getAttribute("charset")===(d.charSet==null?null:d.charSet)){T.splice(D,1);break t}}S=w.createElement(h),$n(S,h,d),w.head.appendChild(S);break;default:throw Error(r(468,h))}S[gt]=s,an(S),h=S}s.stateNode=h}else __(w,s.type,s.stateNode);else s.stateNode=S_(w,h,s.memoizedProps);else S!==h?(S===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):S.count--,h===null?__(w,s.type,s.stateNode):S_(w,h,s.memoizedProps)):h===null&&s.stateNode!==null&&jg(s,s.memoizedProps,d.memoizedProps)}break;case 27:vr(o,s),yr(s),h&512&&(mn||d===null||Da(d,d.return)),d!==null&&h&4&&jg(s,s.memoizedProps,d.memoizedProps);break;case 5:if(vr(o,s),yr(s),h&512&&(mn||d===null||Da(d,d.return)),s.flags&32){w=s.stateNode;try{fi(w,"")}catch(Te){_t(s,s.return,Te)}}h&4&&s.stateNode!=null&&(w=s.memoizedProps,jg(s,w,d!==null?d.memoizedProps:w)),h&1024&&(Cg=!0);break;case 6:if(vr(o,s),yr(s),h&4){if(s.stateNode===null)throw Error(r(162));h=s.memoizedProps,d=s.stateNode;try{d.nodeValue=h}catch(Te){_t(s,s.return,Te)}}break;case 3:if(rp=null,w=ga,ga=tp(o.containerInfo),vr(o,s),ga=w,yr(s),h&4&&d!==null&&d.memoizedState.isDehydrated)try{Fo(o.containerInfo)}catch(Te){_t(s,s.return,Te)}Cg&&(Cg=!1,_j(s));break;case 4:h=ga,ga=tp(s.stateNode.containerInfo),vr(o,s),yr(s),ga=h;break;case 12:vr(o,s),yr(s);break;case 31:vr(o,s),yr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 13:vr(o,s),yr(s),s.child.flags&8192&&s.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Ff=ze()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 22:w=s.memoizedState!==null;var B=d!==null&&d.memoizedState!==null,re=ji,de=mn;if(ji=re||w,mn=de||B,vr(o,s),mn=de,ji=re,yr(s),h&8192)e:for(o=s.stateNode,o._visibility=w?o._visibility&-2:o._visibility|1,w&&(d===null||B||ji||mn||jl(s)),d=null,o=s;;){if(o.tag===5||o.tag===26){if(d===null){B=d=o;try{if(S=B.stateNode,w)T=S.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{D=B.stateNode;var me=B.memoizedProps.style,ie=me!=null&&me.hasOwnProperty("display")?me.display:null;D.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Te){_t(B,B.return,Te)}}}else if(o.tag===6){if(d===null){B=o;try{B.stateNode.nodeValue=w?"":B.memoizedProps}catch(Te){_t(B,B.return,Te)}}}else if(o.tag===18){if(d===null){B=o;try{var le=B.stateNode;w?m_(le,!0):m_(B.stateNode,!1)}catch(Te){_t(B,B.return,Te)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}h&4&&(h=s.updateQueue,h!==null&&(d=h.retryQueue,d!==null&&(h.retryQueue=null,Gf(s,d))));break;case 19:vr(o,s),yr(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Gf(s,h)));break;case 30:break;case 21:break;default:vr(o,s),yr(s)}}function yr(s){var o=s.flags;if(o&2){try{for(var d,h=s.return;h!==null;){if(gj(h)){d=h;break}h=h.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,S=_g(s);$f(s,S,w);break;case 5:var T=d.stateNode;d.flags&32&&(fi(T,""),d.flags&=-33);var D=_g(s);$f(s,D,T);break;case 3:case 4:var B=d.stateNode.containerInfo,re=_g(s);Eg(s,re,B);break;default:throw Error(r(161))}}catch(de){_t(s,s.return,de)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function _j(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;_j(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Ei(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)yj(s,o.alternate,o),o=o.sibling}function jl(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:bs(4,o,o.return),jl(o);break;case 1:Da(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&mj(o,o.return,d),jl(o);break;case 27:Nu(o.stateNode);case 26:case 5:Da(o,o.return),jl(o);break;case 22:o.memoizedState===null&&jl(o);break;case 30:jl(o);break;default:jl(o)}s=s.sibling}}function Ci(s,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var h=o.alternate,w=s,S=o,T=S.flags;switch(S.tag){case 0:case 11:case 15:Ci(w,S,d),fu(4,S);break;case 1:if(Ci(w,S,d),h=S,w=h.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(re){_t(h,h.return,re)}if(h=S,w=h.updateQueue,w!==null){var D=h.stateNode;try{var B=w.shared.hiddenCallbacks;if(B!==null)for(w.shared.hiddenCallbacks=null,w=0;w<B.length;w++)nS(B[w],D)}catch(re){_t(h,h.return,re)}}d&&T&64&&pj(S),pu(S,S.return);break;case 27:xj(S);case 26:case 5:Ci(w,S,d),d&&h===null&&T&4&&hj(S),pu(S,S.return);break;case 12:Ci(w,S,d);break;case 31:Ci(w,S,d),d&&T&4&&Nj(w,S);break;case 13:Ci(w,S,d),d&&T&4&&Sj(w,S);break;case 22:S.memoizedState===null&&Ci(w,S,d),pu(S,S.return);break;case 30:break;default:Ci(w,S,d)}o=o.sibling}}function Ag(s,o){var d=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==d&&(s!=null&&s.refCount++,d!=null&&Qc(d))}function Tg(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Qc(s))}function xa(s,o,d,h){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ej(s,o,d,h),o=o.sibling}function Ej(s,o,d,h){var w=o.flags;switch(o.tag){case 0:case 11:case 15:xa(s,o,d,h),w&2048&&fu(9,o);break;case 1:xa(s,o,d,h);break;case 3:xa(s,o,d,h),w&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&Qc(s)));break;case 12:if(w&2048){xa(s,o,d,h),s=o.stateNode;try{var S=o.memoizedProps,T=S.id,D=S.onPostCommit;typeof D=="function"&&D(T,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){_t(o,o.return,B)}}else xa(s,o,d,h);break;case 31:xa(s,o,d,h);break;case 13:xa(s,o,d,h);break;case 23:break;case 22:S=o.stateNode,T=o.alternate,o.memoizedState!==null?S._visibility&2?xa(s,o,d,h):mu(s,o):S._visibility&2?xa(s,o,d,h):(S._visibility|=2,Ro(s,o,d,h,(o.subtreeFlags&10256)!==0||!1)),w&2048&&Ag(T,o);break;case 24:xa(s,o,d,h),w&2048&&Tg(o.alternate,o);break;default:xa(s,o,d,h)}}function Ro(s,o,d,h,w){for(w=w&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var S=s,T=o,D=d,B=h,re=T.flags;switch(T.tag){case 0:case 11:case 15:Ro(S,T,D,B,w),fu(8,T);break;case 23:break;case 22:var de=T.stateNode;T.memoizedState!==null?de._visibility&2?Ro(S,T,D,B,w):mu(S,T):(de._visibility|=2,Ro(S,T,D,B,w)),w&&re&2048&&Ag(T.alternate,T);break;case 24:Ro(S,T,D,B,w),w&&re&2048&&Tg(T.alternate,T);break;default:Ro(S,T,D,B,w)}o=o.sibling}}function mu(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=s,h=o,w=h.flags;switch(h.tag){case 22:mu(d,h),w&2048&&Ag(h.alternate,h);break;case 24:mu(d,h),w&2048&&Tg(h.alternate,h);break;default:mu(d,h)}o=o.sibling}}var hu=8192;function Po(s,o,d){if(s.subtreeFlags&hu)for(s=s.child;s!==null;)Cj(s,o,d),s=s.sibling}function Cj(s,o,d){switch(s.tag){case 26:Po(s,o,d),s.flags&hu&&s.memoizedState!==null&&M3(d,ga,s.memoizedState,s.memoizedProps);break;case 5:Po(s,o,d);break;case 3:case 4:var h=ga;ga=tp(s.stateNode.containerInfo),Po(s,o,d),ga=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=hu,hu=16777216,Po(s,o,d),hu=h):Po(s,o,d));break;default:Po(s,o,d)}}function Aj(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function gu(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Sn=h,kj(h,s)}Aj(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tj(s),s=s.sibling}function Tj(s){switch(s.tag){case 0:case 11:case 15:gu(s),s.flags&2048&&bs(9,s,s.return);break;case 3:gu(s);break;case 12:gu(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Bf(s)):gu(s);break;default:gu(s)}}function Bf(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var h=o[d];Sn=h,kj(h,s)}Aj(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:bs(8,o,o.return),Bf(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Bf(o));break;default:Bf(o)}s=s.sibling}}function kj(s,o){for(;Sn!==null;){var d=Sn;switch(d.tag){case 0:case 11:case 15:bs(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var h=d.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Qc(d.memoizedState.cache)}if(h=d.child,h!==null)h.return=d,Sn=h;else e:for(d=s;Sn!==null;){h=Sn;var w=h.sibling,S=h.return;if(bj(h),h===d){Sn=null;break e}if(w!==null){w.return=S,Sn=w;break e}Sn=S}}}var V6={getCacheForType:function(s){var o=zn(dn),d=o.data.get(s);return d===void 0&&(d=s(),o.data.set(s,d)),d},cacheSignal:function(){return zn(dn).controller.signal}},K6=typeof WeakMap=="function"?WeakMap:Map,xt=0,Pt=null,tt=null,at=0,jt=0,Mr=null,ws=!1,Io=!1,kg=!1,Ai=0,Xt=0,Ns=0,_l=0,Mg=0,Rr=0,Oo=0,xu=null,br=null,Rg=!1,Ff=0,Mj=0,qf=1/0,Hf=null,Ss=null,vn=0,js=null,Do=null,Ti=0,Pg=0,Ig=null,Rj=null,vu=0,Og=null;function Pr(){return(xt&2)!==0&&at!==0?at&-at:F.T!==null?Gg():ao()}function Pj(){if(Rr===0)if((at&536870912)===0||lt){var s=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),Rr=s}else Rr=536870912;return s=Tr.current,s!==null&&(s.flags|=32),Rr}function wr(s,o,d){(s===Pt&&(jt===2||jt===9)||s.cancelPendingCommit!==null)&&(Lo(s,0),_s(s,at,Rr,!1)),ai(s,d),((xt&2)===0||s!==Pt)&&(s===Pt&&((xt&2)===0&&(_l|=d),Xt===4&&_s(s,at,Rr,!1)),La(s))}function Ij(s,o,d){if((xt&6)!==0)throw Error(r(327));var h=!d&&(o&127)===0&&(o&s.expiredLanes)===0||Ma(s,o),w=h?W6(s,o):Lg(s,o,!0),S=h;do{if(w===0){Io&&!h&&_s(s,o,0,!1);break}else{if(d=s.current.alternate,S&&!Y6(d)){w=Lg(s,o,!1),S=!1;continue}if(w===2){if(S=o,s.errorRecoveryDisabledLanes&S)var T=0;else T=s.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var D=s;w=xu;var B=D.current.memoizedState.isDehydrated;if(B&&(Lo(D,T).flags|=256),T=Lg(D,T,!1),T!==2){if(kg&&!B){D.errorRecoveryDisabledLanes|=S,_l|=S,w=4;break e}S=br,br=w,S!==null&&(br===null?br=S:br.push.apply(br,S))}w=T}if(S=!1,w!==2)continue}}if(w===1){Lo(s,0),_s(s,o,0,!0);break}e:{switch(h=s,S=w,S){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:_s(h,o,Rr,!ws);break e;case 2:br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(w=Ff+300-ze(),10<w)){if(_s(h,o,Rr,!ws),rr(h,0,!0)!==0)break e;Ti=o,h.timeoutHandle=d_(Oj.bind(null,h,d,br,Hf,Rg,o,Rr,_l,Oo,ws,S,"Throttled",-0,0),w);break e}Oj(h,d,br,Hf,Rg,o,Rr,_l,Oo,ws,S,null,-0,0)}}break}while(!0);La(s)}function Oj(s,o,d,h,w,S,T,D,B,re,de,me,ie,le){if(s.timeoutHandle=-1,me=o.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Cj(o,S,me);var Te=(S&62914560)===S?Ff-ze():(S&4194048)===S?Mj-ze():0;if(Te=R3(me,Te),Te!==null){Ti=S,s.cancelPendingCommit=Te(Fj.bind(null,s,o,S,d,h,w,T,D,B,de,me,null,ie,le)),_s(s,S,T,!re);return}}Fj(s,o,S,d,h,w,T,D,B)}function Y6(s){for(var o=s;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var h=0;h<d.length;h++){var w=d[h],S=w.getSnapshot;w=w.value;try{if(!Cr(S(),w))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function _s(s,o,d,h){o&=~Mg,o&=~_l,s.suspendedLanes|=o,s.pingedLanes&=~o,h&&(s.warmLanes|=o),h=s.expirationTimes;for(var w=o;0<w;){var S=31-Ie(w),T=1<<S;h[S]=-1,w&=~T}d!==0&&Qd(s,d,o)}function Vf(){return(xt&6)===0?(yu(0),!1):!0}function Dg(){if(tt!==null){if(jt===0)var s=tt.return;else s=tt,vi=gl=null,Z0(s),Co=null,tu=0,s=tt;for(;s!==null;)fj(s.alternate,s),s=s.return;tt=null}}function Lo(s,o){var d=s.timeoutHandle;d!==-1&&(s.timeoutHandle=-1,m3(d)),d=s.cancelPendingCommit,d!==null&&(s.cancelPendingCommit=null,d()),Ti=0,Dg(),Pt=s,tt=d=gi(s.current,null),at=o,jt=0,Mr=null,ws=!1,Io=Ma(s,o),kg=!1,Oo=Rr=Mg=_l=Ns=Xt=0,br=xu=null,Rg=!1,(o&8)!==0&&(o|=o&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=o;0<h;){var w=31-Ie(h),S=1<<w;o|=s[w],h&=~S}return Ai=o,pf(),d}function Dj(s,o){Je=null,F.H=cu,o===Eo||o===wf?(o=ZN(),jt=3):o===$0?(o=ZN(),jt=4):jt=o===mg?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Mr=o,tt===null&&(Xt=1,Of(s,Kr(o,s.current)))}function Lj(){var s=Tr.current;return s===null?!0:(at&4194048)===at?Xr===null:(at&62914560)===at||(at&536870912)!==0?s===Xr:!1}function zj(){var s=F.H;return F.H=cu,s===null?cu:s}function Uj(){var s=F.A;return F.A=V6,s}function Kf(){Xt=4,ws||(at&4194048)!==at&&Tr.current!==null||(Io=!0),(Ns&134217727)===0&&(_l&134217727)===0||Pt===null||_s(Pt,at,Rr,!1)}function Lg(s,o,d){var h=xt;xt|=2;var w=zj(),S=Uj();(Pt!==s||at!==o)&&(Hf=null,Lo(s,o)),o=!1;var T=Xt;e:do try{if(jt!==0&&tt!==null){var D=tt,B=Mr;switch(jt){case 8:Dg(),T=6;break e;case 3:case 2:case 9:case 6:Tr.current===null&&(o=!0);var re=jt;if(jt=0,Mr=null,zo(s,D,B,re),d&&Io){T=0;break e}break;default:re=jt,jt=0,Mr=null,zo(s,D,B,re)}}J6(),T=Xt;break}catch(de){Dj(s,de)}while(!0);return o&&s.shellSuspendCounter++,vi=gl=null,xt=h,F.H=w,F.A=S,tt===null&&(Pt=null,at=0,pf()),T}function J6(){for(;tt!==null;)$j(tt)}function W6(s,o){var d=xt;xt|=2;var h=zj(),w=Uj();Pt!==s||at!==o?(Hf=null,qf=ze()+500,Lo(s,o)):Io=Ma(s,o);e:do try{if(jt!==0&&tt!==null){o=tt;var S=Mr;t:switch(jt){case 1:jt=0,Mr=null,zo(s,o,S,1);break;case 2:case 9:if(WN(S)){jt=0,Mr=null,Gj(o);break}o=function(){jt!==2&&jt!==9||Pt!==s||(jt=7),La(s)},S.then(o,o);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:WN(S)?(jt=0,Mr=null,Gj(o)):(jt=0,Mr=null,zo(s,o,S,7));break;case 5:var T=null;switch(tt.tag){case 26:T=tt.memoizedState;case 5:case 27:var D=tt;if(T?E_(T):D.stateNode.complete){jt=0,Mr=null;var B=D.sibling;if(B!==null)tt=B;else{var re=D.return;re!==null?(tt=re,Yf(re)):tt=null}break t}}jt=0,Mr=null,zo(s,o,S,5);break;case 6:jt=0,Mr=null,zo(s,o,S,6);break;case 8:Dg(),Xt=6;break e;default:throw Error(r(462))}}X6();break}catch(de){Dj(s,de)}while(!0);return vi=gl=null,F.H=h,F.A=w,xt=d,tt!==null?0:(Pt=null,at=0,pf(),Xt)}function X6(){for(;tt!==null&&!tr();)$j(tt)}function $j(s){var o=uj(s.alternate,s,Ai);s.memoizedProps=s.pendingProps,o===null?Yf(s):tt=o}function Gj(s){var o=s,d=o.alternate;switch(o.tag){case 15:case 0:o=aj(d,o,o.pendingProps,o.type,void 0,at);break;case 11:o=aj(d,o,o.pendingProps,o.type.render,o.ref,at);break;case 5:Z0(o);default:fj(d,o),o=tt=UN(o,Ai),o=uj(d,o,Ai)}s.memoizedProps=s.pendingProps,o===null?Yf(s):tt=o}function zo(s,o,d,h){vi=gl=null,Z0(o),Co=null,tu=0;var w=o.return;try{if(U6(s,w,o,d,at)){Xt=1,Of(s,Kr(d,s.current)),tt=null;return}}catch(S){if(w!==null)throw tt=w,S;Xt=1,Of(s,Kr(d,s.current)),tt=null;return}o.flags&32768?(lt||h===1?s=!0:Io||(at&536870912)!==0?s=!1:(ws=s=!0,(h===2||h===9||h===3||h===6)&&(h=Tr.current,h!==null&&h.tag===13&&(h.flags|=16384))),Bj(o,s)):Yf(o)}function Yf(s){var o=s;do{if((o.flags&32768)!==0){Bj(o,ws);return}s=o.return;var d=B6(o.alternate,o,Ai);if(d!==null){tt=d;return}if(o=o.sibling,o!==null){tt=o;return}tt=o=s}while(o!==null);Xt===0&&(Xt=5)}function Bj(s,o){do{var d=F6(s.alternate,s);if(d!==null){d.flags&=32767,tt=d;return}if(d=s.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(s=s.sibling,s!==null)){tt=s;return}tt=s=d}while(s!==null);Xt=6,tt=null}function Fj(s,o,d,h,w,S,T,D,B){s.cancelPendingCommit=null;do Jf();while(vn!==0);if((xt&6)!==0)throw Error(r(327));if(o!==null){if(o===s.current)throw Error(r(177));if(S=o.lanes|o.childLanes,S|=_0,ii(s,d,S,T,D,B),s===Pt&&(tt=Pt=null,at=0),Do=o,js=s,Ti=d,Pg=S,Ig=w,Rj=h,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,t3(Ye,function(){return Yj(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||h){h=F.T,F.T=null,w=G.p,G.p=2,T=xt,xt|=4;try{q6(s,o,d)}finally{xt=T,G.p=w,F.T=h}}vn=1,qj(),Hj(),Vj()}}function qj(){if(vn===1){vn=0;var s=js,o=Do,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=F.T,F.T=null;var h=G.p;G.p=2;var w=xt;xt|=4;try{jj(o,s);var S=Jg,T=kN(s.containerInfo),D=S.focusedElem,B=S.selectionRange;if(T!==D&&D&&D.ownerDocument&&TN(D.ownerDocument.documentElement,D)){if(B!==null&&b0(D)){var re=B.start,de=B.end;if(de===void 0&&(de=re),"selectionStart"in D)D.selectionStart=re,D.selectionEnd=Math.min(de,D.value.length);else{var me=D.ownerDocument||document,ie=me&&me.defaultView||window;if(ie.getSelection){var le=ie.getSelection(),Te=D.textContent.length,Be=Math.min(B.start,Te),Tt=B.end===void 0?Be:Math.min(B.end,Te);!le.extend&&Be>Tt&&(T=Tt,Tt=Be,Be=T);var W=AN(D,Be),V=AN(D,Tt);if(W&&V&&(le.rangeCount!==1||le.anchorNode!==W.node||le.anchorOffset!==W.offset||le.focusNode!==V.node||le.focusOffset!==V.offset)){var ee=me.createRange();ee.setStart(W.node,W.offset),le.removeAllRanges(),Be>Tt?(le.addRange(ee),le.extend(V.node,V.offset)):(ee.setEnd(V.node,V.offset),le.addRange(ee))}}}}for(me=[],le=D;le=le.parentNode;)le.nodeType===1&&me.push({element:le,left:le.scrollLeft,top:le.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<me.length;D++){var pe=me[D];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}lp=!!Yg,Jg=Yg=null}finally{xt=w,G.p=h,F.T=d}}s.current=o,vn=2}}function Hj(){if(vn===2){vn=0;var s=js,o=Do,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=F.T,F.T=null;var h=G.p;G.p=2;var w=xt;xt|=4;try{yj(s,o.alternate,o)}finally{xt=w,G.p=h,F.T=d}}vn=3}}function Vj(){if(vn===4||vn===3){vn=0,fe();var s=js,o=Do,d=Ti,h=Rj;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?vn=5:(vn=0,Do=js=null,Kj(s,s.pendingLanes));var w=s.pendingLanes;if(w===0&&(Ss=null),si(d),o=o.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(rt,o,void 0,(o.current.flags&128)===128)}catch{}if(h!==null){o=F.T,w=G.p,G.p=2,F.T=null;try{for(var S=s.onRecoverableError,T=0;T<h.length;T++){var D=h[T];S(D.value,{componentStack:D.stack})}}finally{F.T=o,G.p=w}}(Ti&3)!==0&&Jf(),La(s),w=s.pendingLanes,(d&261930)!==0&&(w&42)!==0?s===Og?vu++:(vu=0,Og=s):vu=0,yu(0)}}function Kj(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,Qc(o)))}function Jf(){return qj(),Hj(),Vj(),Yj()}function Yj(){if(vn!==5)return!1;var s=js,o=Pg;Pg=0;var d=si(Ti),h=F.T,w=G.p;try{G.p=32>d?32:d,F.T=null,d=Ig,Ig=null;var S=js,T=Ti;if(vn=0,Do=js=null,Ti=0,(xt&6)!==0)throw Error(r(331));var D=xt;if(xt|=4,Tj(S.current),Ej(S,S.current,T,d),xt=D,yu(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(rt,S)}catch{}return!0}finally{G.p=w,F.T=h,Kj(s,o)}}function Jj(s,o,d){o=Kr(d,o),o=pg(s.stateNode,o,2),s=xs(s,o,2),s!==null&&(ai(s,2),La(s))}function _t(s,o,d){if(s.tag===3)Jj(s,s,d);else for(;o!==null;){if(o.tag===3){Jj(o,s,d);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ss===null||!Ss.has(h))){s=Kr(d,s),d=WS(2),h=xs(o,d,2),h!==null&&(XS(d,h,o,s),ai(h,2),La(h));break}}o=o.return}}function zg(s,o,d){var h=s.pingCache;if(h===null){h=s.pingCache=new K6;var w=new Set;h.set(o,w)}else w=h.get(o),w===void 0&&(w=new Set,h.set(o,w));w.has(d)||(kg=!0,w.add(d),s=Z6.bind(null,s,o,d),o.then(s,s))}function Z6(s,o,d){var h=s.pingCache;h!==null&&h.delete(o),s.pingedLanes|=s.suspendedLanes&d,s.warmLanes&=~d,Pt===s&&(at&d)===d&&(Xt===4||Xt===3&&(at&62914560)===at&&300>ze()-Ff?(xt&2)===0&&Lo(s,0):Mg|=d,Oo===at&&(Oo=0)),La(s)}function Wj(s,o){o===0&&(o=Ra()),s=pl(s,o),s!==null&&(ai(s,o),La(s))}function Q6(s){var o=s.memoizedState,d=0;o!==null&&(d=o.retryLane),Wj(s,d)}function e3(s,o){var d=0;switch(s.tag){case 31:case 13:var h=s.stateNode,w=s.memoizedState;w!==null&&(d=w.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(o),Wj(s,d)}function t3(s,o){return Fn(s,o)}var Wf=null,Uo=null,Ug=!1,Xf=!1,$g=!1,Es=0;function La(s){s!==Uo&&s.next===null&&(Uo===null?Wf=Uo=s:Uo=Uo.next=s),Xf=!0,Ug||(Ug=!0,r3())}function yu(s,o){if(!$g&&Xf){$g=!0;do for(var d=!1,h=Wf;h!==null;){if(s!==0){var w=h.pendingLanes;if(w===0)var S=0;else{var T=h.suspendedLanes,D=h.pingedLanes;S=(1<<31-Ie(42|s)+1)-1,S&=w&~(T&~D),S=S&201326741?S&201326741|1:S?S|2:0}S!==0&&(d=!0,e_(h,S))}else S=at,S=rr(h,h===Pt?S:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(S&3)===0||Ma(h,S)||(d=!0,e_(h,S));h=h.next}while(d);$g=!1}}function n3(){Xj()}function Xj(){Xf=Ug=!1;var s=0;Es!==0&&p3()&&(s=Es);for(var o=ze(),d=null,h=Wf;h!==null;){var w=h.next,S=Zj(h,o);S===0?(h.next=null,d===null?Wf=w:d.next=w,w===null&&(Uo=d)):(d=h,(s!==0||(S&3)!==0)&&(Xf=!0)),h=w}vn!==0&&vn!==5||yu(s),Es!==0&&(Es=0)}function Zj(s,o){for(var d=s.suspendedLanes,h=s.pingedLanes,w=s.expirationTimes,S=s.pendingLanes&-62914561;0<S;){var T=31-Ie(S),D=1<<T,B=w[T];B===-1?((D&d)===0||(D&h)!==0)&&(w[T]=ri(D,o)):B<=o&&(s.expiredLanes|=D),S&=~D}if(o=Pt,d=at,d=rr(s,s===o?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,d===0||s===o&&(jt===2||jt===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&On(h),s.callbackNode=null,s.callbackPriority=0;if((d&3)===0||Ma(s,d)){if(o=d&-d,o===s.callbackPriority)return o;switch(h!==null&&On(h),si(d)){case 2:case 8:d=Re;break;case 32:d=Ye;break;case 268435456:d=nr;break;default:d=Ye}return h=Qj.bind(null,s),d=Fn(d,h),s.callbackPriority=o,s.callbackNode=d,o}return h!==null&&h!==null&&On(h),s.callbackPriority=2,s.callbackNode=null,2}function Qj(s,o){if(vn!==0&&vn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var d=s.callbackNode;if(Jf()&&s.callbackNode!==d)return null;var h=at;return h=rr(s,s===Pt?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Ij(s,h,o),Zj(s,ze()),s.callbackNode!=null&&s.callbackNode===d?Qj.bind(null,s):null)}function e_(s,o){if(Jf())return null;Ij(s,o,!0)}function r3(){h3(function(){(xt&6)!==0?Fn(ae,n3):Xj()})}function Gg(){if(Es===0){var s=jo;s===0&&(s=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),Es=s}return Es}function t_(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Vn(""+s)}function n_(s,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,s.id&&d.setAttribute("form",s.id),o.parentNode.insertBefore(d,o),s=new FormData(s),d.parentNode.removeChild(d),s}function a3(s,o,d,h,w){if(o==="submit"&&d&&d.stateNode===w){var S=t_((w[Jt]||null).action),T=h.submitter;T&&(o=(o=T[Jt]||null)?t_(o.formAction):T.getAttribute("formAction"),o!==null&&(S=o,T=null));var D=new cf("action","action",null,h,w);s.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Es!==0){var B=T?n_(w,T):new FormData(w);lg(d,{pending:!0,data:B,method:w.method,action:S},null,B)}}else typeof S=="function"&&(D.preventDefault(),B=T?n_(w,T):new FormData(w),lg(d,{pending:!0,data:B,method:w.method,action:S},S,B))},currentTarget:w}]})}}for(var Bg=0;Bg<j0.length;Bg++){var Fg=j0[Bg],i3=Fg.toLowerCase(),s3=Fg[0].toUpperCase()+Fg.slice(1);ha(i3,"on"+s3)}ha(PN,"onAnimationEnd"),ha(IN,"onAnimationIteration"),ha(ON,"onAnimationStart"),ha("dblclick","onDoubleClick"),ha("focusin","onFocus"),ha("focusout","onBlur"),ha(N6,"onTransitionRun"),ha(S6,"onTransitionStart"),ha(j6,"onTransitionCancel"),ha(DN,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bu));function r_(s,o){o=(o&4)!==0;for(var d=0;d<s.length;d++){var h=s[d],w=h.event;h=h.listeners;e:{var S=void 0;if(o)for(var T=h.length-1;0<=T;T--){var D=h[T],B=D.instance,re=D.currentTarget;if(D=D.listener,B!==S&&w.isPropagationStopped())break e;S=D,w.currentTarget=re;try{S(w)}catch(de){ff(de)}w.currentTarget=null,S=B}else for(T=0;T<h.length;T++){if(D=h[T],B=D.instance,re=D.currentTarget,D=D.listener,B!==S&&w.isPropagationStopped())break e;S=D,w.currentTarget=re;try{S(w)}catch(de){ff(de)}w.currentTarget=null,S=B}}}}function nt(s,o){var d=o[li];d===void 0&&(d=o[li]=new Set);var h=s+"__bubble";d.has(h)||(a_(o,s,2,!1),d.add(h))}function qg(s,o,d){var h=0;o&&(h|=4),a_(d,s,h,o)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Hg(s){if(!s[Zf]){s[Zf]=!0,Lc.forEach(function(d){d!=="selectionchange"&&(l3.has(d)||qg(d,!1,s),qg(d,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Zf]||(o[Zf]=!0,qg("selectionchange",!1,o))}}function a_(s,o,d,h){switch(P_(o)){case 2:var w=O3;break;case 8:w=D3;break;default:w=sx}d=w.bind(null,o,d,s),w=void 0,!d0||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(w=!0),h?w!==void 0?s.addEventListener(o,d,{capture:!0,passive:w}):s.addEventListener(o,d,!0):w!==void 0?s.addEventListener(o,d,{passive:w}):s.addEventListener(o,d,!1)}function Vg(s,o,d,h,w){var S=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var D=h.stateNode.containerInfo;if(D===w)break;if(T===4)for(T=h.return;T!==null;){var B=T.tag;if((B===3||B===4)&&T.stateNode.containerInfo===w)return;T=T.return}for(;D!==null;){if(T=we(D),T===null)return;if(B=T.tag,B===5||B===6||B===26||B===27){h=S=T;continue e}D=D.parentNode}}h=h.return}cN(function(){var re=S,de=po(d),me=[];e:{var ie=LN.get(s);if(ie!==void 0){var le=cf,Te=s;switch(s){case"keypress":if(lf(d)===0)break e;case"keydown":case"keyup":le=e6;break;case"focusin":Te="focus",le=h0;break;case"focusout":Te="blur",le=h0;break;case"beforeblur":case"afterblur":le=h0;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=fN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=B5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=r6;break;case PN:case IN:case ON:le=H5;break;case DN:le=i6;break;case"scroll":case"scrollend":le=$5;break;case"wheel":le=l6;break;case"copy":case"cut":case"paste":le=K5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=mN;break;case"toggle":case"beforetoggle":le=c6}var Be=(o&4)!==0,Tt=!Be&&(s==="scroll"||s==="scrollend"),W=Be?ie!==null?ie+"Capture":null:ie;Be=[];for(var V=re,ee;V!==null;){var pe=V;if(ee=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ee===null||W===null||(pe=Bc(V,W),pe!=null&&Be.push(wu(V,pe,ee))),Tt)break;V=V.return}0<Be.length&&(ie=new le(ie,Te,null,d,de),me.push({event:ie,listeners:Be}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",le=s==="mouseout"||s==="pointerout",ie&&d!==pi&&(Te=d.relatedTarget||d.fromElement)&&(we(Te)||Te[ar]))break e;if((le||ie)&&(ie=de.window===de?de:(ie=de.ownerDocument)?ie.defaultView||ie.parentWindow:window,le?(Te=d.relatedTarget||d.toElement,le=re,Te=Te?we(Te):null,Te!==null&&(Tt=l(Te),Be=Te.tag,Te!==Tt||Be!==5&&Be!==27&&Be!==6)&&(Te=null)):(le=null,Te=re),le!==Te)){if(Be=fN,pe="onMouseLeave",W="onMouseEnter",V="mouse",(s==="pointerout"||s==="pointerover")&&(Be=mN,pe="onPointerLeave",W="onPointerEnter",V="pointer"),Tt=le==null?ie:Pa(le),ee=Te==null?ie:Pa(Te),ie=new Be(pe,V+"leave",le,d,de),ie.target=Tt,ie.relatedTarget=ee,pe=null,we(de)===re&&(Be=new Be(W,V+"enter",Te,d,de),Be.target=ee,Be.relatedTarget=Tt,pe=Be),Tt=pe,le&&Te)t:{for(Be=o3,W=le,V=Te,ee=0,pe=W;pe;pe=Be(pe))ee++;pe=0;for(var $e=V;$e;$e=Be($e))pe++;for(;0<ee-pe;)W=Be(W),ee--;for(;0<pe-ee;)V=Be(V),pe--;for(;ee--;){if(W===V||V!==null&&W===V.alternate){Be=W;break t}W=Be(W),V=Be(V)}Be=null}else Be=null;le!==null&&i_(me,ie,le,Be,!1),Te!==null&&Tt!==null&&i_(me,Tt,Te,Be,!0)}}e:{if(ie=re?Pa(re):window,le=ie.nodeName&&ie.nodeName.toLowerCase(),le==="select"||le==="input"&&ie.type==="file")var dt=NN;else if(bN(ie))if(SN)dt=y6;else{dt=x6;var Pe=g6}else le=ie.nodeName,!le||le.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?re&&Rt(re.elementType)&&(dt=NN):dt=v6;if(dt&&(dt=dt(s,re))){wN(me,dt,d,de);break e}Pe&&Pe(s,ie,re),s==="focusout"&&re&&ie.type==="number"&&re.memoizedProps.value!=null&&Gc(ie,"number",ie.value)}switch(Pe=re?Pa(re):window,s){case"focusin":(bN(Pe)||Pe.contentEditable==="true")&&(go=Pe,w0=re,Wc=null);break;case"focusout":Wc=w0=go=null;break;case"mousedown":N0=!0;break;case"contextmenu":case"mouseup":case"dragend":N0=!1,MN(me,d,de);break;case"selectionchange":if(w6)break;case"keydown":case"keyup":MN(me,d,de)}var We;if(x0)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else ho?vN(s,d)&&(it="onCompositionEnd"):s==="keydown"&&d.keyCode===229&&(it="onCompositionStart");it&&(hN&&d.locale!=="ko"&&(ho||it!=="onCompositionStart"?it==="onCompositionEnd"&&ho&&(We=uN()):(us=de,f0="value"in us?us.value:us.textContent,ho=!0)),Pe=Qf(re,it),0<Pe.length&&(it=new pN(it,s,null,d,de),me.push({event:it,listeners:Pe}),We?it.data=We:(We=yN(d),We!==null&&(it.data=We)))),(We=d6?f6(s,d):p6(s,d))&&(it=Qf(re,"onBeforeInput"),0<it.length&&(Pe=new pN("onBeforeInput","beforeinput",null,d,de),me.push({event:Pe,listeners:it}),Pe.data=We)),a3(me,s,re,d,de)}r_(me,o)})}function wu(s,o,d){return{instance:s,listener:o,currentTarget:d}}function Qf(s,o){for(var d=o+"Capture",h=[];s!==null;){var w=s,S=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||S===null||(w=Bc(s,d),w!=null&&h.unshift(wu(s,w,S)),w=Bc(s,o),w!=null&&h.push(wu(s,w,S))),s.tag===3)return h;s=s.return}return[]}function o3(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function i_(s,o,d,h,w){for(var S=o._reactName,T=[];d!==null&&d!==h;){var D=d,B=D.alternate,re=D.stateNode;if(D=D.tag,B!==null&&B===h)break;D!==5&&D!==26&&D!==27||re===null||(B=re,w?(re=Bc(d,S),re!=null&&T.unshift(wu(d,re,B))):w||(re=Bc(d,S),re!=null&&T.push(wu(d,re,B)))),d=d.return}T.length!==0&&s.push({event:o,listeners:T})}var c3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function s_(s){return(typeof s=="string"?s:""+s).replace(c3,`
`).replace(u3,"")}function l_(s,o){return o=s_(o),s_(s)===o}function At(s,o,d,h,w,S){switch(d){case"children":typeof h=="string"?o==="body"||o==="textarea"&&h===""||fi(s,h):(typeof h=="number"||typeof h=="bigint")&&o!=="body"&&fi(s,""+h);break;case"className":co(s,"class",h);break;case"tabIndex":co(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":co(s,d,h);break;case"style":Le(s,h,S);break;case"data":if(o!=="object"){co(s,"data",h);break}case"src":case"href":if(h===""&&(o!=="a"||d!=="href")){s.removeAttribute(d);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=Vn(""+h),s.setAttribute(d,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof S=="function"&&(d==="formAction"?(o!=="input"&&At(s,o,"name",w.name,w,null),At(s,o,"formEncType",w.formEncType,w,null),At(s,o,"formMethod",w.formMethod,w,null),At(s,o,"formTarget",w.formTarget,w,null)):(At(s,o,"encType",w.encType,w,null),At(s,o,"method",w.method,w,null),At(s,o,"target",w.target,w,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(d);break}h=Vn(""+h),s.setAttribute(d,h);break;case"onClick":h!=null&&(s.onclick=Kn);break;case"onScroll":h!=null&&nt("scroll",s);break;case"onScrollEnd":h!=null&&nt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}d=Vn(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""+h):s.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,""):s.removeAttribute(d);break;case"capture":case"download":h===!0?s.setAttribute(d,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(d,h):s.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(d,h):s.removeAttribute(d);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(d):s.setAttribute(d,h);break;case"popover":nt("beforetoggle",s),nt("toggle",s),oo(s,"popover",h);break;case"xlinkActuate":ma(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":ma(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":ma(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":ma(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":ma(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":ma(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":ma(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":ma(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":ma(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":oo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Hn.get(d)||d,oo(s,d,h))}}function Kg(s,o,d,h,w,S){switch(d){case"style":Le(s,h,S);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(d=h.__html,d!=null){if(w.children!=null)throw Error(r(60));s.innerHTML=d}}break;case"children":typeof h=="string"?fi(s,h):(typeof h=="number"||typeof h=="bigint")&&fi(s,""+h);break;case"onScroll":h!=null&&nt("scroll",s);break;case"onScrollEnd":h!=null&&nt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lo.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),o=d.slice(2,w?d.length-7:void 0),S=s[Jt]||null,S=S!=null?S[d]:null,typeof S=="function"&&s.removeEventListener(o,S,w),typeof h=="function")){typeof S!="function"&&S!==null&&(d in s?s[d]=null:s.hasAttribute(d)&&s.removeAttribute(d)),s.addEventListener(o,h,w);break e}d in s?s[d]=h:h===!0?s.setAttribute(d,""):oo(s,d,h)}}}function $n(s,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",s),nt("load",s);var h=!1,w=!1,S;for(S in d)if(d.hasOwnProperty(S)){var T=d[S];if(T!=null)switch(S){case"src":h=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,S,T,d,null)}}w&&At(s,o,"srcSet",d.srcSet,d,null),h&&At(s,o,"src",d.src,d,null);return;case"input":nt("invalid",s);var D=S=T=w=null,B=null,re=null;for(h in d)if(d.hasOwnProperty(h)){var de=d[h];if(de!=null)switch(h){case"name":w=de;break;case"type":T=de;break;case"checked":B=de;break;case"defaultChecked":re=de;break;case"value":S=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,o));break;default:At(s,o,h,de,d,null)}}cl(s,S,D,B,re,T,w,!1);return;case"select":nt("invalid",s),h=T=S=null;for(w in d)if(d.hasOwnProperty(w)&&(D=d[w],D!=null))switch(w){case"value":S=D;break;case"defaultValue":T=D;break;case"multiple":h=D;default:At(s,o,w,D,d,null)}o=S,d=T,s.multiple=!!h,o!=null?di(s,!!h,o,!1):d!=null&&di(s,!!h,d,!0);return;case"textarea":nt("invalid",s),S=w=h=null;for(T in d)if(d.hasOwnProperty(T)&&(D=d[T],D!=null))switch(T){case"value":h=D;break;case"defaultValue":w=D;break;case"children":S=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(91));break;default:At(s,o,T,D,d,null)}af(s,h,w,S);return;case"option":for(B in d)d.hasOwnProperty(B)&&(h=d[B],h!=null)&&(B==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":At(s,o,B,h,d,null));return;case"dialog":nt("beforetoggle",s),nt("toggle",s),nt("cancel",s),nt("close",s);break;case"iframe":case"object":nt("load",s);break;case"video":case"audio":for(h=0;h<bu.length;h++)nt(bu[h],s);break;case"image":nt("error",s),nt("load",s);break;case"details":nt("toggle",s);break;case"embed":case"source":case"link":nt("error",s),nt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(re in d)if(d.hasOwnProperty(re)&&(h=d[re],h!=null))switch(re){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:At(s,o,re,h,d,null)}return;default:if(Rt(o)){for(de in d)d.hasOwnProperty(de)&&(h=d[de],h!==void 0&&Kg(s,o,de,h,d,void 0));return}}for(D in d)d.hasOwnProperty(D)&&(h=d[D],h!=null&&At(s,o,D,h,d,null))}function d3(s,o,d,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,S=null,T=null,D=null,B=null,re=null,de=null;for(le in d){var me=d[le];if(d.hasOwnProperty(le)&&me!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":B=me;default:h.hasOwnProperty(le)||At(s,o,le,null,h,me)}}for(var ie in h){var le=h[ie];if(me=d[ie],h.hasOwnProperty(ie)&&(le!=null||me!=null))switch(ie){case"type":S=le;break;case"name":w=le;break;case"checked":re=le;break;case"defaultChecked":de=le;break;case"value":T=le;break;case"defaultValue":D=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==me&&At(s,o,ie,le,h,me)}}$c(s,T,D,B,re,de,S,w);return;case"select":le=T=D=ie=null;for(S in d)if(B=d[S],d.hasOwnProperty(S)&&B!=null)switch(S){case"value":break;case"multiple":le=B;default:h.hasOwnProperty(S)||At(s,o,S,null,h,B)}for(w in h)if(S=h[w],B=d[w],h.hasOwnProperty(w)&&(S!=null||B!=null))switch(w){case"value":ie=S;break;case"defaultValue":D=S;break;case"multiple":T=S;default:S!==B&&At(s,o,w,S,h,B)}o=D,d=T,h=le,ie!=null?di(s,!!d,ie,!1):!!h!=!!d&&(o!=null?di(s,!!d,o,!0):di(s,!!d,d?[]:"",!1));return;case"textarea":le=ie=null;for(D in d)if(w=d[D],d.hasOwnProperty(D)&&w!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:At(s,o,D,null,h,w)}for(T in h)if(w=h[T],S=d[T],h.hasOwnProperty(T)&&(w!=null||S!=null))switch(T){case"value":ie=w;break;case"defaultValue":le=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==S&&At(s,o,T,w,h,S)}rf(s,ie,le);return;case"option":for(var Te in d)ie=d[Te],d.hasOwnProperty(Te)&&ie!=null&&!h.hasOwnProperty(Te)&&(Te==="selected"?s.selected=!1:At(s,o,Te,null,h,ie));for(B in h)ie=h[B],le=d[B],h.hasOwnProperty(B)&&ie!==le&&(ie!=null||le!=null)&&(B==="selected"?s.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":At(s,o,B,ie,h,le));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Be in d)ie=d[Be],d.hasOwnProperty(Be)&&ie!=null&&!h.hasOwnProperty(Be)&&At(s,o,Be,null,h,ie);for(re in h)if(ie=h[re],le=d[re],h.hasOwnProperty(re)&&ie!==le&&(ie!=null||le!=null))switch(re){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,o));break;default:At(s,o,re,ie,h,le)}return;default:if(Rt(o)){for(var Tt in d)ie=d[Tt],d.hasOwnProperty(Tt)&&ie!==void 0&&!h.hasOwnProperty(Tt)&&Kg(s,o,Tt,void 0,h,ie);for(de in h)ie=h[de],le=d[de],!h.hasOwnProperty(de)||ie===le||ie===void 0&&le===void 0||Kg(s,o,de,ie,h,le);return}}for(var W in d)ie=d[W],d.hasOwnProperty(W)&&ie!=null&&!h.hasOwnProperty(W)&&At(s,o,W,null,h,ie);for(me in h)ie=h[me],le=d[me],!h.hasOwnProperty(me)||ie===le||ie==null&&le==null||At(s,o,me,ie,h,le)}function o_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function f3(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,d=performance.getEntriesByType("resource"),h=0;h<d.length;h++){var w=d[h],S=w.transferSize,T=w.initiatorType,D=w.duration;if(S&&D&&o_(T)){for(T=0,D=w.responseEnd,h+=1;h<d.length;h++){var B=d[h],re=B.startTime;if(re>D)break;var de=B.transferSize,me=B.initiatorType;de&&o_(me)&&(B=B.responseEnd,T+=de*(B<D?1:(D-re)/(B-re)))}if(--h,o+=8*(S+T)/(w.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Yg=null,Jg=null;function ep(s){return s.nodeType===9?s:s.ownerDocument}function c_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function Wg(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xg=null;function p3(){var s=window.event;return s&&s.type==="popstate"?s===Xg?!1:(Xg=s,!0):(Xg=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,m3=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,h3=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(s){return f_.resolve(null).then(s).catch(g3)}:d_;function g3(s){setTimeout(function(){throw s})}function Cs(s){return s==="head"}function p_(s,o){var d=o,h=0;do{var w=d.nextSibling;if(s.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(h===0){s.removeChild(w),Fo(o);return}h--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")h++;else if(d==="html")Nu(s.ownerDocument.documentElement);else if(d==="head"){d=s.ownerDocument.head,Nu(d);for(var S=d.firstChild;S;){var T=S.nextSibling,D=S.nodeName;S[cs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&S.rel.toLowerCase()==="stylesheet"||d.removeChild(S),S=T}}else d==="body"&&Nu(s.ownerDocument.body);d=w}while(d);Fo(o)}function m_(s,o){var d=s;s=0;do{var h=d.nextSibling;if(d.nodeType===1?o?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(o?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),h&&h.nodeType===8)if(d=h.data,d==="/$"){if(s===0)break;s--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||s++;d=h}while(d)}function Zg(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Zg(d),so(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}s.removeChild(d)}}function x3(s,o,d,h){for(;s.nodeType===1;){var w=d;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[cs])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(S=s.getAttribute("rel"),S==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(S!==w.rel||s.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||s.getAttribute("title")!==(w.title==null?null:w.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(S=s.getAttribute("src"),(S!==(w.src==null?null:w.src)||s.getAttribute("type")!==(w.type==null?null:w.type)||s.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&S&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var S=w.name==null?null:""+w.name;if(w.type==="hidden"&&s.getAttribute("name")===S)return s}else return s;if(s=Zr(s.nextSibling),s===null)break}return null}function v3(s,o,d){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!d||(s=Zr(s.nextSibling),s===null))return null;return s}function h_(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=Zr(s.nextSibling),s===null))return null;return s}function Qg(s){return s.data==="$?"||s.data==="$~"}function ex(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function y3(s,o){var d=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||d.readyState!=="loading")o();else{var h=function(){o(),d.removeEventListener("DOMContentLoaded",h)};d.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Zr(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var tx=null;function g_(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="/$"||d==="/&"){if(o===0)return Zr(s.nextSibling);o--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||o++}s=s.nextSibling}return null}function x_(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var d=s.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(o===0)return s;o--}else d!=="/$"&&d!=="/&"||o++}s=s.previousSibling}return null}function v_(s,o,d){switch(o=ep(d),s){case"html":if(s=o.documentElement,!s)throw Error(r(452));return s;case"head":if(s=o.head,!s)throw Error(r(453));return s;case"body":if(s=o.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Nu(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);so(s)}var Qr=new Map,y_=new Set;function tp(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ki=G.d;G.d={f:b3,r:w3,D:N3,C:S3,L:j3,m:_3,X:C3,S:E3,M:A3};function b3(){var s=ki.f(),o=Vf();return s||o}function w3(s){var o=qn(s);o!==null&&o.tag===5&&o.type==="form"?DS(o):ki.r(s)}var $o=typeof document>"u"?null:document;function b_(s,o,d){var h=$o;if(h&&typeof o=="string"&&o){var w=hr(o);w='link[rel="'+s+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),y_.has(w)||(y_.add(w),s={rel:s,crossOrigin:d,href:o},h.querySelector(w)===null&&(o=h.createElement("link"),$n(o,"link",s),an(o),h.head.appendChild(o)))}}function N3(s){ki.D(s),b_("dns-prefetch",s,null)}function S3(s,o){ki.C(s,o),b_("preconnect",s,o)}function j3(s,o,d){ki.L(s,o,d);var h=$o;if(h&&s&&o){var w='link[rel="preload"][as="'+hr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+hr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+hr(d.imageSizes)+'"]')):w+='[href="'+hr(s)+'"]';var S=w;switch(o){case"style":S=Go(s);break;case"script":S=Bo(s)}Qr.has(S)||(s=g({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:s,as:o},d),Qr.set(S,s),h.querySelector(w)!==null||o==="style"&&h.querySelector(Su(S))||o==="script"&&h.querySelector(ju(S))||(o=h.createElement("link"),$n(o,"link",s),an(o),h.head.appendChild(o)))}}function _3(s,o){ki.m(s,o);var d=$o;if(d&&s){var h=o&&typeof o.as=="string"?o.as:"script",w='link[rel="modulepreload"][as="'+hr(h)+'"][href="'+hr(s)+'"]',S=w;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":S=Bo(s)}if(!Qr.has(S)&&(s=g({rel:"modulepreload",href:s},o),Qr.set(S,s),d.querySelector(w)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(ju(S)))return}h=d.createElement("link"),$n(h,"link",s),an(h),d.head.appendChild(h)}}}function E3(s,o,d){ki.S(s,o,d);var h=$o;if(h&&s){var w=oi(h).hoistableStyles,S=Go(s);o=o||"default";var T=w.get(S);if(!T){var D={loading:0,preload:null};if(T=h.querySelector(Su(S)))D.loading=5;else{s=g({rel:"stylesheet",href:s,"data-precedence":o},d),(d=Qr.get(S))&&nx(s,d);var B=T=h.createElement("link");an(B),$n(B,"link",s),B._p=new Promise(function(re,de){B.onload=re,B.onerror=de}),B.addEventListener("load",function(){D.loading|=1}),B.addEventListener("error",function(){D.loading|=2}),D.loading|=4,np(T,o,h)}T={type:"stylesheet",instance:T,count:1,state:D},w.set(S,T)}}}function C3(s,o){ki.X(s,o);var d=$o;if(d&&s){var h=oi(d).hoistableScripts,w=Bo(s),S=h.get(w);S||(S=d.querySelector(ju(w)),S||(s=g({src:s,async:!0},o),(o=Qr.get(w))&&rx(s,o),S=d.createElement("script"),an(S),$n(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function A3(s,o){ki.M(s,o);var d=$o;if(d&&s){var h=oi(d).hoistableScripts,w=Bo(s),S=h.get(w);S||(S=d.querySelector(ju(w)),S||(s=g({src:s,async:!0,type:"module"},o),(o=Qr.get(w))&&rx(s,o),S=d.createElement("script"),an(S),$n(S,"link",s),d.head.appendChild(S)),S={type:"script",instance:S,count:1,state:null},h.set(w,S))}}function w_(s,o,d,h){var w=(w=ue.current)?tp(w):null;if(!w)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Go(d.href),d=oi(w).hoistableStyles,h=d.get(o),h||(h={type:"style",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){s=Go(d.href);var S=oi(w).hoistableStyles,T=S.get(s);if(T||(w=w.ownerDocument||w,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},S.set(s,T),(S=w.querySelector(Su(s)))&&!S._p&&(T.instance=S,T.state.loading=5),Qr.has(s)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Qr.set(s,d),S||T3(w,s,d,T.state))),o&&h===null)throw Error(r(528,""));return T}if(o&&h!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Bo(d),d=oi(w).hoistableScripts,h=d.get(o),h||(h={type:"script",instance:null,count:0,state:null},d.set(o,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Go(s){return'href="'+hr(s)+'"'}function Su(s){return'link[rel="stylesheet"]['+s+"]"}function N_(s){return g({},s,{"data-precedence":s.precedence,precedence:null})}function T3(s,o,d,h){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?h.loading=1:(o=s.createElement("link"),h.preload=o,o.addEventListener("load",function(){return h.loading|=1}),o.addEventListener("error",function(){return h.loading|=2}),$n(o,"link",d),an(o),s.head.appendChild(o))}function Bo(s){return'[src="'+hr(s)+'"]'}function ju(s){return"script[async]"+s}function S_(s,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var h=s.querySelector('style[data-href~="'+hr(d.href)+'"]');if(h)return o.instance=h,an(h),h;var w=g({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),an(h),$n(h,"style",w),np(h,d.precedence,s),o.instance=h;case"stylesheet":w=Go(d.href);var S=s.querySelector(Su(w));if(S)return o.state.loading|=4,o.instance=S,an(S),S;h=N_(d),(w=Qr.get(w))&&nx(h,w),S=(s.ownerDocument||s).createElement("link"),an(S);var T=S;return T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),$n(S,"link",h),o.state.loading|=4,np(S,d.precedence,s),o.instance=S;case"script":return S=Bo(d.src),(w=s.querySelector(ju(S)))?(o.instance=w,an(w),w):(h=d,(w=Qr.get(S))&&(h=g({},d),rx(h,w)),s=s.ownerDocument||s,w=s.createElement("script"),an(w),$n(w,"link",h),s.head.appendChild(w),o.instance=w);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(h=o.instance,o.state.loading|=4,np(h,d.precedence,s));return o.instance}function np(s,o,d){for(var h=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=h.length?h[h.length-1]:null,S=w,T=0;T<h.length;T++){var D=h[T];if(D.dataset.precedence===o)S=D;else if(S!==w)break}S?S.parentNode.insertBefore(s,S.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(s,o.firstChild))}function nx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function rx(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var rp=null;function j_(s,o,d){if(rp===null){var h=new Map,w=rp=new Map;w.set(d,h)}else w=rp,h=w.get(d),h||(h=new Map,w.set(d,h));if(h.has(s))return h;for(h.set(s,null),d=d.getElementsByTagName(s),w=0;w<d.length;w++){var S=d[w];if(!(S[cs]||S[gt]||s==="link"&&S.getAttribute("rel")==="stylesheet")&&S.namespaceURI!=="http://www.w3.org/2000/svg"){var T=S.getAttribute(o)||"";T=s+T;var D=h.get(T);D?D.push(S):h.set(T,[S])}}return h}function __(s,o,d){s=s.ownerDocument||s,s.head.insertBefore(d,o==="title"?s.querySelector("head > title"):null)}function k3(s,o,d){if(d===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(s=o.disabled,typeof o.precedence=="string"&&s==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function E_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function M3(s,o,d,h){if(d.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Go(h.href),S=o.querySelector(Su(w));if(S){o=S._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=ap.bind(s),o.then(s,s)),d.state.loading|=4,d.instance=S,an(S);return}S=o.ownerDocument||o,h=N_(h),(w=Qr.get(w))&&nx(h,w),S=S.createElement("link"),an(S);var T=S;T._p=new Promise(function(D,B){T.onload=D,T.onerror=B}),$n(S,"link",h),d.instance=S}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(d,o),(o=d.state.preload)&&(d.state.loading&3)===0&&(s.count++,d=ap.bind(s),o.addEventListener("load",d),o.addEventListener("error",d))}}var ax=0;function R3(s,o){return s.stylesheets&&s.count===0&&sp(s,s.stylesheets),0<s.count||0<s.imgCount?function(d){var h=setTimeout(function(){if(s.stylesheets&&sp(s,s.stylesheets),s.unsuspend){var S=s.unsuspend;s.unsuspend=null,S()}},6e4+o);0<s.imgBytes&&ax===0&&(ax=62500*f3());var w=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&sp(s,s.stylesheets),s.unsuspend)){var S=s.unsuspend;s.unsuspend=null,S()}},(s.imgBytes>ax?50:800)+o);return s.unsuspend=d,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(w)}}:null}function ap(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var ip=null;function sp(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,ip=new Map,o.forEach(P3,s),ip=null,ap.call(s))}function P3(s,o){if(!(o.state.loading&4)){var d=ip.get(s);if(d)var h=d.get(null);else{d=new Map,ip.set(s,d);for(var w=s.querySelectorAll("link[data-precedence],style[data-precedence]"),S=0;S<w.length;S++){var T=w[S];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(d.set(T.dataset.precedence,T),h=T)}h&&d.set(null,h)}w=o.instance,T=w.getAttribute("data-precedence"),S=d.get(T)||h,S===h&&d.set(null,w),d.set(T,w),this.count++,h=ap.bind(this),w.addEventListener("load",h),w.addEventListener("error",h),S?S.parentNode.insertBefore(w,S.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(w,s.firstChild)),o.state.loading|=4}}var _u={$$typeof:R,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function I3(s,o,d,h,w,S,T,D,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=h,this.onUncaughtError=w,this.onCaughtError=S,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function C_(s,o,d,h,w,S,T,D,B,re,de,me){return s=new I3(s,o,d,T,B,re,de,me,D),o=1,S===!0&&(o|=24),S=Ar(3,null,null,o),s.current=S,S.stateNode=s,o=L0(),o.refCount++,s.pooledCache=o,o.refCount++,S.memoizedState={element:h,isDehydrated:d,cache:o},G0(S),s}function A_(s){return s?(s=yo,s):yo}function T_(s,o,d,h,w,S){w=A_(w),h.context===null?h.context=w:h.pendingContext=w,h=gs(o),h.payload={element:d},S=S===void 0?null:S,S!==null&&(h.callback=S),d=xs(s,h,o),d!==null&&(wr(d,s,o),ru(d,s,o))}function k_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var d=s.retryLane;s.retryLane=d!==0&&d<o?d:o}}function ix(s,o){k_(s,o),(s=s.alternate)&&k_(s,o)}function M_(s){if(s.tag===13||s.tag===31){var o=pl(s,67108864);o!==null&&wr(o,s,67108864),ix(s,67108864)}}function R_(s){if(s.tag===13||s.tag===31){var o=Pr();o=ll(o);var d=pl(s,o);d!==null&&wr(d,s,o),ix(s,o)}}var lp=!0;function O3(s,o,d,h){var w=F.T;F.T=null;var S=G.p;try{G.p=2,sx(s,o,d,h)}finally{G.p=S,F.T=w}}function D3(s,o,d,h){var w=F.T;F.T=null;var S=G.p;try{G.p=8,sx(s,o,d,h)}finally{G.p=S,F.T=w}}function sx(s,o,d,h){if(lp){var w=lx(h);if(w===null)Vg(s,o,h,op,d),I_(s,h);else if(z3(w,s,o,d,h))h.stopPropagation();else if(I_(s,h),o&4&&-1<L3.indexOf(s)){for(;w!==null;){var S=qn(w);if(S!==null)switch(S.tag){case 3:if(S=S.stateNode,S.current.memoizedState.isDehydrated){var T=qr(S.pendingLanes);if(T!==0){var D=S;for(D.pendingLanes|=2,D.entangledLanes|=2;T;){var B=1<<31-Ie(T);D.entanglements[1]|=B,T&=~B}La(S),(xt&6)===0&&(qf=ze()+500,yu(0))}}break;case 31:case 13:D=pl(S,2),D!==null&&wr(D,S,2),Vf(),ix(S,2)}if(S=lx(h),S===null&&Vg(s,o,h,op,d),S===w)break;w=S}w!==null&&h.stopPropagation()}else Vg(s,o,h,null,d)}}function lx(s){return s=po(s),ox(s)}var op=null;function ox(s){if(op=null,s=we(s),s!==null){var o=l(s);if(o===null)s=null;else{var d=o.tag;if(d===13){if(s=c(o),s!==null)return s;s=null}else if(d===31){if(s=u(o),s!==null)return s;s=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return op=s,null}function P_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mt()){case ae:return 2;case Re:return 8;case Ye:case un:return 32;case nr:return 268435456;default:return 32}default:return 32}}var cx=!1,As=null,Ts=null,ks=null,Eu=new Map,Cu=new Map,Ms=[],L3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(s,o){switch(s){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Eu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(o.pointerId)}}function Au(s,o,d,h,w,S){return s===null||s.nativeEvent!==S?(s={blockedOn:o,domEventName:d,eventSystemFlags:h,nativeEvent:S,targetContainers:[w]},o!==null&&(o=qn(o),o!==null&&M_(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,w!==null&&o.indexOf(w)===-1&&o.push(w),s)}function z3(s,o,d,h,w){switch(o){case"focusin":return As=Au(As,s,o,d,h,w),!0;case"dragenter":return Ts=Au(Ts,s,o,d,h,w),!0;case"mouseover":return ks=Au(ks,s,o,d,h,w),!0;case"pointerover":var S=w.pointerId;return Eu.set(S,Au(Eu.get(S)||null,s,o,d,h,w)),!0;case"gotpointercapture":return S=w.pointerId,Cu.set(S,Au(Cu.get(S)||null,s,o,d,h,w)),!0}return!1}function O_(s){var o=we(s.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){s.blockedOn=o,ef(s.priority,function(){R_(d)});return}}else if(o===31){if(o=u(d),o!==null){s.blockedOn=o,ef(s.priority,function(){R_(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){s.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}s.blockedOn=null}function cp(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var d=lx(s.nativeEvent);if(d===null){d=s.nativeEvent;var h=new d.constructor(d.type,d);pi=h,d.target.dispatchEvent(h),pi=null}else return o=qn(d),o!==null&&M_(o),s.blockedOn=d,!1;o.shift()}return!0}function D_(s,o,d){cp(s)&&d.delete(o)}function U3(){cx=!1,As!==null&&cp(As)&&(As=null),Ts!==null&&cp(Ts)&&(Ts=null),ks!==null&&cp(ks)&&(ks=null),Eu.forEach(D_),Cu.forEach(D_)}function up(s,o){s.blockedOn===o&&(s.blockedOn=null,cx||(cx=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,U3)))}var dp=null;function L_(s){dp!==s&&(dp=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dp===s&&(dp=null);for(var o=0;o<s.length;o+=3){var d=s[o],h=s[o+1],w=s[o+2];if(typeof h!="function"){if(ox(h||d)===null)continue;break}var S=qn(d);S!==null&&(s.splice(o,3),o-=3,lg(S,{pending:!0,data:w,method:d.method,action:h},h,w))}}))}function Fo(s){function o(B){return up(B,s)}As!==null&&up(As,s),Ts!==null&&up(Ts,s),ks!==null&&up(ks,s),Eu.forEach(o),Cu.forEach(o);for(var d=0;d<Ms.length;d++){var h=Ms[d];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ms.length&&(d=Ms[0],d.blockedOn===null);)O_(d),d.blockedOn===null&&Ms.shift();if(d=(s.ownerDocument||s).$$reactFormReplay,d!=null)for(h=0;h<d.length;h+=3){var w=d[h],S=d[h+1],T=w[Jt]||null;if(typeof S=="function")T||L_(d);else if(T){var D=null;if(S&&S.hasAttribute("formAction")){if(w=S,T=S[Jt]||null)D=T.formAction;else if(ox(w)!==null)continue}else D=T.action;typeof D=="function"?d[h+1]=D:(d.splice(h,3),h-=3),L_(d)}}}function z_(){function s(S){S.canIntercept&&S.info==="react-transition"&&S.intercept({handler:function(){return new Promise(function(T){return w=T})},focusReset:"manual",scroll:"manual"})}function o(){w!==null&&(w(),w=null),h||setTimeout(d,20)}function d(){if(!h&&!navigation.transition){var S=navigation.currentEntry;S&&S.url!=null&&navigation.navigate(S.url,{state:S.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,w=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(d,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),w!==null&&(w(),w=null)}}}function ux(s){this._internalRoot=s}fp.prototype.render=ux.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,h=Pr();T_(d,h,s,o,null,null)},fp.prototype.unmount=ux.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;T_(s.current,2,null,s,null,null),Vf(),o[ar]=null}};function fp(s){this._internalRoot=s}fp.prototype.unstable_scheduleHydration=function(s){if(s){var o=ao();s={blockedOn:null,target:s,priority:o};for(var d=0;d<Ms.length&&o!==0&&o<Ms[d].priority;d++);Ms.splice(d,0,s),d===0&&O_(s)}};var U_=t.version;if(U_!=="19.2.4")throw Error(r(527,U_,"19.2.4"));G.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(o),s=s!==null?m(s):null,s=s===null?null:s.stateNode,s};var $3={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pp.isDisabled&&pp.supportsFiber)try{rt=pp.inject($3),Ze=pp}catch{}}return ku.createRoot=function(s,o){if(!a(s))throw Error(r(299));var d=!1,h="",w=VS,S=KS,T=YS;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(w=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=C_(s,1,!1,null,null,d,h,null,w,S,T,z_),s[ar]=o.current,Hg(s),new ux(o)},ku.hydrateRoot=function(s,o,d){if(!a(s))throw Error(r(299));var h=!1,w="",S=VS,T=KS,D=YS,B=null;return d!=null&&(d.unstable_strictMode===!0&&(h=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(S=d.onUncaughtError),d.onCaughtError!==void 0&&(T=d.onCaughtError),d.onRecoverableError!==void 0&&(D=d.onRecoverableError),d.formState!==void 0&&(B=d.formState)),o=C_(s,1,!0,o,d??null,h,w,B,S,T,D,z_),o.context=A_(null),d=o.current,h=Pr(),h=ll(h),w=gs(h),w.callback=null,xs(d,w,h),d=h,o.current.lanes=d,ai(o,d),La(o),s[ar]=o.current,Hg(s),new fp(o)},ku.version="19.2.4",ku}var J_;function X3(){if(J_)return px.exports;J_=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),px.exports=W3(),px.exports}var Z3=X3();const Q3=ei(Z3),sR=b.createContext({theme:"light",toggleTheme:()=>{}}),Ib=()=>b.useContext(sR),eL=({children:e})=>{const[t,n]=b.useState(()=>localStorage.getItem("theme")??"light");b.useEffect(()=>{const a=document.documentElement;a.classList.add("no-transitions"),a.classList.toggle("dark",t==="dark"),localStorage.setItem("theme",t),requestAnimationFrame(()=>requestAnimationFrame(()=>a.classList.remove("no-transitions")))},[t]);const r=()=>n(a=>a==="dark"?"light":"dark");return i.jsx(sR.Provider,{value:{theme:t,toggleTheme:r},children:e})};var W_="popstate";function tL(e={}){function t(a,l){let{pathname:c="/",search:u="",hash:f=""}=Ql(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),sy("",{pathname:c,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let f=a.location.href,p=f.indexOf("#");u=p===-1?f:f.slice(0,p)}return u+"#"+(typeof l=="string"?l:Zu(l))}function r(a,l){Lr(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return rL(t,n,r,e)}function Ht(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Lr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nL(){return Math.random().toString(36).substring(2,10)}function X_(e,t){return{usr:e.state,key:e.key,idx:t}}function sy(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ql(t):t,state:n,key:t&&t.key||r||nL()}}function Zu({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ql(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function rL(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,u="POP",f=null,p=m();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function m(){return(c.state||{idx:null}).idx}function g(){u="POP";let E=m(),C=E==null?null:E-p;p=E,f&&f({action:u,location:_.location,delta:C})}function v(E,C){u="PUSH";let A=sy(_.location,E,C);n&&n(A,E),p=m()+1;let R=X_(A,p),M=_.createHref(A);try{c.pushState(R,"",M)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;a.location.assign(M)}l&&f&&f({action:u,location:_.location,delta:1})}function N(E,C){u="REPLACE";let A=sy(_.location,E,C);n&&n(A,E),p=m();let R=X_(A,p),M=_.createHref(A);c.replaceState(R,"",M),l&&f&&f({action:u,location:_.location,delta:0})}function j(E){return aL(E)}let _={get action(){return u},get location(){return e(a,c)},listen(E){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(W_,g),f=E,()=>{a.removeEventListener(W_,g),f=null}},createHref(E){return t(a,E)},createURL:j,encodeLocation(E){let C=j(E);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:N,go(E){return c.go(E)}};return _}function aL(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ht(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Zu(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lR(e,t,n="/"){return iL(e,t,n,!1)}function iL(e,t,n,r){let a=typeof t=="string"?Ql(t):t,l=Fi(a.pathname||"/",n);if(l==null)return null;let c=oR(e);sL(c);let u=null;for(let f=0;u==null&&f<c.length;++f){let p=xL(l);u=hL(c[f],p,r)}return u}function oR(e,t=[],n=[],r="",a=!1){let l=(c,u,f=a,p)=>{let m={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(r)&&f)return;Ht(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length)}let g=zi([r,m.relativePath]),v=n.concat(m);c.children&&c.children.length>0&&(Ht(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),oR(c.children,t,v,g,f)),!(c.path==null&&!c.index)&&t.push({path:g,score:pL(g,c.index),routesMeta:v})};return e.forEach((c,u)=>{if(c.path===""||!c.path?.includes("?"))l(c,u);else for(let f of cR(c.path))l(c,u,!0,f)}),t}function cR(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=cR(r.join("/")),u=[];return u.push(...c.map(f=>f===""?l:[l,f].join("/"))),a&&u.push(...c),u.map(f=>e.startsWith("/")&&f===""?"/":f)}function sL(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mL(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var lL=/^:[\w-]+$/,oL=3,cL=2,uL=1,dL=10,fL=-2,Z_=e=>e==="*";function pL(e,t){let n=e.split("/"),r=n.length;return n.some(Z_)&&(r+=fL),t&&(r+=cL),n.filter(a=>!Z_(a)).reduce((a,l)=>a+(lL.test(l)?oL:l===""?uL:dL),r)}function mL(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function hL(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",c=[];for(let u=0;u<r.length;++u){let f=r[u],p=u===r.length-1,m=l==="/"?t:t.slice(l.length)||"/",g=Jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},m),v=f.route;if(!g&&p&&n&&!r[r.length-1].route.index&&(g=Jp({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!g)return null;Object.assign(a,g.params),c.push({params:a,pathname:zi([l,g.pathname]),pathnameBase:wL(zi([l,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(l=zi([l,g.pathnameBase]))}return c}function Jp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=gL(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((p,{paramName:m,isOptional:g},v)=>{if(m==="*"){let j=u[v]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const N=u[v];return g&&!N?p[m]=void 0:p[m]=(N||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:e}}function gL(e,t=!1,n=!0){Lr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,f)=>(r.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function xL(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Lr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Fi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}var vL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function yL(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?Ql(e):e,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=Q_(n.substring(1),"/"):l=Q_(n,t)):l=t,{pathname:l,search:NL(r),hash:SL(a)}}function Q_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function xx(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bL(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Ob(e){let t=bL(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Db(e,t,n,r=!1){let a;typeof e=="string"?a=Ql(e):(a={...e},Ht(!a.pathname||!a.pathname.includes("?"),xx("?","pathname","search",a)),Ht(!a.pathname||!a.pathname.includes("#"),xx("#","pathname","hash",a)),Ht(!a.search||!a.search.includes("#"),xx("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,u;if(c==null)u=n;else{let g=t.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),g-=1;a.pathname=v.join("/")}u=g>=0?t[g]:"/"}let f=yL(a,u),p=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||m)&&(f.pathname+="/"),f}var zi=e=>e.join("/").replace(/\/\/+/g,"/"),wL=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NL=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SL=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,jL=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _L(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function EL(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var uR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function dR(e,t){let n=e;if(typeof n!="string"||!vL.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,a=!1;if(uR)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),u=Fi(c.pathname,t);c.origin===l.origin&&u!=null?n=u+c.search+c.hash:a=!0}catch{Lr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fR=["POST","PUT","PATCH","DELETE"];new Set(fR);var CL=["GET",...fR];new Set(CL);var wc=b.createContext(null);wc.displayName="DataRouter";var nh=b.createContext(null);nh.displayName="DataRouterState";var AL=b.createContext(!1),pR=b.createContext({isTransitioning:!1});pR.displayName="ViewTransition";var TL=b.createContext(new Map);TL.displayName="Fetchers";var kL=b.createContext(null);kL.displayName="Await";var Ur=b.createContext(null);Ur.displayName="Navigation";var Ed=b.createContext(null);Ed.displayName="Location";var Ca=b.createContext({outlet:null,matches:[],isDataRoute:!1});Ca.displayName="Route";var Lb=b.createContext(null);Lb.displayName="RouteError";var mR="REACT_ROUTER_ERROR",ML="REDIRECT",RL="ROUTE_ERROR_RESPONSE";function PL(e){if(e.startsWith(`${mR}:${ML}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function IL(e){if(e.startsWith(`${mR}:${RL}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new jL(t.status,t.statusText,t.data)}catch{}}function OL(e,{relative:t}={}){Ht(Nc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=b.useContext(Ur),{hash:a,pathname:l,search:c}=Cd(e,{relative:t}),u=l;return n!=="/"&&(u=l==="/"?n:zi([n,l])),r.createHref({pathname:u,search:c,hash:a})}function Nc(){return b.useContext(Ed)!=null}function da(){return Ht(Nc(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ed).location}var hR="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function gR(e){b.useContext(Ur).static||b.useLayoutEffect(e)}function $r(){let{isDataRoute:e}=b.useContext(Ca);return e?YL():DL()}function DL(){Ht(Nc(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(wc),{basename:t,navigator:n}=b.useContext(Ur),{matches:r}=b.useContext(Ca),{pathname:a}=da(),l=JSON.stringify(Ob(r)),c=b.useRef(!1);return gR(()=>{c.current=!0}),b.useCallback((f,p={})=>{if(Lr(c.current,hR),!c.current)return;if(typeof f=="number"){n.go(f);return}let m=Db(f,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:zi([t,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[t,n,l,a,e])}b.createContext(null);function xR(){let{matches:e}=b.useContext(Ca),t=e[e.length-1];return t?t.params:{}}function Cd(e,{relative:t}={}){let{matches:n}=b.useContext(Ca),{pathname:r}=da(),a=JSON.stringify(Ob(n));return b.useMemo(()=>Db(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function LL(e,t){return vR(e,t)}function vR(e,t,n,r,a){Ht(Nc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=b.useContext(Ur),{matches:c}=b.useContext(Ca),u=c[c.length-1],f=u?u.params:{},p=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let A=g&&g.path||"";bR(p,!g||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let v=da(),N;if(t){let A=typeof t=="string"?Ql(t):t;Ht(m==="/"||A.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=v;let j=N.pathname||"/",_=j;if(m!=="/"){let A=m.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(A.length).join("/")}let E=lR(e,{pathname:_});Lr(g||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Lr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=BL(E&&E.map(A=>Object.assign({},A,{params:Object.assign({},f,A.params),pathname:zi([m,l.encodeLocation?l.encodeLocation(A.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?m:zi([m,l.encodeLocation?l.encodeLocation(A.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:A.pathnameBase])})),c,n,r,a);return t&&C?b.createElement(Ed.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},C):C}function zL(){let e=KL(),t=_L(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:l},"ErrorBoundary")," or"," ",b.createElement("code",{style:l},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:a},n):null,c)}var UL=b.createElement(zL,null),yR=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=IL(e.digest);n&&(e=n)}let t=e!==void 0?b.createElement(Ca.Provider,{value:this.props.routeContext},b.createElement(Lb.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement($L,{error:e},t):t}};yR.contextType=AL;var vx=new WeakMap;function $L({children:e,error:t}){let{basename:n}=b.useContext(Ur);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let r=PL(t.digest);if(r){let a=vx.get(t);if(a)throw a;let l=dR(r.location,n);if(uR&&!vx.get(t))if(l.isExternal||r.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:r.replace}));throw vx.set(t,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function GL({routeContext:e,match:t,children:n}){let r=b.useContext(wc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Ca.Provider,{value:e},n)}function BL(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,c=n?.errors;if(c!=null){let m=l.findIndex(g=>g.route.id&&c?.[g.route.id]!==void 0);Ht(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,m+1))}let u=!1,f=-1;if(n)for(let m=0;m<l.length;m++){let g=l[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=m),g.route.id){let{loaderData:v,errors:N}=n,j=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!N||N[g.route.id]===void 0);if(g.route.lazy||j){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=n&&r?(m,g)=>{r(m,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:EL(n.matches),errorInfo:g})}:void 0;return l.reduceRight((m,g,v)=>{let N,j=!1,_=null,E=null;n&&(N=c&&g.route.id?c[g.route.id]:void 0,_=g.route.errorElement||UL,u&&(f<0&&v===0?(bR("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,E=null):f===v&&(j=!0,E=g.route.hydrateFallbackElement||null)));let C=t.concat(l.slice(0,v+1)),A=()=>{let R;return N?R=_:j?R=E:g.route.Component?R=b.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=m,b.createElement(GL,{match:g,routeContext:{outlet:m,matches:C,isDataRoute:n!=null},children:R})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?b.createElement(yR,{location:n.location,revalidation:n.revalidation,component:_,error:N,children:A(),routeContext:{outlet:null,matches:C,isDataRoute:!0},onError:p}):A()},null)}function zb(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FL(e){let t=b.useContext(wc);return Ht(t,zb(e)),t}function qL(e){let t=b.useContext(nh);return Ht(t,zb(e)),t}function HL(e){let t=b.useContext(Ca);return Ht(t,zb(e)),t}function Ub(e){let t=HL(e),n=t.matches[t.matches.length-1];return Ht(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function VL(){return Ub("useRouteId")}function KL(){let e=b.useContext(Lb),t=qL("useRouteError"),n=Ub("useRouteError");return e!==void 0?e:t.errors?.[n]}function YL(){let{router:e}=FL("useNavigate"),t=Ub("useNavigate"),n=b.useRef(!1);return gR(()=>{n.current=!0}),b.useCallback(async(a,l={})=>{Lr(n.current,hR),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var eE={};function bR(e,t,n){!t&&!eE[e]&&(eE[e]=!0,Lr(!1,n))}b.memo(JL);function JL({routes:e,future:t,state:n,onError:r}){return vR(e,void 0,n,r,t)}function hn({to:e,replace:t,state:n,relative:r}){Ht(Nc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=b.useContext(Ur);Lr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=b.useContext(Ca),{pathname:c}=da(),u=$r(),f=Db(e,Ob(l),c,r==="path"),p=JSON.stringify(f);return b.useEffect(()=>{u(JSON.parse(p),{replace:t,state:n,relative:r})},[u,p,r,t,n]),null}function Bt(e){Ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function WL({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Ht(!Nc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),f=b.useMemo(()=>({basename:u,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[u,a,l,c]);typeof n=="string"&&(n=Ql(n));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:N="default"}=n,j=b.useMemo(()=>{let _=Fi(p,u);return _==null?null:{location:{pathname:_,search:m,hash:g,state:v,key:N},navigationType:r}},[u,p,m,g,v,N,r]);return Lr(j!=null,`<Router basename="${u}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:b.createElement(Ur.Provider,{value:f},b.createElement(Ed.Provider,{children:t,value:j}))}function XL({children:e,location:t}){return LL(ly(e),t)}function ly(e,t=[]){let n=[];return b.Children.forEach(e,(r,a)=>{if(!b.isValidElement(r))return;let l=[...t,a];if(r.type===b.Fragment){n.push.apply(n,ly(r.props.children,l));return}Ht(r.type===Bt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ly(r.props.children,l)),n.push(c)}),n}var Lp="get",zp="application/x-www-form-urlencoded";function rh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function ZL(e){return rh(e)&&e.tagName.toLowerCase()==="button"}function QL(e){return rh(e)&&e.tagName.toLowerCase()==="form"}function ez(e){return rh(e)&&e.tagName.toLowerCase()==="input"}function tz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function nz(e,t){return e.button===0&&(!t||t==="_self")&&!tz(e)}function oy(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(a=>[n,a]):[[n,r]])},[]))}function rz(e,t){let n=oy(e);return t&&t.forEach((r,a)=>{n.has(a)||t.getAll(a).forEach(l=>{n.append(a,l)})}),n}var mp=null;function az(){if(mp===null)try{new FormData(document.createElement("form"),0),mp=!1}catch{mp=!0}return mp}var iz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yx(e){return e!=null&&!iz.has(e)?(Lr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${zp}"`),null):e}function sz(e,t){let n,r,a,l,c;if(QL(e)){let u=e.getAttribute("action");r=u?Fi(u,t):null,n=e.getAttribute("method")||Lp,a=yx(e.getAttribute("enctype"))||zp,l=new FormData(e)}else if(ZL(e)||ez(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||u.getAttribute("action");if(r=f?Fi(f,t):null,n=e.getAttribute("formmethod")||u.getAttribute("method")||Lp,a=yx(e.getAttribute("formenctype"))||yx(u.getAttribute("enctype"))||zp,l=new FormData(u,e),!az()){let{name:p,type:m,value:g}=e;if(m==="image"){let v=p?`${p}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else p&&l.append(p,g)}}else{if(rh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Lp,r=null,a=zp,c=e}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function $b(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lz(e,t,n,r){let a=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${r}`:a.pathname=`${a.pathname}.${r}`:a.pathname==="/"?a.pathname=`_root.${r}`:t&&Fi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${r}`,a}async function oz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function uz(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let c=await oz(l,n);return c.links?c.links():[]}return[]}));return mz(r.flat(1).filter(cz).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function tE(e,t,n,r,a,l){let c=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,u=(f,p)=>n[p].pathname!==f.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,p)=>c(f,p)||u(f,p)):l==="data"?t.filter((f,p)=>{let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,p)||u(f,p))return!0;if(f.route.shouldRevalidate){let g=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function dz(e,t,{includeHydrateFallback:n}={}){return fz(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function fz(e){return[...new Set(e)]}function pz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function mz(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(pz(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function wR(){let e=b.useContext(wc);return $b(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function hz(){let e=b.useContext(nh);return $b(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gb=b.createContext(void 0);Gb.displayName="FrameworkContext";function NR(){let e=b.useContext(Gb);return $b(e,"You must render this element inside a <HydratedRouter> element"),e}function gz(e,t){let n=b.useContext(Gb),[r,a]=b.useState(!1),[l,c]=b.useState(!1),{onFocus:u,onBlur:f,onMouseEnter:p,onMouseLeave:m,onTouchStart:g}=t,v=b.useRef(null);b.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let _=C=>{C.forEach(A=>{c(A.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return v.current&&E.observe(v.current),()=>{E.disconnect()}}},[e]),b.useEffect(()=>{if(r){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[r]);let N=()=>{a(!0)},j=()=>{a(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:Mu(u,N),onBlur:Mu(f,j),onMouseEnter:Mu(p,N),onMouseLeave:Mu(m,j),onTouchStart:Mu(g,N)}]:[!1,v,{}]}function Mu(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function xz({page:e,...t}){let{router:n}=wR(),r=b.useMemo(()=>lR(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?b.createElement(yz,{page:e,matches:r,...t}):null}function vz(e){let{manifest:t,routeModules:n}=NR(),[r,a]=b.useState([]);return b.useEffect(()=>{let l=!1;return uz(e,t,n).then(c=>{l||a(c)}),()=>{l=!0}},[e,t,n]),r}function yz({page:e,matches:t,...n}){let r=da(),{future:a,manifest:l,routeModules:c}=NR(),{basename:u}=wR(),{loaderData:f,matches:p}=hz(),m=b.useMemo(()=>tE(e,t,p,l,r,"data"),[e,t,p,l,r]),g=b.useMemo(()=>tE(e,t,p,l,r,"assets"),[e,t,p,l,r]),v=b.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let _=new Set,E=!1;if(t.forEach(A=>{let R=l.routes[A.route.id];!R||!R.hasLoader||(!m.some(M=>M.route.id===A.route.id)&&A.route.id in f&&c[A.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:_.add(A.route.id))}),_.size===0)return[];let C=lz(e,u,a.unstable_trailingSlashAwareDataRequests,"data");return E&&_.size>0&&C.searchParams.set("_routes",t.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[C.pathname+C.search]},[u,a.unstable_trailingSlashAwareDataRequests,f,r,l,m,t,e,c]),N=b.useMemo(()=>dz(g,l),[g,l]),j=vz(g);return b.createElement(b.Fragment,null,v.map(_=>b.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),N.map(_=>b.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),j.map(({key:_,link:E})=>b.createElement("link",{key:_,nonce:n.nonce,...E,crossOrigin:E.crossOrigin??n.crossOrigin})))}function bz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var wz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{wz&&(window.__reactRouterVersion="7.13.0")}catch{}function Nz({basename:e,children:t,unstable_useTransitions:n,window:r}){let a=b.useRef();a.current==null&&(a.current=tL({window:r,v5Compat:!0}));let l=a.current,[c,u]=b.useState({action:l.action,location:l.location}),f=b.useCallback(p=>{n===!1?u(p):b.startTransition(()=>u(p))},[n]);return b.useLayoutEffect(()=>l.listen(f),[l,f]),b.createElement(WL,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var SR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$t=b.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:u,target:f,to:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...N},j){let{basename:_,unstable_useTransitions:E}=b.useContext(Ur),C=typeof p=="string"&&SR.test(p),A=dR(p,_);p=A.to;let R=OL(p,{relative:a}),[M,I,P]=gz(r,N),k=Ez(p,{replace:c,state:u,target:f,preventScrollReset:m,relative:a,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:E});function L(q){t&&t(q),q.defaultPrevented||k(q)}let z=b.createElement("a",{...N,...P,href:A.absoluteURL||R,onClick:A.isExternal||l?t:L,ref:bz(j,I),target:f,"data-discover":!C&&n==="render"?"true":void 0});return M&&!C?b.createElement(b.Fragment,null,z,b.createElement(xz,{page:R})):z});$t.displayName="Link";var Sz=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:u,children:f,...p},m){let g=Cd(c,{relative:p.relative}),v=da(),N=b.useContext(nh),{navigator:j,basename:_}=b.useContext(Ur),E=N!=null&&Mz(g)&&u===!0,C=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,A=v.pathname,R=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(A=A.toLowerCase(),R=R?R.toLowerCase():null,C=C.toLowerCase()),R&&_&&(R=Fi(R,_)||R);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let I=A===C||!a&&A.startsWith(C)&&A.charAt(M)==="/",P=R!=null&&(R===C||!a&&R.startsWith(C)&&R.charAt(C.length)==="/"),k={isActive:I,isPending:P,isTransitioning:E},L=I?t:void 0,z;typeof r=="function"?z=r(k):z=[r,I?"active":null,P?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let q=typeof l=="function"?l(k):l;return b.createElement($t,{...p,"aria-current":L,className:z,ref:m,style:q,to:c,viewTransition:u},typeof f=="function"?f(k):f)});Sz.displayName="NavLink";var jz=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:c=Lp,action:u,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v,...N},j)=>{let{unstable_useTransitions:_}=b.useContext(Ur),E=Tz(),C=kz(u,{relative:p}),A=c.toLowerCase()==="get"?"get":"post",R=typeof u=="string"&&SR.test(u),M=I=>{if(f&&f(I),I.defaultPrevented)return;I.preventDefault();let P=I.nativeEvent.submitter,k=P?.getAttribute("formmethod")||c,L=()=>E(P||I.currentTarget,{fetcherKey:t,method:k,navigate:n,replace:a,state:l,relative:p,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v});_&&n!==!1?b.startTransition(()=>L()):L()};return b.createElement("form",{ref:j,method:A,action:C,onSubmit:r?f:M,...N,"data-discover":!R&&e==="render"?"true":void 0})});jz.displayName="Form";function _z(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jR(e){let t=b.useContext(wc);return Ht(t,_z(e)),t}function Ez(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u,unstable_useTransitions:f}={}){let p=$r(),m=da(),g=Cd(e,{relative:l});return b.useCallback(v=>{if(nz(v,t)){v.preventDefault();let N=n!==void 0?n:Zu(m)===Zu(g),j=()=>p(e,{replace:N,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:u});f?b.startTransition(()=>j()):j()}},[m,p,g,n,r,t,e,a,l,c,u,f])}function Ad(e){Lr(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(oy(e)),n=b.useRef(!1),r=da(),a=b.useMemo(()=>rz(r.search,n.current?null:t.current),[r.search]),l=$r(),c=b.useCallback((u,f)=>{const p=oy(typeof u=="function"?u(new URLSearchParams(a)):u);n.current=!0,l("?"+p,f)},[l,a]);return[a,c]}var Cz=0,Az=()=>`__${String(++Cz)}__`;function Tz(){let{router:e}=jR("useSubmit"),{basename:t}=b.useContext(Ur),n=VL(),r=e.fetch,a=e.navigate;return b.useCallback(async(l,c={})=>{let{action:u,method:f,encType:p,formData:m,body:g}=sz(l,t);if(c.navigate===!1){let v=c.fetcherKey||Az();await r(v,n,c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||u,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:m,body:g,formMethod:c.method||f,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,t,n])}function kz(e,{relative:t}={}){let{basename:n}=b.useContext(Ur),r=b.useContext(Ca);Ht(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Cd(e||".",{relative:t})},c=da();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),f=u.getAll("index");if(f.some(m=>m==="")){u.delete("index"),f.filter(g=>g).forEach(g=>u.append("index",g));let m=u.toString();l.search=m?`?${m}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zi([n,l.pathname])),Zu(l)}function Mz(e,{relative:t}={}){let n=b.useContext(pR);Ht(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=jR("useViewTransitionState"),a=Cd(e,{relative:t});if(!n.isTransitioning)return!1;let l=Fi(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Fi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jp(a.pathname,c)!=null||Jp(a.pathname,l)!=null}var Bb=iR();const _R=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();const Rz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Pz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase());const nE=e=>{const t=Pz(e);return t.charAt(0).toUpperCase()+t.slice(1)};var Iz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Oz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};const Dz=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...u},f)=>b.createElement("svg",{ref:f,...Iz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:_R("lucide",a),...!l&&!Oz(u)&&{"aria-hidden":"true"},...u},[...c.map(([p,m])=>b.createElement(p,m)),...Array.isArray(l)?l:[l]]));const Se=(e,t)=>{const n=b.forwardRef(({className:r,...a},l)=>b.createElement(Dz,{ref:l,iconNode:t,className:_R(`lucide-${Rz(nE(e))}`,`lucide-${e}`,r),...a}));return n.displayName=nE(e),n};const Lz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Fu=Se("activity",Lz);const zz=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ga=Se("archive",zz);const Uz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$z=Se("arrow-left",Uz);const Gz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Fb=Se("arrow-right",Gz);const Bz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],$l=Se("award",Bz);const Fz=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Fa=Se("ban",Fz);const qz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Td=Se("bell",qz);const Hz=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Qu=Se("book-open",Hz);const Vz=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],cy=Se("book",Vz);const Kz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cn=Se("calendar",Kz);const Yz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ER=Se("chart-column",Yz);const Jz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zs=Se("check",Jz);const Wz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mi=Se("chevron-down",Wz);const Xz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wp=Se("chevron-left",Xz);const Zz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gl=Se("chevron-right",Zz);const Qz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ed=Se("circle-alert",Qz);const eU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Va=Se("circle-check-big",eU);const tU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ac=Se("circle-check",tU);const nU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],rU=Se("circle-question-mark",nU);const aU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],iU=Se("circle-user",aU);const sU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qs=Se("circle-x",sU);const lU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kt=Se("clock",lU);const oU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],cU=Se("copy",oU);const uU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],dU=Se("database",uU);const fU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],pU=Se("download",fU);const mU=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],hU=Se("ellipsis",mU);const gU=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],rE=Se("eraser",gU);const xU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],td=Se("eye",xU);const vU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],uy=Se("file-text",vU);const yU=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]],bx=Se("file",yU);const bU=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],wU=Se("flame",bU);const NU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qb=Se("funnel",NU);const SU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],jU=Se("house",SU);const _U=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hb=Se("info",_U);const EU=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],CR=Se("key",EU);const CU=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AU=Se("layout-dashboard",CU);const TU=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ke=Se("loader-circle",TU);const kU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],nd=Se("lock-open",kU);const MU=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ui=Se("lock",MU);const RU=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vb=Se("log-out",RU);const PU=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ys=Se("mail",PU);const IU=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],jr=Se("map-pin",IU);const OU=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],AR=Se("menu",OU);const DU=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Bl=Se("message-square",DU);const LU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],zU=Se("mic-off",LU);const UU=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],TR=Se("mic",UU);const $U=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Kb=Se("moon",$U);const GU=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],BU=Se("paperclip",GU);const FU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pc=Se("pen",FU);const qU=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],HU=Se("pencil",qU);const VU=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],KU=Se("percent",VU);const YU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xp=Se("plus",YU);const JU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ja=Se("refresh-cw",JU);const WU=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],ic=Se("repeat",WU);const XU=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],aE=Se("save",XU);const ZU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ya=Se("search",ZU);const QU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dy=Se("send",QU);const e$=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],t$=Se("settings",e$);const n$=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],wx=Se("share-2",n$);const r$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],a$=Se("shield-check",r$);const i$=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],An=Se("shield",i$);const s$=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],rd=Se("sparkles",s$);const l$=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],aa=Se("star",l$);const o$=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kR=Se("sun",o$);const c$=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qi=Se("trash-2",c$);const u$=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],d$=Se("trending-down",u$);const f$=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ad=Se("trending-up",f$);const p$=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],on=Se("triangle-alert",p$);const m$=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fy=Se("trophy",m$);const h$=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],$i=Se("user-check",h$);const g$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],x$=Se("user-minus",g$);const v$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],sc=Se("user-plus",v$);const y$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Yb=Se("user-x",y$);const b$=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ah=Se("user",b$);const w$=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pt=Se("users",w$);const N$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],MR=Se("volume-2",N$);const S$=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],j$=Se("volume-x",S$);const _$=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],et=Se("x",_$);var Ge=(e=>(e.OPEN="open",e.CLOSED="closed",e.ARCHIVED="archived",e))(Ge||{}),iE;(function(e){e.STRING="string",e.NUMBER="number",e.INTEGER="integer",e.BOOLEAN="boolean",e.ARRAY="array",e.OBJECT="object"})(iE||(iE={}));var sE;(function(e){e.LANGUAGE_UNSPECIFIED="language_unspecified",e.PYTHON="python"})(sE||(sE={}));var lE;(function(e){e.OUTCOME_UNSPECIFIED="outcome_unspecified",e.OUTCOME_OK="outcome_ok",e.OUTCOME_FAILED="outcome_failed",e.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(lE||(lE={}));const oE=["user","model","function","system"];var cE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(cE||(cE={}));var uE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(uE||(uE={}));var dE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(dE||(dE={}));var fE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER"})(fE||(fE={}));var Ju;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.OTHER="OTHER"})(Ju||(Ju={}));var pE;(function(e){e.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",e.RETRIEVAL_QUERY="RETRIEVAL_QUERY",e.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",e.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",e.CLASSIFICATION="CLASSIFICATION",e.CLUSTERING="CLUSTERING"})(pE||(pE={}));var mE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"})(mE||(mE={}));var hE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(hE||(hE={}));class Xn extends Error{constructor(t){super(`[GoogleGenerativeAI Error]: ${t}`)}}class qo extends Xn{constructor(t,n){super(t),this.response=n}}class RR extends Xn{constructor(t,n,r,a){super(t),this.status=n,this.statusText=r,this.errorDetails=a}}class Hs extends Xn{}class PR extends Xn{}const E$="https://generativelanguage.googleapis.com",C$="v1beta",A$="0.24.1",T$="genai-js";var Fl;(function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Fl||(Fl={}));class k${constructor(t,n,r,a,l){this.model=t,this.task=n,this.apiKey=r,this.stream=a,this.requestOptions=l}toString(){var t,n;const r=((t=this.requestOptions)===null||t===void 0?void 0:t.apiVersion)||C$;let l=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||E$}/${r}/${this.model}:${this.task}`;return this.stream&&(l+="?alt=sse"),l}}function M$(e){const t=[];return e?.apiClient&&t.push(e.apiClient),t.push(`${T$}/${A$}`),t.join(" ")}async function R$(e){var t;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",M$(e.requestOptions)),n.append("x-goog-api-key",e.apiKey);let r=(t=e.requestOptions)===null||t===void 0?void 0:t.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(a){throw new Hs(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${a.message}`)}for(const[a,l]of r.entries()){if(a==="x-goog-api-key")throw new Hs(`Cannot set reserved header name ${a}`);if(a==="x-goog-api-client")throw new Hs(`Header name ${a} can only be set using the apiClient field`);n.append(a,l)}}return n}async function P$(e,t,n,r,a,l){const c=new k$(e,t,n,r,l);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},L$(l)),{method:"POST",headers:await R$(c),body:a})}}async function kd(e,t,n,r,a,l={},c=fetch){const{url:u,fetchOptions:f}=await P$(e,t,n,r,a,l);return I$(u,f,c)}async function I$(e,t,n=fetch){let r;try{r=await n(e,t)}catch(a){O$(a,e)}return r.ok||await D$(r,e),r}function O$(e,t){let n=e;throw n.name==="AbortError"?(n=new PR(`Request aborted when fetching ${t.toString()}: ${e.message}`),n.stack=e.stack):e instanceof RR||e instanceof Hs||(n=new Xn(`Error fetching from ${t.toString()}: ${e.message}`),n.stack=e.stack),n}async function D$(e,t){let n="",r;try{const a=await e.json();n=a.error.message,a.error.details&&(n+=` ${JSON.stringify(a.error.details)}`,r=a.error.details)}catch{}throw new RR(`Error fetching from ${t.toString()}: [${e.status} ${e.statusText}] ${n}`,e.status,e.statusText,r)}function L$(e){const t={};if(e?.signal!==void 0||e?.timeout>=0){const n=new AbortController;e?.timeout>=0&&setTimeout(()=>n.abort(),e.timeout),e?.signal&&e.signal.addEventListener("abort",()=>{n.abort()}),t.signal=n.signal}return t}function Jb(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Up(e.candidates[0]))throw new qo(`${Os(e)}`,e);return z$(e)}else if(e.promptFeedback)throw new qo(`Text not available. ${Os(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Up(e.candidates[0]))throw new qo(`${Os(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),gE(e)[0]}else if(e.promptFeedback)throw new qo(`Function call not available. ${Os(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Up(e.candidates[0]))throw new qo(`${Os(e)}`,e);return gE(e)}else if(e.promptFeedback)throw new qo(`Function call not available. ${Os(e)}`,e)},e}function z$(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.text&&l.push(c.text),c.executableCode&&l.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&l.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return l.length>0?l.join(""):""}function gE(e){var t,n,r,a;const l=[];if(!((n=(t=e.candidates)===null||t===void 0?void 0:t[0].content)===null||n===void 0)&&n.parts)for(const c of(a=(r=e.candidates)===null||r===void 0?void 0:r[0].content)===null||a===void 0?void 0:a.parts)c.functionCall&&l.push(c.functionCall);if(l.length>0)return l}const U$=[Ju.RECITATION,Ju.SAFETY,Ju.LANGUAGE];function Up(e){return!!e.finishReason&&U$.includes(e.finishReason)}function Os(e){var t,n,r;let a="";if((!e.candidates||e.candidates.length===0)&&e.promptFeedback)a+="Response was blocked",!((t=e.promptFeedback)===null||t===void 0)&&t.blockReason&&(a+=` due to ${e.promptFeedback.blockReason}`),!((n=e.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(a+=`: ${e.promptFeedback.blockReasonMessage}`);else if(!((r=e.candidates)===null||r===void 0)&&r[0]){const l=e.candidates[0];Up(l)&&(a+=`Candidate was blocked due to ${l.finishReason}`,l.finishMessage&&(a+=`: ${l.finishMessage}`))}return a}function id(e){return this instanceof id?(this.v=e,this):new id(e)}function $$(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a={},c("next"),c("throw"),c("return"),a[Symbol.asyncIterator]=function(){return this},a;function c(v){r[v]&&(a[v]=function(N){return new Promise(function(j,_){l.push([v,N,j,_])>1||u(v,N)})})}function u(v,N){try{f(r[v](N))}catch(j){g(l[0][3],j)}}function f(v){v.value instanceof id?Promise.resolve(v.value.v).then(p,m):g(l[0][2],v)}function p(v){u("next",v)}function m(v){u("throw",v)}function g(v,N){v(N),l.shift(),l.length&&u(l[0][0],l[0][1])}}const xE=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function G$(e){const t=e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=q$(t),[r,a]=n.tee();return{stream:F$(r),response:B$(a)}}async function B$(e){const t=[],n=e.getReader();for(;;){const{done:r,value:a}=await n.read();if(r)return Jb(H$(t));t.push(a)}}function F$(e){return $$(this,arguments,function*(){const n=e.getReader();for(;;){const{value:r,done:a}=yield id(n.read());if(a)break;yield yield id(Jb(r))}})}function q$(e){const t=e.getReader();return new ReadableStream({start(r){let a="";return l();function l(){return t.read().then(({value:c,done:u})=>{if(u){if(a.trim()){r.error(new Xn("Failed to parse stream"));return}r.close();return}a+=c;let f=a.match(xE),p;for(;f;){try{p=JSON.parse(f[1])}catch{r.error(new Xn(`Error parsing JSON response: "${f[1]}"`));return}r.enqueue(p),a=a.substring(f[0].length),f=a.match(xE)}return l()}).catch(c=>{let u=c;throw u.stack=c.stack,u.name==="AbortError"?u=new PR("Request aborted when reading from the stream"):u=new Xn("Error reading from the stream"),u})}}})}function H$(e){const t=e[e.length-1],n={promptFeedback:t?.promptFeedback};for(const r of e){if(r.candidates){let a=0;for(const l of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[a]||(n.candidates[a]={index:a}),n.candidates[a].citationMetadata=l.citationMetadata,n.candidates[a].groundingMetadata=l.groundingMetadata,n.candidates[a].finishReason=l.finishReason,n.candidates[a].finishMessage=l.finishMessage,n.candidates[a].safetyRatings=l.safetyRatings,l.content&&l.content.parts){n.candidates[a].content||(n.candidates[a].content={role:l.content.role||"user",parts:[]});const c={};for(const u of l.content.parts)u.text&&(c.text=u.text),u.functionCall&&(c.functionCall=u.functionCall),u.executableCode&&(c.executableCode=u.executableCode),u.codeExecutionResult&&(c.codeExecutionResult=u.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[a].content.parts.push(c)}a++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}async function IR(e,t,n,r){const a=await kd(t,Fl.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(n),r);return G$(a)}async function OR(e,t,n,r){const l=await(await kd(t,Fl.GENERATE_CONTENT,e,!1,JSON.stringify(n),r)).json();return{response:Jb(l)}}function DR(e){if(e!=null){if(typeof e=="string")return{role:"system",parts:[{text:e}]};if(e.text)return{role:"system",parts:[e]};if(e.parts)return e.role?e:{role:"system",parts:e.parts}}}function sd(e){let t=[];if(typeof e=="string")t=[{text:e}];else for(const n of e)typeof n=="string"?t.push({text:n}):t.push(n);return V$(t)}function V$(e){const t={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,a=!1;for(const l of e)"functionResponse"in l?(n.parts.push(l),a=!0):(t.parts.push(l),r=!0);if(r&&a)throw new Xn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!a)throw new Xn("No content is provided for sending chat message.");return r?t:n}function K$(e,t){var n;let r={model:t?.model,generationConfig:t?.generationConfig,safetySettings:t?.safetySettings,tools:t?.tools,toolConfig:t?.toolConfig,systemInstruction:t?.systemInstruction,cachedContent:(n=t?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const a=e.generateContentRequest!=null;if(e.contents){if(a)throw new Hs("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=e.contents}else if(a)r=Object.assign(Object.assign({},r),e.generateContentRequest);else{const l=sd(e);r.contents=[l]}return{generateContentRequest:r}}function vE(e){let t;return e.contents?t=e:t={contents:[sd(e)]},e.systemInstruction&&(t.systemInstruction=DR(e.systemInstruction)),t}function Y$(e){return typeof e=="string"||Array.isArray(e)?{content:sd(e)}:e}const yE=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],J$={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function W$(e){let t=!1;for(const n of e){const{role:r,parts:a}=n;if(!t&&r!=="user")throw new Xn(`First content should be with role 'user', got ${r}`);if(!oE.includes(r))throw new Xn(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(oE)}`);if(!Array.isArray(a))throw new Xn("Content should have 'parts' property with an array of Parts");if(a.length===0)throw new Xn("Each Content should have at least one part");const l={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const u of a)for(const f of yE)f in u&&(l[f]+=1);const c=J$[r];for(const u of yE)if(!c.includes(u)&&l[u]>0)throw new Xn(`Content with role '${r}' can't contain '${u}' part`);t=!0}}function bE(e){var t;if(e.candidates===void 0||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}const wE="SILENT_ERROR";class X${constructor(t,n,r,a={}){this.model=n,this.params=r,this._requestOptions=a,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=t,r?.history&&(W$(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(t,n={}){var r,a,l,c,u,f;await this._sendPromise;const p=sd(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},g=Object.assign(Object.assign({},this._requestOptions),n);let v;return this._sendPromise=this._sendPromise.then(()=>OR(this._apiKey,this.model,m,g)).then(N=>{var j;if(bE(N.response)){this._history.push(p);const _=Object.assign({parts:[],role:"model"},(j=N.response.candidates)===null||j===void 0?void 0:j[0].content);this._history.push(_)}else{const _=Os(N.response);_&&console.warn(`sendMessage() was unsuccessful. ${_}. Inspect response object for details.`)}v=N}).catch(N=>{throw this._sendPromise=Promise.resolve(),N}),await this._sendPromise,v}async sendMessageStream(t,n={}){var r,a,l,c,u,f;await this._sendPromise;const p=sd(t),m={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(a=this.params)===null||a===void 0?void 0:a.generationConfig,tools:(l=this.params)===null||l===void 0?void 0:l.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(u=this.params)===null||u===void 0?void 0:u.systemInstruction,cachedContent:(f=this.params)===null||f===void 0?void 0:f.cachedContent,contents:[...this._history,p]},g=Object.assign(Object.assign({},this._requestOptions),n),v=IR(this._apiKey,this.model,m,g);return this._sendPromise=this._sendPromise.then(()=>v).catch(N=>{throw new Error(wE)}).then(N=>N.response).then(N=>{if(bE(N)){this._history.push(p);const j=Object.assign({},N.candidates[0].content);j.role||(j.role="model"),this._history.push(j)}else{const j=Os(N);j&&console.warn(`sendMessageStream() was unsuccessful. ${j}. Inspect response object for details.`)}}).catch(N=>{N.message!==wE&&console.error(N)}),v}}async function Z$(e,t,n,r){return(await kd(t,Fl.COUNT_TOKENS,e,!1,JSON.stringify(n),r)).json()}async function Q$(e,t,n,r){return(await kd(t,Fl.EMBED_CONTENT,e,!1,JSON.stringify(n),r)).json()}async function e8(e,t,n,r){const a=n.requests.map(c=>Object.assign(Object.assign({},c),{model:t}));return(await kd(t,Fl.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:a}),r)).json()}class NE{constructor(t,n,r={}){this.apiKey=t,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=DR(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(t,n={}){var r;const a=vE(t),l=Object.assign(Object.assign({},this._requestOptions),n);return OR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}async generateContentStream(t,n={}){var r;const a=vE(t),l=Object.assign(Object.assign({},this._requestOptions),n);return IR(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},a),l)}startChat(t){var n;return new X$(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},t),this._requestOptions)}async countTokens(t,n={}){const r=K$(t,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),a=Object.assign(Object.assign({},this._requestOptions),n);return Z$(this.apiKey,this.model,r,a)}async embedContent(t,n={}){const r=Y$(t),a=Object.assign(Object.assign({},this._requestOptions),n);return Q$(this.apiKey,this.model,r,a)}async batchEmbedContents(t,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return e8(this.apiKey,this.model,t,r)}}class t8{constructor(t){this.apiKey=t}getGenerativeModel(t,n){if(!t.model)throw new Xn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NE(this.apiKey,t,n)}getGenerativeModelFromCachedContent(t,n,r){if(!t.name)throw new Hs("Cached content must contain a `name` field.");if(!t.model)throw new Hs("Cached content must contain a `model` field.");const a=["model","systemInstruction"];for(const c of a)if(n?.[c]&&t[c]&&n?.[c]!==t[c]){if(c==="model"){const u=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,f=t.model.startsWith("models/")?t.model.replace("models/",""):t.model;if(u===f)continue}throw new Hs(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${t[c]})`)}const l=Object.assign(Object.assign({},n),{model:t.model,tools:t.tools,toolConfig:t.toolConfig,systemInstruction:t.systemInstruction,cachedContent:t});return new NE(this.apiKey,l,r)}}const LR="AIzaSyCv6hJAymDO5LHhkOgcKSYBH2Wc9RUiOsE";console.log("[Gemini] API Key:","SET");const n8=new t8(LR),Nx=n8.getGenerativeModel({model:"gemini-2.5-flash-lite"}),py={async generateGroupDescription(e,t){try{return(await Nx.generateContent(`Create a single, concise study group description (2-3 sentences max) for a group focused on "${e}".
        Primary goal: "${t}".

        Requirements:
        - Write in plain text without special formatting, markdown, or asterisks
        - Keep it welcoming and professional for university students
        - Focus on what members will do and achieve together
        - Do NOT include multiple options or variations
        - Maximum 150 words`)).response.text()}catch(n){return console.error("Gemini Error:",n),"Unable to generate description. Please try writing one manually."}},async summarizeChat(e){try{if(console.log("[Gemini] Summarizing",e.length,"messages"),e.length===0)return"No messages to summarize.";const t=`Analyze these study group chat messages and create a brief summary.

Messages:
${e.join(`
`)}

Format your response EXACTLY as follows (use plain text, no markdown, no asterisks):

Key Takeaways:
- [Point 1]
- [Point 2]
- [Point 3]

Action Items:
- [Action 1 with any relevant details like date/time/location]
- [Action 2 with any relevant details like date/time/location]

Keep it concise and clear. Maximum 5 bullet points total.`;console.log("[Gemini] Sending prompt to API...");const r=(await Nx.generateContent(t)).response.text();return console.log("[Gemini] Summary generated successfully"),r}catch(t){return console.error("[Gemini] Summarization Error:",t),console.error("[Gemini] Error details:",t.message||t),t.message?.includes("API key")?"API key error. Please check your Gemini API configuration.":t.message?.includes("quota")?"API quota exceeded. Please try again later.":t.message?.includes("blocked")?"Content was blocked by safety filters.":`Summary unavailable: ${t.message||"Unknown error"}`}},async suggestStudyPlan(e){try{return(await Nx.generateContent(`Create a clear, organized 4-week study plan for "${e}".

Format requirements:
- Use plain text with simple headings (Week 1:, Week 2:, etc.)
- Use bullet points (-) for topics and tasks
- No markdown formatting, bold, italics, or asterisks
- Keep each week's plan to 4-5 bullet points maximum
- Be specific about topics to cover and activities to complete
- Total length: maximum 300 words

Example format:
Week 1: [Theme]
- Topic or activity
- Topic or activity

Week 2: [Theme]
- Topic or activity
- Topic or activity`)).response.text()}catch{return"Study plan generation failed."}}},Zp={BASE_URL:window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"http://127.0.0.1:8000/api":"https://api.your-campus-hub.com/api",TIMEOUT:1e4},Ve=Zp.BASE_URL,Xe=()=>{let e="";const t=localStorage.getItem("auth_user")||localStorage.getItem("admin_auth");if(t)try{e=JSON.parse(t).token||""}catch(n){console.error("Auth token parse error",n)}return{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${e}`}},Ke=async e=>{if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.message||`API Error: ${e.status}`)}return e.json()},Ce={async login(e){const t=await fetch(`${Ve}/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});return Ke(t)},async register(e){const t=await fetch(`${Ve}/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)});return Ke(t)},async resendVerification(){const e=await fetch(`${Ve}/email/resend`,{method:"POST",headers:Xe()});return Ke(e)},async checkVerificationStatus(){const e=await fetch(`${Ve}/email/verification-status`,{headers:Xe()});return Ke(e)},async getGroups(){const e=await fetch(`${Ve}/groups`,{headers:Xe()});return Ke(e)},async createGroup(e){const t=await fetch(`${Ve}/groups`,{method:"POST",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async updateGroup(e,t){const n=await fetch(`${Ve}/groups/${e}`,{method:"PUT",headers:Xe(),body:JSON.stringify(t)});return Ke(n)},async deleteGroup(e){const t=await fetch(`${Ve}/groups/${e}`,{method:"DELETE",headers:Xe()});await Ke(t)},async joinGroup(e){const t=await fetch(`${Ve}/groups/${e}/join`,{method:"POST",headers:Xe()});await Ke(t)},async leaveGroup(e){const t=await fetch(`${Ve}/groups/${e}/leave`,{method:"POST",headers:Xe()});await Ke(t)},async getGroupMembers(e){const t=await fetch(`${Ve}/groups/${e}/members`,{headers:Xe()});return Ke(t)},async getPendingRequests(e){const t=await fetch(`${Ve}/groups/${e}/pending-requests`,{headers:Xe()});return Ke(t)},async approveJoinRequest(e,t){const n=await fetch(`${Ve}/groups/${e}/approve/${t}`,{method:"POST",headers:Xe()});await Ke(n)},async rejectJoinRequest(e,t,n){const r=await fetch(`${Ve}/groups/${e}/reject/${t}`,{method:"POST",headers:Xe(),body:JSON.stringify({reason:n||null})});await Ke(r)},async kickMember(e,t){const n=await fetch(`${Ve}/groups/${e}/kick/${t}`,{method:"POST",headers:Xe()});await Ke(n)},async inviteUserToGroup(e,t){const n=await fetch(`${Ve}/groups/${e}/invite`,{method:"POST",headers:Xe(),body:JSON.stringify({user_id:t})});return Ke(n)},async acceptInvitation(e){const t=await fetch(`${Ve}/groups/${e}/invitation/accept`,{method:"POST",headers:Xe()});return Ke(t)},async declineInvitation(e){const t=await fetch(`${Ve}/groups/${e}/invitation/decline`,{method:"POST",headers:Xe()});return Ke(t)},async getPendingInvitations(e){const t=await fetch(`${Ve}/groups/${e}/invitations`,{headers:Xe()});return Ke(t)},async submitRating(e,t){const n=await fetch(`${Ve}/groups/${e}/rate`,{method:"POST",headers:Xe(),body:JSON.stringify(t)});return Ke(n)},async getMyRating(e){const t=await fetch(`${Ve}/groups/${e}/my-rating`,{headers:Xe()});return(await Ke(t)).rating},async deleteRating(e){const t=await fetch(`${Ve}/groups/${e}/rate`,{method:"DELETE",headers:Xe()});return Ke(t)},async getMessages(e){const t=await fetch(`${Ve}/groups/${e}/messages`,{headers:Xe()});return Ke(t)},async sendMessage(e,t,n){const r=new FormData;t&&r.append("content",t),n&&r.append("file",n);const a=localStorage.getItem("auth_user")||localStorage.getItem("admin_auth");let l="";if(a)try{l=JSON.parse(a).token||""}catch(u){console.error("Auth token parse error",u)}const c=await fetch(`${Ve}/groups/${e}/messages`,{method:"POST",headers:{Accept:"application/json",Authorization:`Bearer ${l}`},body:r});return Ke(c)},async getTrendingGroups(){const e=await fetch(`${Ve}/discover/trending`,{headers:Xe()});return Ke(e)},async getSubjects(){const e=await fetch(`${Ve}/discover/subjects`,{headers:Xe()});return Ke(e)},async getLeaders(){const e=await fetch(`${Ve}/discover/leaders`,{headers:Xe()});return Ke(e)},async searchUsers(e){const t=await fetch(`${Ve}/discover/users/search?q=${encodeURIComponent(e)}`,{headers:Xe()});return Ke(t)},async getFeedback(){const e=await fetch(`${Ve}/feedback`,{headers:Xe()});return Ke(e)},async submitFeedback(e){const t=await fetch(`${Ve}/feedback`,{method:"POST",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async submitReport(e){const t=await fetch(`${Ve}/reports`,{method:"POST",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async getMyReports(){const e=await fetch(`${Ve}/reports/my-reports`,{headers:Xe()});return Ke(e)},async getEvents(){const e=await fetch(`${Ve}/calendar/events`,{headers:Xe()});return Ke(e)},async createEvent(e){const t=await fetch(`${Ve}/calendar/events`,{method:"POST",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async deleteEvent(e,t){const n=await fetch(`${Ve}/calendar/events/${e}`,{method:"DELETE",headers:Xe(),body:JSON.stringify({reason:t||null})});await Ke(n)},async getProfile(){const e=await fetch(`${Ve}/profile`,{headers:Xe()});return Ke(e)},async getUserById(e){const t=await fetch(`${Ve}/users/${e}`,{headers:Xe()});return Ke(t)},async getUserStats(e){const t=await fetch(`${Ve}/users/${e}/stats`,{headers:Xe()});return Ke(t)},async getProfileStats(){const e=await fetch(`${Ve}/profile/stats`,{headers:Xe()});return Ke(e)},async updateProfile(e){const t=await fetch(`${Ve}/profile`,{method:"PUT",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async changePassword(e){const t=await fetch(`${Ve}/profile/change-password`,{method:"POST",headers:Xe(),body:JSON.stringify(e)});return Ke(t)},async getNotifications(){const e=await fetch(`${Ve}/notifications`,{headers:Xe()});return Ke(e)},async getUnreadCount(){const e=await fetch(`${Ve}/notifications/unread-count`,{headers:Xe()});return Ke(e)},async markNotificationsAsRead(){const e=await fetch(`${Ve}/notifications/mark-read`,{method:"POST",headers:Xe()});await Ke(e)}},Zo=({value:e=0,onChange:t,readonly:n=!1,size:r="md"})=>{const l={sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-6 h-6"}[r],c=!n&&t,u=f=>{c&&t&&t(f)};return i.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(f=>{const p=f<=Math.round(e);return i.jsx("button",{type:"button",onClick:()=>u(f),disabled:!c,className:`${c?"cursor-pointer hover:scale-110 transition-transform":"cursor-default"} focus:outline-none`,"aria-label":`${f} star${f>1?"s":""}`,children:i.jsx(aa,{className:`${l} ${p?"fill-orange-500 text-orange-500":"text-slate-300"} ${c&&"hover:fill-orange-400 hover:text-orange-400"}`})},f)})})},r8=({group:e,currentUser:t,onClose:n,onJoin:r,onLeave:a,onDelete:l,onRefresh:c})=>{const u=$r(),[f,p]=b.useState([]),[m,g]=b.useState(!0),[v,N]=b.useState(!1),[j,_]=b.useState(null),[E,C]=b.useState(0),[A,R]=b.useState(0),[M,I]=b.useState(!1),[P,k]=b.useState(""),L=e.creator_id===t?.id,z=e.is_member,q=e.has_pending_request,J=e.members_count>=e.max_members,U=e.status===Ge.ARCHIVED;b.useEffect(()=>{Y(),z&&te()},[e.id,z]);const Y=async()=>{g(!0);try{const O=await Ce.getGroupMembers(e.id);p(O)}catch(O){console.error("Failed to load members:",O)}finally{g(!1)}},te=async()=>{if(!(!z||!t))try{const O=await Ce.getMyRating(e.id);_(O),O&&(C(O.group_rating),R(O.leader_rating))}catch(O){console.error("Failed to load rating:",O)}},he=async()=>{if(E<1||E>5||A<1||A>5){k("Please select ratings between 1 and 5 stars"),setTimeout(()=>k(""),3e3);return}I(!0),k("");try{const O=await Ce.submitRating(e.id,{group_rating:E,leader_rating:A});_(O.rating),k(O.message||"Rating submitted successfully!"),setTimeout(()=>k(""),3e3),c()}catch(O){k(O.message||"Failed to submit rating"),setTimeout(()=>k(""),3e3)}finally{I(!1)}},F=async()=>{if(confirm("Are you sure you want to delete your rating?")){I(!0),k("");try{await Ce.deleteRating(e.id),_(null),C(0),R(0),k("Rating deleted successfully"),setTimeout(()=>k(""),3e3),c()}catch(O){k(O.message||"Failed to delete rating"),setTimeout(()=>k(""),3e3)}finally{I(!1)}}},G=async()=>{N(!0);try{await r(e.id),c(),n()}catch(O){alert(O.message||"Failed to join group")}finally{N(!1)}},X=async()=>{if(confirm("Are you sure you want to leave this group?")){N(!0);try{await a(e.id),c(),n()}catch(O){alert(O.message||"Failed to leave group")}finally{N(!1)}}},oe=async()=>{if(confirm("Are you sure you want to delete this group? This action cannot be undone.")){N(!0);try{await l(e.id),c(),n()}catch(O){alert(O.message||"Failed to delete group")}finally{N(!1)}}},ve=O=>{switch(O){case Ge.OPEN:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-lg",children:[i.jsx(nd,{size:10})," Open"]});case Ge.CLOSED:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-amber-500 uppercase tracking-widest bg-amber-50 px-2 py-1 rounded-lg",children:[i.jsx(Ui,{size:10})," Closed"]});case Ge.ARCHIVED:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-2 py-1 rounded-lg",children:[i.jsx(Ga,{size:10})," Archived"]});default:return null}};return i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden animate-in zoom-in-95 duration-200 flex flex-col",children:[i.jsxs("div",{className:"bg-orange-500 p-8 flex justify-between items-start text-white",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-3xl font-black tracking-tight",children:e.name}),ve(e.status)]}),i.jsxs("p",{className:"text-orange-100 text-sm font-bold",children:[e.subject,"  ",e.faculty]}),i.jsxs("p",{className:"text-orange-100/80 text-xs mt-1",children:["Created by ",e.creator_name]})]}),i.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-8 space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"About This Group"}),i.jsx("p",{className:"text-slate-600 leading-relaxed",children:e.description})]}),z&&i.jsxs("div",{className:"border-t border-slate-200 pt-6",children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-4 flex items-center gap-2",children:[i.jsx(aa,{size:14,className:"text-orange-500"}),"Rate This Group"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Group Quality"}),i.jsx(Zo,{value:E,onChange:C,size:"md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-bold text-slate-700 mb-2 block",children:"Leader Effectiveness"}),i.jsx(Zo,{value:A,onChange:R,size:"md"})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("button",{onClick:he,disabled:M||j&&j.update_count>=3||E===0||A===0,className:"flex items-center gap-2 px-6 py-3 bg-orange-500 text-white rounded-xl font-bold text-sm hover:bg-orange-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-orange-100",children:M?i.jsx(ke,{size:16,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(aa,{size:16}),j?"Update Rating":"Submit Rating"]})}),j&&i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-xs text-slate-500 font-semibold",children:[3-j.update_count," edit",3-j.update_count!==1?"s":""," remaining"]}),i.jsx("button",{onClick:F,disabled:M,className:"px-4 py-3 bg-red-50 border border-red-200 text-red-600 rounded-xl font-bold text-sm hover:bg-red-100 transition-all disabled:opacity-50",children:"Delete Rating"})]}),P&&i.jsx("p",{className:`text-sm font-semibold ${P.includes("success")?"text-emerald-600":"text-red-600"}`,children:P})]})]})]}),!z&&!L&&i.jsx("div",{className:"border-t border-slate-200 pt-6",children:i.jsx("p",{className:"text-sm text-slate-400 italic",children:"Join this group to leave a rating"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 p-6 bg-slate-50 rounded-2xl",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(pt,{size:12})," Members"]}),i.jsxs("p",{className:`text-lg font-bold ${J?"text-amber-600":"text-slate-900"}`,children:[e.members_count," / ",e.max_members]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(jr,{size:12})," Location"]}),i.jsx("p",{className:"text-sm font-bold text-slate-900 truncate",children:e.location})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1",children:[i.jsx(Cn,{size:12})," Created"]}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(e.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-3",children:["Group Members (",f.length,")"]}),m?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(ke,{size:24,className:"animate-spin text-orange-500"})}):f.length===0?i.jsx("div",{className:"text-center py-8 text-slate-400 text-sm",children:"No members yet"}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:f.map(O=>i.jsxs($t,{to:`/profile/${O.id}`,onClick:n,className:"flex items-center gap-3 p-3 bg-white border border-slate-200 rounded-xl hover:shadow-md hover:border-orange-200 transition-all group",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-lg flex items-center justify-center font-bold text-sm border border-orange-200 group-hover:scale-105 transition-transform",children:O.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("p",{className:"font-bold text-slate-900 text-sm truncate group-hover:text-orange-500 transition-colors",children:[O.name,String(O.id)===String(e.creator_id)&&i.jsx("span",{className:"ml-1.5 text-[8px] font-black text-orange-500 uppercase bg-orange-50 px-1.5 py-0.5 rounded",children:"Leader"})]}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:O.major||"Student"})]})]},O.id))})]})]}),i.jsx("div",{className:"p-6 border-t border-slate-200 bg-slate-50/50",children:i.jsxs("div",{className:"flex gap-3",children:[!z&&!L&&i.jsx("button",{onClick:G,disabled:v||q||J||U,className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-2xl font-black text-xs uppercase tracking-widest transition-all ${q?"bg-amber-50 border-2 border-amber-200 text-amber-600 cursor-default":U||J?"bg-slate-100 text-slate-400 cursor-not-allowed":"bg-orange-500 text-white hover:bg-orange-600 shadow-lg shadow-orange-100"}`,children:v?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(sc,{size:18}),q?"Request Pending...":U?"Archived":J?"Group Full":"Join Group"]})}),z&&i.jsxs("button",{onClick:()=>{n(),u(`/groups?group=${e.id}`)},className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-lg shadow-orange-100 transition-all",children:[i.jsx(Bl,{size:18}),"Open Chat"]}),z&&!L&&i.jsx("button",{onClick:X,disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-red-100 text-red-500 rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-50 transition-all",children:v?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(x$,{size:18}),"Leave Group"]})}),L&&i.jsx("button",{onClick:oe,disabled:v,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-red-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-red-600 shadow-lg shadow-red-100 transition-all",children:v?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(qi,{size:18}),"Delete Group"]})})]})})]})})},a8=["fuck","shit","ass","bitch","bastard","damn","crap","piss","cock","dick","pussy","cunt","whore","slut","nigger","nigga","faggot","fag","retard","idiot","moron","arse","bollocks","wank","wanker","twat","prick","shag","bloody","bugger","asshole","arsehole","motherfucker","fucker","bullshit","jackass","dumbass","dipshit","horseshit","shithead","fuckhead","douchebag","douche","jerkoff","jerk","asshat","screw","screwup"];function ld(e){return e.toLowerCase().replace(/[^a-z0-9\s]/g,"").split(/\s+/).some(r=>a8.includes(r))}const i8=()=>{const[e,t]=b.useState([]),[n,r]=b.useState([]),[a,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(null),[m,g]=b.useState(!1),[v,N]=b.useState(!1),[j,_]=b.useState(!1),[E,C]=b.useState(""),[A,R]=b.useState(""),[M,I]=b.useState(""),[P,k]=b.useState(""),[L,z]=b.useState("all"),[q,J]=b.useState(""),[U,Y]=b.useState(""),[te,he]=b.useState(""),[F,G]=Ad(),X=F.get("q")||"",oe=F.get("searchMode")==="full",[ve]=b.useState(()=>{const $=localStorage.getItem("auth_user");return $?JSON.parse($):null}),[O,K]=b.useState({subject:"",goal:"",description:"",max_members:5,location:"",faculty:""}),[ce,xe]=b.useState(null),[Z,ue]=b.useState({name:"",subject:"",description:"",max_members:5,location:"",faculty:""}),[ye,Ne]=b.useState(!1),[ne,je]=b.useState(null),Oe=b.useRef(null),ge=b.useRef(null);b.useEffect(()=>{st()},[]),b.useEffect(()=>{(async()=>{if(X&&X.length>=2)try{const Ie=await Ce.searchUsers(X);l(Array.isArray(Ie)?Ie:[])}catch(Ie){console.error("Failed to search users:",Ie?.message||Ie),l([])}else l([])})()},[X]);const st=async()=>{u(!0),p(null);try{const[$,Ie]=await Promise.all([Ce.getGroups(),Ce.getTrendingGroups()]);t($),r(Ie)}catch($){console.error("Failed to load data:",$),p("Could not connect to the campus server. Make sure your backend is running.")}finally{u(!1)}},Fe=b.useMemo(()=>Array.from(new Set(e.map($=>$.faculty))).sort(),[e]),vt=b.useMemo(()=>Array.from(new Set(e.map($=>$.subject))).sort(),[e]),yt=b.useMemo(()=>Array.from(new Set(e.map($=>$.location))).sort(),[e]),St=b.useMemo(()=>Array.from(new Set(e.map($=>$.creator_name))).sort(),[e]),In=b.useMemo(()=>e.filter($=>$.is_member&&$.creator_id!==ve?.id&&$.status!==Ge.ARCHIVED),[e,ve]),pr=b.useMemo(()=>e.filter($=>$.creator_id===ve?.id&&$.status!==Ge.ARCHIVED),[e,ve]),Fn=b.useMemo(()=>e.filter($=>$.status!==Ge.ARCHIVED).sort(($,Ie)=>new Date(Ie.created_at).getTime()-new Date($.created_at).getTime()).slice(0,5),[e]),On=b.useMemo(()=>{const $=e.filter(Ue=>{if(Ue.status===Ge.ARCHIVED)return!1;const ut=X.toLowerCase(),Dn=!ut||Ue.name.toLowerCase().includes(ut)||Ue.subject.toLowerCase().includes(ut)||Ue.faculty.toLowerCase().includes(ut)||Ue.description.toLowerCase().includes(ut)||Ue.creator_name.toLowerCase().includes(ut)||Ue.location.toLowerCase().includes(ut),Gr=!E||Ue.faculty===E,Br=!A||Ue.subject===A,Fr=!M||Ue.location===M,qr=!P||Ue.status===P;let rr=!0;if(U){const ri=new Date,Ra=new Date(Ue.created_at),Hr=Math.floor((ri.getTime()-Ra.getTime())/(1e3*60*60*24));U==="7days"?rr=Hr<=7:U==="30days"?rr=Hr<=30:U==="90days"&&(rr=Hr<=90)}const Ma=!te||Ue.creator_name===te;return Dn&&Gr&&Br&&Fr&&qr&&rr&&Ma});if(q==="most_rated")return $.sort((Ue,ut)=>(ut.total_ratings||0)-(Ue.total_ratings||0));if(q==="most_popular")return $.sort((Ue,ut)=>(ut.members_count||0)-(Ue.members_count||0));const Ie=X||E||A||M||P||U||te;return $.sort((Ue,ut)=>Ie&&ut.members_count!==Ue.members_count?ut.members_count-Ue.members_count:new Date(ut.created_at).getTime()-new Date(Ue.created_at).getTime())},[e,X,E,A,M,P,q,U,te]),tr=async($,Ie,Ue,ut)=>{try{if(Ie)await Ce.leaveGroup($),alert("You have left the group.");else if(Ue){alert("Your join request is pending. The leader will review it soon!");return}else{const Dn=await Ce.joinGroup($);ut===Ge.OPEN?alert("Successfully joined the group!"):alert("Join request sent! You will be notified when the leader reviews your request.")}await st()}catch(Dn){alert(Dn.message||"Action failed.")}},fe=async $=>{const Ie=e.find(Ue=>Ue.id===$);if(!Ie)throw new Error("Group not found");await Ce.joinGroup($),Ie.status===Ge.OPEN?alert("Successfully joined the group!"):alert("Join request sent! You will be notified when the leader reviews your request.")},ze=async $=>{await Ce.leaveGroup($),alert("You have left the group.")},Mt=async $=>{await Ce.deleteGroup($),alert("Group deleted successfully.")},ae=$=>{switch($){case Ge.OPEN:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-emerald-500 uppercase tracking-widest bg-emerald-50 px-2 py-1 rounded-lg",children:[i.jsx(nd,{size:10})," Open"]});case Ge.CLOSED:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-amber-500 uppercase tracking-widest bg-amber-50 px-2 py-1 rounded-lg",children:[i.jsx(Ui,{size:10})," Closed"]});case Ge.ARCHIVED:return i.jsxs("span",{className:"flex items-center gap-1 text-[9px] font-black text-slate-400 uppercase tracking-widest bg-slate-100 px-2 py-1 rounded-lg",children:[i.jsx(Ga,{size:10})," Archived"]});default:return null}},Re=async()=>{if(!O.subject||!O.goal){alert("Please fill in the Subject and Goal first!");return}N(!0);const $=await py.generateGroupDescription(O.subject,O.goal);K(Ie=>({...Ie,description:$||""})),N(!1)},Ye=async $=>{if($.preventDefault(),[O.subject,O.faculty,O.goal,O.description,O.location].some(Ue=>ld(Ue))){alert("Your group content contains inappropriate language. Please revise and try again.");return}try{await Ce.createGroup({name:O.subject,...O}),g(!1),st(),K({subject:"",goal:"",description:"",max_members:5,location:"",faculty:""})}catch(Ue){alert("Failed to create group: "+Ue.message)}},un=()=>{G({}),C(""),R(""),I(""),k(""),z("all"),J(""),Y(""),he("")},nr=$=>{xe($),ue({name:$.name,subject:$.subject,description:$.description,max_members:$.max_members,location:$.location,faculty:$.faculty})},se=async $=>{if($.preventDefault(),!!ce){Ne(!0);try{await Ce.updateGroup(ce.id,Z),xe(null),st()}catch(Ie){alert("Failed to update group: "+Ie.message)}finally{Ne(!1)}}},De=($,Ie)=>{$.current&&$.current.scrollBy({left:Ie==="left"?-400:400,behavior:"smooth"})},rt=[E,A,M,P,X,L!=="all"?"content":"",q,U,te].filter(Boolean).length,Ze=$=>{const Ie=$.creator_id===ve?.id;return i.jsxs("div",{className:"flex-shrink-0 w-96 bg-white border border-slate-200 rounded-2xl p-6 hover:shadow-lg hover:border-orange-200 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx($t,{to:`/profile/${$.creator_id}`,className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm border border-orange-200 cursor-pointer hover:scale-105 transition-transform",children:$.creator_name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("button",{onClick:()=>je($),className:"block group/title text-left w-full",children:i.jsx("h3",{className:"font-bold text-slate-900 line-clamp-2 group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),i.jsx("p",{className:"text-xs font-semibold text-slate-400",children:$.subject}),i.jsxs("p",{className:"text-[10px] font-semibold text-slate-500",children:["Led by ",$.creator_name]}),($.total_ratings??0)>0&&i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Zo,{value:$.avg_group_rating!==void 0&&$.avg_leader_rating!==void 0?($.avg_group_rating+$.avg_leader_rating)/2:$.avg_group_rating||0,readonly:!0,size:"sm"}),i.jsx("span",{className:"text-[10px] text-slate-400 font-bold",children:$.avg_group_rating!==void 0&&$.avg_leader_rating!==void 0?`(${(($.avg_group_rating+$.avg_leader_rating)/2).toFixed(1)}  ${$.total_ratings})`:`(${$.total_ratings})`})]})]}),ae($.status)]}),i.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-4",children:$.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs mb-4",children:[i.jsxs("span",{className:"flex items-center gap-1 text-slate-400 font-semibold",children:[i.jsx(pt,{size:14}),$.members_count,"/",$.max_members]}),i.jsxs("span",{className:"flex items-center gap-1 text-slate-400 font-semibold",children:[i.jsx(jr,{size:14}),$.location]})]}),Ie&&i.jsxs("button",{onClick:()=>nr($),className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all bg-orange-50 border-2 border-orange-200 text-orange-600 hover:bg-orange-100",children:[i.jsx(HU,{size:14}),"Edit Group"]}),!Ie&&i.jsx("button",{onClick:()=>tr($.id,!0,!1,$.status),className:"w-full px-4 py-2.5 rounded-xl text-xs font-black uppercase tracking-widest transition-all bg-white border-2 border-red-100 text-red-500 hover:bg-red-50",children:"Leave Group"})]},$.id)};return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-12 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:oe?"Search Results":"StudyHub"}),i.jsx("p",{className:"text-slate-500 font-medium",children:X?`Showing results for "${X}"`:"Your complete study companion"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[oe&&i.jsxs("button",{onClick:()=>{const{searchMode:$,...Ie}=Object.fromEntries(F.entries());G(Ie)},className:"flex items-center gap-2 px-5 py-3 rounded-2xl font-bold transition-all bg-slate-100 text-slate-600 hover:bg-slate-200",children:[i.jsx(et,{size:18}),i.jsx("span",{children:"Exit Search"})]}),i.jsxs("button",{onClick:()=>_(!j),className:`flex items-center gap-2 px-5 py-3 rounded-2xl font-bold transition-all border ${rt>0||j?"bg-orange-50 border-orange-200 text-orange-600 shadow-sm":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:[i.jsx(qb,{size:18}),i.jsx("span",{children:"Filters"}),rt>0&&i.jsx("span",{className:"ml-1 w-5 h-5 bg-orange-500 text-white rounded-full flex items-center justify-center text-[10px] font-black",children:rt})]}),i.jsxs("button",{onClick:()=>g(!0),className:"flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-2xl font-bold shadow-lg shadow-orange-200 transition-all hover:-translate-y-0.5",children:[i.jsx(Xp,{size:20}),i.jsx("span",{children:"Create Group"})]})]})]}),j&&i.jsxs("div",{className:"bg-white border border-slate-200 rounded-[2rem] p-6 shadow-xl shadow-slate-200/50 space-y-6 animate-in slide-in-from-top-4 duration-300",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Content Type"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:L,onChange:$=>z($.target.value),children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"groups",children:"Groups Only"}),i.jsx("option",{value:"users",children:"Users Only"})]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:E,onChange:$=>C($.target.value),children:[i.jsx("option",{value:"",children:"All Faculties"}),Fe.map($=>i.jsx("option",{value:$,children:$},$))]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:A,onChange:$=>R($.target.value),children:[i.jsx("option",{value:"",children:"All Subjects"}),vt.map($=>i.jsx("option",{value:$,children:$},$))]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:M,onChange:$=>I($.target.value),children:[i.jsx("option",{value:"",children:"Any Location"}),yt.map($=>i.jsx("option",{value:$,children:$},$))]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Status"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:P,onChange:$=>k($.target.value),children:[i.jsx("option",{value:"",children:"All Statuses"}),i.jsx("option",{value:Ge.OPEN,children:"Open"}),i.jsx("option",{value:Ge.CLOSED,children:"Closed"}),i.jsx("option",{value:Ge.ARCHIVED,children:"Archived"})]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Sort By"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:q,onChange:$=>J($.target.value),children:[i.jsx("option",{value:"",children:"Default"}),i.jsx("option",{value:"most_rated",children:"Most Rated"}),i.jsx("option",{value:"most_popular",children:"Most Popular"})]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Created"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:U,onChange:$=>Y($.target.value),children:[i.jsx("option",{value:"",children:"All Time"}),i.jsx("option",{value:"7days",children:"Last 7 Days"}),i.jsx("option",{value:"30days",children:"Last 30 Days"}),i.jsx("option",{value:"90days",children:"Last 90 Days"})]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Leader"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{className:"w-full appearance-none px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-orange-500 transition-all cursor-pointer pr-10",value:te,onChange:$=>he($.target.value),children:[i.jsx("option",{value:"",children:"All Leaders"}),St.map($=>i.jsx("option",{value:$,children:$},$))]}),i.jsx(Mi,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2",children:[i.jsxs("button",{onClick:un,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-orange-500 transition-colors flex items-center gap-1.5",children:[i.jsx(rE,{size:14}),"Reset All Filters"]}),i.jsxs("button",{onClick:()=>{const $=Object.fromEntries(F.entries());G({...$,searchMode:"full"}),_(!1)},className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-xl font-bold text-xs uppercase tracking-widest shadow-lg shadow-orange-200 transition-all flex items-center gap-2",children:[i.jsx(Ya,{size:14}),"Search"]})]})]}),f&&i.jsxs("div",{className:"bg-amber-50 border border-amber-200 p-6 rounded-[2rem] flex items-start gap-4 text-amber-800",children:[i.jsx(ed,{className:"shrink-0 mt-1",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold",children:"Connection Issue"}),i.jsx("p",{className:"text-sm opacity-80",children:f}),i.jsx("button",{onClick:st,className:"mt-3 text-xs font-black uppercase tracking-widest underline decoration-2 underline-offset-4",children:"Retry Connection"})]})]}),c?i.jsxs("div",{className:"flex flex-col items-center justify-center py-24 space-y-4",children:[i.jsx(ke,{size:48,className:"animate-spin text-orange-500"}),i.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Syncing with AU Servers..."})]}):i.jsxs(i.Fragment,{children:[!oe&&i.jsxs(i.Fragment,{children:[In.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pt,{className:"text-orange-500",size:24}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Joined Groups"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Groups you're participating in"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>De(Oe,"left"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:i.jsx(Wp,{size:20,className:"text-slate-600"})}),i.jsx("button",{onClick:()=>De(Oe,"right"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:i.jsx(Gl,{size:20,className:"text-slate-600"})})]})]}),i.jsx("div",{ref:Oe,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:In.map(Ze)})]}),pr.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(rd,{className:"text-orange-500",size:24}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"My Created Groups"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Groups you've organized"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>De(ge,"left"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:i.jsx(Wp,{size:20,className:"text-slate-600"})}),i.jsx("button",{onClick:()=>De(ge,"right"),className:"p-2 bg-white border border-slate-200 rounded-xl hover:bg-slate-50 transition-all",children:i.jsx(Gl,{size:20,className:"text-slate-600"})})]})]}),i.jsx("div",{ref:ge,className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide scroll-smooth",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:pr.map(Ze)})]}),n.length>0&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(wU,{className:"text-orange-500",size:24}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-slate-900",children:"Trending Groups"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Most popular study groups right now"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map(($,Ie)=>{const Ue=$.members_count>=$.max_members,ut=$.status===Ge.CLOSED,Dn=$.status===Ge.ARCHIVED,Gr=!$.is_member&&!$.has_pending_request&&!Ue&&!Dn;return i.jsxs("div",{className:"bg-white p-6 rounded-2xl border border-slate-200 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/5 rounded-full -mr-12 -mt-12 transition-all group-hover:bg-orange-500/10"}),i.jsxs("div",{className:"flex justify-between items-start mb-4 relative",children:[i.jsxs("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-bold",children:["#",Ie+1]}),ae($.status)]}),i.jsx("button",{onClick:()=>je($),className:"block group/title text-left w-full",children:i.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-1 group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-2",children:$.subject}),i.jsxs("p",{className:"text-xs font-semibold text-slate-500 mb-3",children:["Led by ",$.creator_name]}),($.total_ratings??0)>0&&i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Zo,{value:$.avg_group_rating||0,readonly:!0,size:"sm"}),i.jsxs("span",{className:"text-[10px] text-slate-400 font-bold",children:["(",$.total_ratings,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[i.jsx(pt,{size:14,className:"text-slate-300"}),i.jsxs("span",{className:"text-xs font-bold text-slate-500",children:[$.members_count," students enrolled"]})]}),i.jsx("button",{onClick:()=>tr($.id,!!$.is_member,!!$.has_pending_request,$.status),disabled:!Gr&&!$.is_member&&!$.has_pending_request,className:`w-full px-4 py-3 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${$.is_member?"bg-white border-2 border-red-100 text-red-500 hover:bg-red-50":$.has_pending_request?"bg-amber-50 border-2 border-amber-200 text-amber-600 cursor-default":Dn?"bg-slate-200 text-slate-400 cursor-not-allowed":ut?"bg-amber-500 text-white hover:bg-amber-600":"bg-orange-500 text-white hover:bg-orange-600"} disabled:opacity-80`,children:$.is_member?"Leave Group":$.has_pending_request?"Request Pending...":Dn?"Hub Archived":ut?"Request to Join":Ue?"Hub Full":"Join Group"})]},$.id)})})]})]}),i.jsxs("div",{className:"space-y-4","data-section":"all-groups",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ad,{className:"text-orange-500",size:24}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-bold text-slate-900",children:[oe?`Search Results (${On.length})`:"Recent Groups",A&&!oe&&i.jsxs("span",{className:"ml-2 text-sm font-normal text-orange-500",children:["(Filtered by: ",A,")"]})]}),i.jsx("p",{className:"text-sm text-slate-500",children:oe?`Groups and users matching "${X}"`:"Recently created study groups"})]})]}),X&&a.length>0&&(L==="all"||L==="users")&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pt,{className:"text-orange-500",size:24}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-slate-900",children:["Users (",a.length,")"]}),i.jsxs("p",{className:"text-sm text-slate-500",children:['Found users matching "',X,'"']})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map($=>i.jsxs($t,{to:`/profile/${$.id}`,className:"bg-white border border-slate-200 rounded-2xl p-6 hover:shadow-lg hover:border-orange-200 transition-all cursor-pointer group",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-black text-xl border border-orange-200/50 group-hover:scale-105 transition-transform",children:$.avatar||$.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-slate-900 truncate group-hover:text-orange-500 transition-colors",children:$.name}),i.jsx("p",{className:"text-xs font-semibold text-slate-400",children:$.major||"Student"})]})]}),$.bio&&i.jsx("p",{className:"text-sm text-slate-500 line-clamp-2 mb-3",children:$.bio}),i.jsx("div",{className:"flex items-center gap-4 text-xs text-slate-400 font-semibold",children:i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(jr,{size:12}),$.location||"Location not set"]})})]},$.id))})]}),(L==="all"||L==="groups")&&i.jsxs("div",{className:"grid gap-6",children:[(oe?On.length===0:Fn.length===0)&&!f&&i.jsx("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-[2.5rem] p-16 text-center",children:oe?i.jsxs(i.Fragment,{children:[i.jsx(Ya,{size:48,className:"mx-auto mb-4 text-slate-200"}),i.jsx("p",{className:"font-bold text-slate-400 mb-4",children:"No groups match your current criteria."}),i.jsxs("button",{onClick:un,className:"flex items-center gap-2 mx-auto bg-slate-100 hover:bg-slate-200 text-slate-600 px-6 py-3 rounded-xl font-bold transition-all",children:[i.jsx(rE,{size:18}),"Reset Search & Filters"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(pt,{size:48,className:"mx-auto mb-4 text-slate-200"}),i.jsx("p",{className:"font-bold text-slate-400",children:"No active groups right now."}),i.jsx("button",{onClick:()=>g(!0),className:"mt-4 text-orange-500 font-black text-xs uppercase tracking-widest",children:"Start the first one"})]})}),(oe?On:Fn).map($=>{const Ie=$.members_count>=$.max_members,Ue=$.status===Ge.CLOSED,ut=$.status===Ge.ARCHIVED,Dn=!$.is_member&&!$.has_pending_request&&!Ie&&!ut;return i.jsxs("div",{className:`bg-white border border-slate-200 rounded-[2.5rem] p-8 shadow-sm hover:shadow-xl hover:shadow-slate-100 transition-all group relative overflow-hidden ${ut?"opacity-75 grayscale-[0.5]":""}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx($t,{to:`/profile/${$.creator_id}`,className:"w-14 h-14 bg-orange-100 text-orange-600 rounded-2xl flex items-center justify-center font-black text-xl border border-orange-200/50 cursor-pointer hover:scale-105 transition-transform",children:$.creator_name?$.creator_name[0]:"U"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($t,{to:`/profile/${$.creator_id}`,className:"font-bold text-slate-900 text-lg leading-tight hover:text-orange-500 transition-colors cursor-pointer",children:$.creator_name}),ae($.status)]}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.15em]",children:new Date($.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]}),i.jsx("div",{className:"px-4 py-1.5 bg-slate-50 border border-slate-100 rounded-xl text-[10px] font-black text-slate-500 uppercase tracking-widest",children:$.subject})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("button",{onClick:()=>je($),className:"block group/title inline-block text-left",children:i.jsx("h2",{className:"text-2xl font-black text-slate-900 mb-3 tracking-tight group-hover/title:text-orange-500 transition-colors cursor-pointer",children:$.name})}),i.jsx("p",{className:"text-slate-500 leading-relaxed font-medium line-clamp-2",children:$.description})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 p-6 bg-slate-50/50 rounded-3xl border border-slate-100/50 mb-8",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[i.jsx(pt,{size:12})," Capacity"]}),i.jsxs("p",{className:`text-sm font-bold ${Ie?"text-amber-600":"text-slate-700"}`,children:[$.members_count," / ",$.max_members]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:[i.jsx(jr,{size:12})," Location"]}),i.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:$.location})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest flex items-center gap-1.5",children:"Faculty"}),i.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:$.faculty})]}),($.total_ratings??0)>0&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Group Rating"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zo,{value:$.avg_group_rating||0,readonly:!0,size:"sm"}),i.jsxs("span",{className:"text-xs font-bold text-slate-500",children:["(",$.avg_group_rating?.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Leader Rating"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Zo,{value:$.avg_leader_rating||0,readonly:!0,size:"sm"}),i.jsxs("span",{className:"text-xs font-bold text-slate-500",children:["(",$.avg_leader_rating?.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Total Ratings"}),i.jsxs("p",{className:"text-sm font-bold text-slate-700",children:[$.total_ratings," rating",$.total_ratings!==1?"s":""]})]})]})]}),i.jsx("button",{onClick:()=>tr($.id,!!$.is_member,!!$.has_pending_request,$.status),disabled:!Dn&&!$.is_member&&!$.has_pending_request,className:`px-10 py-4 rounded-2xl text-xs font-black uppercase tracking-widest transition-all ${$.is_member?"bg-white border-2 border-red-100 text-red-500 hover:bg-red-50":$.has_pending_request?"bg-amber-50 border-2 border-amber-200 text-amber-600":ut?"bg-slate-200 text-slate-400":Ue?"bg-amber-500 text-white hover:bg-amber-600 shadow-xl shadow-amber-100":"bg-orange-500 text-white hover:bg-orange-600 shadow-xl shadow-orange-100"} disabled:opacity-80`,children:$.is_member?"Leave Group":$.has_pending_request?"Request Pending...":ut?"Hub Archived":Ue?"Request to Join":Ie?"Hub Full":"Join Group"})]},$.id)})]})]})]}),m&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"New Hub"}),i.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Setup your persistent study group"})]}),i.jsx("button",{onClick:()=>g(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("form",{onSubmit:Ye,className:"p-10 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Physics",value:O.subject,onChange:$=>K({...O,subject:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Science",value:O.faculty,onChange:$=>K({...O,faculty:$.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Main Goal"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{className:"w-full pl-6 pr-14 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"What are you studying for?",value:O.goal,onChange:$=>K({...O,goal:$.target.value})}),i.jsx("button",{type:"button",onClick:Re,disabled:v,className:"absolute right-3 top-2 w-10 h-10 bg-orange-100 text-orange-600 rounded-xl hover:bg-orange-200 transition-all flex items-center justify-center disabled:opacity-50",children:v?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsx(rd,{size:18})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"About the group"}),i.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",placeholder:"Share details about materials...",value:O.description,onChange:$=>K({...O,description:$.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),i.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:O.max_members,onChange:$=>K({...O,max_members:parseInt($.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Default Meeting Location"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",placeholder:"e.g. Library",value:O.location,onChange:$=>K({...O,location:$.target.value})})]})]}),i.jsxs("div",{className:"pt-4 flex gap-4",children:[i.jsx("button",{type:"button",onClick:()=>g(!1),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95",children:"Create Group"})]})]})]})}),ce&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-slate-800 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Edit Group"}),i.jsx("p",{className:"text-slate-300 text-sm font-bold mt-1",children:"Modify your study group details"})]}),i.jsx("button",{onClick:()=>xe(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("form",{onSubmit:se,className:"p-10 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Group Name"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Z.name,onChange:$=>ue({...Z,name:$.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Z.subject,onChange:$=>ue({...Z,subject:$.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Z.faculty,onChange:$=>ue({...Z,faculty:$.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),i.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",value:Z.description,onChange:$=>ue({...Z,description:$.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),i.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Z.max_members,onChange:$=>ue({...Z,max_members:parseInt($.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:Z.location,onChange:$=>ue({...Z,location:$.target.value})})]})]}),i.jsxs("div",{className:"pt-4 flex gap-4",children:[i.jsx("button",{type:"button",onClick:()=>xe(null),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:ye,className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95 disabled:opacity-50 flex items-center justify-center gap-2",children:ye?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:16,className:"animate-spin"})," Saving..."]}):"Save Changes"})]})]})]})}),ne&&i.jsx(r8,{group:ne,currentUser:ve,onClose:()=>je(null),onJoin:fe,onLeave:ze,onDelete:Mt,onRefresh:st})]})};var s8={};let l8,o8;function c8(){return{geminiUrl:l8,vertexUrl:o8}}function u8(e,t,n,r){var a,l;if(!e?.baseUrl){const c=c8();return t?(a=c.vertexUrl)!==null&&a!==void 0?a:n:(l=c.geminiUrl)!==null&&l!==void 0?l:r}return e.baseUrl}class Qi{}function _e(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(r,a)=>{if(Object.prototype.hasOwnProperty.call(t,a)){const l=t[a];return l!=null?String(l):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function y(e,t,n){for(let l=0;l<t.length-1;l++){const c=t[l];if(c.endsWith("[]")){const u=c.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(e[u])){const f=e[u];if(Array.isArray(n))for(let p=0;p<f.length;p++){const m=f[p];y(m,t.slice(l+1),n[p])}else for(const p of f)y(p,t.slice(l+1),n)}return}else if(c.endsWith("[0]")){const u=c.slice(0,-3);u in e||(e[u]=[{}]);const f=e[u];y(f[0],t.slice(l+1),n);return}(!e[c]||typeof e[c]!="object")&&(e[c]={}),e=e[c]}const r=t[t.length-1],a=e[r];if(a!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===a)return;if(typeof a=="object"&&typeof n=="object"&&a!==null&&n!==null)Object.assign(a,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[r]=n}function x(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let r=0;r<t.length;r++){if(typeof e!="object"||e===null)return n;const a=t[r];if(a.endsWith("[]")){const l=a.slice(0,-2);if(l in e){const c=e[l];return Array.isArray(c)?c.map(u=>x(u,t.slice(r+1),n)):n}else return n}else e=e[a]}return e}catch(r){if(r instanceof TypeError)return n;throw r}}function d8(e,t){for(const[n,r]of Object.entries(t)){const a=n.split("."),l=r.split("."),c=new Set;let u=-1;for(let f=0;f<a.length;f++)if(a[f]==="*"){u=f;break}if(u!==-1&&l.length>u)for(let f=u;f<l.length;f++){const p=l[f];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}my(e,a,l,0,c)}}function my(e,t,n,r,a){if(r>=t.length||typeof e!="object"||e===null)return;const l=t[r];if(l.endsWith("[]")){const c=l.slice(0,-2),u=e;if(c in u&&Array.isArray(u[c]))for(const f of u[c])my(f,t,n,r+1,a)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const c=e,u=Object.keys(c).filter(p=>!p.startsWith("_")&&!a.has(p)),f={};for(const p of u)f[p]=c[p];for(const[p,m]of Object.entries(f)){const g=[];for(const v of n.slice(r))v==="*"?g.push(p):g.push(v);y(c,g,m)}for(const p of u)delete c[p]}}else{const c=e;l in c&&my(c[l],t,n,r+1,a)}}function Wb(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function f8(e){const t={},n=x(e,["operationName"]);n!=null&&y(t,["operationName"],n);const r=x(e,["resourceName"]);return r!=null&&y(t,["_url","resourceName"],r),t}function p8(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response","generateVideoResponse"]);return c!=null&&y(t,["response"],h8(c)),t}function m8(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],g8(c)),t}function h8(e){const t={},n=x(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>x8(c))),y(t,["generatedVideos"],l)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function g8(e){const t={},n=x(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(c=>v8(c))),y(t,["generatedVideos"],l)}const r=x(e,["raiMediaFilteredCount"]);r!=null&&y(t,["raiMediaFilteredCount"],r);const a=x(e,["raiMediaFilteredReasons"]);return a!=null&&y(t,["raiMediaFilteredReasons"],a),t}function x8(e){const t={},n=x(e,["video"]);return n!=null&&y(t,["video"],j8(n)),t}function v8(e){const t={},n=x(e,["_self"]);return n!=null&&y(t,["video"],_8(n)),t}function y8(e){const t={},n=x(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function b8(e){const t={},n=x(e,["operationName"]);return n!=null&&y(t,["_url","operationName"],n),t}function w8(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],N8(c)),t}function N8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function zR(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],S8(c)),t}function S8(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function j8(e){const t={},n=x(e,["uri"]);n!=null&&y(t,["uri"],n);const r=x(e,["encodedVideo"]);r!=null&&y(t,["videoBytes"],Wb(r));const a=x(e,["encoding"]);return a!=null&&y(t,["mimeType"],a),t}function _8(e){const t={},n=x(e,["gcsUri"]);n!=null&&y(t,["uri"],n);const r=x(e,["bytesBase64Encoded"]);r!=null&&y(t,["videoBytes"],Wb(r));const a=x(e,["mimeType"]);return a!=null&&y(t,["mimeType"],a),t}var SE;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(SE||(SE={}));var jE;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(jE||(jE={}));var _E;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(_E||(_E={}));var Bs;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Bs||(Bs={}));var EE;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(EE||(EE={}));var CE;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(CE||(CE={}));var AE;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(AE||(AE={}));var TE;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(TE||(TE={}));var kE;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(kE||(kE={}));var ME;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(ME||(ME={}));var RE;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(RE||(RE={}));var PE;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(PE||(PE={}));var IE;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(IE||(IE={}));var OE;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(OE||(OE={}));var DE;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(DE||(DE={}));var LE;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(LE||(LE={}));var zE;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(zE||(zE={}));var UE;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(UE||(UE={}));var $E;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})($E||($E={}));var GE;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(GE||(GE={}));var BE;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(BE||(BE={}));var od;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(od||(od={}));var FE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(FE||(FE={}));var qE;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(qE||(qE={}));var HE;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(HE||(HE={}));var hy;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hy||(hy={}));var VE;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(VE||(VE={}));var KE;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(KE||(KE={}));var gy;(function(e){e.COLLECTION="COLLECTION"})(gy||(gy={}));var YE;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(YE||(YE={}));var JE;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(JE||(JE={}));var WE;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(WE||(WE={}));var XE;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(XE||(XE={}));var ZE;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ZE||(ZE={}));var QE;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(QE||(QE={}));var e2;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(e2||(e2={}));var t2;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(t2||(t2={}));var n2;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(n2||(n2={}));var r2;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(r2||(r2={}));var a2;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(a2||(a2={}));var i2;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(i2||(i2={}));var s2;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(s2||(s2={}));var l2;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING",e.DISTILLATION="DISTILLATION"})(l2||(l2={}));var o2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(o2||(o2={}));var c2;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(c2||(c2={}));var u2;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(u2||(u2={}));var d2;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(d2||(d2={}));var f2;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(f2||(f2={}));var p2;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(p2||(p2={}));var m2;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.ACTIVITY_START="ACTIVITY_START",e.ACTIVITY_END="ACTIVITY_END"})(m2||(m2={}));var h2;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(h2||(h2={}));var g2;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(g2||(g2={}));var x2;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(x2||(x2={}));var v2;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(v2||(v2={}));var y2;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(y2||(y2={}));var b2;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(b2||(b2={}));var Qo;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Qo||(Qo={}));class xy{constructor(t){const n={};for(const r of t.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ru{get text(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",m=!1;const g=[];for(const v of(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[N,j]of Object.entries(v))N!=="text"&&N!=="thought"&&N!=="thoughtSignature"&&(j!==null||j!==void 0)&&g.push(N);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;m=!0,p+=v.text}}return g.length>0&&console.warn(`there are non-text parts ${g} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),m?p:void 0}get data(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const m=[];for(const g of(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)!==null&&f!==void 0?f:[]){for(const[v,N]of Object.entries(g))v!=="inlineData"&&(N!==null||N!==void 0)&&m.push(v);g.inlineData&&typeof g.inlineData.data=="string"&&(p+=atob(g.inlineData.data))}return m.length>0&&console.warn(`there are non-data parts ${m} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var t,n,r,a,l,c,u,f;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(m=>m.functionCall).map(m=>m.functionCall).filter(m=>m!==void 0);if(p?.length!==0)return p}get executableCode(){var t,n,r,a,l,c,u,f,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const m=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.executableCode).map(g=>g.executableCode).filter(g=>g!==void 0);if(m?.length!==0)return(p=m?.[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var t,n,r,a,l,c,u,f,p;if(((a=(r=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const m=(f=(u=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||u===void 0?void 0:u.parts)===null||f===void 0?void 0:f.filter(g=>g.codeExecutionResult).map(g=>g.codeExecutionResult).filter(g=>g!==void 0);if(m?.length!==0)return(p=m?.[0])===null||p===void 0?void 0:p.output}}class w2{}class N2{}class E8{}class C8{}class A8{}class T8{}class S2{}class j2{}class _2{}class k8{}class Qp{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Qp;let a;const l=t;return n?a=m8(l):a=p8(l),Object.assign(r,a),r}}class E2{}class C2{}class A2{}class T2{}class M8{}class R8{}class P8{}class Xb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Xb,l=w8(t);return Object.assign(r,l),r}}class I8{}class O8{}class D8{}class L8{}class k2{}class z8{get text(){var t,n,r;let a="",l=!1;const c=[];for(const u of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,p]of Object.entries(u))f!=="text"&&f!=="thought"&&p!==null&&c.push(f);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,a+=u.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?a:void 0}get data(){var t,n,r;let a="";const l=[];for(const c of(r=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,f]of Object.entries(c))u!=="inlineData"&&f!==null&&l.push(u);c.inlineData&&typeof c.inlineData.data=="string"&&(a+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class U8{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Zb{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const r=new Zb,l=zR(t);return Object.assign(r,l),r}}function mt(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function UR(e,t){const n=mt(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function $R(e){return Array.isArray(e)?e.map(t=>em(t)):[em(e)]}function em(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function GR(e){const t=em(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function BR(e){const t=em(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function M2(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function FR(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>M2(t)):[M2(e)]}function vy(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function R2(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function P2(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Zn(e){if(e==null)throw new Error("ContentUnion is required");return vy(e)?e:{role:"user",parts:FR(e)}}function Qb(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const r=Zn(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(e.isVertexAI()){const n=Zn(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Zn(n)):[Zn(t)]}function sa(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(R2(e)||P2(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Zn(e)]}const t=[],n=[],r=vy(e[0]);for(const a of e){const l=vy(a);if(l!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(a);else{if(R2(a)||P2(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return r||t.push({role:"user",parts:FR(n)}),t}function $8(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(r=>r!=="null");if(n.length===1)t.type=Object.values(Bs).includes(n[0].toUpperCase())?n[0].toUpperCase():Bs.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of n)t.anyOf.push({type:Object.values(Bs).includes(r.toUpperCase())?r.toUpperCase():Bs.TYPE_UNSPECIFIED})}}function lc(e){const t={},n=["items"],r=["anyOf"],a=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&$8(e.type,t);for(const[c,u]of Object.entries(e))if(u!=null)if(c=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Bs).includes(u.toUpperCase())?u.toUpperCase():Bs.TYPE_UNSPECIFIED}else if(n.includes(c))t[c]=lc(u);else if(r.includes(c)){const f=[];for(const p of u){if(p.type=="null"){t.nullable=!0;continue}f.push(lc(p))}t[c]=f}else if(a.includes(c)){const f={};for(const[p,m]of Object.entries(u))f[p]=lc(m);t[c]=f}else{if(c==="additionalProperties")continue;t[c]=u}return t}function ew(e){return lc(e)}function tw(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function nw(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Sc(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=lc(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=lc(t.response));return e}function jc(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function G8(e,t,n,r=1){const a=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:a?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:a?`${n}/${t}`:t}function es(e,t){if(typeof t!="string")throw new Error("name must be a string");return G8(e,t,"cachedContents")}function qR(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Qs(e){return Wb(e)}function B8(e){return e!=null&&typeof e=="object"&&"name"in e}function F8(e){return e!=null&&typeof e=="object"&&"video"in e}function q8(e){return e!=null&&typeof e=="object"&&"uri"in e}function HR(e){var t;let n;if(B8(e)&&(n=e.name),!(q8(e)&&(n=e.uri,n===void 0))&&!(F8(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function VR(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function KR(e){for(const t of["models","tunedModels","publisherModels"])if(H8(e,t))return e[t];return[]}function H8(e,t){return e!==null&&typeof e=="object"&&t in e}function V8(e,t={}){const n=e,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function K8(e,t={}){const n=[],r=new Set;for(const a of e){const l=a.name;if(r.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);r.add(l);const c=V8(a,t);c.functionDeclarations&&n.push(...c.functionDeclarations)}return{functionDeclarations:n}}function YR(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,a=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(a>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Y8(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function JR(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const a=n.inlinedResponses;if(!Array.isArray(a)||a.length===0)return e;let l=!1;for(const c of a){if(typeof c!="object"||c===null)continue;const f=c.response;if(typeof f!="object"||f===null)continue;if(f.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function _c(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function WR(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function J8(e){const t={},n=x(e,["responsesFile"]);n!=null&&y(t,["fileName"],n);const r=x(e,["inlinedResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>TG(c))),y(t,["inlinedResponses"],l)}const a=x(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["inlinedEmbedContentResponses"],l)}return t}function W8(e){const t={},n=x(e,["predictionsFormat"]);n!=null&&y(t,["format"],n);const r=x(e,["gcsDestination","outputUriPrefix"]);r!=null&&y(t,["gcsUri"],r);const a=x(e,["bigqueryDestination","outputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function X8(e){const t={},n=x(e,["format"]);n!=null&&y(t,["predictionsFormat"],n);const r=x(e,["gcsUri"]);r!=null&&y(t,["gcsDestination","outputUriPrefix"],r);const a=x(e,["bigqueryUri"]);if(a!=null&&y(t,["bigqueryDestination","outputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(x(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function $p(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata","displayName"]);r!=null&&y(t,["displayName"],r);const a=x(e,["metadata","state"]);a!=null&&y(t,["state"],WR(a));const l=x(e,["metadata","createTime"]);l!=null&&y(t,["createTime"],l);const c=x(e,["metadata","endTime"]);c!=null&&y(t,["endTime"],c);const u=x(e,["metadata","updateTime"]);u!=null&&y(t,["updateTime"],u);const f=x(e,["metadata","model"]);f!=null&&y(t,["model"],f);const p=x(e,["metadata","output"]);return p!=null&&y(t,["dest"],J8(JR(p))),t}function yy(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["displayName"]);r!=null&&y(t,["displayName"],r);const a=x(e,["state"]);a!=null&&y(t,["state"],WR(a));const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["createTime"]);c!=null&&y(t,["createTime"],c);const u=x(e,["startTime"]);u!=null&&y(t,["startTime"],u);const f=x(e,["endTime"]);f!=null&&y(t,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(t,["updateTime"],p);const m=x(e,["model"]);m!=null&&y(t,["model"],m);const g=x(e,["inputConfig"]);g!=null&&y(t,["src"],Z8(g));const v=x(e,["outputConfig"]);v!=null&&y(t,["dest"],W8(JR(v)));const N=x(e,["completionStats"]);return N!=null&&y(t,["completionStats"],N),t}function Z8(e){const t={},n=x(e,["instancesFormat"]);n!=null&&y(t,["format"],n);const r=x(e,["gcsSource","uris"]);r!=null&&y(t,["gcsUri"],r);const a=x(e,["bigquerySource","inputUri"]);return a!=null&&y(t,["bigqueryUri"],a),t}function Q8(e,t){const n={};if(x(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(x(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=x(t,["fileName"]);r!=null&&y(n,["fileName"],r);const a=x(t,["inlinedRequests"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>AG(e,c))),y(n,["requests","requests"],l)}return n}function eG(e){const t={},n=x(e,["format"]);n!=null&&y(t,["instancesFormat"],n);const r=x(e,["gcsUri"]);r!=null&&y(t,["gcsSource","uris"],r);const a=x(e,["bigqueryUri"]);if(a!=null&&y(t,["bigquerySource","inputUri"],a),x(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(x(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function tG(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function nG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function rG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function aG(e){const t={},n=x(e,["content"]);n!=null&&y(t,["content"],n);const r=x(e,["citationMetadata"]);r!=null&&y(t,["citationMetadata"],iG(r));const a=x(e,["tokenCount"]);a!=null&&y(t,["tokenCount"],a);const l=x(e,["finishReason"]);l!=null&&y(t,["finishReason"],l);const c=x(e,["avgLogprobs"]);c!=null&&y(t,["avgLogprobs"],c);const u=x(e,["groundingMetadata"]);u!=null&&y(t,["groundingMetadata"],u);const f=x(e,["index"]);f!=null&&y(t,["index"],f);const p=x(e,["logprobsResult"]);p!=null&&y(t,["logprobsResult"],p);const m=x(e,["safetyRatings"]);if(m!=null){let v=m;Array.isArray(v)&&(v=v.map(N=>N)),y(t,["safetyRatings"],v)}const g=x(e,["urlContextMetadata"]);return g!=null&&y(t,["urlContextMetadata"],g),t}function iG(e){const t={},n=x(e,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["citations"],r)}return t}function XR(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>DG(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function sG(e,t){const n={},r=x(e,["displayName"]);if(t!==void 0&&r!=null&&y(t,["batch","displayName"],r),x(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function lG(e,t){const n={},r=x(e,["displayName"]);t!==void 0&&r!=null&&y(t,["displayName"],r);const a=x(e,["dest"]);return t!==void 0&&a!=null&&y(t,["outputConfig"],X8(Y8(a))),n}function I2(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["_url","model"],mt(e,r));const a=x(t,["src"]);a!=null&&y(n,["batch","inputConfig"],Q8(e,YR(e,a)));const l=x(t,["config"]);return l!=null&&sG(l,n),n}function oG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],mt(e,r));const a=x(t,["src"]);a!=null&&y(n,["inputConfig"],eG(YR(e,a)));const l=x(t,["config"]);return l!=null&&lG(l,n),n}function cG(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["batch","displayName"],r),n}function uG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["_url","model"],mt(e,r));const a=x(t,["src"]);a!=null&&y(n,["batch","inputConfig"],xG(e,a));const l=x(t,["config"]);return l!=null&&cG(l,n),n}function dG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function fG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function pG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);return l!=null&&y(t,["error"],l),t}function mG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);return l!=null&&y(t,["error"],l),t}function hG(e,t){const n={},r=x(t,["contents"]);if(r!=null){let l=Qb(e,r);Array.isArray(l)&&(l=l.map(c=>c)),y(n,["requests[]","request","content"],l)}const a=x(t,["config"]);return a!=null&&(y(n,["_self"],gG(a,n)),d8(n,{"requests[].*":"requests[].request.*"})),n}function gG(e,t){const n={},r=x(e,["taskType"]);t!==void 0&&r!=null&&y(t,["requests[]","taskType"],r);const a=x(e,["title"]);t!==void 0&&a!=null&&y(t,["requests[]","title"],a);const l=x(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&y(t,["requests[]","outputDimensionality"],l),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function xG(e,t){const n={},r=x(t,["fileName"]);r!=null&&y(n,["file_name"],r);const a=x(t,["inlinedRequests"]);return a!=null&&y(n,["requests"],hG(e,a)),n}function vG(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function yG(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bG(e){const t={},n=x(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=x(e,["mode"]);if(r!=null&&y(t,["mode"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function wG(e,t,n){const r={},a=x(t,["systemInstruction"]);n!==void 0&&a!=null&&y(n,["systemInstruction"],XR(Zn(a)));const l=x(t,["temperature"]);l!=null&&y(r,["temperature"],l);const c=x(t,["topP"]);c!=null&&y(r,["topP"],c);const u=x(t,["topK"]);u!=null&&y(r,["topK"],u);const f=x(t,["candidateCount"]);f!=null&&y(r,["candidateCount"],f);const p=x(t,["maxOutputTokens"]);p!=null&&y(r,["maxOutputTokens"],p);const m=x(t,["stopSequences"]);m!=null&&y(r,["stopSequences"],m);const g=x(t,["responseLogprobs"]);g!=null&&y(r,["responseLogprobs"],g);const v=x(t,["logprobs"]);v!=null&&y(r,["logprobs"],v);const N=x(t,["presencePenalty"]);N!=null&&y(r,["presencePenalty"],N);const j=x(t,["frequencyPenalty"]);j!=null&&y(r,["frequencyPenalty"],j);const _=x(t,["seed"]);_!=null&&y(r,["seed"],_);const E=x(t,["responseMimeType"]);E!=null&&y(r,["responseMimeType"],E);const C=x(t,["responseSchema"]);C!=null&&y(r,["responseSchema"],ew(C));const A=x(t,["responseJsonSchema"]);if(A!=null&&y(r,["responseJsonSchema"],A),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const R=x(t,["safetySettings"]);if(n!==void 0&&R!=null){let Y=R;Array.isArray(Y)&&(Y=Y.map(te=>LG(te))),y(n,["safetySettings"],Y)}const M=x(t,["tools"]);if(n!==void 0&&M!=null){let Y=jc(M);Array.isArray(Y)&&(Y=Y.map(te=>UG(Sc(te)))),y(n,["tools"],Y)}const I=x(t,["toolConfig"]);if(n!==void 0&&I!=null&&y(n,["toolConfig"],zG(I)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=x(t,["cachedContent"]);n!==void 0&&P!=null&&y(n,["cachedContent"],es(e,P));const k=x(t,["responseModalities"]);k!=null&&y(r,["responseModalities"],k);const L=x(t,["mediaResolution"]);L!=null&&y(r,["mediaResolution"],L);const z=x(t,["speechConfig"]);if(z!=null&&y(r,["speechConfig"],tw(z)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=x(t,["thinkingConfig"]);q!=null&&y(r,["thinkingConfig"],q);const J=x(t,["imageConfig"]);J!=null&&y(r,["imageConfig"],CG(J));const U=x(t,["enableEnhancedCivicAnswers"]);if(U!=null&&y(r,["enableEnhancedCivicAnswers"],U),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function NG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["candidates"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>aG(p))),y(t,["candidates"],f)}const a=x(e,["modelVersion"]);a!=null&&y(t,["modelVersion"],a);const l=x(e,["promptFeedback"]);l!=null&&y(t,["promptFeedback"],l);const c=x(e,["responseId"]);c!=null&&y(t,["responseId"],c);const u=x(e,["usageMetadata"]);return u!=null&&y(t,["usageMetadata"],u),t}function SG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function jG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],_c(e,r)),n}function _G(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function EG(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function CG(e){const t={},n=x(e,["aspectRatio"]);n!=null&&y(t,["aspectRatio"],n);const r=x(e,["imageSize"]);if(r!=null&&y(t,["imageSize"],r),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function AG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["request","model"],mt(e,r));const a=x(t,["contents"]);if(a!=null){let u=sa(a);Array.isArray(u)&&(u=u.map(f=>XR(f))),y(n,["request","contents"],u)}const l=x(t,["metadata"]);l!=null&&y(n,["metadata"],l);const c=x(t,["config"]);return c!=null&&y(n,["request","generationConfig"],wG(e,c,x(n,["request"],{}))),n}function TG(e){const t={},n=x(e,["response"]);n!=null&&y(t,["response"],NG(n));const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["error"]);return a!=null&&y(t,["error"],a),t}function kG(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);if(t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),x(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function MG(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);t!==void 0&&a!=null&&y(t,["_query","pageToken"],a);const l=x(e,["filter"]);return t!==void 0&&l!=null&&y(t,["_query","filter"],l),n}function RG(e){const t={},n=x(e,["config"]);return n!=null&&kG(n,t),t}function PG(e){const t={},n=x(e,["config"]);return n!=null&&MG(n,t),t}function IG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["operations"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>$p(c))),y(t,["batchJobs"],l)}return t}function OG(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["batchPredictionJobs"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>yy(c))),y(t,["batchJobs"],l)}return t}function DG(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],vG(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],yG(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],tG(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const m=x(e,["thought"]);m!=null&&y(t,["thought"],m);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function LG(e){const t={},n=x(e,["category"]);if(n!=null&&y(t,["category"],n),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=x(e,["threshold"]);return r!=null&&y(t,["threshold"],r),t}function zG(e){const t={},n=x(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=x(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],bG(r)),t}function UG(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["functionDeclarations"],m)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],_G(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],EG(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}var Hi;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(Hi||(Hi={}));class eo{constructor(t,n,r,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,r,a)}init(t,n,r){var a,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n?.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!r||Object.keys(r).length===0?c={config:{}}:typeof r=="object"?c=Object.assign({},r):c=r,c.config&&(c.config.pageToken=n.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(a=c.config)===null||a===void 0?void 0:a.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class $G extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new eo(Hi.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=I2(this.apiClient,t),r=n._url,a=_e("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,f=u.requests,p=[];for(const m of f){const g=Object.assign({},m);if(g.systemInstruction){const v=g.systemInstruction;delete g.systemInstruction;const N=g.request;N.systemInstruction=v,g.request=N}p.push(g)}return u.requests=p,delete n.config,delete n._url,delete n._query,{path:a,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const r=n?Object.assign({},n):{},a=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${a}`),r.dest===void 0){const l=this.getGcsUri(t),c=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?r.dest=`${l.slice(0,-6)}/dest`:r.dest=`${l}_dest_${a}`;else if(c)r.dest=`${c}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=oG(this.apiClient,t);return u=_e("batchPredictionJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>yy(m))}else{const p=I2(this.apiClient,t);return u=_e("{model}:batchGenerateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>$p(m))}}async createEmbeddingsInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uG(this.apiClient,t);return l=_e("{model}:asyncBatchEmbedContent",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>$p(f))}}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=jG(this.apiClient,t);return u=_e("batchPredictionJobs/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>yy(m))}else{const p=SG(this.apiClient,t);return u=_e("batches/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>$p(m))}}async cancel(t){var n,r,a,l;let c="",u={};if(this.apiClient.isVertexAI()){const f=rG(this.apiClient,t);c=_e("batchPredictionJobs/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const f=nG(this.apiClient,t);c=_e("batches/{name}:cancel",f._url),u=f._query,delete f._url,delete f._query,await this.apiClient.request({path:c,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=PG(t);return u=_e("batchPredictionJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=OG(m),v=new k2;return Object.assign(v,g),v})}else{const p=RG(t);return u=_e("batches",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=IG(m),v=new k2;return Object.assign(v,g),v})}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=fG(this.apiClient,t);return u=_e("batchPredictionJobs/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>mG(m))}else{const p=dG(this.apiClient,t);return u=_e("batches/{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>pG(m))}}}function GG(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function O2(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>uB(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function BG(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=x(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const c=x(e,["contents"]);if(t!==void 0&&c!=null){let m=sa(c);Array.isArray(m)&&(m=m.map(g=>O2(g))),y(t,["contents"],m)}const u=x(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],O2(Zn(u)));const f=x(e,["tools"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>fB(g))),y(t,["tools"],m)}const p=x(e,["toolConfig"]);if(t!==void 0&&p!=null&&y(t,["toolConfig"],dB(p)),x(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function FG(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);t!==void 0&&a!=null&&y(t,["expireTime"],a);const l=x(e,["displayName"]);t!==void 0&&l!=null&&y(t,["displayName"],l);const c=x(e,["contents"]);if(t!==void 0&&c!=null){let g=sa(c);Array.isArray(g)&&(g=g.map(v=>v)),y(t,["contents"],g)}const u=x(e,["systemInstruction"]);t!==void 0&&u!=null&&y(t,["systemInstruction"],Zn(u));const f=x(e,["tools"]);if(t!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(v=>pB(v))),y(t,["tools"],g)}const p=x(e,["toolConfig"]);t!==void 0&&p!=null&&y(t,["toolConfig"],p);const m=x(e,["kmsKeyName"]);return t!==void 0&&m!=null&&y(t,["encryption_spec","kmsKeyName"],m),n}function qG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],UR(e,r));const a=x(t,["config"]);return a!=null&&BG(a,n),n}function HG(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["model"],UR(e,r));const a=x(t,["config"]);return a!=null&&FG(a,n),n}function VG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],es(e,r)),n}function KG(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],es(e,r)),n}function YG(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function JG(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function WG(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function XG(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ZG(e){const t={},n=x(e,["allowedFunctionNames"]);n!=null&&y(t,["allowedFunctionNames"],n);const r=x(e,["mode"]);if(r!=null&&y(t,["mode"],r),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function QG(e){const t={},n=x(e,["description"]);n!=null&&y(t,["description"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=x(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const c=x(e,["response"]);c!=null&&y(t,["response"],c);const u=x(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function eB(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],es(e,r)),n}function tB(e,t){const n={},r=x(t,["name"]);return r!=null&&y(n,["_url","name"],es(e,r)),n}function nB(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function rB(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function aB(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function iB(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function sB(e){const t={},n=x(e,["config"]);return n!=null&&aB(n,t),t}function lB(e){const t={},n=x(e,["config"]);return n!=null&&iB(n,t),t}function oB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["cachedContents"],l)}return t}function cB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["cachedContents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["cachedContents"],l)}return t}function uB(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],WG(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],XG(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],GG(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const m=x(e,["thought"]);m!=null&&y(t,["thought"],m);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function dB(e){const t={},n=x(e,["retrievalConfig"]);n!=null&&y(t,["retrievalConfig"],n);const r=x(e,["functionCallingConfig"]);return r!=null&&y(t,["functionCallingConfig"],ZG(r)),t}function fB(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["functionDeclarations"],m)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],nB(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],rB(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function pB(e){const t={},n=x(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=x(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(e,["codeExecution"]);a!=null&&y(t,["codeExecution"],a);const l=x(e,["enterpriseWebSearch"]);l!=null&&y(t,["enterpriseWebSearch"],l);const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>QG(v))),y(t,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const p=x(e,["googleSearchRetrieval"]);p!=null&&y(t,["googleSearchRetrieval"],p);const m=x(e,["urlContext"]);return m!=null&&y(t,["urlContext"],m),t}function mB(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function hB(e,t){const n={},r=x(e,["ttl"]);t!==void 0&&r!=null&&y(t,["ttl"],r);const a=x(e,["expireTime"]);return t!==void 0&&a!=null&&y(t,["expireTime"],a),n}function gB(e,t){const n={},r=x(t,["name"]);r!=null&&y(n,["_url","name"],es(e,r));const a=x(t,["config"]);return a!=null&&mB(a,n),n}function xB(e,t){const n={},r=x(t,["name"]);r!=null&&y(n,["_url","name"],es(e,r));const a=x(t,["config"]);return a!=null&&hB(a,n),n}class vB extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new eo(Hi.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=HG(this.apiClient,t);return u=_e("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>m)}else{const p=qG(this.apiClient,t);return u=_e("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>m)}}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=tB(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>m)}else{const p=eB(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>m)}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=KG(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=JG(m),v=new A2;return Object.assign(v,g),v})}else{const p=VG(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=YG(m),v=new A2;return Object.assign(v,g),v})}}async update(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=xB(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>m)}else{const p=gB(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>m)}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=lB(t);return u=_e("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=cB(m),v=new T2;return Object.assign(v,g),v})}else{const p=sB(t);return u=_e("cachedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=oB(m),v=new T2;return Object.assign(v,g),v})}}}function tm(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function D2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function qe(e){return this instanceof qe?(this.v=e,this):new qe(e)}function wa(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(N){return function(j){return Promise.resolve(j).then(N,g)}}function u(N,j){r[N]&&(a[N]=function(_){return new Promise(function(E,C){l.push([N,_,E,C])>1||f(N,_)})},j&&(a[N]=j(a[N])))}function f(N,j){try{p(r[N](j))}catch(_){v(l[0][3],_)}}function p(N){N.value instanceof qe?Promise.resolve(N.value.v).then(m,g):v(l[0][2],N)}function m(N){f("next",N)}function g(N){f("throw",N)}function v(N,j){N(j),l.shift(),l.length&&f(l[0][0],l[0][1])}}function Na(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof D2=="function"?D2(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(l){n[l]=e[l]&&function(c){return new Promise(function(u,f){c=e[l](c),a(u,f,c.done,c.value)})}}function a(l,c,u,f){Promise.resolve(f).then(function(p){l({value:p,done:u})},c)}}function yB(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:ZR(n)}function ZR(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function bB(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function L2(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let r=0;for(;r<n;)if(e[r].role==="user")t.push(e[r]),r++;else{const a=[];let l=!0;for(;r<n&&e[r].role==="model";)a.push(e[r]),l&&!ZR(e[r])&&(l=!1),r++;l?t.push(...a):t.pop()}return t}class wB{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new NB(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class NB{constructor(t,n,r,a={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=r,this.config=a,this.history=l,this.sendPromise=Promise.resolve(),bB(l)}async sendMessage(t){var n;await this.sendPromise;const r=Zn(t.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,c,u;const f=await a,p=(c=(l=f.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,m=f.automaticFunctionCallingHistory,g=this.getHistory(!0).length;let v=[];m!=null&&(v=(u=m.slice(g))!==null&&u!==void 0?u:[]);const N=p?[p]:[];this.recordHistory(r,N,v)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(t){var n;await this.sendPromise;const r=Zn(t.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const l=await a;return this.processStreamResponse(l,r)}getHistory(t=!1){const n=t?L2(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return wa(this,arguments,function*(){var a,l,c,u,f,p;const m=[];try{for(var g=!0,v=Na(t),N;N=yield qe(v.next()),a=N.done,!a;g=!0){u=N.value,g=!1;const j=u;if(yB(j)){const _=(p=(f=j.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content;_!==void 0&&m.push(_)}yield yield qe(j)}}catch(j){l={error:j}}finally{try{!g&&!a&&(c=v.return)&&(yield qe(c.call(v)))}finally{if(l)throw l.error}}this.recordHistory(n,m)})}recordHistory(t,n,r){let a=[];n.length>0&&n.every(l=>l.role!==void 0)?a=n:a.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...L2(r)):this.history.push(t),this.history.push(...a)}}class cd extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,cd.prototype)}}function SB(e){const t={},n=x(e,["file"]);return n!=null&&y(t,["file"],n),t}function jB(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function _B(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","file"],HR(n)),t}function EB(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}function CB(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","file"],HR(n)),t}function AB(e){const t={},n=x(e,["uris"]);return n!=null&&y(t,["uris"],n),t}function TB(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function kB(e){const t={},n=x(e,["config"]);return n!=null&&TB(n,t),t}function MB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["files"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["files"],l)}return t}function RB(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["files"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(t,["files"],a)}return t}class PB extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new eo(Hi.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=kB(t);return l=_e("files",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=MB(f),m=new I8;return Object.assign(m,p),m})}}async createInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=SB(t);return l=_e("upload/v1beta/files",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=jB(f),m=new O8;return Object.assign(m,p),m})}}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CB(t);return l=_e("files/{file}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=_B(t);return l=_e("files/{file}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=EB(f),m=new D8;return Object.assign(m,p),m})}}async registerFilesInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AB(t);return l=_e("files:register",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=RB(f),m=new L8;return Object.assign(m,p),m})}}}function Gp(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function IB(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>WB(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function OB(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function DB(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function LB(e){const t={},n=x(e,["description"]);n!=null&&y(t,["description"],n);const r=x(e,["name"]);r!=null&&y(t,["name"],r);const a=x(e,["parameters"]);a!=null&&y(t,["parameters"],a);const l=x(e,["parametersJsonSchema"]);l!=null&&y(t,["parametersJsonSchema"],l);const c=x(e,["response"]);c!=null&&y(t,["response"],c);const u=x(e,["responseJsonSchema"]);if(u!=null&&y(t,["responseJsonSchema"],u),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function zB(e){const t={},n=x(e,["modelSelectionConfig"]);n!=null&&y(t,["modelConfig"],n);const r=x(e,["responseJsonSchema"]);r!=null&&y(t,["responseJsonSchema"],r);const a=x(e,["audioTimestamp"]);a!=null&&y(t,["audioTimestamp"],a);const l=x(e,["candidateCount"]);l!=null&&y(t,["candidateCount"],l);const c=x(e,["enableAffectiveDialog"]);c!=null&&y(t,["enableAffectiveDialog"],c);const u=x(e,["frequencyPenalty"]);u!=null&&y(t,["frequencyPenalty"],u);const f=x(e,["logprobs"]);f!=null&&y(t,["logprobs"],f);const p=x(e,["maxOutputTokens"]);p!=null&&y(t,["maxOutputTokens"],p);const m=x(e,["mediaResolution"]);m!=null&&y(t,["mediaResolution"],m);const g=x(e,["presencePenalty"]);g!=null&&y(t,["presencePenalty"],g);const v=x(e,["responseLogprobs"]);v!=null&&y(t,["responseLogprobs"],v);const N=x(e,["responseMimeType"]);N!=null&&y(t,["responseMimeType"],N);const j=x(e,["responseModalities"]);j!=null&&y(t,["responseModalities"],j);const _=x(e,["responseSchema"]);_!=null&&y(t,["responseSchema"],_);const E=x(e,["routingConfig"]);E!=null&&y(t,["routingConfig"],E);const C=x(e,["seed"]);C!=null&&y(t,["seed"],C);const A=x(e,["speechConfig"]);A!=null&&y(t,["speechConfig"],A);const R=x(e,["stopSequences"]);R!=null&&y(t,["stopSequences"],R);const M=x(e,["temperature"]);M!=null&&y(t,["temperature"],M);const I=x(e,["thinkingConfig"]);I!=null&&y(t,["thinkingConfig"],I);const P=x(e,["topK"]);P!=null&&y(t,["topK"],P);const k=x(e,["topP"]);if(k!=null&&y(t,["topP"],k),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function UB(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function $B(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function GB(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const m=x(e,["seed"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","seed"],m);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],nw(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const j=x(e,["systemInstruction"]);t!==void 0&&j!=null&&y(t,["setup","systemInstruction"],IB(Zn(j)));const _=x(e,["tools"]);if(t!==void 0&&_!=null){let P=jc(_);Array.isArray(P)&&(P=P.map(k=>ZB(Sc(k)))),y(t,["setup","tools"],P)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],XB(E));const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const R=x(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=x(e,["proactivity"]);if(t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function BB(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],zB(r));const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const m=x(e,["seed"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","seed"],m);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],nw(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const j=x(e,["systemInstruction"]);t!==void 0&&j!=null&&y(t,["setup","systemInstruction"],Zn(j));const _=x(e,["tools"]);if(t!==void 0&&_!=null){let k=jc(_);Array.isArray(k)&&(k=k.map(L=>QB(Sc(L)))),y(t,["setup","tools"],k)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],E);const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const R=x(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=x(e,["proactivity"]);t!==void 0&&I!=null&&y(t,["setup","proactivity"],I);const P=x(e,["explicitVadSignal"]);return t!==void 0&&P!=null&&y(t,["setup","explicitVadSignal"],P),n}function FB(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],mt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],GB(a,n)),n}function qB(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],mt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],BB(a,n)),n}function HB(e){const t={},n=x(e,["musicGenerationConfig"]);return n!=null&&y(t,["musicGenerationConfig"],n),t}function VB(e){const t={},n=x(e,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(a=>a)),y(t,["weightedPrompts"],r)}return t}function KB(e){const t={},n=x(e,["media"]);if(n!=null){let p=$R(n);Array.isArray(p)&&(p=p.map(m=>Gp(m))),y(t,["mediaChunks"],p)}const r=x(e,["audio"]);r!=null&&y(t,["audio"],Gp(BR(r)));const a=x(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=x(e,["video"]);l!=null&&y(t,["video"],Gp(GR(l)));const c=x(e,["text"]);c!=null&&y(t,["text"],c);const u=x(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=x(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function YB(e){const t={},n=x(e,["media"]);if(n!=null){let p=$R(n);Array.isArray(p)&&(p=p.map(m=>m)),y(t,["mediaChunks"],p)}const r=x(e,["audio"]);r!=null&&y(t,["audio"],BR(r));const a=x(e,["audioStreamEnd"]);a!=null&&y(t,["audioStreamEnd"],a);const l=x(e,["video"]);l!=null&&y(t,["video"],GR(l));const c=x(e,["text"]);c!=null&&y(t,["text"],c);const u=x(e,["activityStart"]);u!=null&&y(t,["activityStart"],u);const f=x(e,["activityEnd"]);return f!=null&&y(t,["activityEnd"],f),t}function JB(e){const t={},n=x(e,["setupComplete"]);n!=null&&y(t,["setupComplete"],n);const r=x(e,["serverContent"]);r!=null&&y(t,["serverContent"],r);const a=x(e,["toolCall"]);a!=null&&y(t,["toolCall"],a);const l=x(e,["toolCallCancellation"]);l!=null&&y(t,["toolCallCancellation"],l);const c=x(e,["usageMetadata"]);c!=null&&y(t,["usageMetadata"],eF(c));const u=x(e,["goAway"]);u!=null&&y(t,["goAway"],u);const f=x(e,["sessionResumptionUpdate"]);f!=null&&y(t,["sessionResumptionUpdate"],f);const p=x(e,["voiceActivityDetectionSignal"]);p!=null&&y(t,["voiceActivityDetectionSignal"],p);const m=x(e,["voiceActivity"]);return m!=null&&y(t,["voiceActivity"],tF(m)),t}function WB(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],OB(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],DB(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],Gp(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const m=x(e,["thought"]);m!=null&&y(t,["thought"],m);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function XB(e){const t={},n=x(e,["handle"]);if(n!=null&&y(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function ZB(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["functionDeclarations"],m)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],UB(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],$B(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function QB(e){const t={},n=x(e,["retrieval"]);n!=null&&y(t,["retrieval"],n);const r=x(e,["computerUse"]);if(r!=null&&y(t,["computerUse"],r),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=x(e,["codeExecution"]);a!=null&&y(t,["codeExecution"],a);const l=x(e,["enterpriseWebSearch"]);l!=null&&y(t,["enterpriseWebSearch"],l);const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>LB(v))),y(t,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(t,["googleMaps"],u);const f=x(e,["googleSearch"]);f!=null&&y(t,["googleSearch"],f);const p=x(e,["googleSearchRetrieval"]);p!=null&&y(t,["googleSearchRetrieval"],p);const m=x(e,["urlContext"]);return m!=null&&y(t,["urlContext"],m),t}function eF(e){const t={},n=x(e,["promptTokenCount"]);n!=null&&y(t,["promptTokenCount"],n);const r=x(e,["cachedContentTokenCount"]);r!=null&&y(t,["cachedContentTokenCount"],r);const a=x(e,["candidatesTokenCount"]);a!=null&&y(t,["responseTokenCount"],a);const l=x(e,["toolUsePromptTokenCount"]);l!=null&&y(t,["toolUsePromptTokenCount"],l);const c=x(e,["thoughtsTokenCount"]);c!=null&&y(t,["thoughtsTokenCount"],c);const u=x(e,["totalTokenCount"]);u!=null&&y(t,["totalTokenCount"],u);const f=x(e,["promptTokensDetails"]);if(f!=null){let N=f;Array.isArray(N)&&(N=N.map(j=>j)),y(t,["promptTokensDetails"],N)}const p=x(e,["cacheTokensDetails"]);if(p!=null){let N=p;Array.isArray(N)&&(N=N.map(j=>j)),y(t,["cacheTokensDetails"],N)}const m=x(e,["candidatesTokensDetails"]);if(m!=null){let N=m;Array.isArray(N)&&(N=N.map(j=>j)),y(t,["responseTokensDetails"],N)}const g=x(e,["toolUsePromptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(j=>j)),y(t,["toolUsePromptTokensDetails"],N)}const v=x(e,["trafficType"]);return v!=null&&y(t,["trafficType"],v),t}function tF(e){const t={},n=x(e,["type"]);return n!=null&&y(t,["voiceActivityType"],n),t}function nF(e,t){const n={},r=x(e,["data"]);if(r!=null&&y(n,["data"],r),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function rF(e,t){const n={},r=x(e,["content"]);r!=null&&y(n,["content"],r);const a=x(e,["citationMetadata"]);a!=null&&y(n,["citationMetadata"],aF(a));const l=x(e,["tokenCount"]);l!=null&&y(n,["tokenCount"],l);const c=x(e,["finishReason"]);c!=null&&y(n,["finishReason"],c);const u=x(e,["avgLogprobs"]);u!=null&&y(n,["avgLogprobs"],u);const f=x(e,["groundingMetadata"]);f!=null&&y(n,["groundingMetadata"],f);const p=x(e,["index"]);p!=null&&y(n,["index"],p);const m=x(e,["logprobsResult"]);m!=null&&y(n,["logprobsResult"],m);const g=x(e,["safetyRatings"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(j=>j)),y(n,["safetyRatings"],N)}const v=x(e,["urlContextMetadata"]);return v!=null&&y(n,["urlContextMetadata"],v),n}function aF(e,t){const n={},r=x(e,["citationSources"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["citations"],a)}return n}function iF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let c=sa(l);Array.isArray(c)&&(c=c.map(u=>u)),y(r,["contents"],c)}return r}function sF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["tokensInfo"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(n,["tokensInfo"],l)}return n}function lF(e,t){const n={},r=x(e,["values"]);r!=null&&y(n,["values"],r);const a=x(e,["statistics"]);return a!=null&&y(n,["statistics"],oF(a)),n}function oF(e,t){const n={},r=x(e,["truncated"]);r!=null&&y(n,["truncated"],r);const a=x(e,["token_count"]);return a!=null&&y(n,["tokenCount"],a),n}function ih(e,t){const n={},r=x(e,["parts"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>xq(c))),y(n,["parts"],l)}const a=x(e,["role"]);return a!=null&&y(n,["role"],a),n}function cF(e,t){const n={},r=x(e,["controlType"]);r!=null&&y(n,["controlType"],r);const a=x(e,["enableControlImageComputation"]);return a!=null&&y(n,["computeControl"],a),n}function uF(e,t){const n={};if(x(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(x(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(x(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function dF(e,t,n){const r={},a=x(e,["systemInstruction"]);t!==void 0&&a!=null&&y(t,["systemInstruction"],Zn(a));const l=x(e,["tools"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>nP(f))),y(t,["tools"],u)}const c=x(e,["generationConfig"]);return t!==void 0&&c!=null&&y(t,["generationConfig"],nq(c)),r}function fF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let u=sa(l);Array.isArray(u)&&(u=u.map(f=>ih(f))),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&uF(c),r}function pF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let u=sa(l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&dF(c,r),r}function mF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["totalTokens"]);a!=null&&y(n,["totalTokens"],a);const l=x(e,["cachedContentTokenCount"]);return l!=null&&y(n,["cachedContentTokenCount"],l),n}function hF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["totalTokens"]);return a!=null&&y(n,["totalTokens"],a),n}function gF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],mt(e,a)),r}function xF(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],mt(e,a)),r}function vF(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function yF(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function bF(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["negativePrompt"]);t!==void 0&&l!=null&&y(t,["parameters","negativePrompt"],l);const c=x(e,["numberOfImages"]);t!==void 0&&c!=null&&y(t,["parameters","sampleCount"],c);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=x(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const p=x(e,["seed"]);t!==void 0&&p!=null&&y(t,["parameters","seed"],p);const m=x(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&y(t,["parameters","safetySetting"],m);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const N=x(e,["includeRaiReason"]);t!==void 0&&N!=null&&y(t,["parameters","includeRaiReason"],N);const j=x(e,["language"]);t!==void 0&&j!=null&&y(t,["parameters","language"],j);const _=x(e,["outputMimeType"]);t!==void 0&&_!=null&&y(t,["parameters","outputOptions","mimeType"],_);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const C=x(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const A=x(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const R=x(e,["editMode"]);t!==void 0&&R!=null&&y(t,["parameters","editMode"],R);const M=x(e,["baseSteps"]);return t!==void 0&&M!=null&&y(t,["parameters","editConfig","baseSteps"],M),r}function wF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["referenceImages"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>Sq(p))),y(r,["instances[0]","referenceImages"],f)}const u=x(t,["config"]);return u!=null&&bF(u,r),r}function NF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sh(c))),y(n,["generatedImages"],l)}return n}function SF(e,t,n){const r={},a=x(e,["taskType"]);t!==void 0&&a!=null&&y(t,["requests[]","taskType"],a);const l=x(e,["title"]);t!==void 0&&l!=null&&y(t,["requests[]","title"],l);const c=x(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&y(t,["requests[]","outputDimensionality"],c),x(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(x(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function jF(e,t,n){const r={},a=x(e,["taskType"]);t!==void 0&&a!=null&&y(t,["instances[]","task_type"],a);const l=x(e,["title"]);t!==void 0&&l!=null&&y(t,["instances[]","title"],l);const c=x(e,["outputDimensionality"]);t!==void 0&&c!=null&&y(t,["parameters","outputDimensionality"],c);const u=x(e,["mimeType"]);t!==void 0&&u!=null&&y(t,["instances[]","mimeType"],u);const f=x(e,["autoTruncate"]);return t!==void 0&&f!=null&&y(t,["parameters","autoTruncate"],f),r}function _F(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let f=Qb(e,l);Array.isArray(f)&&(f=f.map(p=>p)),y(r,["requests[]","content"],f)}const c=x(t,["config"]);c!=null&&SF(c,r);const u=x(t,["model"]);return u!==void 0&&y(r,["requests[]","model"],mt(e,u)),r}function EF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let u=Qb(e,l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["instances[]","content"],u)}const c=x(t,["config"]);return c!=null&&jF(c,r),r}function CF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>u)),y(n,["embeddings"],c)}const l=x(e,["metadata"]);return l!=null&&y(n,["metadata"],l),n}function AF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions[]","embeddings"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>lF(u))),y(n,["embeddings"],c)}const l=x(e,["metadata"]);return l!=null&&y(n,["metadata"],l),n}function TF(e,t){const n={},r=x(e,["endpoint"]);r!=null&&y(n,["name"],r);const a=x(e,["deployedModelId"]);return a!=null&&y(n,["deployedModelId"],a),n}function kF(e,t){const n={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["fileUri"]);r!=null&&y(n,["fileUri"],r);const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function MF(e,t){const n={},r=x(e,["id"]);r!=null&&y(n,["id"],r);const a=x(e,["args"]);a!=null&&y(n,["args"],a);const l=x(e,["name"]);if(l!=null&&y(n,["name"],l),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function RF(e,t){const n={},r=x(e,["allowedFunctionNames"]);r!=null&&y(n,["allowedFunctionNames"],r);const a=x(e,["mode"]);if(a!=null&&y(n,["mode"],a),x(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function PF(e,t){const n={},r=x(e,["description"]);r!=null&&y(n,["description"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["parameters"]);l!=null&&y(n,["parameters"],l);const c=x(e,["parametersJsonSchema"]);c!=null&&y(n,["parametersJsonSchema"],c);const u=x(e,["response"]);u!=null&&y(n,["response"],u);const f=x(e,["responseJsonSchema"]);if(f!=null&&y(n,["responseJsonSchema"],f),x(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function IF(e,t,n,r){const a={},l=x(t,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],ih(Zn(l)));const c=x(t,["temperature"]);c!=null&&y(a,["temperature"],c);const u=x(t,["topP"]);u!=null&&y(a,["topP"],u);const f=x(t,["topK"]);f!=null&&y(a,["topK"],f);const p=x(t,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const m=x(t,["maxOutputTokens"]);m!=null&&y(a,["maxOutputTokens"],m);const g=x(t,["stopSequences"]);g!=null&&y(a,["stopSequences"],g);const v=x(t,["responseLogprobs"]);v!=null&&y(a,["responseLogprobs"],v);const N=x(t,["logprobs"]);N!=null&&y(a,["logprobs"],N);const j=x(t,["presencePenalty"]);j!=null&&y(a,["presencePenalty"],j);const _=x(t,["frequencyPenalty"]);_!=null&&y(a,["frequencyPenalty"],_);const E=x(t,["seed"]);E!=null&&y(a,["seed"],E);const C=x(t,["responseMimeType"]);C!=null&&y(a,["responseMimeType"],C);const A=x(t,["responseSchema"]);A!=null&&y(a,["responseSchema"],ew(A));const R=x(t,["responseJsonSchema"]);if(R!=null&&y(a,["responseJsonSchema"],R),x(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(x(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const M=x(t,["safetySettings"]);if(n!==void 0&&M!=null){let te=M;Array.isArray(te)&&(te=te.map(he=>jq(he))),y(n,["safetySettings"],te)}const I=x(t,["tools"]);if(n!==void 0&&I!=null){let te=jc(I);Array.isArray(te)&&(te=te.map(he=>Mq(Sc(he)))),y(n,["tools"],te)}const P=x(t,["toolConfig"]);if(n!==void 0&&P!=null&&y(n,["toolConfig"],kq(P)),x(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=x(t,["cachedContent"]);n!==void 0&&k!=null&&y(n,["cachedContent"],es(e,k));const L=x(t,["responseModalities"]);L!=null&&y(a,["responseModalities"],L);const z=x(t,["mediaResolution"]);z!=null&&y(a,["mediaResolution"],z);const q=x(t,["speechConfig"]);if(q!=null&&y(a,["speechConfig"],tw(q)),x(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const J=x(t,["thinkingConfig"]);J!=null&&y(a,["thinkingConfig"],J);const U=x(t,["imageConfig"]);U!=null&&y(a,["imageConfig"],lq(U));const Y=x(t,["enableEnhancedCivicAnswers"]);if(Y!=null&&y(a,["enableEnhancedCivicAnswers"],Y),x(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function OF(e,t,n,r){const a={},l=x(t,["systemInstruction"]);n!==void 0&&l!=null&&y(n,["systemInstruction"],Zn(l));const c=x(t,["temperature"]);c!=null&&y(a,["temperature"],c);const u=x(t,["topP"]);u!=null&&y(a,["topP"],u);const f=x(t,["topK"]);f!=null&&y(a,["topK"],f);const p=x(t,["candidateCount"]);p!=null&&y(a,["candidateCount"],p);const m=x(t,["maxOutputTokens"]);m!=null&&y(a,["maxOutputTokens"],m);const g=x(t,["stopSequences"]);g!=null&&y(a,["stopSequences"],g);const v=x(t,["responseLogprobs"]);v!=null&&y(a,["responseLogprobs"],v);const N=x(t,["logprobs"]);N!=null&&y(a,["logprobs"],N);const j=x(t,["presencePenalty"]);j!=null&&y(a,["presencePenalty"],j);const _=x(t,["frequencyPenalty"]);_!=null&&y(a,["frequencyPenalty"],_);const E=x(t,["seed"]);E!=null&&y(a,["seed"],E);const C=x(t,["responseMimeType"]);C!=null&&y(a,["responseMimeType"],C);const A=x(t,["responseSchema"]);A!=null&&y(a,["responseSchema"],ew(A));const R=x(t,["responseJsonSchema"]);R!=null&&y(a,["responseJsonSchema"],R);const M=x(t,["routingConfig"]);M!=null&&y(a,["routingConfig"],M);const I=x(t,["modelSelectionConfig"]);I!=null&&y(a,["modelConfig"],I);const P=x(t,["safetySettings"]);if(n!==void 0&&P!=null){let X=P;Array.isArray(X)&&(X=X.map(oe=>oe)),y(n,["safetySettings"],X)}const k=x(t,["tools"]);if(n!==void 0&&k!=null){let X=jc(k);Array.isArray(X)&&(X=X.map(oe=>nP(Sc(oe)))),y(n,["tools"],X)}const L=x(t,["toolConfig"]);n!==void 0&&L!=null&&y(n,["toolConfig"],L);const z=x(t,["labels"]);n!==void 0&&z!=null&&y(n,["labels"],z);const q=x(t,["cachedContent"]);n!==void 0&&q!=null&&y(n,["cachedContent"],es(e,q));const J=x(t,["responseModalities"]);J!=null&&y(a,["responseModalities"],J);const U=x(t,["mediaResolution"]);U!=null&&y(a,["mediaResolution"],U);const Y=x(t,["speechConfig"]);Y!=null&&y(a,["speechConfig"],tw(Y));const te=x(t,["audioTimestamp"]);te!=null&&y(a,["audioTimestamp"],te);const he=x(t,["thinkingConfig"]);he!=null&&y(a,["thinkingConfig"],he);const F=x(t,["imageConfig"]);if(F!=null&&y(a,["imageConfig"],oq(F)),x(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const G=x(t,["modelArmorConfig"]);return n!==void 0&&G!=null&&y(n,["modelArmorConfig"],G),a}function z2(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let u=sa(l);Array.isArray(u)&&(u=u.map(f=>ih(f))),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&y(r,["generationConfig"],IF(e,c,r)),r}function U2(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["contents"]);if(l!=null){let u=sa(l);Array.isArray(u)&&(u=u.map(f=>f)),y(r,["contents"],u)}const c=x(t,["config"]);return c!=null&&y(r,["generationConfig"],OF(e,c,r)),r}function $2(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["candidates"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>rF(m))),y(n,["candidates"],p)}const l=x(e,["modelVersion"]);l!=null&&y(n,["modelVersion"],l);const c=x(e,["promptFeedback"]);c!=null&&y(n,["promptFeedback"],c);const u=x(e,["responseId"]);u!=null&&y(n,["responseId"],u);const f=x(e,["usageMetadata"]);return f!=null&&y(n,["usageMetadata"],f),n}function G2(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>g)),y(n,["candidates"],m)}const l=x(e,["createTime"]);l!=null&&y(n,["createTime"],l);const c=x(e,["modelVersion"]);c!=null&&y(n,["modelVersion"],c);const u=x(e,["promptFeedback"]);u!=null&&y(n,["promptFeedback"],u);const f=x(e,["responseId"]);f!=null&&y(n,["responseId"],f);const p=x(e,["usageMetadata"]);return p!=null&&y(n,["usageMetadata"],p),n}function DF(e,t,n){const r={};if(x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["aspectRatio"]);t!==void 0&&l!=null&&y(t,["parameters","aspectRatio"],l);const c=x(e,["guidanceScale"]);if(t!==void 0&&c!=null&&y(t,["parameters","guidanceScale"],c),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=x(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&y(t,["parameters","safetySetting"],u);const f=x(e,["personGeneration"]);t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f);const p=x(e,["includeSafetyAttributes"]);t!==void 0&&p!=null&&y(t,["parameters","includeSafetyAttributes"],p);const m=x(e,["includeRaiReason"]);t!==void 0&&m!=null&&y(t,["parameters","includeRaiReason"],m);const g=x(e,["language"]);t!==void 0&&g!=null&&y(t,["parameters","language"],g);const v=x(e,["outputMimeType"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","mimeType"],v);const N=x(e,["outputCompressionQuality"]);if(t!==void 0&&N!=null&&y(t,["parameters","outputOptions","compressionQuality"],N),x(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=x(e,["imageSize"]);if(t!==void 0&&j!=null&&y(t,["parameters","sampleImageSize"],j),x(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function LF(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["negativePrompt"]);t!==void 0&&l!=null&&y(t,["parameters","negativePrompt"],l);const c=x(e,["numberOfImages"]);t!==void 0&&c!=null&&y(t,["parameters","sampleCount"],c);const u=x(e,["aspectRatio"]);t!==void 0&&u!=null&&y(t,["parameters","aspectRatio"],u);const f=x(e,["guidanceScale"]);t!==void 0&&f!=null&&y(t,["parameters","guidanceScale"],f);const p=x(e,["seed"]);t!==void 0&&p!=null&&y(t,["parameters","seed"],p);const m=x(e,["safetyFilterLevel"]);t!==void 0&&m!=null&&y(t,["parameters","safetySetting"],m);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["includeSafetyAttributes"]);t!==void 0&&v!=null&&y(t,["parameters","includeSafetyAttributes"],v);const N=x(e,["includeRaiReason"]);t!==void 0&&N!=null&&y(t,["parameters","includeRaiReason"],N);const j=x(e,["language"]);t!==void 0&&j!=null&&y(t,["parameters","language"],j);const _=x(e,["outputMimeType"]);t!==void 0&&_!=null&&y(t,["parameters","outputOptions","mimeType"],_);const E=x(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&y(t,["parameters","outputOptions","compressionQuality"],E);const C=x(e,["addWatermark"]);t!==void 0&&C!=null&&y(t,["parameters","addWatermark"],C);const A=x(e,["labels"]);t!==void 0&&A!=null&&y(t,["labels"],A);const R=x(e,["imageSize"]);t!==void 0&&R!=null&&y(t,["parameters","sampleImageSize"],R);const M=x(e,["enhancePrompt"]);return t!==void 0&&M!=null&&y(t,["parameters","enhancePrompt"],M),r}function zF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["config"]);return c!=null&&DF(c,r),r}function UF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["config"]);return c!=null&&LF(c,r),r}function $F(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>ZF(u))),y(n,["generatedImages"],c)}const l=x(e,["positivePromptSafetyAttributes"]);return l!=null&&y(n,["positivePromptSafetyAttributes"],eP(l)),n}function GF(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(u=>sh(u))),y(n,["generatedImages"],c)}const l=x(e,["positivePromptSafetyAttributes"]);return l!=null&&y(n,["positivePromptSafetyAttributes"],tP(l)),n}function BF(e,t,n){const r={},a=x(e,["numberOfVideos"]);if(t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a),x(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(x(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=x(e,["durationSeconds"]);if(t!==void 0&&l!=null&&y(t,["parameters","durationSeconds"],l),x(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=x(e,["aspectRatio"]);t!==void 0&&c!=null&&y(t,["parameters","aspectRatio"],c);const u=x(e,["resolution"]);t!==void 0&&u!=null&&y(t,["parameters","resolution"],u);const f=x(e,["personGeneration"]);if(t!==void 0&&f!=null&&y(t,["parameters","personGeneration"],f),x(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=x(e,["negativePrompt"]);t!==void 0&&p!=null&&y(t,["parameters","negativePrompt"],p);const m=x(e,["enhancePrompt"]);if(t!==void 0&&m!=null&&y(t,["parameters","enhancePrompt"],m),x(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const g=x(e,["lastFrame"]);t!==void 0&&g!=null&&y(t,["instances[0]","lastFrame"],lh(g));const v=x(e,["referenceImages"]);if(t!==void 0&&v!=null){let N=v;Array.isArray(N)&&(N=N.map(j=>qq(j))),y(t,["instances[0]","referenceImages"],N)}if(x(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(x(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function FF(e,t,n){const r={},a=x(e,["numberOfVideos"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["outputGcsUri"]);t!==void 0&&l!=null&&y(t,["parameters","storageUri"],l);const c=x(e,["fps"]);t!==void 0&&c!=null&&y(t,["parameters","fps"],c);const u=x(e,["durationSeconds"]);t!==void 0&&u!=null&&y(t,["parameters","durationSeconds"],u);const f=x(e,["seed"]);t!==void 0&&f!=null&&y(t,["parameters","seed"],f);const p=x(e,["aspectRatio"]);t!==void 0&&p!=null&&y(t,["parameters","aspectRatio"],p);const m=x(e,["resolution"]);t!==void 0&&m!=null&&y(t,["parameters","resolution"],m);const g=x(e,["personGeneration"]);t!==void 0&&g!=null&&y(t,["parameters","personGeneration"],g);const v=x(e,["pubsubTopic"]);t!==void 0&&v!=null&&y(t,["parameters","pubsubTopic"],v);const N=x(e,["negativePrompt"]);t!==void 0&&N!=null&&y(t,["parameters","negativePrompt"],N);const j=x(e,["enhancePrompt"]);t!==void 0&&j!=null&&y(t,["parameters","enhancePrompt"],j);const _=x(e,["generateAudio"]);t!==void 0&&_!=null&&y(t,["parameters","generateAudio"],_);const E=x(e,["lastFrame"]);t!==void 0&&E!=null&&y(t,["instances[0]","lastFrame"],Aa(E));const C=x(e,["referenceImages"]);if(t!==void 0&&C!=null){let M=C;Array.isArray(M)&&(M=M.map(I=>Hq(I))),y(t,["instances[0]","referenceImages"],M)}const A=x(e,["mask"]);t!==void 0&&A!=null&&y(t,["instances[0]","mask"],Fq(A));const R=x(e,["compressionQuality"]);return t!==void 0&&R!=null&&y(t,["parameters","compressionQuality"],R),r}function qF(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=x(e,["done"]);l!=null&&y(n,["done"],l);const c=x(e,["error"]);c!=null&&y(n,["error"],c);const u=x(e,["response","generateVideoResponse"]);return u!=null&&y(n,["response"],YF(u)),n}function HF(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["metadata"]);a!=null&&y(n,["metadata"],a);const l=x(e,["done"]);l!=null&&y(n,["done"],l);const c=x(e,["error"]);c!=null&&y(n,["error"],c);const u=x(e,["response"]);return u!=null&&y(n,["response"],JF(u)),n}function VF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["image"]);c!=null&&y(r,["instances[0]","image"],lh(c));const u=x(t,["video"]);u!=null&&y(r,["instances[0]","video"],rP(u));const f=x(t,["source"]);f!=null&&WF(f,r);const p=x(t,["config"]);return p!=null&&BF(p,r),r}function KF(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["prompt"]);l!=null&&y(r,["instances[0]","prompt"],l);const c=x(t,["image"]);c!=null&&y(r,["instances[0]","image"],Aa(c));const u=x(t,["video"]);u!=null&&y(r,["instances[0]","video"],aP(u));const f=x(t,["source"]);f!=null&&XF(f,r);const p=x(t,["config"]);return p!=null&&FF(p,r),r}function YF(e,t){const n={},r=x(e,["generatedSamples"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>eq(u))),y(n,["generatedVideos"],c)}const a=x(e,["raiMediaFilteredCount"]);a!=null&&y(n,["raiMediaFilteredCount"],a);const l=x(e,["raiMediaFilteredReasons"]);return l!=null&&y(n,["raiMediaFilteredReasons"],l),n}function JF(e,t){const n={},r=x(e,["videos"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(u=>tq(u))),y(n,["generatedVideos"],c)}const a=x(e,["raiMediaFilteredCount"]);a!=null&&y(n,["raiMediaFilteredCount"],a);const l=x(e,["raiMediaFilteredReasons"]);return l!=null&&y(n,["raiMediaFilteredReasons"],l),n}function WF(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],lh(l));const c=x(e,["video"]);return t!==void 0&&c!=null&&y(t,["instances[0]","video"],rP(c)),r}function XF(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],Aa(l));const c=x(e,["video"]);return t!==void 0&&c!=null&&y(t,["instances[0]","video"],aP(c)),r}function ZF(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["image"],cq(r));const a=x(e,["raiFilteredReason"]);a!=null&&y(n,["raiFilteredReason"],a);const l=x(e,["_self"]);return l!=null&&y(n,["safetyAttributes"],eP(l)),n}function sh(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["image"],QR(r));const a=x(e,["raiFilteredReason"]);a!=null&&y(n,["raiFilteredReason"],a);const l=x(e,["_self"]);l!=null&&y(n,["safetyAttributes"],tP(l));const c=x(e,["prompt"]);return c!=null&&y(n,["enhancedPrompt"],c),n}function QF(e,t){const n={},r=x(e,["_self"]);r!=null&&y(n,["mask"],QR(r));const a=x(e,["labels"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(n,["labels"],l)}return n}function eq(e,t){const n={},r=x(e,["video"]);return r!=null&&y(n,["video"],Gq(r)),n}function tq(e,t){const n={},r=x(e,["_self"]);return r!=null&&y(n,["video"],Bq(r)),n}function nq(e,t){const n={},r=x(e,["modelSelectionConfig"]);r!=null&&y(n,["modelConfig"],r);const a=x(e,["responseJsonSchema"]);a!=null&&y(n,["responseJsonSchema"],a);const l=x(e,["audioTimestamp"]);l!=null&&y(n,["audioTimestamp"],l);const c=x(e,["candidateCount"]);c!=null&&y(n,["candidateCount"],c);const u=x(e,["enableAffectiveDialog"]);u!=null&&y(n,["enableAffectiveDialog"],u);const f=x(e,["frequencyPenalty"]);f!=null&&y(n,["frequencyPenalty"],f);const p=x(e,["logprobs"]);p!=null&&y(n,["logprobs"],p);const m=x(e,["maxOutputTokens"]);m!=null&&y(n,["maxOutputTokens"],m);const g=x(e,["mediaResolution"]);g!=null&&y(n,["mediaResolution"],g);const v=x(e,["presencePenalty"]);v!=null&&y(n,["presencePenalty"],v);const N=x(e,["responseLogprobs"]);N!=null&&y(n,["responseLogprobs"],N);const j=x(e,["responseMimeType"]);j!=null&&y(n,["responseMimeType"],j);const _=x(e,["responseModalities"]);_!=null&&y(n,["responseModalities"],_);const E=x(e,["responseSchema"]);E!=null&&y(n,["responseSchema"],E);const C=x(e,["routingConfig"]);C!=null&&y(n,["routingConfig"],C);const A=x(e,["seed"]);A!=null&&y(n,["seed"],A);const R=x(e,["speechConfig"]);R!=null&&y(n,["speechConfig"],R);const M=x(e,["stopSequences"]);M!=null&&y(n,["stopSequences"],M);const I=x(e,["temperature"]);I!=null&&y(n,["temperature"],I);const P=x(e,["thinkingConfig"]);P!=null&&y(n,["thinkingConfig"],P);const k=x(e,["topK"]);k!=null&&y(n,["topK"],k);const L=x(e,["topP"]);if(L!=null&&y(n,["topP"],L),x(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function rq(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],mt(e,a)),r}function aq(e,t,n){const r={},a=x(t,["model"]);return a!=null&&y(r,["_url","name"],mt(e,a)),r}function iq(e,t){const n={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=x(e,["enableWidget"]);return r!=null&&y(n,["enableWidget"],r),n}function sq(e,t){const n={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=x(e,["timeRangeFilter"]);return r!=null&&y(n,["timeRangeFilter"],r),n}function lq(e,t){const n={},r=x(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const a=x(e,["imageSize"]);if(a!=null&&y(n,["imageSize"],a),x(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(x(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(x(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function oq(e,t){const n={},r=x(e,["aspectRatio"]);r!=null&&y(n,["aspectRatio"],r);const a=x(e,["imageSize"]);a!=null&&y(n,["imageSize"],a);const l=x(e,["personGeneration"]);l!=null&&y(n,["personGeneration"],l);const c=x(e,["outputMimeType"]);c!=null&&y(n,["imageOutputOptions","mimeType"],c);const u=x(e,["outputCompressionQuality"]);return u!=null&&y(n,["imageOutputOptions","compressionQuality"],u),n}function cq(e,t){const n={},r=x(e,["bytesBase64Encoded"]);r!=null&&y(n,["imageBytes"],Qs(r));const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function QR(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["bytesBase64Encoded"]);a!=null&&y(n,["imageBytes"],Qs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function lh(e,t){const n={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=x(e,["imageBytes"]);r!=null&&y(n,["bytesBase64Encoded"],Qs(r));const a=x(e,["mimeType"]);return a!=null&&y(n,["mimeType"],a),n}function Aa(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["imageBytes"]);a!=null&&y(n,["bytesBase64Encoded"],Qs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function uq(e,t,n,r){const a={},l=x(t,["pageSize"]);n!==void 0&&l!=null&&y(n,["_query","pageSize"],l);const c=x(t,["pageToken"]);n!==void 0&&c!=null&&y(n,["_query","pageToken"],c);const u=x(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=x(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],VR(e,f)),a}function dq(e,t,n,r){const a={},l=x(t,["pageSize"]);n!==void 0&&l!=null&&y(n,["_query","pageSize"],l);const c=x(t,["pageToken"]);n!==void 0&&c!=null&&y(n,["_query","pageToken"],c);const u=x(t,["filter"]);n!==void 0&&u!=null&&y(n,["_query","filter"],u);const f=x(t,["queryBase"]);return n!==void 0&&f!=null&&y(n,["_url","models_url"],VR(e,f)),a}function fq(e,t,n){const r={},a=x(t,["config"]);return a!=null&&uq(e,a,r),r}function pq(e,t,n){const r={},a=x(t,["config"]);return a!=null&&dq(e,a,r),r}function mq(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["_self"]);if(l!=null){let c=KR(l);Array.isArray(c)&&(c=c.map(u=>by(u))),y(n,["models"],c)}return n}function hq(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["_self"]);if(l!=null){let c=KR(l);Array.isArray(c)&&(c=c.map(u=>wy(u))),y(n,["models"],c)}return n}function gq(e,t){const n={},r=x(e,["maskMode"]);r!=null&&y(n,["maskMode"],r);const a=x(e,["segmentationClasses"]);a!=null&&y(n,["maskClasses"],a);const l=x(e,["maskDilation"]);return l!=null&&y(n,["dilation"],l),n}function by(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["displayName"]);a!=null&&y(n,["displayName"],a);const l=x(e,["description"]);l!=null&&y(n,["description"],l);const c=x(e,["version"]);c!=null&&y(n,["version"],c);const u=x(e,["_self"]);u!=null&&y(n,["tunedModelInfo"],Rq(u));const f=x(e,["inputTokenLimit"]);f!=null&&y(n,["inputTokenLimit"],f);const p=x(e,["outputTokenLimit"]);p!=null&&y(n,["outputTokenLimit"],p);const m=x(e,["supportedGenerationMethods"]);m!=null&&y(n,["supportedActions"],m);const g=x(e,["temperature"]);g!=null&&y(n,["temperature"],g);const v=x(e,["maxTemperature"]);v!=null&&y(n,["maxTemperature"],v);const N=x(e,["topP"]);N!=null&&y(n,["topP"],N);const j=x(e,["topK"]);j!=null&&y(n,["topK"],j);const _=x(e,["thinking"]);return _!=null&&y(n,["thinking"],_),n}function wy(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["name"],r);const a=x(e,["displayName"]);a!=null&&y(n,["displayName"],a);const l=x(e,["description"]);l!=null&&y(n,["description"],l);const c=x(e,["versionId"]);c!=null&&y(n,["version"],c);const u=x(e,["deployedModels"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(N=>TF(N))),y(n,["endpoints"],v)}const f=x(e,["labels"]);f!=null&&y(n,["labels"],f);const p=x(e,["_self"]);p!=null&&y(n,["tunedModelInfo"],Pq(p));const m=x(e,["defaultCheckpointId"]);m!=null&&y(n,["defaultCheckpointId"],m);const g=x(e,["checkpoints"]);if(g!=null){let v=g;Array.isArray(v)&&(v=v.map(N=>N)),y(n,["checkpoints"],v)}return n}function xq(e,t){const n={},r=x(e,["mediaResolution"]);r!=null&&y(n,["mediaResolution"],r);const a=x(e,["codeExecutionResult"]);a!=null&&y(n,["codeExecutionResult"],a);const l=x(e,["executableCode"]);l!=null&&y(n,["executableCode"],l);const c=x(e,["fileData"]);c!=null&&y(n,["fileData"],kF(c));const u=x(e,["functionCall"]);u!=null&&y(n,["functionCall"],MF(u));const f=x(e,["functionResponse"]);f!=null&&y(n,["functionResponse"],f);const p=x(e,["inlineData"]);p!=null&&y(n,["inlineData"],nF(p));const m=x(e,["text"]);m!=null&&y(n,["text"],m);const g=x(e,["thought"]);g!=null&&y(n,["thought"],g);const v=x(e,["thoughtSignature"]);v!=null&&y(n,["thoughtSignature"],v);const N=x(e,["videoMetadata"]);return N!=null&&y(n,["videoMetadata"],N),n}function vq(e,t){const n={},r=x(e,["productImage"]);return r!=null&&y(n,["image"],Aa(r)),n}function yq(e,t,n){const r={},a=x(e,["numberOfImages"]);t!==void 0&&a!=null&&y(t,["parameters","sampleCount"],a);const l=x(e,["baseSteps"]);t!==void 0&&l!=null&&y(t,["parameters","baseSteps"],l);const c=x(e,["outputGcsUri"]);t!==void 0&&c!=null&&y(t,["parameters","storageUri"],c);const u=x(e,["seed"]);t!==void 0&&u!=null&&y(t,["parameters","seed"],u);const f=x(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&y(t,["parameters","safetySetting"],f);const p=x(e,["personGeneration"]);t!==void 0&&p!=null&&y(t,["parameters","personGeneration"],p);const m=x(e,["addWatermark"]);t!==void 0&&m!=null&&y(t,["parameters","addWatermark"],m);const g=x(e,["outputMimeType"]);t!==void 0&&g!=null&&y(t,["parameters","outputOptions","mimeType"],g);const v=x(e,["outputCompressionQuality"]);t!==void 0&&v!=null&&y(t,["parameters","outputOptions","compressionQuality"],v);const N=x(e,["enhancePrompt"]);t!==void 0&&N!=null&&y(t,["parameters","enhancePrompt"],N);const j=x(e,["labels"]);return t!==void 0&&j!=null&&y(t,["labels"],j),r}function bq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["source"]);l!=null&&Nq(l,r);const c=x(t,["config"]);return c!=null&&yq(c,r),r}function wq(e,t){const n={},r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>sh(l))),y(n,["generatedImages"],a)}return n}function Nq(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["personImage"]);t!==void 0&&l!=null&&y(t,["instances[0]","personImage","image"],Aa(l));const c=x(e,["productImages"]);if(t!==void 0&&c!=null){let u=c;Array.isArray(u)&&(u=u.map(f=>vq(f))),y(t,["instances[0]","productImages"],u)}return r}function Sq(e,t){const n={},r=x(e,["referenceImage"]);r!=null&&y(n,["referenceImage"],Aa(r));const a=x(e,["referenceId"]);a!=null&&y(n,["referenceId"],a);const l=x(e,["referenceType"]);l!=null&&y(n,["referenceType"],l);const c=x(e,["maskImageConfig"]);c!=null&&y(n,["maskImageConfig"],gq(c));const u=x(e,["controlImageConfig"]);u!=null&&y(n,["controlImageConfig"],cF(u));const f=x(e,["styleImageConfig"]);f!=null&&y(n,["styleImageConfig"],f);const p=x(e,["subjectImageConfig"]);return p!=null&&y(n,["subjectImageConfig"],p),n}function eP(e,t){const n={},r=x(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const a=x(e,["safetyAttributes","scores"]);a!=null&&y(n,["scores"],a);const l=x(e,["contentType"]);return l!=null&&y(n,["contentType"],l),n}function tP(e,t){const n={},r=x(e,["safetyAttributes","categories"]);r!=null&&y(n,["categories"],r);const a=x(e,["safetyAttributes","scores"]);a!=null&&y(n,["scores"],a);const l=x(e,["contentType"]);return l!=null&&y(n,["contentType"],l),n}function jq(e,t){const n={},r=x(e,["category"]);if(r!=null&&y(n,["category"],r),x(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=x(e,["threshold"]);return a!=null&&y(n,["threshold"],a),n}function _q(e,t){const n={},r=x(e,["image"]);return r!=null&&y(n,["image"],Aa(r)),n}function Eq(e,t,n){const r={},a=x(e,["mode"]);t!==void 0&&a!=null&&y(t,["parameters","mode"],a);const l=x(e,["maxPredictions"]);t!==void 0&&l!=null&&y(t,["parameters","maxPredictions"],l);const c=x(e,["confidenceThreshold"]);t!==void 0&&c!=null&&y(t,["parameters","confidenceThreshold"],c);const u=x(e,["maskDilation"]);t!==void 0&&u!=null&&y(t,["parameters","maskDilation"],u);const f=x(e,["binaryColorThreshold"]);t!==void 0&&f!=null&&y(t,["parameters","binaryColorThreshold"],f);const p=x(e,["labels"]);return t!==void 0&&p!=null&&y(t,["labels"],p),r}function Cq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["source"]);l!=null&&Tq(l,r);const c=x(t,["config"]);return c!=null&&Eq(c,r),r}function Aq(e,t){const n={},r=x(e,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>QF(l))),y(n,["generatedMasks"],a)}return n}function Tq(e,t,n){const r={},a=x(e,["prompt"]);t!==void 0&&a!=null&&y(t,["instances[0]","prompt"],a);const l=x(e,["image"]);t!==void 0&&l!=null&&y(t,["instances[0]","image"],Aa(l));const c=x(e,["scribbleImage"]);return t!==void 0&&c!=null&&y(t,["instances[0]","scribble"],_q(c)),r}function kq(e,t){const n={},r=x(e,["retrievalConfig"]);r!=null&&y(n,["retrievalConfig"],r);const a=x(e,["functionCallingConfig"]);return a!=null&&y(n,["functionCallingConfig"],RF(a)),n}function Mq(e,t){const n={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=x(e,["computerUse"]);r!=null&&y(n,["computerUse"],r);const a=x(e,["fileSearch"]);a!=null&&y(n,["fileSearch"],a);const l=x(e,["codeExecution"]);if(l!=null&&y(n,["codeExecution"],l),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=x(e,["functionDeclarations"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(v=>v)),y(n,["functionDeclarations"],g)}const u=x(e,["googleMaps"]);u!=null&&y(n,["googleMaps"],iq(u));const f=x(e,["googleSearch"]);f!=null&&y(n,["googleSearch"],sq(f));const p=x(e,["googleSearchRetrieval"]);p!=null&&y(n,["googleSearchRetrieval"],p);const m=x(e,["urlContext"]);return m!=null&&y(n,["urlContext"],m),n}function nP(e,t){const n={},r=x(e,["retrieval"]);r!=null&&y(n,["retrieval"],r);const a=x(e,["computerUse"]);if(a!=null&&y(n,["computerUse"],a),x(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=x(e,["codeExecution"]);l!=null&&y(n,["codeExecution"],l);const c=x(e,["enterpriseWebSearch"]);c!=null&&y(n,["enterpriseWebSearch"],c);const u=x(e,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(N=>PF(N))),y(n,["functionDeclarations"],v)}const f=x(e,["googleMaps"]);f!=null&&y(n,["googleMaps"],f);const p=x(e,["googleSearch"]);p!=null&&y(n,["googleSearch"],p);const m=x(e,["googleSearchRetrieval"]);m!=null&&y(n,["googleSearchRetrieval"],m);const g=x(e,["urlContext"]);return g!=null&&y(n,["urlContext"],g),n}function Rq(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=x(e,["updateTime"]);return l!=null&&y(n,["updateTime"],l),n}function Pq(e,t){const n={},r=x(e,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["createTime"]);a!=null&&y(n,["createTime"],a);const l=x(e,["updateTime"]);return l!=null&&y(n,["updateTime"],l),n}function Iq(e,t,n){const r={},a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);const c=x(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&y(t,["defaultCheckpointId"],c),r}function Oq(e,t,n){const r={},a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["description"]);t!==void 0&&l!=null&&y(t,["description"],l);const c=x(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&y(t,["defaultCheckpointId"],c),r}function Dq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","name"],mt(e,a));const l=x(t,["config"]);return l!=null&&Iq(l,r),r}function Lq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["config"]);return l!=null&&Oq(l,r),r}function zq(e,t,n){const r={},a=x(e,["outputGcsUri"]);t!==void 0&&a!=null&&y(t,["parameters","storageUri"],a);const l=x(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&y(t,["parameters","safetySetting"],l);const c=x(e,["personGeneration"]);t!==void 0&&c!=null&&y(t,["parameters","personGeneration"],c);const u=x(e,["includeRaiReason"]);t!==void 0&&u!=null&&y(t,["parameters","includeRaiReason"],u);const f=x(e,["outputMimeType"]);t!==void 0&&f!=null&&y(t,["parameters","outputOptions","mimeType"],f);const p=x(e,["outputCompressionQuality"]);t!==void 0&&p!=null&&y(t,["parameters","outputOptions","compressionQuality"],p);const m=x(e,["enhanceInputImage"]);t!==void 0&&m!=null&&y(t,["parameters","upscaleConfig","enhanceInputImage"],m);const g=x(e,["imagePreservationFactor"]);t!==void 0&&g!=null&&y(t,["parameters","upscaleConfig","imagePreservationFactor"],g);const v=x(e,["labels"]);t!==void 0&&v!=null&&y(t,["labels"],v);const N=x(e,["numberOfImages"]);t!==void 0&&N!=null&&y(t,["parameters","sampleCount"],N);const j=x(e,["mode"]);return t!==void 0&&j!=null&&y(t,["parameters","mode"],j),r}function Uq(e,t,n){const r={},a=x(t,["model"]);a!=null&&y(r,["_url","model"],mt(e,a));const l=x(t,["image"]);l!=null&&y(r,["instances[0]","image"],Aa(l));const c=x(t,["upscaleFactor"]);c!=null&&y(r,["parameters","upscaleConfig","upscaleFactor"],c);const u=x(t,["config"]);return u!=null&&zq(u,r),r}function $q(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>sh(c))),y(n,["generatedImages"],l)}return n}function Gq(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["uri"],r);const a=x(e,["encodedVideo"]);a!=null&&y(n,["videoBytes"],Qs(a));const l=x(e,["encoding"]);return l!=null&&y(n,["mimeType"],l),n}function Bq(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["uri"],r);const a=x(e,["bytesBase64Encoded"]);a!=null&&y(n,["videoBytes"],Qs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function Fq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["_self"],Aa(r));const a=x(e,["maskMode"]);return a!=null&&y(n,["maskMode"],a),n}function qq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["image"],lh(r));const a=x(e,["referenceType"]);return a!=null&&y(n,["referenceType"],a),n}function Hq(e,t){const n={},r=x(e,["image"]);r!=null&&y(n,["image"],Aa(r));const a=x(e,["referenceType"]);return a!=null&&y(n,["referenceType"],a),n}function rP(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["uri"],r);const a=x(e,["videoBytes"]);a!=null&&y(n,["encodedVideo"],Qs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["encoding"],l),n}function aP(e,t){const n={},r=x(e,["uri"]);r!=null&&y(n,["gcsUri"],r);const a=x(e,["videoBytes"]);a!=null&&y(n,["bytesBase64Encoded"],Qs(a));const l=x(e,["mimeType"]);return l!=null&&y(n,["mimeType"],l),n}function Vq(e,t){const n={},r=x(e,["displayName"]);return t!==void 0&&r!=null&&y(t,["displayName"],r),n}function Kq(e){const t={},n=x(e,["config"]);return n!=null&&Vq(n,t),t}function Yq(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function Jq(e){const t={},n=x(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&Yq(r,t),t}function Wq(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function Xq(e,t){const n={},r=x(e,["customMetadata"]);if(t!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["customMetadata"],l)}const a=x(e,["chunkingConfig"]);return t!==void 0&&a!=null&&y(t,["chunkingConfig"],a),n}function Zq(e){const t={},n=x(e,["name"]);n!=null&&y(t,["name"],n);const r=x(e,["metadata"]);r!=null&&y(t,["metadata"],r);const a=x(e,["done"]);a!=null&&y(t,["done"],a);const l=x(e,["error"]);l!=null&&y(t,["error"],l);const c=x(e,["response"]);return c!=null&&y(t,["response"],eH(c)),t}function Qq(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=x(e,["fileName"]);r!=null&&y(t,["fileName"],r);const a=x(e,["config"]);return a!=null&&Xq(a,t),t}function eH(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["parent"]);r!=null&&y(t,["parent"],r);const a=x(e,["documentName"]);return a!=null&&y(t,["documentName"],a),t}function tH(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function nH(e){const t={},n=x(e,["config"]);return n!=null&&tH(n,t),t}function rH(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["fileSearchStores"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["fileSearchStores"],l)}return t}function iP(e,t){const n={},r=x(e,["mimeType"]);t!==void 0&&r!=null&&y(t,["mimeType"],r);const a=x(e,["displayName"]);t!==void 0&&a!=null&&y(t,["displayName"],a);const l=x(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>f)),y(t,["customMetadata"],u)}const c=x(e,["chunkingConfig"]);return t!==void 0&&c!=null&&y(t,["chunkingConfig"],c),n}function aH(e){const t={},n=x(e,["fileSearchStoreName"]);n!=null&&y(t,["_url","file_search_store_name"],n);const r=x(e,["config"]);return r!=null&&iP(r,t),t}function iH(e){const t={},n=x(e,["sdkHttpResponse"]);return n!=null&&y(t,["sdkHttpResponse"],n),t}const sH="Content-Type",lH="X-Server-Timeout",oH="User-Agent",Ny="x-goog-api-client",cH="1.39.0",uH=`google-genai-sdk/${cH}`,dH="v1beta1",fH="v1beta";class pH{constructor(t){var n,r,a;this.clientOptions=Object.assign({},t),this.customBaseUrl=(n=t.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const u=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!u?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:dH}else{if(!this.clientOptions.apiKey)throw new cd({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:fH,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,r){const a=[this.getRequestUrlInternal(n)];return r&&a.push(this.getBaseResourcePath()),t!==""&&a.push(t),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(t,n){return!(n.baseUrl&&n.baseUrlResourceScope===gy.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,r);if(t.queryParams)for(const[c,u]of Object.entries(t.queryParams))a.searchParams.append(c,String(u));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.unaryApiCall(a,l,t.httpMethod)}patchHttpOptions(t,n){const r=JSON.parse(JSON.stringify(t));for(const[a,l]of Object.entries(n))typeof l=="object"?r[a]=Object.assign(Object.assign({},r[a]),l):l!==void 0&&(r[a]=l);return r}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,n),a=this.constructUrl(t.path,n,r);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,a.toString(),t.abortSignal),this.streamApiCall(a,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,r,a){if(n&&n.timeout||a){const l=new AbortController,c=l.signal;if(n.timeout&&n?.timeout>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}a&&a.addEventListener("abort",()=>{l.abort()}),t.signal=c}return n&&n.extraBody!==null&&mH(t,n.extraBody),t.headers=await this.getHeadersInternal(n,r),t}async unaryApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await B2(a),new xy(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(t,n,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:r})).then(async a=>(await B2(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(t){return wa(this,arguments,function*(){var r;const a=(r=t?.body)===null||r===void 0?void 0:r.getReader(),l=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let c="";const u="data:",f=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:m}=yield qe(a.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=l.decode(m,{stream:!0});try{const j=JSON.parse(g);if("error"in j){const _=JSON.parse(JSON.stringify(j.error)),E=_.status,C=_.code,A=`got status: ${E}. ${JSON.stringify(j)}`;if(C>=400&&C<600)throw new cd({message:A,status:C})}}catch(j){if(j.name==="ApiError")throw j}c+=g;let v=-1,N=0;for(;;){v=-1,N=0;for(const E of f){const C=c.indexOf(E);C!==-1&&(v===-1||C<v)&&(v=C,N=E.length)}if(v===-1)break;const j=c.substring(0,v);c=c.substring(v+N);const _=j.trim();if(_.startsWith(u)){const E=_.substring(u.length).trim();try{const C=new Response(E,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield qe(new xy(C))}catch(C){throw new Error(`exception parsing stream chunk ${E}. ${C}`)}}}}}finally{a.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},n=uH+" "+this.clientOptions.userAgentExtra;return t[oH]=n,t[Ny]=n,t[sH]="application/json",t}async getHeadersInternal(t,n){const r=new Headers;if(t&&t.headers){for(const[a,l]of Object.entries(t.headers))r.append(a,l);t.timeout&&t.timeout>0&&r.append(lH,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(t){var n;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(t,n){var r;const a={};n!=null&&(a.mimeType=n.mimeType,a.name=n.name,a.displayName=n.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const l=this.clientOptions.uploader,c=await l.stat(t);a.sizeBytes=String(c.size);const u=(r=n?.mimeType)!==null&&r!==void 0?r:c.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=u;const f={file:a},p=this.getFileName(t),m=_e("upload/v1beta/files",f._url),g=await this.fetchUploadUrl(m,a.sizeBytes,a.mimeType,p,f,n?.httpOptions);return l.upload(t,g,this)}async uploadFileToFileSearchStore(t,n,r){var a;const l=this.clientOptions.uploader,c=await l.stat(n),u=String(c.size),f=(a=r?.mimeType)!==null&&a!==void 0?a:c.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${t}:uploadToFileSearchStore`,m=this.getFileName(n),g={};r!=null&&iP(r,g);const v=await this.fetchUploadUrl(p,u,f,m,g,r?.httpOptions);return l.uploadToFileSearchStore(n,v,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,r,a,l,c){var u;let f={};c?f=c:f={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},a?{"X-Goog-Upload-File-Name":a}:{})};const p=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:f});if(!p||!p?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const m=(u=p?.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(m===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return m}}async function B2(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let r;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await e.json():r={error:{message:await e.text(),code:e.status,status:e.statusText}};const a=JSON.stringify(r);throw n>=400&&n<600?new cd({message:a,status:n}):new Error(a)}}function mH(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(l,c){const u=Object.assign({},l);for(const f in c)if(Object.prototype.hasOwnProperty.call(c,f)){const p=c[f],m=u[f];p&&typeof p=="object"&&!Array.isArray(p)&&m&&typeof m=="object"&&!Array.isArray(m)?u[f]=r(m,p):(m&&p&&typeof m!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${f}". Original type: ${typeof m}, New type: ${typeof p}. Overwriting.`),u[f]=p)}return u}const a=r(n,t);e.body=JSON.stringify(a)}const hH="mcp_used/unknown";let gH=!1;function sP(e){for(const t of e)if(xH(t)||typeof t=="object"&&"inputSchema"in t)return!0;return gH}function lP(e){var t;const n=(t=e[Ny])!==null&&t!==void 0?t:"";e[Ny]=(n+` ${hH}`).trimStart()}function xH(e){return e!==null&&typeof e=="object"&&e instanceof rw}function vH(e){return wa(this,arguments,function*(n,r=100){let a,l=0;for(;l<r;){const c=yield qe(n.listTools({cursor:a}));for(const u of c.tools)yield yield qe(u),l++;if(!c.nextCursor)break;a=c.nextCursor}})}class rw{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new rw(t,n)}async initialize(){var t,n,r,a;if(this.mcpTools.length>0)return;const l={},c=[];for(const m of this.mcpClients)try{for(var u=!0,f=(n=void 0,Na(vH(m))),p;p=await f.next(),t=p.done,!t;u=!0){a=p.value,u=!1;const g=a;c.push(g);const v=g.name;if(l[v])throw new Error(`Duplicate function name ${v} found in MCP tools. Please ensure function names are unique.`);l[v]=m}}catch(g){n={error:g}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),K8(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[r.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await a.callTool({name:r.name,arguments:r.args},void 0,l);n.push({functionResponse:{name:r.name,response:c.isError?{error:c}:c}})}return n}}async function yH(e,t,n){const r=new U8;let a;n.data instanceof Blob?a=JSON.parse(await n.data.text()):a=JSON.parse(n.data),Object.assign(r,a),t(r)}class bH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r}async connect(t){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=SH(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),f=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${u}`;let p=()=>{};const m=new Promise(R=>{p=R}),g=t.callbacks,v=function(){p({})},N=this.apiClient,j={onopen:v,onmessage:R=>{yH(N,g.onmessage,R)},onerror:(n=g?.onerror)!==null&&n!==void 0?n:function(R){},onclose:(r=g?.onclose)!==null&&r!==void 0?r:function(R){}},_=this.webSocketFactory.create(f,NH(c),j);_.connect(),await m;const A={setup:{model:mt(this.apiClient,t.model)}};return _.send(JSON.stringify(A)),new wH(_,this.apiClient)}}class wH{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=VB(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=HB(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Qo.PLAY)}pause(){this.sendPlaybackControl(Qo.PAUSE)}stop(){this.sendPlaybackControl(Qo.STOP)}resetContext(){this.sendPlaybackControl(Qo.RESET_CONTEXT)}close(){this.conn.close()}}function NH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function SH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const jH="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function _H(e,t,n){const r=new z8;let a;n.data instanceof Blob?a=await n.data.text():n.data instanceof ArrayBuffer?a=new TextDecoder().decode(n.data):a=n.data;const l=JSON.parse(a);if(e.isVertexAI()){const c=JB(l);Object.assign(r,c)}else Object.assign(r,l);t(r)}class EH{constructor(t,n,r){this.apiClient=t,this.auth=n,this.webSocketFactory=r,this.music=new bH(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,r,a,l,c,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const f=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let m;const g=this.apiClient.getHeaders();t.config&&t.config.tools&&sP(t.config.tools)&&lP(g);const v=kH(g);if(this.apiClient.isVertexAI()){const z=this.apiClient.getProject(),q=this.apiClient.getLocation(),J=this.apiClient.getApiKey(),U=!!z&&!!q||!!J;this.apiClient.getCustomBaseUrl()&&!U?m=f:(m=`${f}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(v,m))}else{const z=this.apiClient.getApiKey();let q="BidiGenerateContent",J="key";z?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),q="BidiGenerateContentConstrained",J="access_token"),m=`${f}/ws/google.ai.generativelanguage.${p}.GenerativeService.${q}?${J}=${z}`}let N=()=>{};const j=new Promise(z=>{N=z}),_=t.callbacks,E=function(){var z;(z=_?.onopen)===null||z===void 0||z.call(_),N({})},C=this.apiClient,A={onopen:E,onmessage:z=>{_H(C,_.onmessage,z)},onerror:(n=_?.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=_?.onclose)!==null&&r!==void 0?r:function(z){}},R=this.webSocketFactory.create(m,TH(v),A);R.connect(),await j;let M=mt(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&M.startsWith("publishers/")){const z=this.apiClient.getProject(),q=this.apiClient.getLocation();z&&q&&(M=`projects/${z}/locations/${q}/`+M)}let I={};this.apiClient.isVertexAI()&&((a=t.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[od.AUDIO]}:t.config.responseModalities=[od.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(u=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&u!==void 0?u:[],k=[];for(const z of P)if(this.isCallableTool(z)){const q=z;k.push(await q.tool())}else k.push(z);k.length>0&&(t.config.tools=k);const L={model:M,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?I=qB(this.apiClient,L):I=FB(this.apiClient,L),delete I.config,R.send(JSON.stringify(I)),new AH(R,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const CH={turnComplete:!0};class AH{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=sa(n.turns),t.isVertexAI()||(r=r.map(a=>ih(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const l of r){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(jH)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},CH),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:YB(t)}:n={realtimeInput:KB(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function TH(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function kH(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}const F2=10;function q2(e){var t,n,r;if(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let a=!1;for(const c of(n=e?.tools)!==null&&n!==void 0?n:[])if(oc(c)){a=!0;break}if(!a)return!0;const l=(r=e?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function oc(e){return"callTool"in e&&typeof e.callTool=="function"}function MH(e){var t,n,r;return(r=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(a=>oc(a)))!==null&&r!==void 0?r:!1}function H2(e){var t;const n=[];return!((t=e?.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((r,a)=>{if(oc(r))return;const l=r;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(a)}),n}function V2(e){var t;return!(!((t=e?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class RH extends Qi{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var r,a,l,c,u;const f=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!MH(n)||q2(n.config))return await this.generateContentInternal(f);const p=H2(n);if(p.length>0){const _=p.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let m,g;const v=sa(f.contents),N=(l=(a=(r=f.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&l!==void 0?l:F2;let j=0;for(;j<N&&(m=await this.generateContentInternal(f),!(!m.functionCalls||m.functionCalls.length===0));){const _=m.candidates[0].content,E=[];for(const C of(u=(c=n.config)===null||c===void 0?void 0:c.tools)!==null&&u!==void 0?u:[])if(oc(C)){const R=await C.callTool(m.functionCalls);E.push(...R)}j++,g={role:"user",parts:E},f.contents=sa(f.contents),f.contents.push(_),f.contents.push(g),V2(f.config)&&(v.push(_),v.push(g))}return V2(f.config)&&(m.automaticFunctionCallingHistory=v),m},this.generateContentStream=async n=>{var r,a,l,c,u;if(this.maybeMoveToResponseJsonSchem(n),q2(n.config)){const g=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(g)}const f=H2(n);if(f.length>0){const g=f.map(v=>`tools[${v}]`).join(", ");throw new Error(`Incompatible tools found at ${g}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(a=(r=n?.config)===null||r===void 0?void 0:r.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,m=(u=(c=n?.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(p&&!m)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var a;let l;const c=[];if(r?.generatedImages)for(const f of r.generatedImages)f&&f?.safetyAttributes&&((a=f?.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?l=f?.safetyAttributes:c.push(f);let u;return l?u={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:c,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const c={config:Object.assign(Object.assign({},{queryBase:!0}),n?.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((r=c.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new eo(Hi.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(c),c)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const a={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(a)},this.generateVideos=async n=>{var r,a,l,c,u,f;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((a=n.video)===null||a===void 0)&&a.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((f=(u=n.source)===null||u===void 0?void 0:u.video)===null||f===void 0)&&f.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,r,a;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const c=await Promise.all(l.map(async f=>oc(f)?await f.tool():f)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:c})};if(u.config.tools=c,t.config&&t.config.tools&&sP(t.config.tools)){const f=(a=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&a!==void 0?a:{};let p=Object.assign({},f);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),lP(p),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:p})}return u}async initAfcToolsMap(t){var n,r,a;const l=new Map;for(const c of(r=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(oc(c)){const u=c,f=await u.tool();for(const p of(a=f.functionDeclarations)!==null&&a!==void 0?a:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,u)}}return l}async processAfcStream(t){var n,r,a;const l=(a=(r=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&a!==void 0?a:F2;let c=!1,u=0;const f=await this.initAfcToolsMap(t);return(function(p,m,g){return wa(this,arguments,function*(){for(var v,N,j,_,E,C;u<l;){c&&(u++,c=!1);const I=yield qe(p.processParamsMaybeAddMcpUsage(g)),P=yield qe(p.generateContentStreamInternal(I)),k=[],L=[];try{for(var A=!0,R=(N=void 0,Na(P)),M;M=yield qe(R.next()),v=M.done,!v;A=!0){_=M.value,A=!1;const z=_;if(yield yield qe(z),z.candidates&&(!((E=z.candidates[0])===null||E===void 0)&&E.content)){L.push(z.candidates[0].content);for(const q of(C=z.candidates[0].content.parts)!==null&&C!==void 0?C:[])if(u<l&&q.functionCall){if(!q.functionCall.name)throw new Error("Function call name was not returned by the model.");if(m.has(q.functionCall.name)){const J=yield qe(m.get(q.functionCall.name).callTool([q.functionCall]));k.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${m.keys()}, mising tool: ${q.functionCall.name}`)}}}}catch(z){N={error:z}}finally{try{!A&&!v&&(j=R.return)&&(yield qe(j.call(R)))}finally{if(N)throw N.error}}if(k.length>0){c=!0;const z=new Ru;z.candidates=[{content:{role:"user",parts:k}}],yield yield qe(z);const q=[];q.push(...L),q.push({role:"user",parts:k});const J=sa(g.contents).concat(q);g.contents=J}else break}})})(this,f,t)}async generateContentInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=U2(this.apiClient,t);return u=_e("{model}:generateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=G2(m),v=new Ru;return Object.assign(v,g),v})}else{const p=z2(this.apiClient,t);return u=_e("{model}:generateContent",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=$2(m),v=new Ru;return Object.assign(v,g),v})}}async generateContentStreamInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=U2(this.apiClient,t);return u=_e("{model}:streamGenerateContent?alt=sse",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),c.then(function(g){return wa(this,arguments,function*(){var v,N,j,_;try{for(var E=!0,C=Na(g),A;A=yield qe(C.next()),v=A.done,!v;E=!0){_=A.value,E=!1;const R=_,M=G2(yield qe(R.json()),t);M.sdkHttpResponse={headers:R.headers};const I=new Ru;Object.assign(I,M),yield yield qe(I)}}catch(R){N={error:R}}finally{try{!E&&!v&&(j=C.return)&&(yield qe(j.call(C)))}finally{if(N)throw N.error}}})})}else{const p=z2(this.apiClient,t);return u=_e("{model}:streamGenerateContent?alt=sse",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(g){return wa(this,arguments,function*(){var v,N,j,_;try{for(var E=!0,C=Na(g),A;A=yield qe(C.next()),v=A.done,!v;E=!0){_=A.value,E=!1;const R=_,M=$2(yield qe(R.json()),t);M.sdkHttpResponse={headers:R.headers};const I=new Ru;Object.assign(I,M),yield yield qe(I)}}catch(R){N={error:R}}finally{try{!E&&!v&&(j=C.return)&&(yield qe(j.call(C)))}finally{if(N)throw N.error}}})})}}async embedContent(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=EF(this.apiClient,t);return u=_e("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=AF(m),v=new w2;return Object.assign(v,g),v})}else{const p=_F(this.apiClient,t);return u=_e("{model}:batchEmbedContents",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=CF(m),v=new w2;return Object.assign(v,g),v})}}async generateImagesInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=UF(this.apiClient,t);return u=_e("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=GF(m),v=new N2;return Object.assign(v,g),v})}else{const p=zF(this.apiClient,t);return u=_e("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=$F(m),v=new N2;return Object.assign(v,g),v})}}async editImageInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=wF(this.apiClient,t);return l=_e("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=NF(f),m=new E8;return Object.assign(m,p),m})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=Uq(this.apiClient,t);return l=_e("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=$q(f),m=new C8;return Object.assign(m,p),m})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=bq(this.apiClient,t);return l=_e("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=wq(f),m=new A8;return Object.assign(m,p),m})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=Cq(this.apiClient,t);return l=_e("{model}:predict",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=Aq(f),m=new T8;return Object.assign(m,p),m})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=aq(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>wy(m))}else{const p=rq(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>by(m))}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=pq(this.apiClient,t);return u=_e("{models_url}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=hq(m),v=new S2;return Object.assign(v,g),v})}else{const p=fq(this.apiClient,t);return u=_e("{models_url}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=mq(m),v=new S2;return Object.assign(v,g),v})}}async update(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=Lq(this.apiClient,t);return u=_e("{model}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>wy(m))}else{const p=Dq(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>by(m))}}async delete(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=xF(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=yF(m),v=new j2;return Object.assign(v,g),v})}else{const p=gF(this.apiClient,t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=vF(m),v=new j2;return Object.assign(v,g),v})}}async countTokens(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=pF(this.apiClient,t);return u=_e("{model}:countTokens",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=hF(m),v=new _2;return Object.assign(v,g),v})}else{const p=fF(this.apiClient,t);return u=_e("{model}:countTokens",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=mF(m),v=new _2;return Object.assign(v,g),v})}}async computeTokens(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=iF(this.apiClient,t);return l=_e("{model}:computeTokens",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=sF(f),m=new k8;return Object.assign(m,p),m})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=KF(this.apiClient,t);return u=_e("{model}:predictLongRunning",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c.then(m=>{const g=HF(m),v=new Qp;return Object.assign(v,g),v})}else{const p=VF(this.apiClient,t);return u=_e("{model}:predictLongRunning",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c.then(m=>{const g=qF(m),v=new Qp;return Object.assign(v,g),v})}}}class PH extends Qi{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(t){const n=t.operation,r=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=n.name.split("/operations/")[0];let l;r&&"httpOptions"in r&&(l=r.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:a,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=b8(t);return u=_e("{operationName}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json()),c}else{const p=y8(t);return u=_e("{operationName}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),c}}async fetchPredictVideosOperationInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=f8(t);return l=_e("{resourceName}:fetchPredictOperation",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}function IH(e){const t={},n=x(e,["data"]);if(n!=null&&y(t,["data"],n),x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function OH(e){const t={},n=x(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(l=>qH(l))),y(t,["parts"],a)}const r=x(e,["role"]);return r!=null&&y(t,["role"],r),t}function DH(e,t,n){const r={},a=x(t,["expireTime"]);n!==void 0&&a!=null&&y(n,["expireTime"],a);const l=x(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&y(n,["newSessionExpireTime"],l);const c=x(t,["uses"]);n!==void 0&&c!=null&&y(n,["uses"],c);const u=x(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],FH(e,u));const f=x(t,["lockAdditionalFields"]);return n!==void 0&&f!=null&&y(n,["fieldMask"],f),r}function LH(e,t){const n={},r=x(t,["config"]);return r!=null&&y(n,["config"],DH(e,r,n)),n}function zH(e){const t={};if(x(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=x(e,["fileUri"]);n!=null&&y(t,["fileUri"],n);const r=x(e,["mimeType"]);return r!=null&&y(t,["mimeType"],r),t}function UH(e){const t={},n=x(e,["id"]);n!=null&&y(t,["id"],n);const r=x(e,["args"]);r!=null&&y(t,["args"],r);const a=x(e,["name"]);if(a!=null&&y(t,["name"],a),x(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(x(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function $H(e){const t={};if(x(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=x(e,["enableWidget"]);return n!=null&&y(t,["enableWidget"],n),t}function GH(e){const t={};if(x(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(x(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=x(e,["timeRangeFilter"]);return n!=null&&y(t,["timeRangeFilter"],n),t}function BH(e,t){const n={},r=x(e,["generationConfig"]);t!==void 0&&r!=null&&y(t,["setup","generationConfig"],r);const a=x(e,["responseModalities"]);t!==void 0&&a!=null&&y(t,["setup","generationConfig","responseModalities"],a);const l=x(e,["temperature"]);t!==void 0&&l!=null&&y(t,["setup","generationConfig","temperature"],l);const c=x(e,["topP"]);t!==void 0&&c!=null&&y(t,["setup","generationConfig","topP"],c);const u=x(e,["topK"]);t!==void 0&&u!=null&&y(t,["setup","generationConfig","topK"],u);const f=x(e,["maxOutputTokens"]);t!==void 0&&f!=null&&y(t,["setup","generationConfig","maxOutputTokens"],f);const p=x(e,["mediaResolution"]);t!==void 0&&p!=null&&y(t,["setup","generationConfig","mediaResolution"],p);const m=x(e,["seed"]);t!==void 0&&m!=null&&y(t,["setup","generationConfig","seed"],m);const g=x(e,["speechConfig"]);t!==void 0&&g!=null&&y(t,["setup","generationConfig","speechConfig"],nw(g));const v=x(e,["thinkingConfig"]);t!==void 0&&v!=null&&y(t,["setup","generationConfig","thinkingConfig"],v);const N=x(e,["enableAffectiveDialog"]);t!==void 0&&N!=null&&y(t,["setup","generationConfig","enableAffectiveDialog"],N);const j=x(e,["systemInstruction"]);t!==void 0&&j!=null&&y(t,["setup","systemInstruction"],OH(Zn(j)));const _=x(e,["tools"]);if(t!==void 0&&_!=null){let P=jc(_);Array.isArray(P)&&(P=P.map(k=>VH(Sc(k)))),y(t,["setup","tools"],P)}const E=x(e,["sessionResumption"]);t!==void 0&&E!=null&&y(t,["setup","sessionResumption"],HH(E));const C=x(e,["inputAudioTranscription"]);t!==void 0&&C!=null&&y(t,["setup","inputAudioTranscription"],C);const A=x(e,["outputAudioTranscription"]);t!==void 0&&A!=null&&y(t,["setup","outputAudioTranscription"],A);const R=x(e,["realtimeInputConfig"]);t!==void 0&&R!=null&&y(t,["setup","realtimeInputConfig"],R);const M=x(e,["contextWindowCompression"]);t!==void 0&&M!=null&&y(t,["setup","contextWindowCompression"],M);const I=x(e,["proactivity"]);if(t!==void 0&&I!=null&&y(t,["setup","proactivity"],I),x(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function FH(e,t){const n={},r=x(t,["model"]);r!=null&&y(n,["setup","model"],mt(e,r));const a=x(t,["config"]);return a!=null&&y(n,["config"],BH(a,n)),n}function qH(e){const t={},n=x(e,["mediaResolution"]);n!=null&&y(t,["mediaResolution"],n);const r=x(e,["codeExecutionResult"]);r!=null&&y(t,["codeExecutionResult"],r);const a=x(e,["executableCode"]);a!=null&&y(t,["executableCode"],a);const l=x(e,["fileData"]);l!=null&&y(t,["fileData"],zH(l));const c=x(e,["functionCall"]);c!=null&&y(t,["functionCall"],UH(c));const u=x(e,["functionResponse"]);u!=null&&y(t,["functionResponse"],u);const f=x(e,["inlineData"]);f!=null&&y(t,["inlineData"],IH(f));const p=x(e,["text"]);p!=null&&y(t,["text"],p);const m=x(e,["thought"]);m!=null&&y(t,["thought"],m);const g=x(e,["thoughtSignature"]);g!=null&&y(t,["thoughtSignature"],g);const v=x(e,["videoMetadata"]);return v!=null&&y(t,["videoMetadata"],v),t}function HH(e){const t={},n=x(e,["handle"]);if(n!=null&&y(t,["handle"],n),x(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function VH(e){const t={};if(x(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=x(e,["computerUse"]);n!=null&&y(t,["computerUse"],n);const r=x(e,["fileSearch"]);r!=null&&y(t,["fileSearch"],r);const a=x(e,["codeExecution"]);if(a!=null&&y(t,["codeExecution"],a),x(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=x(e,["functionDeclarations"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(g=>g)),y(t,["functionDeclarations"],m)}const c=x(e,["googleMaps"]);c!=null&&y(t,["googleMaps"],$H(c));const u=x(e,["googleSearch"]);u!=null&&y(t,["googleSearch"],GH(u));const f=x(e,["googleSearchRetrieval"]);f!=null&&y(t,["googleSearchRetrieval"],f);const p=x(e,["urlContext"]);return p!=null&&y(t,["urlContext"],p),t}function KH(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const a=Object.keys(r).map(l=>`${n}.${l}`);t.push(...a)}else t.push(n)}return t.join(",")}function YH(e,t){let n=null;const r=e.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const l=r.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else r!==void 0&&delete e.bidiGenerateContentSetup;const a=e.fieldMask;if(n){const l=KH(n);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)l?e.fieldMask=l:delete e.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];a.length>0&&(u=a.map(p=>c.includes(p)?`generationConfig.${p}`:p));const f=[];l&&f.push(l),u.length>0&&f.push(...u),f.length>0?e.fieldMask=f.join(","):delete e.fieldMask}else delete e.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?e.fieldMask=a.join(","):delete e.fieldMask;return e}class JH extends Qi{constructor(t){super(),this.apiClient=t}async create(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=LH(this.apiClient,t);l=_e("auth_tokens",u._url),c=u._query,delete u.config,delete u._url,delete u._query;const f=YH(u,t.config);return a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(p=>p.json()),a.then(p=>p)}}}function WH(e,t){const n={},r=x(e,["force"]);return t!==void 0&&r!=null&&y(t,["_query","force"],r),n}function XH(e){const t={},n=x(e,["name"]);n!=null&&y(t,["_url","name"],n);const r=x(e,["config"]);return r!=null&&WH(r,t),t}function ZH(e){const t={},n=x(e,["name"]);return n!=null&&y(t,["_url","name"],n),t}function QH(e,t){const n={},r=x(e,["pageSize"]);t!==void 0&&r!=null&&y(t,["_query","pageSize"],r);const a=x(e,["pageToken"]);return t!==void 0&&a!=null&&y(t,["_query","pageToken"],a),n}function e9(e){const t={},n=x(e,["parent"]);n!=null&&y(t,["_url","parent"],n);const r=x(e,["config"]);return r!=null&&QH(r,t),t}function t9(e){const t={},n=x(e,["sdkHttpResponse"]);n!=null&&y(t,["sdkHttpResponse"],n);const r=x(e,["nextPageToken"]);r!=null&&y(t,["nextPageToken"],r);const a=x(e,["documents"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(c=>c)),y(t,["documents"],l)}return t}class n9 extends Qi{constructor(t){super(),this.apiClient=t,this.list=async n=>new eo(Hi.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZH(t);return l=_e("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=XH(t);a=_e("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=e9(t);return l=_e("{parent}/documents",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=t9(f),m=new M8;return Object.assign(m,p),m})}}}class r9 extends Qi{constructor(t,n=new n9(t)){super(),this.apiClient=t,this.documents=n,this.list=async(r={})=>new eo(Hi.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Kq(t);return l=_e("fileSearchStores",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async get(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Wq(t);return l=_e("{name}",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>f)}}async delete(t){var n,r;let a="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=Jq(t);a=_e("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nH(t);return l=_e("fileSearchStores",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=rH(f),m=new R8;return Object.assign(m,p),m})}}async uploadToFileSearchStoreInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=aH(t);return l=_e("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=iH(f),m=new P8;return Object.assign(m,p),m})}}async importFile(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Qq(t);return l=_e("{file_search_store_name}:importFile",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),a.then(f=>{const p=Zq(f),m=new Xb;return Object.assign(m,p),m})}}}let oP=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return oP=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const a9=()=>oP();function Sy(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const jy=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class la extends Error{}class cr extends la{constructor(t,n,r,a){super(`${cr.makeMessage(t,n,r)}`),this.status=t,this.headers=a,this.error=n}static makeMessage(t,n,r){const a=n?.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return t&&a?`${t} ${a}`:t?`${t} status code (no body)`:a||"(no status code or body)"}static generate(t,n,r,a){if(!t||!a)return new oh({message:r,cause:jy(n)});const l=n;return t===400?new uP(t,l,r,a):t===401?new dP(t,l,r,a):t===403?new fP(t,l,r,a):t===404?new pP(t,l,r,a):t===409?new mP(t,l,r,a):t===422?new hP(t,l,r,a):t===429?new gP(t,l,r,a):t>=500?new xP(t,l,r,a):new cr(t,l,r,a)}}class _y extends cr{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class oh extends cr{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class cP extends oh{constructor({message:t}={}){super({message:t??"Request timed out."})}}class uP extends cr{}class dP extends cr{}class fP extends cr{}class pP extends cr{}class mP extends cr{}class hP extends cr{}class gP extends cr{}class xP extends cr{}const i9=/^[a-z][a-z0-9+.-]*:/i,s9=e=>i9.test(e);let Ey=e=>(Ey=Array.isArray,Ey(e));const l9=Ey;let o9=l9;const K2=o9;function c9(e){if(!e)return!0;for(const t in e)return!1;return!0}function u9(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const d9=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new la(`${e} must be an integer`);if(t<0)throw new la(`${e} must be a positive integer`);return t},f9=e=>{try{return JSON.parse(e)}catch{return}};const p9=e=>new Promise(t=>setTimeout(t,e));const Jo="0.0.1";function m9(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const h9=()=>{var e,t,n,r,a;const l=m9();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":J2(Deno.build.os),"X-Stainless-Arch":Y2(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":J2((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Y2((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const c=g9();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function g9(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const r=n.exec(navigator.userAgent);if(r){const a=r[1]||0,l=r[2]||0,c=r[3]||0;return{browser:t,version:`${a}.${l}.${c}`}}}return null}const Y2=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",J2=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let hp;const x9=()=>hp??(hp=h9());function v9(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function vP(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function y9(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return vP({start(){},async pull(n){const{done:r,value:a}=await t.next();r?n.close():n.enqueue(a)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function yP(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n?.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function b9(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const r=e.getReader(),a=r.cancel();r.releaseLock(),await a}const w9=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const bP=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t?.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Sx(e,t,n){return bP(),new File(e,t??"unknown_file",n)}function N9(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const S9=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";const wP=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",j9=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&wP(e),_9=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function E9(e,t,n){if(bP(),e=await e,j9(e))return e instanceof File?e:Sx([await e.arrayBuffer()],e.name);if(_9(e)){const a=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Sx(await Cy(a),t,n)}const r=await Cy(e);if(t||(t=N9(e)),!n?.type){const a=r.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof a=="string"&&(n=Object.assign(Object.assign({},n),{type:a}))}return Sx(r,t,n)}async function Cy(e){var t,n,r,a,l;let c=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)c.push(e);else if(wP(e))c.push(e instanceof Blob?e:await e.arrayBuffer());else if(S9(e))try{for(var u=!0,f=Na(e),p;p=await f.next(),t=p.done,!t;u=!0){a=p.value,u=!1;const m=a;c.push(...await Cy(m))}}catch(m){n={error:m}}finally{try{!u&&!t&&(r=f.return)&&await r.call(f)}finally{if(n)throw n.error}}else{const m=(l=e?.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${m?`; constructor: ${m}`:""}${C9(e)}`)}return c}function C9(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}class NP{constructor(t){this._client=t}}NP._key=[];function SP(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const W2=Object.freeze(Object.create(null)),A9=(e=SP)=>(function(n,...r){if(n.length===1)return n[0];let a=!1;const l=[],c=n.reduce((m,g,v)=>{var N,j,_;/[?#]/.test(g)&&(a=!0);const E=r[v];let C=(a?encodeURIComponent:e)(""+E);return v!==r.length&&(E==null||typeof E=="object"&&E.toString===((_=Object.getPrototypeOf((j=Object.getPrototypeOf((N=E.hasOwnProperty)!==null&&N!==void 0?N:W2))!==null&&j!==void 0?j:W2))===null||_===void 0?void 0:_.toString))&&(C=E+"",l.push({start:m.length+g.length,length:C.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),m+g+(v===r.length?"":C)},""),u=c.split(/[?#]/,1)[0],f=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=f.exec(u))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((m,g)=>m.start-g.start),l.length>0){let m=0;const g=l.reduce((v,N)=>{const j=" ".repeat(N.start-m),_="^".repeat(N.length);return m=N.start+N.length,v+j+_},"");throw new la(`Path parameters result in path with invalid segments:
${l.map(v=>v.error).join(`
`)}
${c}
${g}`)}return c}),gp=A9(SP);class jP extends NP{create(t,n){var r;const{api_version:a=this._client.apiVersion}=t,l=tm(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new la("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new la("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(gp`/${a}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,n={},r){const{api_version:a=this._client.apiVersion}=n??{};return this._client.delete(gp`/${a}/interactions/${t}`,r)}cancel(t,n={},r){const{api_version:a=this._client.apiVersion}=n??{};return this._client.post(gp`/${a}/interactions/${t}/cancel`,r)}get(t,n={},r){var a;const l=n??{},{api_version:c=this._client.apiVersion}=l,u=tm(l,["api_version"]);return this._client.get(gp`/${c}/interactions/${t}`,Object.assign(Object.assign({query:u},r),{stream:(a=n?.stream)!==null&&a!==void 0?a:!1}))}}jP._key=Object.freeze(["interactions"]);class _P extends jP{}function T9(e){let t=0;for(const a of e)t+=a.length;const n=new Uint8Array(t);let r=0;for(const a of e)n.set(a,r),r+=a.length;return n}let xp;function aw(e){let t;return(xp??(t=new globalThis.TextEncoder,xp=t.encode.bind(t)))(e)}let vp;function X2(e){let t;return(vp??(t=new globalThis.TextDecoder,vp=t.decode.bind(t)))(e)}class ch{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?aw(t):t;this.buffer=T9([this.buffer,n]);const r=[];let a;for(;(a=k9(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){r.push(X2(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,c=X2(this.buffer.subarray(0,l));r.push(c),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}ch.NEWLINE_CHARS=new Set([`
`,"\r"]);ch.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function k9(e,t){for(let a=t??0;a<e.length;a++){if(e[a]===10)return{preceding:a,index:a+1,carriage:!1};if(e[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function M9(e){for(let r=0;r<e.length-1;r++){if(e[r]===10&&e[r+1]===10||e[r]===13&&e[r+1]===13)return r+2;if(e[r]===13&&e[r+1]===10&&r+3<e.length&&e[r+2]===13&&e[r+3]===10)return r+4}return-1}const nm={off:0,error:200,warn:300,info:400,debug:500},Z2=(e,t,n)=>{if(e){if(u9(nm,e))return e;sr(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(nm))}`)}};function qu(){}function yp(e,t,n){return!t||nm[e]>nm[n]?qu:t[e].bind(t)}const R9={error:qu,warn:qu,info:qu,debug:qu};let Q2=new WeakMap;function sr(e){var t;const n=e.logger,r=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return R9;const a=Q2.get(n);if(a&&a[0]===r)return a[1];const l={error:yp("error",n,r),warn:yp("warn",n,r),info:yp("info",n,r),debug:yp("debug",n,r)};return Q2.set(n,[r,l]),l}const Al=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);class ec{constructor(t,n,r){this.iterator=t,this.controller=n,this.client=r}static fromSSEResponse(t,n,r){let a=!1;const l=r?sr(r):console;function c(){return wa(this,arguments,function*(){var f,p,m,g;if(a)throw new la("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var N=!0,j=Na(P9(t,n)),_;_=yield qe(j.next()),f=_.done,!f;N=!0){g=_.value,N=!1;const E=g;if(!v)if(E.data.startsWith("[DONE]")){v=!0;continue}else try{yield yield qe(JSON.parse(E.data))}catch(C){throw l.error("Could not parse message into JSON:",E.data),l.error("From chunk:",E.raw),C}}}catch(E){p={error:E}}finally{try{!N&&!f&&(m=j.return)&&(yield qe(m.call(j)))}finally{if(p)throw p.error}}v=!0}catch(E){if(Sy(E))return yield qe(void 0);throw E}finally{v||n.abort()}})}return new ec(c,n,r)}static fromReadableStream(t,n,r){let a=!1;function l(){return wa(this,arguments,function*(){var f,p,m,g;const v=new ch,N=yP(t);try{for(var j=!0,_=Na(N),E;E=yield qe(_.next()),f=E.done,!f;j=!0){g=E.value,j=!1;const C=g;for(const A of v.decode(C))yield yield qe(A)}}catch(C){p={error:C}}finally{try{!j&&!f&&(m=_.return)&&(yield qe(m.call(_)))}finally{if(p)throw p.error}}for(const C of v.flush())yield yield qe(C)})}function c(){return wa(this,arguments,function*(){var f,p,m,g;if(a)throw new la("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let v=!1;try{try{for(var N=!0,j=Na(l()),_;_=yield qe(j.next()),f=_.done,!f;N=!0){g=_.value,N=!1;const E=g;v||E&&(yield yield qe(JSON.parse(E)))}}catch(E){p={error:E}}finally{try{!N&&!f&&(m=j.return)&&(yield qe(m.call(j)))}finally{if(p)throw p.error}}v=!0}catch(E){if(Sy(E))return yield qe(void 0);throw E}finally{v||n.abort()}})}return new ec(c,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],r=this.iterator(),a=l=>({next:()=>{if(l.length===0){const c=r.next();t.push(c),n.push(c)}return l.shift()}});return[new ec(()=>a(t),this.controller,this.client),new ec(()=>a(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return vP({async start(){n=t[Symbol.asyncIterator]()},async pull(r){try{const{value:a,done:l}=await n.next();if(l)return r.close();const c=aw(JSON.stringify(a)+`
`);r.enqueue(c)}catch(a){r.error(a)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function P9(e,t){return wa(this,arguments,function*(){var r,a,l,c;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new la("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new la("Attempted to iterate over a response with no body");const u=new O9,f=new ch,p=yP(e.body);try{for(var m=!0,g=Na(I9(p)),v;v=yield qe(g.next()),r=v.done,!r;m=!0){c=v.value,m=!1;const N=c;for(const j of f.decode(N)){const _=u.decode(j);_&&(yield yield qe(_))}}}catch(N){a={error:N}}finally{try{!m&&!r&&(l=g.return)&&(yield qe(l.call(g)))}finally{if(a)throw a.error}}for(const N of f.flush()){const j=u.decode(N);j&&(yield yield qe(j))}})}function I9(e){return wa(this,arguments,function*(){var n,r,a,l;let c=new Uint8Array;try{for(var u=!0,f=Na(e),p;p=yield qe(f.next()),n=p.done,!n;u=!0){l=p.value,u=!1;const m=l;if(m==null)continue;const g=m instanceof ArrayBuffer?new Uint8Array(m):typeof m=="string"?aw(m):m;let v=new Uint8Array(c.length+g.length);v.set(c),v.set(g,c.length),c=v;let N;for(;(N=M9(c))!==-1;)yield yield qe(c.slice(0,N)),c=c.slice(N)}}catch(m){r={error:m}}finally{try{!u&&!n&&(a=f.return)&&(yield qe(a.call(f)))}finally{if(r)throw r.error}}c.length>0&&(yield yield qe(c))})}class O9{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,r,a]=D9(t,":");return a.startsWith(" ")&&(a=a.substring(1)),n==="event"?this.event=a:n==="data"&&this.data.push(a),null}}function D9(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}async function L9(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:a,startTime:l}=t,c=await(async()=>{var u;if(t.options.stream)return sr(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):ec.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const f=n.headers.get("content-type"),p=(u=f?.split(";")[0])===null||u===void 0?void 0:u.trim();return p?.includes("application/json")||p?.endsWith("+json")?await n.json():await n.text()})();return sr(e).debug(`[${r}] response parsed`,Al({retryOfRequestLogID:a,url:n.url,status:n.status,body:c,durationMs:Date.now()-l})),c}class iw extends Promise{constructor(t,n,r=L9){super(a=>{a(null)}),this.responsePromise=n,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new iw(this.client,this.responsePromise,async(n,r)=>t(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const EP=Symbol("brand.privateNullableHeaders");function*z9(e){if(!e)return;if(EP in e){const{values:r,nulls:a}=e;yield*r.entries();for(const l of a)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():K2(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let r of n){const a=r[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const l=K2(r[1])?r[1]:[r[1]];let c=!1;for(const u of l)u!==void 0&&(t&&!c&&(c=!0,yield[a,null]),yield[a,u])}}const Pu=e=>{const t=new Headers,n=new Set;for(const r of e){const a=new Set;for(const[l,c]of z9(r)){const u=l.toLowerCase();a.has(u)||(t.delete(l),a.add(u)),c===null?(t.delete(l),n.add(u)):(t.append(l,c),n.delete(u))}}return{[EP]:!0,values:t,nulls:n}};const jx=e=>{var t,n,r,a,l,c;if(typeof globalThis.process<"u")return(r=(n=(t=s8)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||l===void 0?void 0:l.call(a,e))===null||c===void 0?void 0:c.trim()};var CP;class uh{constructor(t){var n,r,a,l,c,u,f,{baseURL:p=jx("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=jx("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:g="v1beta"}=t,v=tm(t,["baseURL","apiKey","apiVersion"]);const N=Object.assign(Object.assign({apiKey:m,apiVersion:g},v),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=N.baseURL,this.timeout=(r=N.timeout)!==null&&r!==void 0?r:uh.DEFAULT_TIMEOUT,this.logger=(a=N.logger)!==null&&a!==void 0?a:console;const j="warn";this.logLevel=j,this.logLevel=(c=(l=Z2(N.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:Z2(jx("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:j,this.fetchOptions=N.fetchOptions,this.maxRetries=(u=N.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(f=N.fetch)!==null&&f!==void 0?f:v9(),this.encoder=w9,this._options=N,this.apiKey=m,this.apiVersion=g,this.clientAdapter=N.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Pu([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Pu([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Pu([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new la(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Jo}`}defaultIdempotencyKey(){return`stainless-node-retry-${a9()}`}makeStatusError(t,n,r,a){return cr.generate(t,n,r,a)}buildURL(t,n,r){const a=!this.baseURLOverridden()&&r||this.baseURL,l=s9(t)?new URL(t):new URL(a+(a.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),c=this.defaultQuery();return c9(c)||(n=Object.assign(Object.assign({},c),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:r}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,r){return this.request(Promise.resolve(r).then(a=>Object.assign({method:t,path:n},a)))}request(t,n=null){return new iw(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,r){var a,l,c;const u=await t,f=(a=u.maxRetries)!==null&&a!==void 0?a:this.maxRetries;n==null&&(n=f),await this.prepareOptions(u);const{req:p,url:m,timeout:g}=await this.buildRequest(u,{retryCount:f-n});await this.prepareRequest(p,{url:m,options:u});const v="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),N=r===void 0?"":`, retryOf: ${r}`,j=Date.now();if(sr(this).debug(`[${v}] sending request`,Al({retryOfRequestLogID:r,method:u.method,url:m,options:u,headers:p.headers})),!((l=u.signal)===null||l===void 0)&&l.aborted)throw new _y;const _=new AbortController,E=await this.fetchWithTimeout(m,p,g,_).catch(jy),C=Date.now();if(E instanceof globalThis.Error){const R=`retrying, ${n} attempts remaining`;if(!((c=u.signal)===null||c===void 0)&&c.aborted)throw new _y;const M=Sy(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return sr(this).info(`[${v}] connection ${M?"timed out":"failed"} - ${R}`),sr(this).debug(`[${v}] connection ${M?"timed out":"failed"} (${R})`,Al({retryOfRequestLogID:r,url:m,durationMs:C-j,message:E.message})),this.retryRequest(u,n,r??v);throw sr(this).info(`[${v}] connection ${M?"timed out":"failed"} - error; no more retries left`),sr(this).debug(`[${v}] connection ${M?"timed out":"failed"} (error; no more retries left)`,Al({retryOfRequestLogID:r,url:m,durationMs:C-j,message:E.message})),M?new cP:new oh({cause:E})}const A=`[${v}${N}] ${p.method} ${m} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${C-j}ms`;if(!E.ok){const R=await this.shouldRetry(E);if(n&&R){const z=`retrying, ${n} attempts remaining`;return await b9(E.body),sr(this).info(`${A} - ${z}`),sr(this).debug(`[${v}] response error (${z})`,Al({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-j})),this.retryRequest(u,n,r??v,E.headers)}const M=R?"error; no more retries left":"error; not retryable";sr(this).info(`${A} - ${M}`);const I=await E.text().catch(z=>jy(z).message),P=f9(I),k=P?void 0:I;throw sr(this).debug(`[${v}] response error (${M})`,Al({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:k,durationMs:Date.now()-j})),this.makeStatusError(E.status,P,k,E.headers)}return sr(this).info(A),sr(this).debug(`[${v}] response start`,Al({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:C-j})),{response:E,options:u,controller:_,requestLogID:v,retryOfRequestLogID:r,startTime:j}}async fetchWithTimeout(t,n,r,a){const l=n||{},{signal:c,method:u}=l,f=tm(l,["signal","method"]);c&&c.addEventListener("abort",()=>a.abort());const p=setTimeout(()=>a.abort(),r),m=globalThis.ReadableStream&&f.body instanceof globalThis.ReadableStream||typeof f.body=="object"&&f.body!==null&&Symbol.asyncIterator in f.body,g=Object.assign(Object.assign(Object.assign({signal:a.signal},m?{duplex:"half"}:{}),{method:"GET"}),f);u&&(g.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,g)}finally{clearTimeout(p)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,r,a){var l;let c;const u=a?.get("retry-after-ms");if(u){const p=parseFloat(u);Number.isNaN(p)||(c=p)}const f=a?.get("retry-after");if(f&&!c){const p=parseFloat(f);Number.isNaN(p)?c=Date.parse(f)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(n,p)}return await p9(c),this.makeRequest(t,n-1,r)}calculateDefaultRetryTimeoutMillis(t,n){const l=n-t,c=Math.min(.5*Math.pow(2,l),8),u=1-Math.random()*.25;return c*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var r,a,l;const c=Object.assign({},t),{method:u,path:f,query:p,defaultBaseURL:m}=c,g=this.buildURL(f,p,m);"timeout"in c&&d9("timeout",c.timeout),c.timeout=(r=c.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:v,body:N}=this.buildBody({options:c}),j=await this.buildHeaders({options:t,method:u,bodyHeaders:v,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:j},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&N instanceof globalThis.ReadableStream&&{duplex:"half"}),N&&{body:N}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:g,timeout:c.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:r,retryCount:a}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const c=await this.authHeaders(t);let u=Pu([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),x9()),this._options.defaultHeaders,r,t.headers,c]);return this.validateHeaders(u),u.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Pu([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:y9(t)}:this.encoder({body:t,headers:r})}}uh.DEFAULT_TIMEOUT=6e4;class kn extends uh{constructor(){super(...arguments),this.interactions=new _P(this)}}CP=kn;kn.GeminiNextGenAPIClient=CP;kn.GeminiNextGenAPIClientError=la;kn.APIError=cr;kn.APIConnectionError=oh;kn.APIConnectionTimeoutError=cP;kn.APIUserAbortError=_y;kn.NotFoundError=pP;kn.ConflictError=mP;kn.RateLimitError=gP;kn.BadRequestError=uP;kn.AuthenticationError=dP;kn.InternalServerError=xP;kn.PermissionDeniedError=fP;kn.UnprocessableEntityError=hP;kn.toFile=E9;kn.Interactions=_P;function U9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function $9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function G9(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function B9(e,t){const n={},r=x(e,["sdkHttpResponse"]);return r!=null&&y(n,["sdkHttpResponse"],r),n}function F9(e,t,n){const r={};if(x(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=x(e,["tunedModelDisplayName"]);if(t!==void 0&&a!=null&&y(t,["displayName"],a),x(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=x(e,["epochCount"]);t!==void 0&&l!=null&&y(t,["tuningTask","hyperparameters","epochCount"],l);const c=x(e,["learningRateMultiplier"]);if(c!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],c),x(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(x(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(x(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(x(e,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(x(e,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const u=x(e,["batchSize"]);t!==void 0&&u!=null&&y(t,["tuningTask","hyperparameters","batchSize"],u);const f=x(e,["learningRate"]);if(t!==void 0&&f!=null&&y(t,["tuningTask","hyperparameters","learningRate"],f),x(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(x(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(x(e,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(x(e,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(x(e,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(x(e,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return r}function q9(e,t,n){const r={};let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const I=x(e,["validationDataset"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec"],_x(I))}else if(a==="PREFERENCE_TUNING"){const I=x(e,["validationDataset"]);t!==void 0&&I!=null&&y(t,["preferenceOptimizationSpec"],_x(I))}else if(a==="DISTILLATION"){const I=x(e,["validationDataset"]);t!==void 0&&I!=null&&y(t,["distillationSpec"],_x(I))}const l=x(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&y(t,["tunedModelDisplayName"],l);const c=x(e,["description"]);t!==void 0&&c!=null&&y(t,["description"],c);let u=x(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const I=x(e,["epochCount"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","hyperParameters","epochCount"],I)}else if(u==="PREFERENCE_TUNING"){const I=x(e,["epochCount"]);t!==void 0&&I!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],I)}else if(u==="DISTILLATION"){const I=x(e,["epochCount"]);t!==void 0&&I!=null&&y(t,["distillationSpec","hyperParameters","epochCount"],I)}let f=x(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const I=x(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],I)}else if(f==="PREFERENCE_TUNING"){const I=x(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],I)}else if(f==="DISTILLATION"){const I=x(e,["learningRateMultiplier"]);t!==void 0&&I!=null&&y(t,["distillationSpec","hyperParameters","learningRateMultiplier"],I)}let p=x(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const I=x(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","exportLastCheckpointOnly"],I)}else if(p==="PREFERENCE_TUNING"){const I=x(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&y(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],I)}else if(p==="DISTILLATION"){const I=x(e,["exportLastCheckpointOnly"]);t!==void 0&&I!=null&&y(t,["distillationSpec","exportLastCheckpointOnly"],I)}let m=x(n,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const I=x(e,["adapterSize"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","hyperParameters","adapterSize"],I)}else if(m==="PREFERENCE_TUNING"){const I=x(e,["adapterSize"]);t!==void 0&&I!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],I)}else if(m==="DISTILLATION"){const I=x(e,["adapterSize"]);t!==void 0&&I!=null&&y(t,["distillationSpec","hyperParameters","adapterSize"],I)}let g=x(n,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const I=x(e,["tuningMode"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","tuningMode"],I)}const v=x(e,["customBaseModel"]);t!==void 0&&v!=null&&y(t,["customBaseModel"],v);let N=x(n,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const I=x(e,["batchSize"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","hyperParameters","batchSize"],I)}let j=x(n,["config","method"]);if(j===void 0&&(j="SUPERVISED_FINE_TUNING"),j==="SUPERVISED_FINE_TUNING"){const I=x(e,["learningRate"]);t!==void 0&&I!=null&&y(t,["supervisedTuningSpec","hyperParameters","learningRate"],I)}const _=x(e,["labels"]);t!==void 0&&_!=null&&y(t,["labels"],_);const E=x(e,["beta"]);t!==void 0&&E!=null&&y(t,["preferenceOptimizationSpec","hyperParameters","beta"],E);const C=x(e,["baseTeacherModel"]);t!==void 0&&C!=null&&y(t,["distillationSpec","baseTeacherModel"],C);const A=x(e,["tunedTeacherModelSource"]);t!==void 0&&A!=null&&y(t,["distillationSpec","tunedTeacherModelSource"],A);const R=x(e,["sftLossWeightMultiplier"]);t!==void 0&&R!=null&&y(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],R);const M=x(e,["outputUri"]);return t!==void 0&&M!=null&&y(t,["outputUri"],M),r}function H9(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=x(e,["trainingDataset"]);l!=null&&nV(l);const c=x(e,["config"]);return c!=null&&F9(c,n),n}function V9(e,t){const n={},r=x(e,["baseModel"]);r!=null&&y(n,["baseModel"],r);const a=x(e,["preTunedModel"]);a!=null&&y(n,["preTunedModel"],a);const l=x(e,["trainingDataset"]);l!=null&&rV(l,n,t);const c=x(e,["config"]);return c!=null&&q9(c,n,t),n}function K9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function Y9(e,t){const n={},r=x(e,["name"]);return r!=null&&y(n,["_url","name"],r),n}function J9(e,t,n){const r={},a=x(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=x(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const c=x(e,["filter"]);return t!==void 0&&c!=null&&y(t,["_query","filter"],c),r}function W9(e,t,n){const r={},a=x(e,["pageSize"]);t!==void 0&&a!=null&&y(t,["_query","pageSize"],a);const l=x(e,["pageToken"]);t!==void 0&&l!=null&&y(t,["_query","pageToken"],l);const c=x(e,["filter"]);return t!==void 0&&c!=null&&y(t,["_query","filter"],c),r}function X9(e,t){const n={},r=x(e,["config"]);return r!=null&&J9(r,n),n}function Z9(e,t){const n={},r=x(e,["config"]);return r!=null&&W9(r,n),n}function Q9(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(u=>AP(u))),y(n,["tuningJobs"],c)}return n}function eV(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["nextPageToken"]);a!=null&&y(n,["nextPageToken"],a);const l=x(e,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(u=>Ay(u))),y(n,["tuningJobs"],c)}return n}function tV(e,t){const n={},r=x(e,["name"]);r!=null&&y(n,["model"],r);const a=x(e,["name"]);return a!=null&&y(n,["endpoint"],a),n}function nV(e,t){const n={};if(x(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(x(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=x(e,["examples"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(l=>l)),y(n,["examples","examples"],a)}return n}function rV(e,t,n){const r={};let a=x(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(a==="PREFERENCE_TUNING"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(a==="DISTILLATION"){const c=x(e,["gcsUri"]);t!==void 0&&c!=null&&y(t,["distillationSpec","promptDatasetUri"],c)}let l=x(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(l==="DISTILLATION"){const c=x(e,["vertexDatasetResource"]);t!==void 0&&c!=null&&y(t,["distillationSpec","promptDatasetUri"],c)}if(x(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function AP(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["state"]);l!=null&&y(n,["state"],qR(l));const c=x(e,["createTime"]);c!=null&&y(n,["createTime"],c);const u=x(e,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const f=x(e,["tuningTask","completeTime"]);f!=null&&y(n,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(n,["updateTime"],p);const m=x(e,["description"]);m!=null&&y(n,["description"],m);const g=x(e,["baseModel"]);g!=null&&y(n,["baseModel"],g);const v=x(e,["_self"]);return v!=null&&y(n,["tunedModel"],tV(v)),n}function Ay(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["state"]);l!=null&&y(n,["state"],qR(l));const c=x(e,["createTime"]);c!=null&&y(n,["createTime"],c);const u=x(e,["startTime"]);u!=null&&y(n,["startTime"],u);const f=x(e,["endTime"]);f!=null&&y(n,["endTime"],f);const p=x(e,["updateTime"]);p!=null&&y(n,["updateTime"],p);const m=x(e,["error"]);m!=null&&y(n,["error"],m);const g=x(e,["description"]);g!=null&&y(n,["description"],g);const v=x(e,["baseModel"]);v!=null&&y(n,["baseModel"],v);const N=x(e,["tunedModel"]);N!=null&&y(n,["tunedModel"],N);const j=x(e,["preTunedModel"]);j!=null&&y(n,["preTunedModel"],j);const _=x(e,["supervisedTuningSpec"]);_!=null&&y(n,["supervisedTuningSpec"],_);const E=x(e,["preferenceOptimizationSpec"]);E!=null&&y(n,["preferenceOptimizationSpec"],E);const C=x(e,["distillationSpec"]);C!=null&&y(n,["distillationSpec"],C);const A=x(e,["tuningDataStats"]);A!=null&&y(n,["tuningDataStats"],A);const R=x(e,["encryptionSpec"]);R!=null&&y(n,["encryptionSpec"],R);const M=x(e,["partnerModelTuningSpec"]);M!=null&&y(n,["partnerModelTuningSpec"],M);const I=x(e,["customBaseModel"]);I!=null&&y(n,["customBaseModel"],I);const P=x(e,["experiment"]);P!=null&&y(n,["experiment"],P);const k=x(e,["labels"]);k!=null&&y(n,["labels"],k);const L=x(e,["outputUri"]);L!=null&&y(n,["outputUri"],L);const z=x(e,["pipelineJob"]);z!=null&&y(n,["pipelineJob"],z);const q=x(e,["serviceAccount"]);q!=null&&y(n,["serviceAccount"],q);const J=x(e,["tunedModelDisplayName"]);J!=null&&y(n,["tunedModelDisplayName"],J);const U=x(e,["veoTuningSpec"]);return U!=null&&y(n,["veoTuningSpec"],U),n}function aV(e,t){const n={},r=x(e,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const a=x(e,["name"]);a!=null&&y(n,["name"],a);const l=x(e,["metadata"]);l!=null&&y(n,["metadata"],l);const c=x(e,["done"]);c!=null&&y(n,["done"],c);const u=x(e,["error"]);return u!=null&&y(n,["error"],u),n}function _x(e,t){const n={},r=x(e,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const a=x(e,["vertexDatasetResource"]);return a!=null&&y(n,["validationDatasetUri"],a),n}class iV extends Qi{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new eo(Hi.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const a={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(a.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:a});return l.baseModel=void 0,await this.tuneInternal(l)}else{const a=Object.assign({},n);return await this.tuneInternal(a)}else{const a=Object.assign({},n),l=await this.tuneMldevInternal(a);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:hy.JOB_STATE_QUEUED}}}}async getInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=Y9(t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>Ay(m))}else{const p=K9(t);return u=_e("{name}",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>AP(m))}}async listInternal(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=Z9(t);return u=_e("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=eV(m),v=new E2;return Object.assign(v,g),v})}else{const p=X9(t);return u=_e("tunedModels",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=Q9(m),v=new E2;return Object.assign(v,g),v})}}async cancel(t){var n,r,a,l;let c,u="",f={};if(this.apiClient.isVertexAI()){const p=$9(t);return u=_e("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=B9(m),v=new C2;return Object.assign(v,g),v})}else{const p=U9(t);return u=_e("{name}:cancel",p._url),f=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=t.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:m.headers},v})),c.then(m=>{const g=G9(m),v=new C2;return Object.assign(v,g),v})}}async tuneInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI()){const u=V9(t,t);return l=_e("tuningJobs",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>Ay(f))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,r;let a,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=H9(t);return l=_e("tunedModels",u._url),c=u._query,delete u._url,delete u._query,a=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>aV(f))}}}class sV{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lV=1024*1024*8,oV=3,cV=1e3,uV=2,rm="x-goog-upload-status";async function dV(e,t,n){var r;const a=await TP(e,t,n),l=await a?.json();if(((r=a?.headers)===null||r===void 0?void 0:r[rm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function fV(e,t,n){var r;const a=await TP(e,t,n),l=await a?.json();if(((r=a?.headers)===null||r===void 0?void 0:r[rm])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=zR(l),u=new Zb;return Object.assign(u,c),u}async function TP(e,t,n){var r,a;let l=0,c=0,u=new xy(new Response),f="upload";for(l=e.size;c<l;){const p=Math.min(lV,l-c),m=e.slice(c,c+p);c+p>=l&&(f+=", finalize");let g=0,v=cV;for(;g<oV&&(u=await n.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((r=u?.headers)===null||r===void 0)&&r[rm]));)g++,await mV(v),v=v*uV;if(c+=p,((a=u?.headers)===null||a===void 0?void 0:a[rm])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function pV(e){return{size:e.size,type:e.type}}function mV(e){return new Promise(t=>setTimeout(t,e))}class hV{async upload(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dV(t,n,r)}async uploadToFileSearchStore(t,n,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fV(t,n,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await pV(t)}}class gV{create(t,n,r){return new xV(t,n,r)}}class xV{constructor(t,n,r){this.url=t,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const eC="x-goog-api-key";class vV{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(eC)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(eC,this.apiKey)}}}const yV="gl-node/";class bV{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new kn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const r=u8(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const a=new vV(this.apiKey);this.apiClient=new pH({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yV+"web",uploader:new hV,downloader:new sV}),this.models=new RH(this.apiClient),this.live=new EH(this.apiClient,a,new gV),this.batches=new $G(this.apiClient),this.chats=new wB(this.models,this.apiClient),this.caches=new vB(this.apiClient),this.files=new PB(this.apiClient),this.operations=new PH(this.apiClient),this.authTokens=new JH(this.apiClient),this.tunings=new iV(this.apiClient),this.fileSearchStores=new r9(this.apiClient)}}function wV(e){let t="";const n=e.byteLength;for(let r=0;r<n;r++)t+=String.fromCharCode(e[r]);return btoa(t)}function NV(e){const t=atob(e),n=t.length,r=new Uint8Array(n);for(let a=0;a<n;a++)r[a]=t.charCodeAt(a);return r}async function SV(e,t,n,r){const a=new Int16Array(e.buffer),l=a.length/r,c=t.createBuffer(r,l,n);for(let u=0;u<r;u++){const f=c.getChannelData(u);for(let p=0;p<l;p++)f[p]=a[p*r+u]/32768}return c}function jV(e){const t=e.length,n=new Int16Array(t);for(let r=0;r<t;r++)n[r]=e[r]*32768;return{data:wV(new Uint8Array(n.buffer)),mimeType:"audio/pcm;rate=16000"}}const _V=({onClose:e,subject:t})=>{const[n,r]=b.useState(!1),[a,l]=b.useState(!1),[c,u]=b.useState([]),[f,p]=b.useState("Connecting to AI Tutor..."),m=b.useRef(null),g=b.useRef(null),v=b.useRef(0),N=b.useRef(new Set),j=b.useRef(null),_=b.useRef(null),E=b.useRef(null),C=b.useRef(0);return b.useEffect(()=>{let A=!0,R=null,M=null,I=null,P=null,k=null,L=null;return(async()=>{try{C.current+=1;const q=C.current,J=await navigator.mediaDevices.getUserMedia({audio:!0});if(!A){J.getTracks().forEach(F=>F.stop());return}M=J,j.current=J;const U=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),Y=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});I=U,P=Y,g.current={input:U,output:Y},console.log("[LiveSession] API Key:","SET");const te=new bV({apiKey:"AIzaSyCv6hJAymDO5LHhkOgcKSYBH2Wc9RUiOsE"});console.log("[LiveSession] Attempting to connect to Gemini...");const he=await te.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",callbacks:{onopen:()=>{if(console.log("[LiveSession] onopen callback fired - Session opened!"),q!==C.current||!A){console.warn("[LiveSession] Session opened but a newer session has started or component unmounted");return}if(U.state==="closed"){console.warn("[LiveSession] Audio context closed before session opened");return}console.log('[LiveSession] Setting status to "AI Tutor is Listening"'),p("AI Tutor is Listening"),r(!0),console.log("[LiveSession] Status and active state updated");try{const F=U.createMediaStreamSource(J);L=F,E.current=F;const G=U.createScriptProcessor(4096,1,1);k=G,_.current=G,G.onaudioprocess=oe=>{if(a||!m.current||q!==C.current)return;const ve=oe.inputBuffer.getChannelData(0),O=jV(ve);try{m.current&&m.current.sendRealtimeInput({media:O})}catch(K){console.warn("Failed to send audio data:",K)}};const X=U.createGain();X.gain.value=0,F.connect(G),G.connect(X),X.connect(U.destination),console.log("[LiveSession] Audio processing setup complete!")}catch(F){console.error("[LiveSession] Error setting up audio processing:",F)}},onmessage:async F=>{if(q!==C.current)return;F.serverContent?.outputTranscription&&u(X=>[...X.slice(-4),`AI: ${F.serverContent?.outputTranscription?.text}`]),F.serverContent?.inputTranscription&&u(X=>[...X.slice(-4),`You: ${F.serverContent?.inputTranscription?.text}`]);const G=F.serverContent?.modelTurn?.parts?.[0]?.inlineData?.data;if(G&&q===C.current){if(Y.state==="closed")return;try{const oe=Y.currentTime;v.current<oe+.1&&(v.current=oe+.1);const ve=await SV(NV(G),Y,24e3,1),O=Y.createBufferSource();O.buffer=ve,O.connect(Y.destination),O.start(v.current),v.current+=ve.duration,N.current.add(O),O.onended=()=>N.current.delete(O)}catch(X){console.warn("Error playing audio response:",X)}}F.serverContent?.interrupted&&(N.current.forEach(X=>{try{X.stop()}catch{}}),N.current.clear(),v.current=Y.currentTime)},onerror:F=>{console.error("[LiveSession] ERROR:",F),console.error("[LiveSession] Error details:",JSON.stringify(F,null,2)),p("Connection Error")},onclose:F=>{console.log("[LiveSession] onclose callback fired - Session closed"),console.log("[LiveSession] Close event details:",F),F&&(console.log("[LiveSession] Close code:",F.code),console.log("[LiveSession] Close reason:",F.reason)),q===C.current&&(console.log('[LiveSession] Setting status to "Session Ended"'),p("Session Ended"),r(!1),_.current&&(_.current.disconnect(),_.current=null),E.current&&(E.current.disconnect(),E.current=null))}},config:{responseModalities:[od.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}},systemInstruction:`You are an expert academic tutor for university students. The current subject is ${t}. Help the user understand difficult concepts, solve problems, and stay motivated. Keep your answers clear, professional, and helpful. Speak naturally.`,outputAudioTranscription:{},inputAudioTranscription:{}}});if(!A){console.log("[LiveSession] Component unmounted before connection completed, cleaning up"),he.close(),J.getTracks().forEach(F=>F.stop()),U.close(),Y.close();return}console.log("[LiveSession] Session connected successfully!"),R=he,m.current=he}catch(q){console.error("[LiveSession] Initialization error:",q),A&&p("Failed to access microphone")}})(),()=>{if(A=!1,k&&k.disconnect(),L&&L.disconnect(),M&&M.getTracks().forEach(q=>q.stop()),I&&I.close(),P&&P.close(),R)try{R.close()}catch(q){console.warn("Error closing session:",q)}m.current===R&&(m.current=null),_.current===k&&(_.current=null),E.current===L&&(E.current=null),j.current===M&&(j.current=null)}},[]),i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/95 backdrop-blur-xl flex items-center justify-center p-6 animate-in fade-in duration-300",children:i.jsxs("div",{className:"w-full max-w-2xl bg-white/5 border border-white/10 rounded-[3rem] overflow-hidden shadow-2xl flex flex-col items-center p-12 relative",children:[i.jsx("button",{onClick:e,className:"absolute top-8 right-8 p-3 text-white/40 hover:text-white transition-colors",children:i.jsx(et,{size:24})}),i.jsxs("div",{className:"flex flex-col items-center text-center space-y-8 mb-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-32 h-32 rounded-full bg-orange-500 flex items-center justify-center shadow-[0_0_50px_rgba(249,115,22,0.4)] relative z-10 transition-transform duration-500 ${n?"scale-110":"scale-100"}`,children:i.jsx(rd,{size:48,className:"text-white animate-pulse"})}),n&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/20 animate-ping duration-[2000ms]"}),i.jsx("div",{className:"absolute inset-0 rounded-full bg-orange-500/10 animate-ping duration-[3000ms] delay-500"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h2",{className:"text-3xl font-black text-white tracking-tight",children:[t," Live Session"]}),i.jsx("p",{className:"text-orange-400 font-bold tracking-widest uppercase text-xs",children:f})]})]}),i.jsxs("div",{className:"w-full bg-black/20 rounded-3xl p-6 min-h-[160px] flex flex-col justify-end space-y-2 mb-12 border border-white/5",children:[c.length===0&&i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-white/20 space-y-2",children:[i.jsx(Hb,{size:20}),i.jsx("p",{className:"text-xs font-bold uppercase tracking-widest italic",children:"Start talking to your AI Tutor"})]}),c.map((A,R)=>i.jsx("p",{className:`text-sm font-medium ${A.startsWith("AI:")?"text-orange-200":"text-white/60"}`,children:A},R))]}),i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("button",{onClick:()=>l(!a),className:`w-16 h-16 rounded-2xl flex items-center justify-center transition-all shadow-xl ${a?"bg-red-500 text-white":"bg-white/10 text-white hover:bg-white/20"}`,children:a?i.jsx(zU,{size:28}):i.jsx(TR,{size:28})}),i.jsxs("div",{className:"px-6 py-4 bg-white/5 border border-white/10 rounded-2xl flex items-center gap-3",children:[i.jsx(MR,{size:18,className:"text-white/40"}),i.jsx("div",{className:"w-32 h-1.5 bg-white/10 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full bg-orange-500 transition-all duration-300 ${n?"w-2/3":"w-0"}`})})]})]}),i.jsx("p",{className:"mt-12 text-white/30 text-[10px] font-black uppercase tracking-[0.3em]",children:"Powered by Gemini 2.5 Flash Native Audio"})]})})},EV=({groupId:e,groupName:t,onClose:n,onRequestProcessed:r})=>{const[a,l]=b.useState([]),[c,u]=b.useState(!0),[f,p]=b.useState(null),[m,g]=b.useState(!1),[v,N]=b.useState(""),[j,_]=b.useState(null);b.useEffect(()=>{E()},[e]);const E=async()=>{u(!0);try{const P=await Ce.getPendingRequests(e);console.log("Pending requests loaded:",P),l(P)}catch(P){console.error("Failed to load requests",P),alert("Could not load pending requests.")}finally{u(!1)}},C=async(P,k)=>{if(confirm(`Approve ${k} to join ${t}?`)){p(P);try{await Ce.approveJoinRequest(e,P),alert(`${k} has been approved!`),await E(),r()}catch(L){alert(L.message||"Failed to approve request.")}finally{p(null)}}},A=(P,k)=>{_({id:P,name:k}),g(!0)},R=async P=>{if(j){p(j.id),g(!1);try{await Ce.rejectJoinRequest(e,j.id,P),alert(`${j.name}'s request has been declined.`),await E(),r()}catch(k){alert(k.message||"Failed to reject request.")}finally{p(null),_(null),N("")}}},M=()=>{g(!1),_(null),N("")},I=P=>{const k=new Date(P),z=Math.floor((new Date().getTime()-k.getTime())/(1e3*60*60));return z<1?"Just now":z<24?`${z}h ago`:`${Math.floor(z/24)}d ago`};return i.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:[i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-2xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Join Requests"}),i.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:t}),i.jsxs("p",{className:"text-xs text-orange-200 mt-2",children:["Status: ",c?"Loading...":`${a.length} requests`]})]}),i.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsx("div",{className:"p-8 max-h-[500px] overflow-y-auto",children:c?i.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4",children:[i.jsx(ke,{size:48,className:"animate-spin text-orange-500"}),i.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Loading requests..."})]}):a.length===0?i.jsxs("div",{className:"text-center py-16 space-y-4",children:[i.jsx(pt,{size:48,className:"mx-auto text-slate-200"}),i.jsx("p",{className:"text-slate-400 font-bold",children:"No pending requests"}),i.jsx("p",{className:"text-xs text-slate-400",children:"When users request to join, they'll appear here."})]}):i.jsx("div",{className:"space-y-4",children:a.map(P=>i.jsxs("div",{className:"bg-slate-50 border-2 border-slate-300 rounded-2xl p-6 space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-lg border border-orange-200 shrink-0",children:P.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:P.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[i.jsx(Ys,{size:12}),i.jsx("span",{className:"font-semibold truncate",children:P.email})]}),P.major&&i.jsxs("div",{className:"flex items-center gap-2 mt-1 text-xs text-slate-500",children:[i.jsx(Qu,{size:12}),i.jsx("span",{className:"font-semibold",children:P.major})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 text-xs text-slate-400",children:[i.jsx(Kt,{size:12}),i.jsxs("span",{className:"font-bold uppercase tracking-widest",children:["Requested ",I(P.requested_at)]})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-slate-300",children:[i.jsxs("button",{onClick:()=>{console.log("Approve clicked for:",P.id,P.name),C(P.id,P.name)},disabled:f===P.id,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-emerald-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-emerald-600 transition-all disabled:opacity-50 shadow-lg",children:[f===P.id?i.jsx(ke,{size:16,className:"animate-spin"}):i.jsx(zs,{size:16}),"Approve"]}),i.jsxs("button",{onClick:()=>{console.log("Reject clicked for:",P.id,P.name),A(P.id,P.name)},disabled:f===P.id,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 shadow-lg",children:[f===P.id?i.jsx(ke,{size:16,className:"animate-spin"}):i.jsx(qs,{size:16}),"Reject"]})]})]},P.id))})}),i.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 text-center",children:i.jsx("button",{onClick:n,className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"})})]}),m&&j&&i.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Reject Request"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:j.name})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for rejecting this request? This is optional."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Rejection Reason (Optional)"}),i.jsx("textarea",{value:v,onChange:P=>N(P.target.value),placeholder:"e.g., Group is full, Looking for members with specific background, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[v.length,"/500 characters"]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[i.jsx("button",{onClick:M,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),i.jsx("button",{onClick:()=>R(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Reject"}),i.jsx("button",{onClick:()=>R(v.trim()||void 0),disabled:v.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Reject"})]})]})})]})},CV=({studyPlan:e,subject:t,onClose:n})=>{const[r,a]=Pb.useState(!1),l=e.startsWith("Study plan generation failed"),c=()=>{navigator.clipboard.writeText(e),a(!0),setTimeout(()=>a(!1),2e3)},u=()=>{const f=new Blob([e],{type:"text/plain"}),p=URL.createObjectURL(f),m=document.createElement("a");m.href=p,m.download=`${t}-study-plan.txt`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(p)};return i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-3xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200 max-h-[90vh] flex flex-col",children:[i.jsxs("div",{className:"bg-blue-500 p-10 flex justify-between items-center text-white shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:i.jsx(Qu,{size:28})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Study Plan"}),i.jsx("p",{className:"text-blue-100 text-sm font-bold mt-1",children:t})]})]}),i.jsx("button",{onClick:n,className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-10",children:l?i.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-10 h-10 bg-red-500 rounded-full flex items-center justify-center text-white",children:i.jsx(et,{size:20})}),i.jsx("h4",{className:"font-bold text-red-900 text-lg",children:"Generation Failed"})]}),i.jsx("div",{className:"text-sm text-red-800 leading-relaxed whitespace-pre-wrap font-medium",children:e})]}):i.jsx("div",{className:"prose prose-blue max-w-none",children:i.jsx("div",{className:"text-sm text-slate-700 leading-relaxed whitespace-pre-wrap font-medium",children:e})})}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between shrink-0",children:[i.jsx("button",{onClick:n,className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"}),!l&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:c,className:"flex items-center gap-2 px-5 py-2.5 bg-white border border-slate-200 text-slate-700 rounded-xl text-xs font-black uppercase tracking-widest hover:bg-slate-50 transition-all",children:r?i.jsxs(i.Fragment,{children:[i.jsx(zs,{size:14,className:"text-green-500"}),"Copied!"]}):i.jsxs(i.Fragment,{children:[i.jsx(cU,{size:14}),"Copy"]})}),i.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-5 py-2.5 bg-blue-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-blue-600 transition-all",children:[i.jsx(pU,{size:14}),"Download"]})]})]})]})})},AV=()=>{$r();const[e]=Ad(),[t,n]=b.useState([]),[r,a]=b.useState(!0),[l,c]=b.useState(e.get("group")),[u,f]=b.useState([]),[p,m]=b.useState(!1),[g,v]=b.useState(""),[N,j]=b.useState(null),_=b.useRef(null),[E,C]=b.useState(!1),[A,R]=b.useState(null),[M,I]=b.useState(!1),[P,k]=b.useState(null),[L,z]=b.useState(!1),[q,J]=b.useState(!1),[U,Y]=b.useState(!1),[te,he]=b.useState(!1),[F,G]=b.useState(!1),[X,oe]=b.useState(!1),[ve,O]=b.useState(null),[K,ce]=b.useState(!1),[xe,Z]=b.useState(!1),[ue,ye]=b.useState("created"),[Ne,ne]=b.useState({title:"",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[je,Oe]=b.useState(!1),[ge,st]=b.useState([]),[Fe,vt]=b.useState(!1),[yt,St]=b.useState(!1),[In,pr]=b.useState(""),[Fn,On]=b.useState([]),[tr,fe]=b.useState(null),[ze,Mt]=b.useState({}),ae=()=>{try{const H=localStorage.getItem("lastSeenMessageCounts");return H?JSON.parse(H):{}}catch{return{}}},Re=H=>{localStorage.setItem("lastSeenMessageCounts",JSON.stringify(H))},[Ye,un]=b.useState({}),nr=H=>{un(be=>({...be,[H]:Date.now()}))},[se,De]=b.useState(!1),[rt,Ze]=b.useState([]),[$,Ie]=b.useState(!1),[Ue,ut]=b.useState(null),[Dn,Gr]=b.useState(""),[Br,Fr]=b.useState("none"),[qr,rr]=b.useState(""),[Ma,ri]=b.useState(""),[Ra,Hr]=b.useState(null),[ai,ii]=b.useState(!1),[Qd,ro]=b.useState(!1),[sl,ll]=b.useState(""),[si,ao]=b.useState(null),[ef,Er]=b.useState(!1),[gt,Jt]=b.useState({name:"",description:"",max_members:5,location:"",subject:"",faculty:""}),[ar]=b.useState(()=>{const H=localStorage.getItem("auth_user");return H?JSON.parse(H):null}),li=(e.get("q")||"").toLowerCase(),io=b.useMemo(()=>{let H=t;return xe?H=H.filter(be=>be.status===Ge.ARCHIVED):H=H.filter(be=>be.status!==Ge.ARCHIVED),li&&(H=H.filter(be=>be.name.toLowerCase().includes(li)||be.subject.toLowerCase().includes(li))),H},[t,li,xe]),ol=b.useMemo(()=>io.filter(H=>H.creator_id===ar?.id).sort((H,be)=>H.name.localeCompare(be.name)),[io,ar]),os=b.useMemo(()=>io.filter(H=>H.creator_id!==ar?.id).sort((H,be)=>H.name.localeCompare(be.name)),[io,ar]),cs=b.useMemo(()=>ol.reduce((H,be)=>H+(be.pending_requests_count||0)+(ze[be.id]||0),0),[ol,ze]),so=b.useMemo(()=>os.reduce((H,be)=>H+(be.pending_requests_count||0)+(ze[be.id]||0),0),[os,ze]),we=t.find(H=>H.id===l),qn=we?.creator_id===ar?.id,Pa=b.useRef(null),oi=b.useRef(null),[an,Lc]=b.useState(!0),lo=b.useRef(!1),pa=b.useRef(null),ci=b.useRef(null);b.useEffect(()=>{ui(),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),b.useEffect(()=>{const H=be=>{pa.current&&!pa.current.contains(be.target)&&Y(!1)};return document.addEventListener("mousedown",H),()=>document.removeEventListener("mousedown",H)},[]),b.useEffect(()=>{const H=e.get("group");H&&H!==l&&c(H)},[e]);const ui=async()=>{try{const be=(await Ce.getGroups()).filter(Le=>Le.is_member);n(be),!l&&be.length>0&&c(be[0].id)}catch(H){console.error("Failed to fetch groups",H)}finally{a(!1)}},zc=async H=>{try{vt(!0);const be=await Ce.getGroupMembers(H);st(be)}catch(be){console.error("Failed to fetch members",be),alert(be.message||"Failed to load members")}finally{vt(!1)}};b.useEffect(()=>{if(l){const H=t.find(Le=>Le.id===l)?.name;console.log(`[Group Switch] Switching to group: ${H} (${l})`),(async()=>{m(!0);try{const Le=await Ce.getMessages(l);console.log(`[Group Switch] Fetched ${Le.length} messages for ${H}`),f(Le);const Rt=ae();Rt[l]=Le.length,Re(Rt),console.log(`[Group Switch] Updated stored count for ${H}: ${Le.length}`)}catch(Le){console.error("Failed to fetch messages",Le)}finally{m(!1)}})(),lo.current=!0,Lc(!0),R(null),k(null),z(!1),Mt(Le=>{const Rt={...Le};return delete Rt[l],console.log(`[Group Switch] Cleared badge for ${H}`),Rt})}},[l]),b.useEffect(()=>{lo.current?(Pa.current?.scrollIntoView({behavior:"instant"}),lo.current=!1):an&&Pa.current?.scrollIntoView({behavior:"smooth"})},[u]);const tf=()=>{const H=oi.current;H&&Lc(H.scrollHeight-H.scrollTop-H.clientHeight<80)},l0=()=>{Pa.current?.scrollIntoView({behavior:"smooth"})};b.useEffect(()=>{A&&setTimeout(()=>{ci.current?.scrollIntoView({behavior:"smooth",block:"center"})},100)},[A]),b.useEffect(()=>{if(!l)return;const H=t.find(Le=>Le.id===l)?.name,be=setInterval(async()=>{try{const Le=await Ce.getMessages(l);f(Le);const Rt=ae();Rt[l]=Le.length,Re(Rt),console.log(`[Active Poll] Updated ${H}: ${Le.length} messages, stored count: ${Le.length}`)}catch{}},1e4);return()=>clearInterval(be)},[l,t]),b.useEffect(()=>{if(t.length===0)return;const H=async()=>{const Le=ae(),Rt={},Hn={};if(console.log("[Polling] Starting unread poll. Active group:",l),console.log("[Polling] Stored counts:",Le),await Promise.all(t.map(async bt=>{if(bt.id===l){console.log(`[Polling] Skipping active group: ${bt.name} (${bt.id})`);return}try{const Vn=await Ce.getMessages(bt.id),Kn=Vn.length,pi=Le[bt.id];if(console.log(`[Polling] Group "${bt.name}" (${bt.id}): current=${Kn}, lastSeen=${pi}`),pi===void 0)Rt[bt.id]=Kn,console.log(`[Polling] First time seeing "${bt.name}", setting baseline to ${Kn}`);else if(Kn>pi){const po=Kn-pi;if(Hn[bt.id]=po,console.log(`[Polling] NEW MESSAGES in "${bt.name}": ${po} new (${pi}  ${Kn})`),nr(bt.id),"Notification"in window&&Notification.permission==="granted"){const mi=Vn[Vn.length-1];new Notification(`${bt.name}`,{body:`${mi?.user_name||"Someone"}: ${mi?.content||"sent a message"}`,tag:`group-${bt.id}`})}}else console.log(`[Polling] No new messages in "${bt.name}"`)}catch(Vn){console.error(`[Polling] Error fetching messages for "${bt.name}":`,Vn)}})),Object.keys(Rt).length>0){const Vn={...ae(),...Rt};Re(Vn),console.log("[Polling] Saved new baselines:",Rt)}console.log("[Polling] Setting unread badges:",Hn),console.log("[Polling] Groups with unread counts:",Object.keys(Hn).map(bt=>`${t.find(Vn=>Vn.id===bt)?.name}(${bt}): ${Hn[bt]}`)),Mt(Hn)};H();const be=setInterval(H,15e3);return()=>clearInterval(be)},[t,l]),b.useEffect(()=>{X&&l&&zc(l)},[X,l]);const oo=async H=>{if(H.preventDefault(),!(!g.trim()&&!N||!l||we?.status===Ge.ARCHIVED))try{const be=await Ce.sendMessage(l,g,N||void 0);f(Le=>{const Rt=[...Le,be],Hn=ae();return Hn[l]=Rt.length,Re(Hn),console.log(`[Send Message] Sent message in ${we?.name}. Updated stored count to ${Rt.length}`),Rt}),nr(l),v(""),j(null),_.current&&(_.current.value="")}catch{alert("Failed to send message.")}},co=async()=>{if(u.length===0){alert("No messages to summarize yet.");return}C(!0),R(null);try{const H=u.filter(Le=>Le.content&&Le.content.trim().length>0).map(Le=>`${Le.user_name}: ${Le.content}`);if(H.length===0){R("No text messages to summarize. The chat only contains files."),C(!1);return}console.log("[GroupsPage] Summarizing",H.length,"messages");const be=await py.summarizeChat(H);R(be||"No summary available.")}catch(H){console.error("[GroupsPage] Summary error:",H),R(`Failed to generate summary: ${H.message||"Unknown error"}`)}finally{C(!1)}},ma=async()=>{if(!we)return;I(!0);const H=await py.suggestStudyPlan(we.subject);k(H),z(!0),I(!1)},mr=async H=>{if(H.preventDefault(),!!l){if(ld(Ne.title)||ld(Ne.location)){alert("Your meeting content contains inappropriate language. Please revise and try again.");return}Oe(!0);try{await Ce.createEvent({title:Ne.title,start_time:Ne.start_time,location:Ne.location,recurrence:Ne.recurrence,recurrence_count:Ne.recurrence_count,type:"Group Meeting",group_id:l});const be=new Date(Ne.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Le=Ne.recurrence!=="none"&&Ne.recurrence_count?` (Repeats ${Ne.recurrence} for ${Ne.recurrence_count} occurrences)`:"",Rt=Ne.location?`
Location: ${Ne.location}`:"",Hn=` New Meeting Scheduled!

${Ne.title}
${be}${Le}${Rt}

All members have been notified.`;try{const bt=await Ce.sendMessage(l,Hn);f(Vn=>[...Vn,bt])}catch{}ne({title:"",start_time:"",location:"",recurrence:"none",recurrence_count:""}),ii(!1),await cl(l)}catch{alert("Scheduling failed.")}finally{Oe(!1)}}},uo=async H=>{if(l){he(!0);try{await Ce.updateGroup(l,{status:H}),await ui(),Y(!1)}catch{alert("Failed to update status")}finally{he(!1)}}},o0=()=>{we&&(Jt({name:we.name,description:we.description,max_members:we.max_members,location:we.location,subject:we.subject,faculty:we.faculty}),Er(!0),Y(!1))},Uc=async H=>{if(H.preventDefault(),!!l){he(!0);try{await Ce.updateGroup(l,gt),await ui(),Er(!1)}catch{alert("Failed to update group")}finally{he(!1)}}},nf=async()=>{if(!(!l||!we)&&confirm(`Are you absolutely sure you want to delete "${we.name}"? This action cannot be undone and all data will be lost.`))try{if(!(await fetch(`${Zp.BASE_URL}/groups/${l}`,{method:"DELETE",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${ar?.token}`}})).ok)throw new Error("Failed to delete group");alert("Group dissolved successfully."),c(null),ui()}catch{alert("Failed to delete group.")}},fo=async(H,be)=>{if(l&&confirm(`Remove ${be} from ${we?.name}? This member will lose access to all group resources.`)){O(H);try{await Ce.kickMember(l,String(H)),alert(`${be} has been removed from the group.`),await zc(l),await ui()}catch(Le){alert(Le.message||"Failed to remove member.")}finally{O(null)}}},c0=async()=>{if(!(!l||!we)&&confirm(`Are you sure you want to leave "${we.name}"?`)){ce(!0);try{await Ce.leaveGroup(l),oe(!1),c(null),await ui()}catch(H){alert(H.message||"Failed to leave group.")}finally{ce(!1)}}},hr=async H=>{if(pr(H),!H.trim()||!l){On([]);return}try{const Le=(await Ce.searchUsers(H)).filter(Rt=>!ge.some(Hn=>Hn.id===Rt.id));On(Le)}catch(be){console.error("Failed to search users:",be)}},$c=async H=>{if(l){fe(H);try{await Ce.inviteUserToGroup(l,H.toString()),On(be=>be.map(Le=>Le.id===H?{...Le,invited:!0}:Le))}catch(be){alert(be.message||"Failed to send invitation")}finally{fe(null)}}},cl=async H=>{Ie(!0);try{const be=await Ce.getEvents();Ze(be.filter(Le=>Le.group_id===H))}catch(be){console.error("Failed to fetch events",be)}finally{Ie(!1)}},Gc=H=>{ao(H),ro(!0)},di=async H=>{if(si){Hr(si.id),ro(!1);try{await Ce.deleteEvent(si.id,H),l&&await cl(l),alert("Meeting cancelled successfully.")}catch{alert("Failed to cancel meeting.")}finally{Hr(null),ao(null),ll("")}}},rf=()=>{ro(!1),ao(null),ll("")},af=async()=>{if(!(!Ue||!Dn)){Hr(Ue.id);try{await Ce.deleteEvent(Ue.id),await Ce.createEvent({title:Ue.title,type:Ue.type||"Group Meeting",start_time:Dn,location:Ma,recurrence:Br,recurrence_count:qr,group_id:Ue.group_id||l}),ut(null),Gr(""),Fr("none"),rr(""),ri(""),l&&await cl(l)}catch{alert("Failed to reschedule meeting.")}finally{Hr(null)}}},fi=H=>{switch(H){case Ge.OPEN:return i.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-emerald-100 text-emerald-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[i.jsx(nd,{size:12})," Open"]});case Ge.CLOSED:return i.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-amber-100 text-amber-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[i.jsx(Ui,{size:12})," Closed"]});case Ge.ARCHIVED:return i.jsxs("span",{className:"flex items-center gap-1.5 px-3 py-1 bg-slate-100 text-slate-600 rounded-lg text-[10px] font-black uppercase tracking-wider",children:[i.jsx(Ga,{size:12})," Archived"]});default:return null}};return r?i.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-4",children:[i.jsx(ke,{size:48,className:"animate-spin text-orange-500"}),i.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-xs",children:"Loading your workspace..."})]}):i.jsxs("div",{className:"h-full flex flex-col lg:flex-row gap-6 animate-in fade-in duration-500",children:[i.jsxs("div",{className:"w-full lg:w-80 flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Your Study Groups"}),i.jsxs("button",{onClick:()=>Z(!xe),className:`flex items-center gap-2 px-3 py-2 rounded-xl text-xs font-black uppercase tracking-widest transition-all ${xe?"bg-slate-500 text-white shadow-md":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[i.jsx(Ga,{size:14}),xe?"Active":"Archived"]})]}),i.jsx("div",{className:"flex-1 space-y-3 overflow-y-auto pr-2 pb-4",children:t.length===0?i.jsxs("div",{className:"bg-white border-2 border-dashed border-slate-200 rounded-[2rem] p-8 text-center space-y-4",children:[i.jsx(pt,{size:32,className:"mx-auto text-slate-200"}),i.jsx("p",{className:"text-sm font-medium text-slate-400",children:"You haven't joined any groups yet."}),i.jsx($t,{to:"/home",className:"inline-block text-xs font-black text-orange-500 uppercase tracking-widest hover:text-orange-600",children:"Browse Feed"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex p-1 bg-slate-100 rounded-2xl mb-3",children:[i.jsxs("button",{onClick:()=>ye("created"),className:`relative flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ue==="created"?"bg-white text-orange-500 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:["Created",ol.length>0&&i.jsxs("span",{className:"ml-1 opacity-60",children:["(",ol.length,")"]}),cs>0&&i.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 bg-red-500 text-white text-[9px] font-black rounded-full flex items-center justify-center shadow",children:cs})]}),i.jsxs("button",{onClick:()=>ye("joined"),className:`relative flex-1 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all ${ue==="joined"?"bg-white text-orange-500 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:["Joined",os.length>0&&i.jsxs("span",{className:"ml-1 opacity-60",children:["(",os.length,")"]}),so>0&&i.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[16px] h-[16px] px-1 bg-red-500 text-white text-[9px] font-black rounded-full flex items-center justify-center shadow",children:so})]})]}),(()=>{const H=ue==="created"?ol:os;return H.length===0?i.jsx("div",{className:"p-8 text-center opacity-40",children:li?i.jsxs(i.Fragment,{children:[i.jsx(Ya,{size:24,className:"mx-auto mb-2"}),i.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No matching groups"})]}):xe?i.jsxs(i.Fragment,{children:[i.jsx(Ga,{size:24,className:"mx-auto mb-2"}),i.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No archived groups"})]}):i.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No groups here"})}):i.jsx("div",{className:"space-y-3",children:H.map(be=>{const Le=ze[be.id]||0;return i.jsxs("button",{onClick:()=>c(be.id),className:`w-full text-left p-5 rounded-[2rem] border transition-all relative ${l===be.id?"bg-orange-500 border-orange-500 text-white shadow-xl shadow-orange-100 scale-[1.02]":"bg-white border-slate-200 text-slate-600 hover:bg-slate-50"} ${be.status===Ge.ARCHIVED?"grayscale opacity-80":""}`,children:[Le>0&&l!==be.id&&i.jsx("span",{className:"absolute -top-1.5 -right-1.5 min-w-[22px] h-[22px] px-1.5 bg-red-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg shadow-red-200 animate-in zoom-in duration-200",children:Le}),(be.pending_requests_count||0)>0&&be.creator_id===ar?.id&&l!==be.id&&i.jsx("span",{className:"absolute -top-1.5 -left-1.5 min-w-[22px] h-[22px] px-1.5 bg-amber-500 text-white text-[10px] font-black rounded-full flex items-center justify-center shadow-lg shadow-amber-200 animate-in zoom-in duration-200",children:be.pending_requests_count}),i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:`w-8 h-8 rounded-xl flex items-center justify-center font-bold text-xs ${l===be.id?"bg-white/20":"bg-orange-100 text-orange-600"}`,children:be.name[0]}),i.jsxs("div",{className:"flex-1 flex items-center justify-between",children:[i.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${l===be.id?"text-orange-100":"text-slate-400"}`,children:be.subject}),be.status!==Ge.OPEN&&i.jsx("span",{className:`${l===be.id?"text-white/60":"text-slate-300"}`,children:be.status===Ge.ARCHIVED?i.jsx(Ga,{size:10}):i.jsx(Ui,{size:10})})]})]}),i.jsx("h3",{className:"font-bold truncate",children:be.name}),i.jsxs("p",{className:`text-[10px] font-bold mt-1 ${l===be.id?"text-orange-50":"text-slate-400"}`,children:[be.members_count," Members  ",be.status]})]},be.id)})})})()]})}),we&&i.jsxs("div",{className:"bg-white p-6 rounded-[2rem] border border-slate-200 shadow-sm space-y-4",children:[i.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Workspace Tools"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:ma,disabled:M||we.status===Ge.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-blue-50 text-blue-600 rounded-2xl hover:bg-blue-100 transition-all gap-2 disabled:opacity-50",children:[M?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsx(Qu,{size:18}),i.jsx("span",{className:"text-[10px] font-black uppercase",children:"Study Plan"})]}),i.jsxs("button",{onClick:()=>J(!0),disabled:we.status===Ge.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-orange-50 text-orange-600 rounded-2xl hover:bg-orange-100 transition-all gap-2 disabled:opacity-50",children:[i.jsx(TR,{size:18}),i.jsx("span",{className:"text-[10px] font-black uppercase",children:"Live Room"})]}),(we.is_member||qn)&&i.jsxs("button",{onClick:()=>oe(!0),className:"flex flex-col items-center justify-center p-4 bg-purple-50 text-purple-600 rounded-2xl hover:bg-purple-100 transition-all gap-2",children:[i.jsx(pt,{size:18}),i.jsx("span",{className:"text-[10px] font-black uppercase",children:"Details"})]}),qn&&i.jsxs("button",{onClick:()=>{De(!0),ii(!1),l&&cl(l)},disabled:we.status===Ge.ARCHIVED,className:"flex flex-col items-center justify-center p-4 bg-emerald-50 text-emerald-600 rounded-2xl hover:bg-emerald-100 transition-all gap-2 col-span-2 disabled:opacity-50",children:[i.jsx(Cn,{size:18}),i.jsx("span",{className:"text-[10px] font-black uppercase",children:"Meetings"})]})]})]})]}),i.jsx("div",{className:`flex-1 bg-white border border-slate-200 rounded-[2.5rem] flex flex-col overflow-hidden shadow-sm relative ${we?.status===Ge.ARCHIVED?"bg-slate-50/50":""}`,children:we?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between bg-white/50 backdrop-blur-md sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center text-white font-bold text-lg shadow-lg ${we.status===Ge.ARCHIVED?"bg-slate-400 shadow-slate-100":"bg-orange-500 shadow-orange-100"}`,children:we.name[0]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-bold text-slate-900 text-lg leading-none",children:we.name}),fi(we.status)]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[we.status===Ge.OPEN?i.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}):i.jsx("span",{className:"w-2 h-2 bg-slate-300 rounded-full"}),i.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[we.members_count," members enrolled  Led by"," ",i.jsx($t,{to:`/profile/${we.creator_id}`,className:"hover:text-orange-500 transition-colors cursor-pointer",children:we.creator_name})]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[qn&&we.pending_requests_count>0&&i.jsxs("button",{onClick:()=>G(!0),className:"relative flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-200 text-amber-600 rounded-xl font-bold text-xs uppercase tracking-widest hover:bg-amber-100 transition-all",children:[i.jsx(Td,{size:16}),i.jsxs("span",{children:[we.pending_requests_count," Request",we.pending_requests_count!==1?"s":""]})]}),i.jsx("button",{onClick:co,disabled:E||we.status===Ge.ARCHIVED,className:"p-2.5 text-orange-500 hover:bg-orange-50 rounded-xl transition-all relative group disabled:opacity-30",children:E?i.jsx(ke,{size:20,className:"animate-spin"}):i.jsx(rd,{size:20})}),i.jsxs("div",{className:"relative",ref:pa,children:[i.jsx("button",{onClick:()=>Y(!U),className:`p-2.5 rounded-xl transition-all ${U?"bg-slate-100 text-slate-900":"text-slate-400 hover:bg-slate-50"}`,children:i.jsx(hU,{size:20})}),U&&qn&&i.jsxs("div",{className:"absolute top-12 right-0 w-56 bg-white border border-slate-200 rounded-2xl shadow-xl z-20 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"p-3 border-b border-slate-50",children:i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Manage Hub"})}),i.jsxs("button",{onClick:()=>uo(Ge.OPEN),disabled:te,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-emerald-50 transition-colors ${we.status===Ge.OPEN?"text-emerald-600 bg-emerald-50":"text-slate-600"}`,children:[i.jsx(nd,{size:14}),i.jsx("span",{className:"text-xs font-bold flex-1",children:"Set Open"}),we.status===Ge.OPEN&&i.jsx(ac,{size:12})]}),i.jsxs("button",{onClick:()=>uo(Ge.CLOSED),disabled:te,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-amber-50 transition-colors ${we.status===Ge.CLOSED?"text-amber-600 bg-amber-50":"text-slate-600"}`,children:[i.jsx(Ui,{size:14}),i.jsx("span",{className:"text-xs font-bold flex-1",children:"Set Closed"}),we.status===Ge.CLOSED&&i.jsx(ac,{size:12})]}),i.jsxs("button",{onClick:()=>uo(Ge.ARCHIVED),disabled:te,className:`w-full flex items-center gap-3 px-4 py-3 text-left hover:bg-slate-100 transition-colors ${we.status===Ge.ARCHIVED?"text-slate-900 bg-slate-50":"text-slate-400"}`,children:[i.jsx(Ga,{size:14}),i.jsx("span",{className:"text-xs font-bold flex-1",children:"Archive"}),we.status===Ge.ARCHIVED&&i.jsx(ac,{size:12})]})]})]})]})]}),i.jsxs("div",{ref:oi,onScroll:tf,className:"flex-1 overflow-y-auto p-6 space-y-6 bg-slate-50/30 relative",children:[we.status===Ge.ARCHIVED&&i.jsxs("div",{className:"bg-slate-100 border border-slate-200 p-6 rounded-[2rem] text-center space-y-2 mb-4 animate-in slide-in-from-top-2",children:[i.jsx(Ga,{size:32,className:"mx-auto text-slate-400"}),i.jsx("h4",{className:"font-bold text-slate-700",children:"This hub is archived"}),i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Messages are read-only. Leaders can reactivate the hub at any time."})]}),p?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(ke,{size:24,className:"animate-spin text-slate-300"})}):i.jsxs(i.Fragment,{children:[A&&i.jsxs("div",{ref:ci,className:"bg-orange-50 border border-orange-100 p-5 rounded-3xl shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-orange-600 mb-2",children:[i.jsx(rd,{size:16}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:"AI Catch-up"})]}),i.jsx("p",{className:"text-sm text-orange-800 leading-relaxed font-medium",children:A}),i.jsx("button",{onClick:()=>R(null),className:"text-[10px] font-black text-orange-400 uppercase mt-4 hover:text-orange-600 transition-colors",children:"Dismiss"})]}),u.length===0&&i.jsxs("div",{className:"text-center py-10 space-y-2 opacity-30",children:[i.jsx(Bl,{size:32,className:"mx-auto"}),i.jsx("p",{className:"text-xs font-bold uppercase tracking-widest",children:"No messages yet"})]}),u.map((H,be)=>{const Le=H.user_id===ar?.id,Rt=H.user_id===we.creator_id,Hn=H.file_type?.startsWith("image/"),bt=H.file_path?`${Zp.BASE_URL.replace("/api","")}/storage/${H.file_path}`:null;return i.jsxs("div",{className:`flex flex-col ${Le?"items-end":"items-start"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1.5 px-2",children:[i.jsxs($t,{to:`/profile/${H.user_id}`,className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider hover:text-orange-500 transition-colors cursor-pointer",children:[H.user_name,Rt&&i.jsx("span",{className:"ml-1.5 text-[8px] px-1.5 py-0.5 bg-orange-100 text-orange-600 rounded border border-orange-200",children:"LEADER"})]}),i.jsx("span",{className:"text-[10px] font-medium text-slate-300",children:new Date(H.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("div",{className:`max-w-[85%] px-5 py-3.5 rounded-3xl text-sm font-medium leading-relaxed shadow-sm ${Le?"bg-orange-500 text-white rounded-tr-none":"bg-white border border-slate-200 text-slate-700 rounded-tl-none"}`,children:[H.content&&i.jsx("div",{className:"mb-2",children:H.content}),H.file_path&&i.jsx("div",{className:"space-y-2",children:Hn&&bt?i.jsxs("a",{href:bt,target:"_blank",rel:"noopener noreferrer",className:"block",children:[i.jsx("img",{src:bt,alt:H.file_name||"Uploaded image",className:"max-w-full max-h-64 rounded-xl border-2 border-white/20 hover:border-white/40 transition-all cursor-pointer"}),i.jsxs("div",{className:`flex items-center gap-2 mt-2 text-xs ${Le?"text-orange-100":"text-slate-500"}`,children:[i.jsx(bx,{size:14}),i.jsx("span",{className:"truncate",children:H.file_name})]})]}):i.jsxs("a",{href:bt||"#",target:"_blank",rel:"noopener noreferrer",className:`flex items-center gap-3 p-3 rounded-xl transition-all ${Le?"bg-orange-600 hover:bg-orange-700":"bg-slate-100 hover:bg-slate-200"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${Le?"bg-orange-700":"bg-white"}`,children:i.jsx(bx,{size:20,className:Le?"text-white":"text-slate-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`text-sm font-bold truncate ${Le?"text-white":"text-slate-900"}`,children:H.file_name}),i.jsx("div",{className:`text-xs ${Le?"text-orange-100":"text-slate-500"}`,children:H.file_size?`${(H.file_size/1024).toFixed(1)} KB`:"File"})]})]})})]})]},H.id)})]}),!an&&i.jsx("button",{onClick:l0,className:"sticky bottom-4 left-1/2 -translate-x-1/2 flex items-center justify-center w-9 h-9 bg-orange-500 hover:bg-orange-600 text-white rounded-full shadow-lg transition-all z-10","aria-label":"Scroll to bottom",children:i.jsx(Mi,{size:18})}),i.jsx("div",{ref:Pa})]}),i.jsxs("form",{onSubmit:oo,className:`p-6 bg-white border-t border-slate-100 ${we.status===Ge.ARCHIVED?"pointer-events-none opacity-50 grayscale":""}`,children:[N&&i.jsxs("div",{className:"mb-3 flex items-center gap-2 bg-orange-50 border border-orange-200 px-4 py-2 rounded-xl",children:[i.jsx(bx,{size:16,className:"text-orange-600"}),i.jsx("span",{className:"text-sm font-semibold text-orange-900 flex-1 truncate",children:N.name}),i.jsxs("span",{className:"text-xs text-orange-600",children:[(N.size/1024).toFixed(1)," KB"]}),i.jsx("button",{type:"button",onClick:()=>{j(null),_.current&&(_.current.value="")},className:"text-orange-600 hover:text-orange-800 transition-colors",children:i.jsx(et,{size:16})})]}),i.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-2 rounded-[2rem] border border-slate-200 focus-within:ring-2 focus-within:ring-orange-500/20 focus-within:bg-white transition-all",children:[i.jsx("input",{ref:_,type:"file",accept:"image/*,.pdf,.doc,.docx,.txt",onChange:H=>{const be=H.target.files?.[0];be&&j(be)},className:"hidden"}),i.jsx("button",{type:"button",onClick:()=>_.current?.click(),disabled:we.status===Ge.ARCHIVED,className:"w-10 h-10 bg-white hover:bg-slate-100 text-slate-600 rounded-2xl flex items-center justify-center transition-all disabled:opacity-50 border border-slate-200",title:"Attach file",children:i.jsx(BU,{size:18})}),i.jsx("input",{type:"text",disabled:we.status===Ge.ARCHIVED,placeholder:we.status===Ge.ARCHIVED?"Hub is archived":"Share a thought or question...",className:"flex-1 bg-transparent border-none outline-none px-4 text-sm font-medium text-slate-700",value:g,onChange:H=>v(H.target.value)}),i.jsx("button",{type:"submit",disabled:!g.trim()&&!N||we.status===Ge.ARCHIVED,className:"w-10 h-10 bg-orange-500 hover:bg-orange-600 text-white rounded-2xl flex items-center justify-center transition-all disabled:opacity-50 disabled:scale-95 shadow-lg shadow-orange-100",children:i.jsx(dy,{size:18})})]})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-12 text-center text-slate-400",children:[i.jsx(Bl,{size:64,className:"mb-6 opacity-20"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"No group selected"}),i.jsx("p",{className:"max-w-xs",children:"Pick a study group from the left to start collaborating with your classmates."})]})}),ef&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl w-full max-w-xl overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-orange-500 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Edit Hub"}),i.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Update your session details"})]}),i.jsx("button",{onClick:()=>Er(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("form",{onSubmit:Uc,className:"p-10 space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Hub Name"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:gt.name,onChange:H=>Jt({...gt,name:H.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject Area"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:gt.subject,onChange:H=>Jt({...gt,subject:H.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:gt.faculty,onChange:H=>Jt({...gt,faculty:H.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),i.jsx("textarea",{required:!0,rows:3,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold resize-none",value:gt.description,onChange:H=>Jt({...gt,description:H.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Students"}),i.jsx("input",{type:"number",min:2,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:gt.max_members,onChange:H=>Jt({...gt,max_members:parseInt(H.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsx("input",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none text-sm font-bold",value:gt.location,onChange:H=>Jt({...gt,location:H.target.value})})]})]}),i.jsxs("div",{className:"pt-4 flex gap-4",children:[i.jsx("button",{type:"button",onClick:()=>Er(!1),className:"flex-1 px-8 py-4 border-2 border-slate-100 rounded-2xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:te,className:"flex-1 px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 shadow-xl shadow-orange-100 transition-all active:scale-95 disabled:opacity-50",children:te?i.jsx(ke,{className:"animate-spin mx-auto",size:18}):"Save Changes"})]})]})]})}),q&&we&&i.jsx(_V,{subject:we.subject,onClose:()=>J(!1)}),L&&P&&we&&i.jsx(CV,{studyPlan:P,subject:we.subject,onClose:()=>z(!1)}),F&&we&&i.jsx(EV,{groupId:we.id,groupName:we.name,onClose:()=>G(!1),onRequestProcessed:()=>{ui()}}),X&&we&&(we.is_member||qn)&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-purple-500 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Group Details"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:we.name})]}),i.jsx("button",{onClick:()=>oe(!1),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 max-h-[600px] overflow-y-auto space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-4 p-6 bg-slate-50 rounded-2xl border border-slate-200",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 text-purple-600 rounded-2xl flex items-center justify-center font-black text-2xl border border-purple-200 shrink-0",children:we.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-slate-900 text-xl mb-2",children:we.name}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:we.description}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-xs font-bold",children:we.subject}),i.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-bold",children:we.faculty}),fi(we.status)]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Leader"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:we.creator_name})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Members"}),i.jsxs("p",{className:"text-sm font-bold text-slate-900",children:[we.members_count," / ",we.max_members]})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Location"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:we.location})]}),i.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Created"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(we.created_at).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pt,{className:"text-purple-600",size:24}),i.jsxs("h4",{className:"text-lg font-bold text-slate-900",children:["Members (",we.members_count,")"]})]}),Fe?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx(ke,{size:32,className:"animate-spin text-purple-600"})}):ge.length===0?i.jsx("div",{className:"p-6 bg-slate-50 rounded-xl text-center",children:i.jsx("p",{className:"text-sm text-slate-600",children:"No members found"})}):i.jsx("div",{className:"space-y-3",children:ge.map(H=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl border border-slate-200 hover:bg-slate-100 transition-all",children:[i.jsx($t,{to:`/profile/${H.id}`,className:`w-12 h-12 ${H.is_leader?"bg-purple-100 text-purple-600":"bg-blue-100 text-blue-600"} rounded-xl flex items-center justify-center font-bold text-lg cursor-pointer hover:scale-105 transition-transform`,children:H.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx($t,{to:`/profile/${H.id}`,className:"font-bold text-slate-900 hover:text-orange-500 transition-colors cursor-pointer",children:H.name}),H.is_leader&&i.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 rounded-full text-xs font-bold",children:"Leader"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:H.email}),H.major&&i.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:[i.jsx("span",{className:"font-bold",children:"Major:"})," ",H.major]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"text-xs text-slate-400",children:["Joined ",new Date(H.joined_at).toLocaleDateString(void 0,{month:"short",day:"numeric"})]})}),qn&&!H.is_leader&&i.jsxs("button",{onClick:()=>fo(H.id,H.name),disabled:ve===H.id,className:"flex items-center gap-1.5 px-3 py-2 bg-red-500 text-white rounded-lg text-xs font-bold uppercase tracking-wider hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",title:"Remove member from group",children:[ve===H.id?i.jsx(ke,{size:14,className:"animate-spin"}):i.jsx(Yb,{size:14}),"Kick"]})]})]},H.id))}),qn&&i.jsxs("div",{className:"mt-6 border-t border-slate-200 pt-6",children:[i.jsxs("button",{onClick:()=>St(!yt),className:"flex items-center gap-2 text-sm font-bold text-purple-600 hover:text-purple-700 transition-colors mb-4",children:[i.jsx(sc,{size:16}),yt?"Hide":"Invite Members"]}),yt&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"relative",children:i.jsx("input",{type:"text",value:In,onChange:H=>hr(H.target.value),placeholder:"Search users by name or major...",className:"w-full px-4 py-3 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none"})}),Fn.length>0&&i.jsx("div",{className:"max-h-60 overflow-y-auto space-y-2 bg-slate-50 rounded-xl p-3",children:Fn.map(H=>i.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-slate-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-blue-400 flex items-center justify-center text-white font-bold",children:H.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-slate-900 text-sm",children:H.name}),i.jsx("div",{className:"text-xs text-slate-500",children:H.email}),H.major&&i.jsx("div",{className:"text-xs text-slate-400",children:H.major})]})]}),i.jsx("button",{onClick:()=>$c(H.id),disabled:tr===H.id||H.invited,className:`flex items-center gap-1.5 px-4 py-2 rounded-lg text-xs font-bold uppercase tracking-wider transition-all disabled:opacity-50 disabled:cursor-not-allowed ${H.invited?"bg-emerald-100 text-emerald-700":"bg-purple-500 text-white hover:bg-purple-600"}`,children:tr===H.id?i.jsx(ke,{size:14,className:"animate-spin"}):H.invited?i.jsxs(i.Fragment,{children:[i.jsx(zs,{size:14}),"Invited"]}):i.jsxs(i.Fragment,{children:[i.jsx(sc,{size:14}),"Invite"]})})]},H.id))}),In&&Fn.length===0&&i.jsx("div",{className:"text-center text-slate-400 text-sm py-4",children:"No users found"})]})]})]})]}),i.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-end gap-3",children:qn?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:o0,className:"flex items-center gap-2 px-5 py-2.5 bg-orange-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-orange-600 transition-all",children:[i.jsx(pc,{size:14}),"Edit Group"]}),i.jsxs("button",{onClick:nf,className:"flex items-center gap-2 px-5 py-2.5 bg-red-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-all",children:[i.jsx(qi,{size:14}),"Delete Group"]})]}):i.jsxs("button",{onClick:c0,disabled:K,className:"flex items-center gap-2 px-5 py-2.5 bg-red-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50",children:[K?i.jsx(ke,{size:14,className:"animate-spin"}):i.jsx(Vb,{size:14}),"Leave Group"]})})]})}),se&&we&&qn&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[3rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-emerald-500 p-10 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-3xl font-black tracking-tight",children:"Meetings"}),i.jsx("p",{className:"text-emerald-100 text-sm font-bold mt-1",children:we.name})]}),i.jsx("button",{onClick:()=>{De(!1),ii(!1)},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 max-h-[500px] overflow-y-auto space-y-4",children:[ai&&i.jsxs("form",{onSubmit:mr,className:"p-5 bg-emerald-50 border border-emerald-200 rounded-2xl space-y-3 animate-in slide-in-from-top-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest",children:"New Meeting"}),i.jsx("button",{type:"button",onClick:()=>ii(!1),className:"text-emerald-400 hover:text-emerald-600",children:i.jsx(et,{size:16})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Qu,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{required:!0,placeholder:"Meeting title",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:Ne.title,onChange:H=>ne({...Ne,title:H.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Kt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{type:"datetime-local",required:!0,className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:Ne.start_time,onChange:H=>ne({...Ne,start_time:H.target.value})})]}),i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsxs("select",{className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500 appearance-none",value:Ne.recurrence,onChange:H=>ne({...Ne,recurrence:H.target.value}),children:[i.jsx("option",{value:"none",children:"One-time"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"monthly",children:"Monthly"})]})]}),Ne.recurrence!=="none"&&i.jsx("input",{type:"number",placeholder:`How many ${Ne.recurrence==="daily"?"days":Ne.recurrence==="weekly"?"weeks":"months"}?`,className:"w-full px-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:Ne.recurrence_count,onChange:H=>ne({...Ne,recurrence_count:H.target.value}),min:"1",max:"365"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{placeholder:"Location or link (optional)",className:"w-full pl-12 pr-4 py-3 bg-white border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-emerald-500",value:Ne.location,onChange:H=>ne({...Ne,location:H.target.value})})]}),i.jsx("button",{type:"submit",disabled:je,className:"w-full py-3 bg-emerald-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all flex items-center justify-center gap-2",children:je?i.jsx(ke,{size:16,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(dy,{size:14})," Schedule & Share to Chat"]})})]}),$?i.jsx("div",{className:"flex items-center justify-center p-10",children:i.jsx(ke,{size:32,className:"animate-spin text-emerald-500"})}):rt.length===0&&!ai?i.jsxs("div",{className:"p-10 text-center space-y-3",children:[i.jsx(Cn,{size:40,className:"mx-auto text-slate-200"}),i.jsx("p",{className:"text-sm font-bold text-slate-400",children:"No meetings scheduled yet"}),i.jsx("button",{onClick:()=>ii(!0),className:"text-xs font-black text-emerald-500 uppercase tracking-widest hover:text-emerald-600",children:"Schedule one now"})]}):rt.sort((H,be)=>new Date(H.start_time).getTime()-new Date(be.start_time).getTime()).map(H=>{const be=new Date(H.start_time)<new Date;return i.jsx("div",{className:`p-5 rounded-2xl border transition-all ${be?"bg-slate-50 border-slate-200 opacity-60":"bg-white border-slate-200 hover:border-emerald-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("h4",{className:"font-bold text-slate-900 truncate",children:H.title}),H.recurrence&&H.recurrence!=="none"&&i.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 bg-emerald-100 text-emerald-700 rounded-full text-[10px] font-black uppercase shrink-0",children:[i.jsx(ic,{size:10}),H.recurrence]}),be&&i.jsx("span",{className:"px-2 py-0.5 bg-slate-100 text-slate-500 rounded-full text-[10px] font-black uppercase shrink-0",children:"Past"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Kt,{size:14}),i.jsxs("span",{className:"font-bold",children:[new Date(H.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(H.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),H.location&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(jr,{size:14}),i.jsx("span",{className:"font-medium truncate",children:H.location})]})]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 shrink-0",children:[i.jsx("button",{onClick:()=>{ut(H),Gr(H.start_time?.slice(0,16)||""),Fr(H.recurrence||"none"),rr(H.recurrence_count||""),ri(H.location||"")},disabled:Ra===H.id,className:"p-2 text-blue-500 hover:bg-blue-50 rounded-lg transition-all",title:"Reschedule",children:i.jsx(Cn,{size:16})}),i.jsx("button",{onClick:()=>Gc(H),disabled:Ra===H.id,className:"p-2 text-red-400 hover:bg-red-50 hover:text-red-500 rounded-lg transition-all",title:"Cancel",children:Ra===H.id?i.jsx(ke,{size:16,className:"animate-spin"}):i.jsx(qi,{size:16})})]})]})},H.id)})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-100 flex items-center justify-between",children:[i.jsx("button",{onClick:()=>{De(!1),ii(!1)},className:"text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"}),!ai&&i.jsxs("button",{onClick:()=>ii(!0),className:"flex items-center gap-2 px-5 py-2.5 bg-emerald-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-emerald-600 transition-all",children:[i.jsx(Xp,{size:14}),"New Meeting"]})]})]})}),Ue&&i.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-blue-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:"Reschedule Meeting"}),i.jsx("p",{className:"text-blue-100 text-xs font-bold mt-1 truncate",children:Ue.title})]}),i.jsx("button",{onClick:()=>{ut(null),Fr("none"),rr(""),ri("")},children:i.jsx(et,{size:20})})]}),i.jsxs("div",{className:"p-8 space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Current Date & Time"}),i.jsx("p",{className:"px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl text-sm font-bold text-slate-500",children:new Date(Ue.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Date & Time"}),i.jsxs("div",{className:"relative",children:[i.jsx(Kt,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{type:"datetime-local",required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",value:Dn,onChange:H=>Gr(H.target.value)})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),i.jsxs("select",{value:Br,onChange:H=>Fr(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",children:[i.jsx("option",{value:"none",children:"One-time"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"monthly",children:"Monthly"})]})]}),Br!=="none"&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:["How many ",Br==="daily"?"days":Br==="weekly"?"weeks":"months","?"]}),i.jsx("input",{type:"number",placeholder:"Count",value:qr,onChange:H=>rr(H.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",min:"1",max:"365"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{placeholder:"Location or link (optional)",className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",value:Ma,onChange:H=>ri(H.target.value)})]})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{onClick:()=>{ut(null),Fr("none"),rr(""),ri("")},className:"flex-1 py-3 border-2 border-slate-100 rounded-xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:af,disabled:!Dn||Ra===Ue.id,className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:Ra===Ue.id?i.jsx(ke,{size:14,className:"animate-spin"}):"Reschedule"})]})]})]})}),Qd&&si&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Cancel Meeting"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:si.title})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for cancelling this meeting? This will be sent to all group members."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Cancellation Reason (Optional)"}),i.jsx("textarea",{value:sl,onChange:H=>ll(H.target.value),placeholder:"e.g., Postponed due to schedule conflict, Will reschedule for next week, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[sl.length,"/500 characters"]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[i.jsx("button",{onClick:rf,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),i.jsx("button",{onClick:()=>di(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Cancel"}),i.jsx("button",{onClick:()=>di(sl.trim()||void 0),disabled:sl.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Cancel"})]})]})})]})},TV=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(""),[f,p]=b.useState([]),[m,g]=b.useState(!1),[v,N]=b.useState(null),[j,_]=b.useState({severity:3,description:"",reason:""}),[E,C]=b.useState(null);b.useEffect(()=>{const k=localStorage.getItem("auth_user");k&&C(JSON.parse(k)),A()},[]);const A=async()=>{r(!0);try{const k=await Ce.getMyReports();console.log("Raw reports data from backend:",k);const L=k.data||k;Array.isArray(L)&&L.length>0&&console.log("First report structure:",L[0]),t(L)}catch(k){console.error("Failed to load reports",k)}finally{r(!1)}},R=async k=>{if(u(k),!k.trim()){p([]);return}g(!0);try{const L=await Ce.searchUsers(k);p(L.filter(z=>z.id!==E?.id))}catch(L){console.error("Failed to search users",L),p([])}finally{g(!1)}},M=k=>{N(k),u(""),p([])},I=async k=>{if(k.preventDefault(),!v||!j.reason||!j.description){alert("Please select a user, choose a reason, and provide details");return}l(!0);try{const L={Harassment:"harassment","Inappropriate Content":"inappropriate_content",Spam:"spam",Impersonation:"fake_profile","Hate Speech":"harassment",Violence:"harassment","Privacy Violation":"inappropriate_content",Other:"other"},z={1:"low",2:"low",3:"medium",4:"high",5:"urgent"};await Ce.submitReport({reported_user_id:v.id,reason:L[j.reason]||"other",description:j.description,priority:z[j.severity]||"medium"}),_({severity:3,description:"",reason:""}),N(null),alert("Report submitted successfully. Admin will review it shortly."),await A()}catch(L){alert("Error submitting report: "+L.message)}finally{l(!1)}},P=k=>{const L=["bg-slate-100 text-slate-600","bg-blue-100 text-blue-600","bg-yellow-100 text-yellow-600","bg-orange-100 text-orange-600","bg-red-100 text-red-600"],z=["Minor","Low","Medium","High","Critical"];return i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${L[k-1]||L[2]}`,children:z[k-1]||"Medium"})};return i.jsx("div",{className:"max-w-7xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-500",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-lg sticky top-20",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-xl flex items-center justify-center",children:i.jsx(An,{className:"text-red-600",size:20})}),i.jsx("h2",{className:"text-lg font-extrabold text-slate-900 tracking-tight",children:"Submit Report"})]}),i.jsxs("form",{onSubmit:I,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Select User to Report"}),v?i.jsxs("div",{className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-2xl flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold shrink-0",children:v.avatar||v.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm truncate",children:v.name}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:v.email})]})]}),i.jsx("button",{type:"button",onClick:()=>N(null),className:"text-xs font-bold text-red-600 hover:text-red-700 uppercase tracking-widest shrink-0",children:"Change"})]}):i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-center bg-slate-50 border border-slate-200 rounded-2xl px-4 py-3 focus-within:ring-2 focus-within:ring-red-500/20 focus-within:border-red-500",children:[i.jsx(Ya,{size:18,className:"text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search by name or email...",className:"bg-transparent border-none outline-none ml-3 w-full text-sm font-bold",value:c,onChange:k=>R(k.target.value)})]}),m&&i.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl p-4 shadow-xl z-10",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-slate-400",children:[i.jsx(ke,{size:16,className:"animate-spin"}),i.jsx("span",{className:"text-sm font-medium",children:"Searching..."})]})}),f.length>0&&i.jsx("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl shadow-xl z-10 max-h-64 overflow-y-auto",children:f.map(k=>i.jsxs("button",{type:"button",onClick:()=>M(k),className:"w-full p-4 flex items-center gap-3 hover:bg-slate-50 transition-all border-b border-slate-100 last:border-0",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 text-blue-600 rounded-xl flex items-center justify-center font-bold shrink-0",children:k.avatar||k.name[0]}),i.jsxs("div",{className:"text-left flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm truncate",children:k.name}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:k.email})]})]},k.id))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Report Reason"}),i.jsxs("select",{required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none text-sm font-bold appearance-none cursor-pointer",value:j.reason,onChange:k=>_({...j,reason:k.target.value}),children:[i.jsx("option",{value:"",children:"Select a reason..."}),i.jsx("option",{value:"Harassment",children:"Harassment or Bullying"}),i.jsx("option",{value:"Inappropriate Content",children:"Inappropriate Content"}),i.jsx("option",{value:"Spam",children:"Spam or Advertising"}),i.jsx("option",{value:"Impersonation",children:"Impersonation"}),i.jsx("option",{value:"Hate Speech",children:"Hate Speech"}),i.jsx("option",{value:"Violence",children:"Threats or Violence"}),i.jsx("option",{value:"Privacy Violation",children:"Privacy Violation"}),i.jsx("option",{value:"Other",children:"Other Violation"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Severity Level"}),i.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(k=>i.jsx("button",{type:"button",onClick:()=>_({...j,severity:k}),className:`flex-1 h-12 rounded-2xl flex items-center justify-center transition-all font-bold text-xs ${j.severity>=k?k<=2?"bg-blue-500 text-white shadow-lg shadow-blue-100":k===3?"bg-yellow-500 text-white shadow-lg shadow-yellow-100":"bg-red-500 text-white shadow-lg shadow-red-100":"bg-slate-100 text-slate-400 hover:bg-slate-200"}`,children:k},k))}),i.jsx("p",{className:"text-xs text-slate-400 font-medium ml-2",children:"1 = Minor issue  5 = Critical violation"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Detailed Description"}),i.jsx("textarea",{required:!0,rows:4,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none text-sm font-bold resize-none",placeholder:"Please provide specific details about the incident...",value:j.description,onChange:k=>_({...j,description:k.target.value})})]}),i.jsx("button",{type:"submit",disabled:a||!v,className:"w-full bg-red-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-red-100 hover:bg-red-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:a?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(dy,{size:16})," Submit Report"]})})]})]})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] border border-slate-200 shadow-sm h-[calc(100vh-8rem)] flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-slate-200 shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-extrabold text-slate-900 tracking-tight",children:"Your Previous Reports"}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-xs font-bold uppercase tracking-widest",children:[i.jsx(on,{size:16}),i.jsx("span",{children:"Admin Review"})]})]})}),i.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:n?i.jsx("div",{className:"flex justify-center py-20",children:i.jsx(ke,{size:32,className:"animate-spin text-red-200"})}):i.jsxs("div",{className:"space-y-6",children:[e.length===0&&i.jsxs("div",{className:"text-center py-20 opacity-30",children:[i.jsx(An,{size:48,className:"mx-auto mb-4"}),i.jsx("p",{className:"font-bold uppercase tracking-widest text-xs",children:"No reports submitted yet"})]}),e.map(k=>{const L={spam:"Spam or Advertising",harassment:"Harassment or Bullying",inappropriate_content:"Inappropriate Content",fake_profile:"Impersonation",other:"Other Violation"},z={low:2,medium:3,high:4,urgent:5},q=J=>{const U={pending:{bg:"bg-yellow-100",text:"text-yellow-700"},investigating:{bg:"bg-blue-100",text:"text-blue-700"},resolved:{bg:"bg-green-100",text:"text-green-700"},dismissed:{bg:"bg-gray-100",text:"text-gray-700"}},Y=U[J]||U.pending;return i.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-bold ${Y.bg} ${Y.text} uppercase`,children:J})};return i.jsxs("div",{className:"p-6 bg-slate-50 border border-slate-200 rounded-2xl hover:shadow-lg hover:border-slate-300 transition-all relative",children:[i.jsxs("div",{className:"absolute top-4 right-4 flex gap-2",children:[P(z[k.priority]||3),q(k.status)]}),i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-xl flex items-center justify-center shrink-0",children:i.jsx(ah,{size:20})}),i.jsxs("div",{className:"flex-1 min-w-0 pr-32",children:[i.jsx("h4",{className:"font-bold text-slate-900 text-base mb-1",children:k.reported_user?.name||"Unknown User"}),i.jsx("p",{className:"text-xs text-slate-500 mb-1",children:k.reported_user?.email||""}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:new Date(k.created_at).toLocaleDateString()}),i.jsx("div",{className:"mt-2 inline-block px-2 py-1 bg-white rounded-lg border border-slate-200",children:i.jsx("p",{className:"text-xs font-bold text-slate-600",children:L[k.reason]||k.reason})})]})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 border border-slate-200",children:i.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:k.description})}),k.resolution_notes&&i.jsxs("div",{className:"mt-3 bg-green-50 rounded-xl p-4 border border-green-200",children:[i.jsx("p",{className:"text-xs font-bold text-green-700 uppercase mb-1",children:"Resolution"}),i.jsx("p",{className:"text-sm text-green-900",children:k.resolution_notes})]})]},k.id)})]})})]})})]})})},kV=["January","February","March","April","May","June","July","August","September","October","November","December"],MV=()=>{const e=$r(),[t,n]=b.useState([]),[r,a]=b.useState([]),[l,c]=b.useState(!0),u=b.useMemo(()=>{try{const ae=localStorage.getItem("auth_user");return ae?JSON.parse(ae):null}catch{return null}},[]),[f,p]=b.useState(!1),[m,g]=b.useState({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[v,N]=b.useState(null),[j,_]=b.useState(!1),[E,C]=b.useState(!1),[A,R]=b.useState(!1),[M,I]=b.useState([]),[P,k]=b.useState(null),[L,z]=b.useState({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""}),[q,J]=b.useState(!1),[U,Y]=b.useState(""),[te,he]=b.useState(null),F=new Date,[G,X]=b.useState(F.getMonth()),[oe,ve]=b.useState(F.getFullYear()),O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],K=b.useMemo(()=>{const ae={};return r.forEach(Re=>{ae[Re.id]=Re}),ae},[r]),ce=ae=>ae&&K[ae]?K[ae].name:null,xe=ae=>{if(!u)return!1;const Re=String(u.id);return!!(String(ae.user_id)===Re||ae.group_id&&K[ae.group_id]&&String(K[ae.group_id].creator_id)===Re)},Z=b.useMemo(()=>{const ae=new Date(oe,G,1).getDay(),Re=new Date(oe,G+1,0).getDate(),Ye=Array.from({length:ae},(nr,se)=>({key:`empty-${se}`,day:0})),un=Array.from({length:Re},(nr,se)=>({key:`day-${se+1}`,day:se+1}));return[...Ye,...un]},[G,oe]),ue=b.useMemo(()=>t.filter(ae=>{const Re=new Date(ae.start_time);return Re.getMonth()===G&&Re.getFullYear()===oe}),[t,G,oe]),ye=b.useMemo(()=>{const ae=new Date;return ae.setHours(0,0,0,0),t.filter(Re=>new Date(Re.start_time)>=ae).sort((Re,Ye)=>new Date(Re.start_time).getTime()-new Date(Ye.start_time).getTime())},[t]);b.useEffect(()=>{Ne()},[]);const Ne=async()=>{c(!0);try{const[ae,Re]=await Promise.all([Ce.getEvents(),Ce.getGroups()]);n(ae),a(Re.filter(Ye=>Ye.is_member))}catch(ae){console.error("Failed to load data",ae)}finally{c(!1)}},ne=async ae=>{if(ae.preventDefault(),ld(m.title)||ld(m.location)){alert("Your event content contains inappropriate language. Please revise and try again.");return}try{await Ce.createEvent(m),p(!1);const Re=await Ce.getEvents();n(Re),g({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""})}catch{alert("Failed to create event")}},je=ae=>{he(ae),J(!0),N(null)},Oe=async ae=>{if(te){J(!1);try{await Ce.deleteEvent(te.id,ae);const Re=await Ce.getEvents();n(Re),alert("Event cancelled successfully.")}catch{alert("Failed to cancel event")}finally{he(null),Y("")}}},ge=()=>{J(!1),he(null),Y("")},st=async()=>{if(!P||!L.start_time){alert("Please fill in all required fields");return}try{await Ce.deleteEvent(P.id),await Ce.createEvent({title:P.title,type:P.group_id?P.type:L.type,start_time:L.start_time,location:L.location,recurrence:L.recurrence,recurrence_count:L.recurrence_count,group_id:P.group_id}),k(null),z({title:"",type:"General",start_time:"",location:"",recurrence:"none",recurrence_count:""});const ae=await Ce.getEvents();n(ae),alert("Event updated successfully!")}catch{alert("Failed to update event")}},Fe=()=>{G===0?(X(11),ve(oe-1)):X(G-1)},vt=()=>{G===11?(X(0),ve(oe+1)):X(G+1)},yt=ae=>`My Upcoming Schedule:

${ye.filter(un=>ae.includes(un.id)).map(un=>{const nr=new Date(un.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),se=un.location?` | ${un.location}`:"",De=ce(un.group_id),rt=De?` [${De}]`:"";return` ${un.title}${rt}  ${nr}${se}`}).join(`
`)||"No events selected."}`,St=async()=>{if(M.length===0){alert("Please select at least one event to share");return}const ae=yt(M);if(navigator.share)try{await navigator.share({title:"My Schedule",text:ae})}catch{}else try{await navigator.clipboard.writeText(ae),alert("Schedule copied to clipboard!")}catch{alert("Could not copy schedule.")}C(!1),R(!1),I([])},In=async ae=>{if(M.length===0){alert("Please select at least one event to share");return}_(!0);try{const Re=yt(M);await Ce.sendMessage(ae,Re),alert("Schedule shared to group chat!")}catch{alert("Failed to share to group chat.")}finally{_(!1),C(!1),R(!1),I([])}},pr=()=>{R(!0),I(ye.map(ae=>ae.id))},Fn=ae=>{I(Re=>Re.includes(ae)?Re.filter(Ye=>Ye!==ae):[...Re,ae])},On=async ae=>{if(ae.group_id){_(!0);try{const Re=new Date(ae.start_time).toLocaleString(void 0,{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ye=ae.recurrence&&ae.recurrence!=="none"?` (Repeats ${ae.recurrence})`:"",un=ae.location?`
Location: ${ae.location}`:"",nr=` Meeting Reminder!

${ae.title}
${Re}${Ye}${un}`;await Ce.sendMessage(ae.group_id,nr),alert("Shared to group chat!")}catch{alert("Failed to share to group chat.")}finally{_(!1)}}},tr=ae=>{N(null),e(`/groups?group=${ae}`)},fe=new Date,ze=ae=>ae===fe.getDate()&&G===fe.getMonth()&&oe===fe.getFullYear(),Mt=r;return i.jsx("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-2 space-y-6",children:i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-extrabold text-slate-900 tracking-tight",children:[kV[G]," ",oe]}),i.jsxs("p",{className:"text-slate-500 font-semibold text-xs uppercase tracking-widest mt-1",children:[ue.length," meetings this month"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:Fe,className:"p-2 hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:i.jsx(Wp,{size:20,className:"text-slate-400"})}),i.jsx("button",{onClick:()=>{X(F.getMonth()),ve(F.getFullYear())},className:"px-3 py-1.5 text-[10px] font-black text-slate-400 uppercase tracking-widest hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:"Today"}),i.jsx("button",{onClick:vt,className:"p-2 hover:bg-slate-100 rounded-xl transition-all border border-slate-100",children:i.jsx(Gl,{size:20,className:"text-slate-400"})})]})]}),i.jsxs("div",{className:"grid grid-cols-7 gap-px bg-slate-100 border border-slate-100 rounded-3xl overflow-hidden",children:[O.map(ae=>i.jsx("div",{className:"bg-slate-50 p-4 text-center",children:i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:ae})},ae)),Z.map(ae=>{if(ae.day===0)return i.jsx("div",{className:"bg-white h-24 md:h-32 p-2"},ae.key);const Re=ue.filter(Ye=>new Date(Ye.start_time).getDate()===ae.day);return i.jsxs("div",{className:`bg-white h-24 md:h-32 p-3 transition-colors hover:bg-slate-50/50 group relative ${ze(ae.day)?"ring-2 ring-inset ring-orange-400":""}`,children:[i.jsx("span",{className:`text-sm font-bold ${ze(ae.day)?"text-orange-500":"text-slate-400"}`,children:ae.day}),i.jsx("div",{className:"mt-1 space-y-1",children:Re.map(Ye=>i.jsx("button",{onClick:()=>N(Ye),className:`w-full text-left p-1 text-white text-[8px] font-black uppercase rounded truncate shadow-sm transition-colors ${Ye.group_id?"bg-emerald-500 hover:bg-emerald-600":"bg-orange-500 hover:bg-orange-600"}`,children:Ye.title},Ye.id))}),i.jsx("button",{onClick:()=>p(!0),className:"absolute bottom-2 right-2 p-1 bg-slate-50 text-slate-300 rounded-lg opacity-0 group-hover:opacity-100 transition-all hover:text-orange-500",children:i.jsx(Xp,{size:14})})]},ae.key)})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Upcoming"}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:pr,title:"Share schedule",children:i.jsx(wx,{size:18,className:"text-slate-400 hover:text-orange-500 cursor-pointer transition-colors"})}),E&&i.jsxs("div",{className:"absolute top-8 right-0 w-56 bg-white border border-slate-200 rounded-xl shadow-xl z-30 overflow-hidden animate-in fade-in slide-in-from-top-2",children:[i.jsx("div",{className:"p-2 border-b border-slate-50",children:i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest px-2",children:"Share schedule"})}),i.jsxs("button",{onClick:St,className:"w-full text-left px-4 py-2.5 text-xs font-bold text-slate-600 hover:bg-slate-50 transition-colors flex items-center gap-2",children:[i.jsx(wx,{size:14}),"Copy / Share"]}),Mt.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-4 py-1.5 border-t border-slate-50",children:i.jsx("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:"Send to group chat"})}),Mt.map(ae=>i.jsxs("button",{onClick:()=>In(ae.id),disabled:j,className:"w-full text-left px-4 py-2.5 text-xs font-bold text-slate-600 hover:bg-orange-50 hover:text-orange-600 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(pt,{size:14}),i.jsx("span",{className:"truncate",children:ae.name})]},ae.id))]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[l?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(ke,{className:"animate-spin text-slate-200"})}):i.jsxs(i.Fragment,{children:[ye.length===0&&i.jsx("p",{className:"text-center text-xs font-bold text-slate-400 uppercase py-10",children:"No upcoming events"}),ye.map(ae=>{const Re=ce(ae.group_id);return i.jsxs("div",{onClick:()=>N(ae),className:"w-full text-left p-5 bg-slate-50 rounded-3xl border border-slate-100 hover:border-orange-200 transition-all cursor-pointer group relative",children:[i.jsx("div",{className:"flex justify-between items-start mb-3",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-1 rounded-lg ${ae.type==="Exam"?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ae.type}),ae.recurrence&&ae.recurrence!=="none"&&i.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-black uppercase px-2 py-1 rounded-lg bg-blue-100 text-blue-600",children:[i.jsx(ic,{size:10}),ae.recurrence]}),Re&&i.jsxs("button",{onClick:Ye=>{Ye.stopPropagation(),tr(ae.group_id)},className:"flex items-center gap-1 text-[10px] font-black uppercase px-2 py-1 rounded-lg bg-purple-100 text-purple-600 hover:bg-purple-200 transition-colors",children:[i.jsx(pt,{size:10}),Re]})]})}),i.jsx("h4",{className:"font-bold text-slate-900 text-base mb-3 group-hover:text-orange-500 transition-colors",children:ae.title}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[i.jsx(Kt,{size:14}),i.jsxs("span",{className:"text-xs font-bold",children:[new Date(ae.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(ae.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),ae.location&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[i.jsx(jr,{size:14}),i.jsx("span",{className:"text-xs font-bold",children:ae.location})]})]})]},ae.id)})]}),i.jsxs("button",{onClick:()=>p(!0),className:"w-full py-4 border-2 border-dashed border-slate-200 rounded-3xl text-slate-400 text-xs font-black uppercase tracking-widest hover:border-orange-200 hover:text-orange-500 transition-all mt-4 flex items-center justify-center gap-2",children:[i.jsx(Xp,{size:16}),"Add Event"]})]})]})}),f&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md overflow-hidden shadow-2xl",children:[i.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-bold",children:"New Event"}),i.jsx("button",{onClick:()=>p(!1),children:i.jsx(et,{size:20})})]}),i.jsxs("form",{onSubmit:ne,className:"p-8 space-y-4",children:[i.jsx("input",{required:!0,placeholder:"Event Title",className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:m.title,onChange:ae=>g({...m,title:ae.target.value})}),i.jsxs("select",{className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:m.type,onChange:ae=>g({...m,type:ae.target.value}),children:[i.jsx("option",{value:"General",children:"General"}),i.jsx("option",{value:"Project",children:"Project"}),i.jsx("option",{value:"Exam",children:"Exam"}),i.jsx("option",{value:"Assignment",children:"Assignment"})]}),i.jsx("input",{type:"datetime-local",required:!0,className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:m.start_time,onChange:ae=>g({...m,start_time:ae.target.value})}),i.jsx("input",{placeholder:"Location (Optional)",className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:m.location,onChange:ae=>g({...m,location:ae.target.value})}),i.jsxs("div",{className:"relative",children:[i.jsx(ic,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsxs("select",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border rounded-xl font-bold text-sm appearance-none",value:m.recurrence,onChange:ae=>g({...m,recurrence:ae.target.value}),children:[i.jsx("option",{value:"none",children:"One-time (No repeat)"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"monthly",children:"Monthly"})]})]}),m.recurrence!=="none"&&i.jsx("input",{type:"number",placeholder:`How many ${m.recurrence==="daily"?"days":m.recurrence==="weekly"?"weeks":"months"}?`,className:"w-full px-5 py-3 bg-slate-50 border rounded-xl font-bold text-sm",value:m.recurrence_count,onChange:ae=>g({...m,recurrence_count:ae.target.value}),min:"1",max:"365"}),i.jsx("button",{type:"submit",className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black text-xs uppercase tracking-widest",children:"Create Event"})]})]})}),v&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-sm overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:`p-8 text-white flex justify-between items-center ${v.type==="Exam"?"bg-red-500":v.group_id?"bg-emerald-500":"bg-orange-500"}`,children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-xl font-bold truncate",children:v.title}),i.jsxs("div",{className:"flex items-center gap-2 mt-2 flex-wrap",children:[i.jsx("span",{className:"text-xs font-black uppercase bg-white/20 px-2 py-0.5 rounded-lg",children:v.type}),v.recurrence&&v.recurrence!=="none"&&i.jsxs("span",{className:"flex items-center gap-1 text-xs font-black uppercase bg-white/20 px-2 py-0.5 rounded-lg",children:[i.jsx(ic,{size:10}),v.recurrence]})]})]}),i.jsx("button",{onClick:()=>N(null),className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all shrink-0 ml-3",children:i.jsx(et,{size:20})})]}),i.jsxs("div",{className:"p-8 space-y-4",children:[ce(v.group_id)&&i.jsxs("button",{onClick:()=>tr(v.group_id),className:"w-full flex items-center gap-3 p-4 bg-purple-50 rounded-xl border border-purple-200 hover:bg-purple-100 transition-all",children:[i.jsx(pt,{size:18,className:"text-purple-500 shrink-0"}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"text-[10px] font-black text-purple-400 uppercase tracking-widest",children:"Group"}),i.jsx("p",{className:"text-sm font-bold text-purple-700",children:ce(v.group_id)})]}),i.jsx(Gl,{size:16,className:"text-purple-300 ml-auto"})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx(Cn,{size:18,className:"text-slate-400 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Date"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(v.start_time).toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx(Kt,{size:18,className:"text-slate-400 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Time"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:new Date(v.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),v.location&&i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-slate-50 rounded-xl border border-slate-200",children:[i.jsx(jr,{size:18,className:"text-slate-400 shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Location"}),i.jsx("p",{className:"text-sm font-bold text-slate-900",children:v.location})]})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[v.group_id&&i.jsx("button",{onClick:()=>On(v),disabled:j,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-emerald-600 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:j?i.jsx(ke,{size:14,className:"animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Td,{size:14})," Remind"]})}),xe(v)&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>{k(v),z({title:v.title,type:v.type||"General",start_time:v.start_time?.slice(0,16)||"",location:v.location||"",recurrence:v.recurrence||"none",recurrence_count:v.recurrence_count||""}),N(null)},className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Reschedule"}),i.jsx("button",{onClick:()=>je(v),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-red-600 transition-all",children:"Cancel"})]})]})]})]})}),P&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-blue-500 p-8 text-white flex justify-between items-center",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Edit Event"}),i.jsx("button",{onClick:()=>k(null),className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all",children:i.jsx(et,{size:20})})]}),i.jsxs("div",{className:"p-8 space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Title"}),i.jsx("input",{type:"text",value:P.title,disabled:!0,className:"w-full px-4 py-3 bg-slate-100 border border-slate-200 rounded-xl font-bold text-sm text-slate-500 cursor-not-allowed"}),i.jsx("p",{className:"text-[9px] text-slate-400 ml-2",children:"Title cannot be edited"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Type"}),i.jsxs("select",{value:L.type,onChange:ae=>z({...L,type:ae.target.value}),disabled:!!P.group_id,className:`w-full px-4 py-3 border border-slate-200 rounded-xl font-bold text-sm outline-none ${P.group_id?"bg-slate-100 text-slate-500 cursor-not-allowed":"bg-slate-50 focus:border-blue-500"}`,children:[i.jsx("option",{value:"General",children:"General"}),i.jsx("option",{value:"Project",children:"Project"}),i.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),i.jsx("option",{value:"Exam",children:"Exam"}),i.jsx("option",{value:"Assignment",children:"Assignment"})]}),P.group_id&&i.jsx("p",{className:"text-[9px] text-slate-400 ml-2",children:"Type cannot be edited for group events"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Date & Time"}),i.jsx("input",{type:"datetime-local",value:L.start_time,onChange:ae=>z({...L,start_time:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsx("input",{type:"text",placeholder:"Optional",value:L.location,onChange:ae=>z({...L,location:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),i.jsxs("select",{value:L.recurrence,onChange:ae=>z({...L,recurrence:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",children:[i.jsx("option",{value:"none",children:"None"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"monthly",children:"Monthly"})]})]}),L.recurrence!=="none"&&i.jsxs("div",{className:"space-y-1",children:[i.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:["How many ",L.recurrence==="daily"?"days":L.recurrence==="weekly"?"weeks":"months","?"]}),i.jsx("input",{type:"number",placeholder:"Count",value:L.recurrence_count,onChange:ae=>z({...L,recurrence_count:ae.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-blue-500",min:"1",max:"365"})]}),i.jsxs("div",{className:"flex gap-3 pt-2",children:[i.jsx("button",{onClick:()=>k(null),className:"flex-1 py-3 border-2 border-slate-100 rounded-xl font-black text-xs uppercase tracking-widest text-slate-400 hover:bg-slate-50 transition-all",children:"Cancel"}),i.jsx("button",{onClick:st,className:"flex-1 py-3 bg-blue-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-blue-600 transition-all",children:"Save Changes"})]})]})]})}),A&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6 animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold",children:"Select Events to Share"}),i.jsxs("p",{className:"text-xs text-orange-100 mt-1",children:[M.length," event",M.length!==1?"s":""," selected"]})]}),i.jsx("button",{onClick:()=>{R(!1),I([])},className:"bg-white/20 hover:bg-white/30 p-2 rounded-xl transition-all",children:i.jsx(et,{size:20})})]}),i.jsx("div",{className:"p-6 max-h-96 overflow-y-auto",children:ye.length===0?i.jsx("p",{className:"text-center text-sm font-bold text-slate-400 py-8",children:"No upcoming events to share"}):i.jsx("div",{className:"space-y-2",children:ye.map(ae=>{const Re=ce(ae.group_id),Ye=M.includes(ae.id);return i.jsx("button",{onClick:()=>Fn(ae.id),className:`w-full text-left p-4 rounded-2xl border-2 transition-all ${Ye?"bg-orange-50 border-orange-500":"bg-slate-50 border-slate-200 hover:border-slate-300"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`mt-1 w-5 h-5 rounded-md border-2 flex items-center justify-center shrink-0 ${Ye?"bg-orange-500 border-orange-500":"border-slate-300"}`,children:Ye&&i.jsx("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[i.jsx("h4",{className:"font-bold text-sm text-slate-900",children:ae.title}),i.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded ${ae.type==="Exam"?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:ae.type}),Re&&i.jsx("span",{className:"text-[9px] font-black uppercase px-2 py-0.5 rounded bg-purple-100 text-purple-600",children:Re})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsx(Kt,{size:12}),i.jsxs("span",{className:"font-bold",children:[new Date(ae.start_time).toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})," at ",new Date(ae.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),ae.location&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[i.jsx(jr,{size:12}),i.jsx("span",{className:"font-bold",children:ae.location})]})]})]})},ae.id)})})}),i.jsxs("div",{className:"p-6 border-t border-slate-100 space-y-3",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>I(ye.map(ae=>ae.id)),className:"flex-1 py-2 text-xs font-black uppercase tracking-widest text-orange-500 hover:bg-orange-50 rounded-xl transition-all",children:"Select All"}),i.jsx("button",{onClick:()=>I([]),className:"flex-1 py-2 text-xs font-black uppercase tracking-widest text-slate-400 hover:bg-slate-50 rounded-xl transition-all",children:"Clear"})]}),i.jsxs("button",{onClick:()=>{M.length>0?(R(!1),C(!0)):alert("Please select at least one event")},disabled:M.length===0,className:"w-full py-4 bg-orange-500 text-white rounded-xl font-black text-xs uppercase tracking-widest hover:bg-orange-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[i.jsx(wx,{size:14}),"Continue to Share"]})]})]})}),q&&te&&i.jsx("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Cancel Event"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:te.title})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:te.group_id?"Would you like to provide a reason for cancelling this meeting? This will be sent to all group members.":"Would you like to provide a reason for cancelling this event?"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Cancellation Reason (Optional)"}),i.jsx("textarea",{value:U,onChange:ae=>Y(ae.target.value),placeholder:"e.g., Postponed due to schedule conflict, Will reschedule for next week, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[U.length,"/500 characters"]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[i.jsx("button",{onClick:ge,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),i.jsx("button",{onClick:()=>Oe(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Cancel"}),i.jsx("button",{onClick:()=>Oe(U.trim()||void 0),disabled:U.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Cancel"})]})]})})]})})};function kP(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=kP(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ct(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=kP(e))&&(r&&(r+=" "),r+=t);return r}var RV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function sw(e){if(typeof e!="string")return!1;var t=RV;return t.includes(e)}var PV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IV=new Set(PV);function MP(e){return typeof e!="string"?!1:IV.has(e)}function RP(e){return typeof e=="string"&&e.startsWith("data-")}function ur(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MP(n)||RP(n))&&(t[n]=e[n]);return t}function ql(e){if(e==null)return null;if(b.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return ur(t)}return typeof e=="object"&&!Array.isArray(e)?ur(e):null}function er(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(MP(n)||RP(n)||sw(n))&&(t[n]=e[n]);return t}function OV(e){return e==null?null:b.isValidElement(e)?er(e.props):typeof e=="object"&&!Array.isArray(e)?er(e):null}var DV=["children","width","height","viewBox","className","style","title","desc"];function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ty.apply(null,arguments)}function LV(e,t){if(e==null)return{};var n,r,a=zV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function zV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var lw=b.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:l,className:c,style:u,title:f,desc:p}=e,m=LV(e,DV),g=l||{width:r,height:a,x:0,y:0},v=ct("recharts-surface",c);return b.createElement("svg",Ty({},er(m),{className:v,width:r,height:a,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),b.createElement("title",null,f),b.createElement("desc",null,p),n)}),UV=["children","className"];function ky(){return ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ky.apply(null,arguments)}function $V(e,t){if(e==null)return{};var n,r,a=GV(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function GV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var tn=b.forwardRef((e,t)=>{var{children:n,className:r}=e,a=$V(e,UV),l=ct("recharts-layer",r);return b.createElement("g",ky({className:l},er(a),{ref:t}),n)}),PP=b.createContext(null),BV=()=>b.useContext(PP);function Ot(e){return function(){return e}}const IP=Math.cos,am=Math.sin,Ta=Math.sqrt,im=Math.PI,dh=2*im,My=Math.PI,Ry=2*My,Tl=1e-6,FV=Ry-Tl;function OP(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function qV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OP;const n=10**t;return function(r){this._+=r[0];for(let a=1,l=r.length;a<l;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class HV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OP:qV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,l,c){this._append`C${+t},${+n},${+r},${+a},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,a,l){if(t=+t,n=+n,r=+r,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,f=r-t,p=a-n,m=c-t,g=u-n,v=m*m+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>Tl)if(!(Math.abs(g*f-p*m)>Tl)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let N=r-c,j=a-u,_=f*f+p*p,E=N*N+j*j,C=Math.sqrt(_),A=Math.sqrt(v),R=l*Math.tan((My-Math.acos((_+v-E)/(2*C*A)))/2),M=R/A,I=R/C;Math.abs(M-1)>Tl&&this._append`L${t+M*m},${n+M*g}`,this._append`A${l},${l},0,0,${+(g*N>m*j)},${this._x1=t+I*f},${this._y1=n+I*p}`}}arc(t,n,r,a,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(a),f=r*Math.sin(a),p=t+u,m=n+f,g=1^c,v=c?a-l:l-a;this._x1===null?this._append`M${p},${m}`:(Math.abs(this._x1-p)>Tl||Math.abs(this._y1-m)>Tl)&&this._append`L${p},${m}`,r&&(v<0&&(v=v%Ry+Ry),v>FV?this._append`A${r},${r},0,1,${g},${t-u},${n-f}A${r},${r},0,1,${g},${this._x1=p},${this._y1=m}`:v>Tl&&this._append`A${r},${r},0,${+(v>=My)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function ow(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new HV(t)}function cw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DP(e){this._context=e}DP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fh(e){return new DP(e)}function LP(e){return e[0]}function zP(e){return e[1]}function UP(e,t){var n=Ot(!0),r=null,a=fh,l=null,c=ow(u);e=typeof e=="function"?e:e===void 0?LP:Ot(e),t=typeof t=="function"?t:t===void 0?zP:Ot(t);function u(f){var p,m=(f=cw(f)).length,g,v=!1,N;for(r==null&&(l=a(N=c())),p=0;p<=m;++p)!(p<m&&n(g=f[p],p,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(g,p,f),+t(g,p,f));if(N)return l=null,N+""||null}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ot(+f),u):e},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ot(+f),u):t},u.defined=function(f){return arguments.length?(n=typeof f=="function"?f:Ot(!!f),u):n},u.curve=function(f){return arguments.length?(a=f,r!=null&&(l=a(r)),u):a},u.context=function(f){return arguments.length?(f==null?r=l=null:l=a(r=f),u):r},u}function bp(e,t,n){var r=null,a=Ot(!0),l=null,c=fh,u=null,f=ow(p);e=typeof e=="function"?e:e===void 0?LP:Ot(+e),t=typeof t=="function"?t:Ot(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?zP:Ot(+n);function p(g){var v,N,j,_=(g=cw(g)).length,E,C=!1,A,R=new Array(_),M=new Array(_);for(l==null&&(u=c(A=f())),v=0;v<=_;++v){if(!(v<_&&a(E=g[v],v,g))===C)if(C=!C)N=v,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=v-1;j>=N;--j)u.point(R[j],M[j]);u.lineEnd(),u.areaEnd()}C&&(R[v]=+e(E,v,g),M[v]=+t(E,v,g),u.point(r?+r(E,v,g):R[v],n?+n(E,v,g):M[v]))}if(A)return u=null,A+""||null}function m(){return UP().defined(a).curve(c).context(l)}return p.x=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),r=null,p):e},p.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Ot(+g),p):e},p.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Ot(+g),p):r},p.y=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),n=null,p):t},p.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Ot(+g),p):t},p.y1=function(g){return arguments.length?(n=g==null?null:typeof g=="function"?g:Ot(+g),p):n},p.lineX0=p.lineY0=function(){return m().x(e).y(t)},p.lineY1=function(){return m().x(e).y(n)},p.lineX1=function(){return m().x(r).y(t)},p.defined=function(g){return arguments.length?(a=typeof g=="function"?g:Ot(!!g),p):a},p.curve=function(g){return arguments.length?(c=g,l!=null&&(u=c(l)),p):c},p.context=function(g){return arguments.length?(g==null?l=u=null:u=c(l=g),p):l},p}class $P{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function VV(e){return new $P(e,!0)}function KV(e){return new $P(e,!1)}const uw={draw(e,t){const n=Ta(t/im);e.moveTo(n,0),e.arc(0,0,n,0,dh)}},YV={draw(e,t){const n=Ta(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},GP=Ta(1/3),JV=GP*2,WV={draw(e,t){const n=Ta(t/JV),r=n*GP;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},XV={draw(e,t){const n=Ta(t),r=-n/2;e.rect(r,r,n,n)}},ZV=.8908130915292852,BP=am(im/10)/am(7*im/10),QV=am(dh/10)*BP,e7=-IP(dh/10)*BP,t7={draw(e,t){const n=Ta(t*ZV),r=QV*n,a=e7*n;e.moveTo(0,-n),e.lineTo(r,a);for(let l=1;l<5;++l){const c=dh*l/5,u=IP(c),f=am(c);e.lineTo(f*n,-u*n),e.lineTo(u*r-f*a,f*r+u*a)}e.closePath()}},Ex=Ta(3),n7={draw(e,t){const n=-Ta(t/(Ex*3));e.moveTo(0,n*2),e.lineTo(-Ex*n,-n),e.lineTo(Ex*n,-n),e.closePath()}},ea=-.5,ta=Ta(3)/2,Py=1/Ta(12),r7=(Py/2+1)*3,a7={draw(e,t){const n=Ta(t/r7),r=n/2,a=n*Py,l=r,c=n*Py+n,u=-l,f=c;e.moveTo(r,a),e.lineTo(l,c),e.lineTo(u,f),e.lineTo(ea*r-ta*a,ta*r+ea*a),e.lineTo(ea*l-ta*c,ta*l+ea*c),e.lineTo(ea*u-ta*f,ta*u+ea*f),e.lineTo(ea*r+ta*a,ea*a-ta*r),e.lineTo(ea*l+ta*c,ea*c-ta*l),e.lineTo(ea*u+ta*f,ea*f-ta*u),e.closePath()}};function i7(e,t){let n=null,r=ow(a);e=typeof e=="function"?e:Ot(e||uw),t=typeof t=="function"?t:Ot(t===void 0?64:+t);function a(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return a.type=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(l),a):e},a.size=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),a):t},a.context=function(l){return arguments.length?(n=l??null,a):n},a}function sm(){}function lm(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function FP(e){this._context=e}FP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s7(e){return new FP(e)}function qP(e){this._context=e}qP.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l7(e){return new qP(e)}function HP(e){this._context=e}HP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:lm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o7(e){return new HP(e)}function VP(e){this._context=e}VP.prototype={areaStart:sm,areaEnd:sm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function c7(e){return new VP(e)}function tC(e){return e<0?-1:1}function nC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,l=(e._y1-e._y0)/(r||a<0&&-0),c=(n-e._y1)/(a||r<0&&-0),u=(l*a+c*r)/(r+a);return(tC(l)+tC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function rC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Cx(e,t,n){var r=e._x0,a=e._y0,l=e._x1,c=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,a+u*t,l-u,c-u*n,l,c)}function om(e){this._context=e}om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cx(this,this._t0,rC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Cx(this,rC(this,n=nC(this,e,t)),n);break;default:Cx(this,this._t0,n=nC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function KP(e){this._context=new YP(e)}(KP.prototype=Object.create(om.prototype)).point=function(e,t){om.prototype.point.call(this,t,e)};function YP(e){this._context=e}YP.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,l){this._context.bezierCurveTo(t,e,r,n,l,a)}};function u7(e){return new om(e)}function d7(e){return new KP(e)}function JP(e){this._context=e}JP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=aC(e),a=aC(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],a[0][l],r[1][l],a[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aC(e){var t,n=e.length-1,r,a=new Array(n),l=new Array(n),c=new Array(n);for(a[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(a[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)a[t]=(c[t]-a[t+1])/l[t];for(l[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-a[t+1];return[a,l]}function f7(e){return new JP(e)}function ph(e,t){this._context=e,this._t=t}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p7(e){return new ph(e,.5)}function m7(e){return new ph(e,0)}function h7(e){return new ph(e,1)}function Hl(e,t){if((c=e.length)>1)for(var n=1,r,a,l=e[t[0]],c,u=l.length;n<c;++n)for(a=l,l=e[t[n]],r=0;r<u;++r)l[r][1]+=l[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function Iy(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function g7(e,t){return e[t]}function x7(e){const t=[];return t.key=e,t}function v7(){var e=Ot([]),t=Iy,n=Hl,r=g7;function a(l){var c=Array.from(e.apply(this,arguments),x7),u,f=c.length,p=-1,m;for(const g of l)for(u=0,++p;u<f;++u)(c[u][p]=[0,+r(g,c[u].key,p,l)]).data=g;for(u=0,m=cw(t(c));u<f;++u)c[m[u]].index=u;return n(c,m),c}return a.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(Array.from(l)),a):e},a.value=function(l){return arguments.length?(r=typeof l=="function"?l:Ot(+l),a):r},a.order=function(l){return arguments.length?(t=l==null?Iy:typeof l=="function"?l:Ot(Array.from(l)),a):t},a.offset=function(l){return arguments.length?(n=l??Hl,a):n},a}function y7(e,t){if((r=e.length)>0){for(var n,r,a=0,l=e[0].length,c;a<l;++a){for(c=n=0;n<r;++n)c+=e[n][a][1]||0;if(c)for(n=0;n<r;++n)e[n][a][1]/=c}Hl(e,t)}}function b7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,l=r.length;n<l;++n){for(var c=0,u=0;c<a;++c)u+=e[c][n][1]||0;r[n][1]+=r[n][0]=-u/2}Hl(e,t)}}function w7(e,t){if(!(!((c=e.length)>0)||!((l=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,l,c;r<l;++r){for(var u=0,f=0,p=0;u<c;++u){for(var m=e[t[u]],g=m[r][1]||0,v=m[r-1][1]||0,N=(g-v)/2,j=0;j<u;++j){var _=e[t[j]],E=_[r][1]||0,C=_[r-1][1]||0;N+=E-C}f+=g,p+=N*g}a[r-1][1]+=a[r-1][0]=n,f&&(n-=p/f)}a[r-1][1]+=a[r-1][0]=n,Hl(e,t)}}var Ax={},Tx={},iC;function N7(){return iC||(iC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(Tx)),Tx}var kx={},sC;function WP(){return sC||(sC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(kx)),kx}var Mx={},lC;function dw(){return lC||(lC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}e.toKey=t})(Mx)),Mx}var Rx={},Px={},oC;function S7(){return oC||(oC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(Px)),Px}var cC;function fw(){return cC||(cC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S7(),n=dw();function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const l=[],c=a.length;if(c===0)return l;let u=0,f="",p="",m=!1;for(a.charCodeAt(0)===46&&(l.push(""),u++);u<c;){const g=a[u];p?g==="\\"&&u+1<c?(u++,f+=a[u]):g===p?p="":f+=g:m?g==='"'||g==="'"?p=g:g==="]"?(m=!1,l.push(f),f=""):f+=g:g==="["?(m=!0,f&&(l.push(f),f="")):g==="."?f&&(l.push(f),f=""):f+=g,u++}return f&&l.push(f),l}e.toPath=r})(Rx)),Rx}var uC;function pw(){return uC||(uC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N7(),n=WP(),r=dw(),a=fw();function l(u,f,p){if(u==null)return p;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return p;const m=u[f];return m===void 0?n.isDeepKey(f)?l(u,a.toPath(f),p):p:m}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const m=u[f];return m===void 0?p:m}default:{if(Array.isArray(f))return c(u,f,p);if(Object.is(f?.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return p;const m=u[f];return m===void 0?p:m}}}function c(u,f,p){if(f.length===0)return p;let m=u;for(let g=0;g<f.length;g++){if(m==null||t.isUnsafeProperty(f[g]))return p;m=m[f[g]]}return m===void 0?p:m}e.get=l})(Ax)),Ax}var Ix,dC;function j7(){return dC||(dC=1,Ix=pw().get),Ix}var _7=j7();const Vl=ei(_7);var E7=4;function Fs(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Qt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,l,c)=>{var u=n[c-1];return typeof u=="string"?a+u+l:u!==void 0?a+Fs(u)+l:a+l},"")}var Tn=e=>e===0?0:e>0?1:-1,_a=e=>typeof e=="number"&&e!=+e,Kl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ee=e=>(typeof e=="number"||e instanceof Number)&&!_a(e),Ja=e=>Ee(e)||typeof e=="string",C7=0,ud=e=>{var t=++C7;return"".concat(e||"").concat(t)},Qn=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ee(t)&&typeof t!="string")return r;var l;if(Kl(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return _a(l)&&(l=r),a&&n!=null&&l>n&&(l=n),l},XP=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function wt(e,t,n){return Ee(e)&&Ee(t)?Fs(e+n*(t-e)):t}function ZP(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Vl(r,t))===n)}var Vt=e=>e===null||typeof e>"u",Md=e=>Vt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function Nr(e){return e!=null}function el(){}var A7=["type","size","sizeType"];function Oy(){return Oy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oy.apply(null,arguments)}function fC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fC(Object(n),!0).forEach(function(r){T7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T7(e,t,n){return(t=k7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k7(e){var t=M7(e,"string");return typeof t=="symbol"?t:t+""}function M7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R7(e,t){if(e==null)return{};var n,r,a=P7(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function P7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var QP={symbolCircle:uw,symbolCross:YV,symbolDiamond:WV,symbolSquare:XV,symbolStar:t7,symbolTriangle:n7,symbolWye:a7},I7=Math.PI/180,O7=e=>{var t="symbol".concat(Md(e));return QP[t]||uw},D7=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*I7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},L7=(e,t)=>{QP["symbol".concat(Md(e))]=t},mw=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=R7(e,A7),l=pC(pC({},a),{},{type:t,size:n,sizeType:r}),c="circle";typeof t=="string"&&(c=t);var u=()=>{var v=O7(c),N=i7().type(v).size(D7(n,r,c)),j=N();if(j!==null)return j},{className:f,cx:p,cy:m}=l,g=er(l);return Ee(p)&&Ee(m)&&Ee(n)?b.createElement("path",Oy({},g,{className:ct("recharts-symbols",f),transform:"translate(".concat(p,", ").concat(m,")"),d:u()})):null};mw.registerSymbol=L7;var eI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,hw=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{sw(a)&&(r[a]=(l=>n[a](n,l)))}),r},z7=(e,t,n)=>r=>(e(t,n,r),null),Rd=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var l=e[a];sw(a)&&typeof l=="function"&&(r||(r={}),r[a]=z7(l,t,n))}),r};function mC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mC(Object(n),!0).forEach(function(r){$7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G7(e){var t=B7(e,"string");return typeof t=="symbol"?t:t+""}function B7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nn(e,t){var n=U7({},e),r=t,a=Object.keys(t),l=a.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),n);return l}function cm(){return cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cm.apply(null,arguments)}function hC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function F7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(n),!0).forEach(function(r){q7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q7(e,t,n){return(t=H7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ra=32,K7={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function Y7(e){var{data:t,iconType:n,inactiveColor:r}=e,a=ra/2,l=ra/6,c=ra/3,u=t.inactive?r:t.color,f=n??t.type;if(f==="none")return null;if(f==="plainline"){var p;return b.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(p=t.payload)===null||p===void 0?void 0:p.strokeDasharray,x1:0,y1:a,x2:ra,y2:a,className:"recharts-legend-icon"})}if(f==="line")return b.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(a,"h").concat(c,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*c,",").concat(a,`
            H`).concat(ra,"M").concat(2*c,",").concat(a,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(c,",").concat(a),className:"recharts-legend-icon"});if(f==="rect")return b.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(b.isValidElement(t.legendIcon)){var m=F7({},t);return delete m.legendIcon,b.cloneElement(t.legendIcon,m)}return b.createElement(mw,{fill:u,cx:a,cy:a,size:ra,sizeType:"diameter",type:f})}function J7(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:l,iconType:c}=e,u={x:0,y:0,width:ra,height:ra},f={display:r==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((m,g)=>{var v=m.formatter||a,N=ct({"recharts-legend-item":!0,["legend-item-".concat(g)]:!0,inactive:m.inactive});if(m.type==="none")return null;var j=m.inactive?l:m.color,_=v?v(m.value,m,g):m.value;return b.createElement("li",cm({className:N,style:f,key:"legend-item-".concat(g)},Rd(e,m,g)),b.createElement(lw,{width:n,height:n,viewBox:u,style:p,"aria-label":"".concat(_," legend icon")},b.createElement(Y7,{data:m,iconType:c,inactiveColor:l})),b.createElement("span",{className:"recharts-legend-item-text",style:{color:j}},_))})}var W7=e=>{var t=nn(e,K7),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var l={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return b.createElement("ul",{className:"recharts-default-legend",style:l},b.createElement(J7,cm({},t,{payload:n})))},Ox={},Dx={},gC;function X7(){return gC||(gC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let l=0;l<n.length;l++){const c=n[l],u=r(c,l,n);a.has(u)||a.set(u,c)}return Array.from(a.values())}e.uniqBy=t})(Dx)),Dx}var Lx={},xC;function Z7(){return xC||(xC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(Lx)),Lx}var zx={},vC;function tI(){return vC||(vC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(zx)),zx}var Ux={},$x={},Gx={},yC;function Q7(){return yC||(yC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(Gx)),Gx}var bC;function gw(){return bC||(bC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Q7();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})($x)),$x}var Bx={},wC;function eK(){return wC||(wC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(Bx)),Bx}var NC;function tK(){return NC||(NC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gw(),n=eK();function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(Ux)),Ux}var Fx={},qx={},SC;function nK(){return SC||(SC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pw();function n(r){return function(a){return t.get(a,r)}}e.property=n})(qx)),qx}var Hx={},Vx={},Kx={},Yx={},jC;function nI(){return jC||(jC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Yx)),Yx}var Jx={},_C;function rI(){return _C||(_C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Jx)),Jx}var Wx={},EC;function aI(){return EC||(EC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Wx)),Wx}var CC;function rK(){return CC||(CC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nI(),n=rI(),r=aI();function a(m,g,v){return typeof v!="function"?a(m,g,()=>{}):l(m,g,function N(j,_,E,C,A,R){const M=v(j,_,E,C,A,R);return M!==void 0?!!M:l(j,_,N,R)},new Map)}function l(m,g,v,N){if(g===m)return!0;switch(typeof g){case"object":return c(m,g,v,N);case"function":return Object.keys(g).length>0?l(m,{...g},v,N):r.isEqualsSameValueZero(m,g);default:return t.isObject(m)?typeof g=="string"?g==="":!0:r.isEqualsSameValueZero(m,g)}}function c(m,g,v,N){if(g==null)return!0;if(Array.isArray(g))return f(m,g,v,N);if(g instanceof Map)return u(m,g,v,N);if(g instanceof Set)return p(m,g,v,N);const j=Object.keys(g);if(m==null||n.isPrimitive(m))return j.length===0;if(j.length===0)return!0;if(N?.has(g))return N.get(g)===m;N?.set(g,m);try{for(let _=0;_<j.length;_++){const E=j[_];if(!n.isPrimitive(m)&&!(E in m)||g[E]===void 0&&m[E]!==void 0||g[E]===null&&m[E]!==null||!v(m[E],g[E],E,m,g,N))return!1}return!0}finally{N?.delete(g)}}function u(m,g,v,N){if(g.size===0)return!0;if(!(m instanceof Map))return!1;for(const[j,_]of g.entries()){const E=m.get(j);if(v(E,_,j,m,g,N)===!1)return!1}return!0}function f(m,g,v,N){if(g.length===0)return!0;if(!Array.isArray(m))return!1;const j=new Set;for(let _=0;_<g.length;_++){const E=g[_];let C=!1;for(let A=0;A<m.length;A++){if(j.has(A))continue;const R=m[A];let M=!1;if(v(R,E,_,m,g,N)&&(M=!0),M){j.add(A),C=!0;break}}if(!C)return!1}return!0}function p(m,g,v,N){return g.size===0?!0:m instanceof Set?f([...m],[...g],v,N):!1}e.isMatchWith=a,e.isSetMatch=p})(Kx)),Kx}var AC;function iI(){return AC||(AC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rK();function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Vx)),Vx}var Xx={},Zx={},Qx={},TC;function aK(){return TC||(TC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(Qx)),Qx}var ev={},kC;function xw(){return kC||(kC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(ev)),ev}var tv={},MC;function sI(){return MC||(MC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",f="[object Map]",p="[object Set]",m="[object Array]",g="[object Function]",v="[object ArrayBuffer]",N="[object Object]",j="[object Error]",_="[object DataView]",E="[object Uint8Array]",C="[object Uint8ClampedArray]",A="[object Uint16Array]",R="[object Uint32Array]",M="[object BigUint64Array]",I="[object Int8Array]",P="[object Int16Array]",k="[object Int32Array]",L="[object BigInt64Array]",z="[object Float32Array]",q="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=m,e.bigInt64ArrayTag=L,e.bigUint64ArrayTag=M,e.booleanTag=a,e.dataViewTag=_,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=z,e.float64ArrayTag=q,e.functionTag=g,e.int16ArrayTag=P,e.int32ArrayTag=k,e.int8ArrayTag=I,e.mapTag=f,e.numberTag=r,e.objectTag=N,e.regexpTag=t,e.setTag=p,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=A,e.uint32ArrayTag=R,e.uint8ArrayTag=E,e.uint8ClampedArrayTag=C})(tv)),tv}var nv={},RC;function iK(){return RC||(RC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(nv)),nv}var PC;function lI(){return PC||(PC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aK(),n=xw(),r=sI(),a=rI(),l=iK();function c(m,g){return u(m,void 0,m,new Map,g)}function u(m,g,v,N=new Map,j=void 0){const _=j?.(m,g,v,N);if(_!==void 0)return _;if(a.isPrimitive(m))return m;if(N.has(m))return N.get(m);if(Array.isArray(m)){const E=new Array(m.length);N.set(m,E);for(let C=0;C<m.length;C++)E[C]=u(m[C],C,v,N,j);return Object.hasOwn(m,"index")&&(E.index=m.index),Object.hasOwn(m,"input")&&(E.input=m.input),E}if(m instanceof Date)return new Date(m.getTime());if(m instanceof RegExp){const E=new RegExp(m.source,m.flags);return E.lastIndex=m.lastIndex,E}if(m instanceof Map){const E=new Map;N.set(m,E);for(const[C,A]of m)E.set(C,u(A,C,v,N,j));return E}if(m instanceof Set){const E=new Set;N.set(m,E);for(const C of m)E.add(u(C,void 0,v,N,j));return E}if(typeof Buffer<"u"&&Buffer.isBuffer(m))return m.subarray();if(l.isTypedArray(m)){const E=new(Object.getPrototypeOf(m)).constructor(m.length);N.set(m,E);for(let C=0;C<m.length;C++)E[C]=u(m[C],C,v,N,j);return E}if(m instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&m instanceof SharedArrayBuffer)return m.slice(0);if(m instanceof DataView){const E=new DataView(m.buffer.slice(0),m.byteOffset,m.byteLength);return N.set(m,E),f(E,m,v,N,j),E}if(typeof File<"u"&&m instanceof File){const E=new File([m],m.name,{type:m.type});return N.set(m,E),f(E,m,v,N,j),E}if(typeof Blob<"u"&&m instanceof Blob){const E=new Blob([m],{type:m.type});return N.set(m,E),f(E,m,v,N,j),E}if(m instanceof Error){const E=new m.constructor;return N.set(m,E),E.message=m.message,E.name=m.name,E.stack=m.stack,E.cause=m.cause,f(E,m,v,N,j),E}if(m instanceof Boolean){const E=new Boolean(m.valueOf());return N.set(m,E),f(E,m,v,N,j),E}if(m instanceof Number){const E=new Number(m.valueOf());return N.set(m,E),f(E,m,v,N,j),E}if(m instanceof String){const E=new String(m.valueOf());return N.set(m,E),f(E,m,v,N,j),E}if(typeof m=="object"&&p(m)){const E=Object.create(Object.getPrototypeOf(m));return N.set(m,E),f(E,m,v,N,j),E}return m}function f(m,g,v=m,N,j){const _=[...Object.keys(g),...t.getSymbols(g)];for(let E=0;E<_.length;E++){const C=_[E],A=Object.getOwnPropertyDescriptor(m,C);(A==null||A.writable)&&(m[C]=u(g[C],C,v,N,j))}}function p(m){switch(n.getTag(m)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=f})(Zx)),Zx}var IC;function sK(){return IC||(IC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(Xx)),Xx}var OC;function lK(){return OC||(OC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI(),n=sK();function r(a){return a=n.cloneDeep(a),l=>t.isMatch(l,a)}e.matches=r})(Hx)),Hx}var rv={},av={},iv={},DC;function oK(){return DC||(DC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI(),n=xw(),r=sI();function a(l,c){return t.cloneDeepWith(l,(u,f,p,m)=>{const g=c?.(u,f,p,m);if(g!==void 0)return g;if(typeof l=="object"){if(n.getTag(l)===r.objectTag&&typeof l.constructor!="function"){const v={};return m.set(l,v),t.copyProperties(v,l,p,m),v}switch(Object.prototype.toString.call(l)){case r.numberTag:case r.stringTag:case r.booleanTag:{const v=new l.constructor(l?.valueOf());return t.copyProperties(v,l),v}case r.argumentsTag:{const v={};return t.copyProperties(v,l),v.length=l.length,v[Symbol.iterator]=l[Symbol.iterator],v}default:return}}})}e.cloneDeepWith=a})(iv)),iv}var LC;function cK(){return LC||(LC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oK();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(av)),av}var sv={},lv={},zC;function oI(){return zC||(zC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(lv)),lv}var ov={},UC;function uK(){return UC||(UC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xw();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(ov)),ov}var $C;function dK(){return $C||($C=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WP(),n=oI(),r=uK(),a=fw();function l(c,u){let f;if(Array.isArray(u)?f=u:typeof u=="string"&&t.isDeepKey(u)&&c?.[u]==null?f=a.toPath(u):f=[u],f.length===0)return!1;let p=c;for(let m=0;m<f.length;m++){const g=f[m];if((p==null||!Object.hasOwn(p,g))&&!((Array.isArray(p)||r.isArguments(p))&&n.isIndex(g)&&g<p.length))return!1;p=p[g]}return!0}e.has=l})(sv)),sv}var GC;function fK(){return GC||(GC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iI(),n=dw(),r=cK(),a=pw(),l=dK();function c(u,f){switch(typeof u){case"object":{Object.is(u?.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return f=r.cloneDeep(f),function(p){const m=a.get(p,u);return m===void 0?l.has(p,u):f===void 0?m===void 0:t.isMatch(m,f)}}e.matchesProperty=c})(rv)),rv}var BC;function pK(){return BC||(BC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tI(),n=nK(),r=lK(),a=fK();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?a.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l})(Fx)),Fx}var FC;function mK(){return FC||(FC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X7(),n=Z7(),r=tI(),a=tK(),l=pK();function c(u,f=r.identity){return a.isArrayLikeObject(u)?t.uniqBy(Array.from(u),n.ary(l.iteratee(f),1)):[]}e.uniqBy=c})(Ox)),Ox}var cv,qC;function hK(){return qC||(qC=1,cv=mK().uniqBy),cv}var gK=hK();const HC=ei(gK);function cI(e,t,n){return t===!0?HC(e,n):typeof t=="function"?HC(e,t):e}var uv={exports:{}},dv={},fv={exports:{}},pv={};var VC;function xK(){if(VC)return pv;VC=1;var e=bc();function t(g,v){return g===v&&(g!==0||1/g===1/v)||g!==g&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,a=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,v){var N=v(),j=r({inst:{value:N,getSnapshot:v}}),_=j[0].inst,E=j[1];return l(function(){_.value=N,_.getSnapshot=v,f(_)&&E({inst:_})},[g,N,v]),a(function(){return f(_)&&E({inst:_}),g(function(){f(_)&&E({inst:_})})},[g]),c(N),N}function f(g){var v=g.getSnapshot;g=g.value;try{var N=v();return!n(g,N)}catch{return!0}}function p(g,v){return v()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:u;return pv.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:m,pv}var KC;function vK(){return KC||(KC=1,fv.exports=xK()),fv.exports}var YC;function yK(){if(YC)return dv;YC=1;var e=bc(),t=vK();function n(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var r=typeof Object.is=="function"?Object.is:n,a=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,f=e.useDebugValue;return dv.useSyncExternalStoreWithSelector=function(p,m,g,v,N){var j=l(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=u(function(){function C(P){if(!A){if(A=!0,R=P,P=v(P),N!==void 0&&_.hasValue){var k=_.value;if(N(k,P))return M=k}return M=P}if(k=M,r(R,P))return k;var L=v(P);return N!==void 0&&N(k,L)?(R=P,k):(R=P,M=L)}var A=!1,R,M,I=g===void 0?null:g;return[function(){return C(m())},I===null?void 0:function(){return C(I())}]},[m,g,v,N]);var E=a(p,j[0],j[1]);return c(function(){_.hasValue=!0,_.value=E},[E]),f(E),E},dv}var JC;function bK(){return JC||(JC=1,uv.exports=yK()),uv.exports}var wK=bK(),vw=b.createContext(null),NK=e=>e,Dt=()=>{var e=b.useContext(vw);return e?e.store.dispatch:NK},Bp=()=>{},SK=()=>Bp,jK=(e,t)=>e===t;function Me(e){var t=b.useContext(vw),n=b.useMemo(()=>t?r=>{if(r!=null)return e(r)}:Bp,[t,e]);return wK.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SK,t?t.store.getState:Bp,t?t.store.getState:Bp,n,jK)}function _K(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function EK(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function CK(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var WC=e=>Array.isArray(e)?e:[e];function AK(e){const t=Array.isArray(e[0])?e[0]:e;return CK(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TK(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var kK=class{constructor(e){this.value=e}deref(){return this.value}},MK=typeof WeakRef<"u"?WeakRef:kK,RK=0,XC=1;function wp(){return{s:RK,v:void 0,o:null,p:null}}function uI(e,t={}){let n=wp();const{resultEqualityCheck:r}=t;let a,l=0;function c(){let u=n;const{length:f}=arguments;for(let g=0,v=f;g<v;g++){const N=arguments[g];if(typeof N=="function"||typeof N=="object"&&N!==null){let j=u.o;j===null&&(u.o=j=new WeakMap);const _=j.get(N);_===void 0?(u=wp(),j.set(N,u)):u=_}else{let j=u.p;j===null&&(u.p=j=new Map);const _=j.get(N);_===void 0?(u=wp(),j.set(N,u)):u=_}}const p=u;let m;if(u.s===XC)m=u.v;else if(m=e.apply(null,arguments),l++,r){const g=a?.deref?.()??a;g!=null&&r(g,m)&&(m=g,l!==0&&l--),a=typeof m=="object"&&m!==null||typeof m=="function"?new MK(m):m}return p.s=XC,p.v=m,m}return c.clearCache=()=>{n=wp(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function PK(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let l=0,c=0,u,f={},p=a.pop();typeof p=="object"&&(f=p,p=a.pop()),_K(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const m={...n,...f},{memoize:g,memoizeOptions:v=[],argsMemoize:N=uI,argsMemoizeOptions:j=[]}=m,_=WC(v),E=WC(j),C=AK(a),A=g(function(){return l++,p.apply(null,arguments)},..._),R=N(function(){c++;const I=TK(C,arguments);return u=A.apply(null,I),u},...E);return Object.assign(R,{resultFunc:p,memoizedResultFunc:A,dependencies:C,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:N})};return Object.assign(r,{withTypes:()=>r}),r}var Q=PK(uI),IK=Object.assign((e,t=Q)=>{EK(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,u,f)=>(c[n[f]]=u,c),{}))},{withTypes:()=>IK}),mv={},hv={},gv={},ZC;function OK(){return ZC||(ZC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,l)=>{if(r!==a){const c=t(r),u=t(a);if(c===u&&c===0){if(r<a)return l==="desc"?1:-1;if(r>a)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=n})(gv)),gv}var xv={},vv={},QC;function dI(){return QC||(QC=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(vv)),vv}var eA;function DK(){return eA||(eA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=a})(xv)),xv}var tA;function LK(){return tA||(tA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OK(),n=DK(),r=fw();function a(l,c,u,f){if(l==null)return[];u=f?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(N=>String(N));const p=(N,j)=>{let _=N;for(let E=0;E<j.length&&_!=null;++E)_=_[j[E]];return _},m=(N,j)=>j==null||N==null?j:typeof N=="object"&&"key"in N?Object.hasOwn(j,N.key)?j[N.key]:p(j,N.path):typeof N=="function"?N(j):Array.isArray(N)?p(j,N):typeof j=="object"?j[N]:j,g=c.map(N=>(Array.isArray(N)&&N.length===1&&(N=N[0]),N==null||typeof N=="function"||Array.isArray(N)||n.isKey(N)?N:{key:N,path:r.toPath(N)}));return l.map(N=>({original:N,criteria:g.map(j=>m(j,N))})).slice().sort((N,j)=>{for(let _=0;_<g.length;_++){const E=t.compareValues(N.criteria[_],j.criteria[_],u[_]);if(E!==0)return E}return 0}).map(N=>N.original)}e.orderBy=a})(hv)),hv}var yv={},nA;function zK(){return nA||(nA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],l=Math.floor(r),c=(u,f)=>{for(let p=0;p<u.length;p++){const m=u[p];Array.isArray(m)&&f<l?c(m,f+1):a.push(m)}};return c(n,0),a}e.flatten=t})(yv)),yv}var bv={},rA;function fI(){return rA||(rA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oI(),n=gw(),r=nI(),a=aI();function l(c,u,f){return r.isObject(f)&&(typeof u=="number"&&n.isArrayLike(f)&&t.isIndex(u)&&u<f.length||typeof u=="string"&&u in f)?a.isEqualsSameValueZero(f[u],c):!1}e.isIterateeCall=l})(bv)),bv}var aA;function UK(){return aA||(aA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LK(),n=zK(),r=fI();function a(l,...c){const u=c.length;return u>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=a})(mv)),mv}var wv,iA;function $K(){return iA||(iA=1,wv=UK().sortBy),wv}var GK=$K();const mh=ei(GK);var pI=e=>e.legend.settings,BK=e=>e.legend.size,FK=e=>e.legend.payload,qK=Q([FK,pI],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?mh(r,n):r});function HK(){return Me(qK)}var Np=1;function mI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=b.useState({height:0,left:0,top:0,width:0}),r=b.useCallback(a=>{if(a!=null){var l=a.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>Np||Math.abs(c.left-t.left)>Np||Math.abs(c.top-t.top)>Np||Math.abs(c.width-t.width)>Np)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VK=typeof Symbol=="function"&&Symbol.observable||"@@observable",sA=VK,Nv=()=>Math.random().toString(36).substring(7).split("").join("."),KK={INIT:`@@redux/INIT${Nv()}`,REPLACE:`@@redux/REPLACE${Nv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Nv()}`},um=KK;function yw(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hI(e,t,n){if(typeof e!="function")throw new Error(Gn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gn(1));return n(hI)(e,t)}let r=e,a=t,l=new Map,c=l,u=0,f=!1;function p(){c===l&&(c=new Map,l.forEach((E,C)=>{c.set(C,E)}))}function m(){if(f)throw new Error(Gn(3));return a}function g(E){if(typeof E!="function")throw new Error(Gn(4));if(f)throw new Error(Gn(5));let C=!0;p();const A=u++;return c.set(A,E),function(){if(C){if(f)throw new Error(Gn(6));C=!1,p(),c.delete(A),l=null}}}function v(E){if(!yw(E))throw new Error(Gn(7));if(typeof E.type>"u")throw new Error(Gn(8));if(typeof E.type!="string")throw new Error(Gn(17));if(f)throw new Error(Gn(9));try{f=!0,a=r(a,E)}finally{f=!1}return(l=c).forEach(A=>{A()}),E}function N(E){if(typeof E!="function")throw new Error(Gn(10));r=E,v({type:um.REPLACE})}function j(){const E=g;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Gn(11));function A(){const M=C;M.next&&M.next(m())}return A(),{unsubscribe:E(A)}},[sA](){return this}}}return v({type:um.INIT}),{dispatch:v,subscribe:g,getState:m,replaceReducer:N,[sA]:j}}function YK(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:um.INIT})>"u")throw new Error(Gn(12));if(typeof n(void 0,{type:um.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gn(13))})}function gI(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let a;try{YK(n)}catch(l){a=l}return function(c={},u){if(a)throw a;let f=!1;const p={};for(let m=0;m<r.length;m++){const g=r[m],v=n[g],N=c[g],j=v(N,u);if(typeof j>"u")throw u&&u.type,new Error(Gn(14));p[g]=j,f=f||j!==N}return f=f||r.length!==Object.keys(c).length,f?p:c}}function dm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function JK(...e){return t=>(n,r)=>{const a=t(n,r);let l=()=>{throw new Error(Gn(15))};const c={getState:a.getState,dispatch:(f,...p)=>l(f,...p)},u=e.map(f=>f(c));return l=dm(...u)(a.dispatch),{...a,dispatch:l}}}function xI(e){return yw(e)&&"type"in e&&typeof e.type=="string"}var vI=Symbol.for("immer-nothing"),lA=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function va(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Or=Object,mc=Or.getPrototypeOf,fm="constructor",hh="prototype",Dy="configurable",pm="enumerable",Fp="writable",dd="value",Vi=e=>!!e&&!!e[dr];function Ea(e){return e?yI(e)||xh(e)||!!e[lA]||!!e[fm]?.[lA]||vh(e)||yh(e):!1}var WK=Or[hh][fm].toString(),oA=new WeakMap;function yI(e){if(!e||!bw(e))return!1;const t=mc(e);if(t===null||t===Or[hh])return!0;const n=Or.hasOwnProperty.call(t,fm)&&t[fm];if(n===Object)return!0;if(!Wo(n))return!1;let r=oA.get(n);return r===void 0&&(r=Function.toString.call(n),oA.set(n,r)),r===WK}function gh(e,t,n=!0){Pd(e)===0?(n?Reflect.ownKeys(e):Or.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Pd(e){const t=e[dr];return t?t.type_:xh(e)?1:vh(e)?2:yh(e)?3:0}var cA=(e,t,n=Pd(e))=>n===2?e.has(t):Or[hh].hasOwnProperty.call(e,t),Ly=(e,t,n=Pd(e))=>n===2?e.get(t):e[t],mm=(e,t,n,r=Pd(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function XK(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var xh=Array.isArray,vh=e=>e instanceof Map,yh=e=>e instanceof Set,bw=e=>typeof e=="object",Wo=e=>typeof e=="function",Sv=e=>typeof e=="boolean";function ZK(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Ii=e=>e.copy_||e.base_,ww=e=>e.modified_?e.copy_:e.base_;function zy(e,t){if(vh(e))return new Map(e);if(yh(e))return new Set(e);if(xh(e))return Array[hh].slice.call(e);const n=yI(e);if(t===!0||t==="class_only"&&!n){const r=Or.getOwnPropertyDescriptors(e);delete r[dr];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u[Fp]===!1&&(u[Fp]=!0,u[Dy]=!0),(u.get||u.set)&&(r[c]={[Dy]:!0,[Fp]:!0,[pm]:u[pm],[dd]:e[c]})}return Or.create(mc(e),r)}else{const r=mc(e);if(r!==null&&n)return{...e};const a=Or.create(r);return Or.assign(a,e)}}function Nw(e,t=!1){return bh(e)||Vi(e)||!Ea(e)||(Pd(e)>1&&Or.defineProperties(e,{set:Sp,add:Sp,clear:Sp,delete:Sp}),Or.freeze(e),t&&gh(e,(n,r)=>{Nw(r,!0)},!1)),e}function QK(){va(2)}var Sp={[dd]:QK};function bh(e){return e===null||!bw(e)?!0:Or.isFrozen(e)}var hm="MapSet",Uy="Patches",uA="ArrayMethods",bI={};function Yl(e){const t=bI[e];return t||va(0,e),t}var dA=e=>!!bI[e],fd,wI=()=>fd,eY=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:dA(hm)?Yl(hm):void 0,arrayMethodsPlugin_:dA(uA)?Yl(uA):void 0});function fA(e,t){t&&(e.patchPlugin_=Yl(Uy),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function $y(e){Gy(e),e.drafts_.forEach(tY),e.drafts_=null}function Gy(e){e===fd&&(fd=e.parent_)}var pA=e=>fd=eY(fd,e);function tY(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function mA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[dr].modified_&&($y(t),va(4)),Ea(e)&&(e=hA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(n[dr].base_,e,t)}else e=hA(t,n);return nY(t,e,!0),$y(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vI?e:void 0}function hA(e,t){if(bh(t))return t;const n=t[dr];if(!n)return gm(t,e.handledSet_,e);if(!wh(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);jI(n,e)}return n.copy_}function nY(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nw(t,n)}function NI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var wh=(e,t)=>e.scope_===t,rY=[];function SI(e,t,n,r){const a=Ii(e),l=e.type_;if(r!==void 0&&Ly(a,r,l)===t){mm(a,r,n,l);return}if(!e.draftLocations_){const u=e.draftLocations_=new Map;gh(a,(f,p)=>{if(Vi(p)){const m=u.get(p)||[];m.push(f),u.set(p,m)}})}const c=e.draftLocations_.get(t)??rY;for(const u of c)mm(a,u,n,l)}function aY(e,t,n){e.callbacks_.push(function(a){const l=t;if(!l||!wh(l,a))return;a.mapSetPlugin_?.fixSetContents(l);const c=ww(l);SI(e,l.draft_??l,c,n),jI(l,a)})}function jI(e,t){if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(e.assigned_?.size??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}NI(e)}}function iY(e,t,n){const{scope_:r}=e;if(Vi(n)){const a=n[dr];wh(a,r)&&a.callbacks_.push(function(){qp(e);const c=ww(a);SI(e,n,c,t)})}else Ea(n)&&e.callbacks_.push(function(){const l=Ii(e);e.type_===3?l.has(n)&&gm(n,r.handledSet_,r):Ly(l,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&gm(Ly(e.copy_,t,e.type_),r.handledSet_,r)})}function gm(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vi(e)||t.has(e)||!Ea(e)||bh(e)||(t.add(e),gh(e,(r,a)=>{if(Vi(a)){const l=a[dr];if(wh(l,n)){const c=ww(l);mm(e,r,c,e.type_),NI(l)}}else Ea(a)&&gm(a,t,n)})),e}function sY(e,t){const n=xh(e),r={type_:n?1:0,scope_:t?t.scope_:wI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,l=xm;n&&(a=[r],l=pd);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,[u,r]}var xm={get(e,t){if(t===dr)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n?.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=Ii(e);if(!cA(a,t,e.type_))return lY(e,a,t);const l=a[t];if(e.finalized_||!Ea(l)||r&&e.operationMethod&&n?.isMutatingArrayMethod(e.operationMethod)&&ZK(t))return l;if(l===jv(e.base_,t)){qp(e);const c=e.type_===1?+t:t,u=Fy(e.scope_,l,e,c);return e.copy_[c]=u}return l},has(e,t){return t in Ii(e)},ownKeys(e){return Reflect.ownKeys(Ii(e))},set(e,t,n){const r=_I(Ii(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=jv(Ii(e),t),l=a?.[dr];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(XK(n,a)&&(n!==void 0||cA(e.base_,t,e.type_)))return!0;qp(e),By(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),iY(e,t,n)),!0},deleteProperty(e,t){return qp(e),jv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),By(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Ii(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Fp]:!0,[Dy]:e.type_!==1||t!=="length",[pm]:r[pm],[dd]:n[t]}},defineProperty(){va(11)},getPrototypeOf(e){return mc(e.base_)},setPrototypeOf(){va(12)}},pd={};for(let e in xm){let t=xm[e];pd[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}pd.deleteProperty=function(e,t){return pd.set.call(this,e,t,void 0)};pd.set=function(e,t,n){return xm.set.call(this,e[0],t,n,e[0])};function jv(e,t){const n=e[dr];return(n?Ii(n):e)[t]}function lY(e,t,n){const r=_I(t,n);return r?dd in r?r[dd]:r.get?.call(e.draft_):void 0}function _I(e,t){if(!(t in e))return;let n=mc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=mc(n)}}function By(e){e.modified_||(e.modified_=!0,e.parent_&&By(e.parent_))}function qp(e){e.copy_||(e.assigned_=new Map,e.copy_=zy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var oY=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,a)=>{if(Wo(n)&&!Wo(r)){const c=r;r=n;const u=this;return function(p=c,...m){return u.produce(p,g=>r.call(this,g,...m))}}Wo(r)||va(6),a!==void 0&&!Wo(a)&&va(7);let l;if(Ea(n)){const c=pA(this),u=Fy(c,n,void 0);let f=!0;try{l=r(u),f=!1}finally{f?$y(c):Gy(c)}return fA(c,a),mA(l,c)}else if(!n||!bw(n)){if(l=r(n),l===void 0&&(l=n),l===vI&&(l=void 0),this.autoFreeze_&&Nw(l,!0),a){const c=[],u=[];Yl(Uy).generateReplacementPatches_(n,l,{patches_:c,inversePatches_:u}),a(c,u)}return l}else va(1,n)},this.produceWithPatches=(n,r)=>{if(Wo(n))return(u,...f)=>this.produceWithPatches(u,p=>n(p,...f));let a,l;return[this.produce(n,r,(u,f)=>{a=u,l=f}),a,l]},Sv(t?.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Sv(t?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Sv(t?.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ea(t)||va(8),Vi(t)&&(t=Sa(t));const n=pA(this),r=Fy(n,t,void 0);return r[dr].isManual_=!0,Gy(n),r}finishDraft(t,n){const r=t&&t[dr];(!r||!r.isManual_)&&va(9);const{scope_:a}=r;return fA(a,n),mA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const l=n[r];if(l.path.length===0&&l.op==="replace"){t=l.value;break}}r>-1&&(n=n.slice(r+1));const a=Yl(Uy).applyPatches_;return Vi(t)?a(t,n):this.produce(t,l=>a(l,n))}};function Fy(e,t,n,r){const[a,l]=vh(t)?Yl(hm).proxyMap_(t,n):yh(t)?Yl(hm).proxySet_(t,n):sY(t,n);return(n?.scope_??wI()).drafts_.push(a),l.callbacks_=n?.callbacks_??[],l.key_=r,n&&r!==void 0?aY(n,l,r):l.callbacks_.push(function(f){f.mapSetPlugin_?.fixSetContents(l);const{patchPlugin_:p}=f;l.modified_&&p&&p.generatePatches_(l,[],f)}),a}function Sa(e){return Vi(e)||va(10,e),EI(e)}function EI(e){if(!Ea(e)||bh(e))return e;const t=e[dr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=zy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=zy(e,!0);return gh(n,(a,l)=>{mm(n,a,EI(l))},r),t&&(t.finalized_=!1),n}var cY=new oY,CI=cY.produce;function AI(e){return({dispatch:n,getState:r})=>a=>l=>typeof l=="function"?l(n,r,e):a(l)}var uY=AI(),dY=AI,fY=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?dm:dm.apply(null,arguments)};function oa(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Dr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>xI(r)&&r.type===e,n}var TI=class Hu extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Hu.prototype)}static get[Symbol.species](){return Hu}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Hu(...t[0].concat(this)):new Hu(...t.concat(this))}};function gA(e){return Ea(e)?CI(e,()=>{}):e}function jp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function pY(e){return typeof e=="boolean"}var mY=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=t??{};let c=new TI;return n&&(pY(n)?c.push(uY):c.push(dY(n.extraArgument))),c},kI="RTK_autoBatch",Ft=()=>e=>({payload:e,meta:{[kI]:!0}}),xA=e=>t=>{setTimeout(t,e)},MI=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,l=!1,c=!1;const u=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xA(10):e.type==="callback"?e.queueNotification:xA(e.timeout),p=()=>{c=!1,l&&(l=!1,u.forEach(m=>m()))};return Object.assign({},r,{subscribe(m){const g=()=>a&&m(),v=r.subscribe(g);return u.add(m),()=>{v(),u.delete(m)}},dispatch(m){try{return a=!m?.meta?.[kI],l=!a,l&&(c||(c=!0,f(p))),r.dispatch(m)}finally{a=!0}}})},hY=e=>function(n){const{autoBatch:r=!0}=n??{};let a=new TI(e);return r&&a.push(MI(typeof r=="object"?r:void 0)),a};function gY(e){const t=mY(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof n=="function")u=n;else if(yw(n))u=gI(n);else throw new Error(Dr(1));let f;typeof r=="function"?f=r(t):f=t();let p=dm;a&&(p=fY({trace:!1,...typeof a=="object"&&a}));const m=JK(...f),g=hY(m);let v=typeof c=="function"?c(g):g();const N=p(...v);return hI(u,l,N)}function RI(e){const t={},n=[];let r;const a={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(Dr(28));if(u in t)throw new Error(Dr(29));return t[u]=c,a},addAsyncThunk(l,c){return c.pending&&(t[l.pending.type]=c.pending),c.rejected&&(t[l.rejected.type]=c.rejected),c.fulfilled&&(t[l.fulfilled.type]=c.fulfilled),c.settled&&n.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return n.push({matcher:l,reducer:c}),a},addDefaultCase(l){return r=l,a}};return e(a),[t,n,r]}function xY(e){return typeof e=="function"}function vY(e,t){let[n,r,a]=RI(t),l;if(xY(e))l=()=>gA(e());else{const u=gA(e);l=()=>u}function c(u=l(),f){let p=[n[f.type],...r.filter(({matcher:m})=>m(f)).map(({reducer:m})=>m)];return p.filter(m=>!!m).length===0&&(p=[a]),p.reduce((m,g)=>{if(g)if(Vi(m)){const N=g(m,f);return N===void 0?m:N}else{if(Ea(m))return CI(m,v=>g(v,f));{const v=g(m,f);if(v===void 0){if(m===null)return m;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return m},u)}return c.getInitialState=l,c}var yY="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",bY=(e=21)=>{let t="",n=e;for(;n--;)t+=yY[Math.random()*64|0];return t},wY=Symbol.for("rtk-slice-createasyncthunk");function NY(e,t){return`${e}/${t}`}function SY({creators:e}={}){const t=e?.asyncThunk?.[wY];return function(r){const{name:a,reducerPath:l=a}=r;if(!a)throw new Error(Dr(11));const c=(typeof r.reducers=="function"?r.reducers(_Y()):r.reducers)||{},u=Object.keys(c),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(R,M){const I=typeof R=="string"?R:R.type;if(!I)throw new Error(Dr(12));if(I in f.sliceCaseReducersByType)throw new Error(Dr(13));return f.sliceCaseReducersByType[I]=M,p},addMatcher(R,M){return f.sliceMatchers.push({matcher:R,reducer:M}),p},exposeAction(R,M){return f.actionCreators[R]=M,p},exposeCaseReducer(R,M){return f.sliceCaseReducersByName[R]=M,p}};u.forEach(R=>{const M=c[R],I={reducerName:R,type:NY(a,R),createNotation:typeof r.reducers=="function"};CY(M)?TY(I,M,p,t):EY(I,M,p)});function m(){const[R={},M=[],I=void 0]=typeof r.extraReducers=="function"?RI(r.extraReducers):[r.extraReducers],P={...R,...f.sliceCaseReducersByType};return vY(r.initialState,k=>{for(let L in P)k.addCase(L,P[L]);for(let L of f.sliceMatchers)k.addMatcher(L.matcher,L.reducer);for(let L of M)k.addMatcher(L.matcher,L.reducer);I&&k.addDefaultCase(I)})}const g=R=>R,v=new Map,N=new WeakMap;let j;function _(R,M){return j||(j=m()),j(R,M)}function E(){return j||(j=m()),j.getInitialState()}function C(R,M=!1){function I(k){let L=k[R];return typeof L>"u"&&M&&(L=jp(N,I,E)),L}function P(k=g){const L=jp(v,M,()=>new WeakMap);return jp(L,k,()=>{const z={};for(const[q,J]of Object.entries(r.selectors??{}))z[q]=jY(J,k,()=>jp(N,k,E),M);return z})}return{reducerPath:R,getSelectors:P,get selectors(){return P(I)},selectSlice:I}}const A={name:a,reducer:_,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:E,...C(l),injectInto(R,{reducerPath:M,...I}={}){const P=M??l;return R.inject({reducerPath:P,reducer:_},I),{...A,...C(P,!0)}}};return A}}function jY(e,t,n,r){function a(l,...c){let u=t(l);return typeof u>"u"&&r&&(u=n()),e(u,...c)}return a.unwrapped=e,a}var _r=SY();function _Y(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function EY({type:e,reducerName:t,createNotation:n},r,a){let l,c;if("reducer"in r){if(n&&!AY(r))throw new Error(Dr(17));l=r.reducer,c=r.prepare}else l=r;a.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?oa(e,c):oa(e))}function CY(e){return e._reducerDefinitionType==="asyncThunk"}function AY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TY({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Dr(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:f,settled:p,options:m}=n,g=a(e,l,m);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),f&&r.addCase(g.rejected,f),p&&r.addMatcher(g.settled,p),r.exposeCaseReducer(t,{fulfilled:c||_p,pending:u||_p,rejected:f||_p,settled:p||_p})}function _p(){}var kY="task",PI="listener",II="completed",Sw="cancelled",MY=`task-${Sw}`,RY=`task-${II}`,qy=`${PI}-${Sw}`,PY=`${PI}-${II}`,Nh=class{constructor(e){this.code=e,this.message=`${kY} ${Sw} (reason: ${e})`}name="TaskAbortError";message},jw=(e,t)=>{if(typeof e!="function")throw new TypeError(Dr(32))},vm=()=>{},OI=(e,t=vm)=>(e.catch(t),e),DI=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Dl=e=>{if(e.aborted)throw new Nh(e.reason)};function LI(e,t){let n=vm;return new Promise((r,a)=>{const l=()=>a(new Nh(e.reason));if(e.aborted){l();return}n=DI(e,l),t.finally(()=>n()).then(r,a)}).finally(()=>{n=vm})}var IY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Nh?"cancelled":"rejected",error:n}}finally{t?.()}},ym=e=>t=>OI(LI(e,t).then(n=>(Dl(e),n))),zI=e=>{const t=ym(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:cc}=Object,vA={},Sh="listenerMiddleware",OY=(e,t)=>{const n=r=>DI(e,()=>r.abort(e.reason));return(r,a)=>{jw(r);const l=new AbortController;n(l);const c=IY(async()=>{Dl(e),Dl(l.signal);const u=await r({pause:ym(l.signal),delay:zI(l.signal),signal:l.signal});return Dl(l.signal),u},()=>l.abort(RY));return a?.autoJoin&&t.push(c.catch(vm)),{result:ym(e)(c),cancel(){l.abort(MY)}}}},DY=(e,t)=>{const n=async(r,a)=>{Dl(t);let l=()=>{};const u=[new Promise((f,p)=>{let m=e({predicate:r,effect:(g,v)=>{v.unsubscribe(),f([g,v.getState(),v.getOriginalState()])}});l=()=>{m(),p()}})];a!=null&&u.push(new Promise(f=>setTimeout(f,a,null)));try{const f=await LI(t,Promise.race(u));return Dl(t),f}finally{l()}};return(r,a)=>OI(n(r,a))},UI=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:l}=e;if(t)a=oa(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Dr(21));return jw(l),{predicate:a,type:t,effect:l}},$I=cc(e=>{const{type:t,predicate:n,effect:r}=UI(e);return{id:bY(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Dr(22))}}},{withTypes:()=>$I}),yA=(e,t)=>{const{type:n,effect:r,predicate:a}=UI(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===a)&&l.effect===r)},Hy=e=>{e.pending.forEach(t=>{t.abort(qy)})},LY=(e,t)=>()=>{for(const n of t.keys())Hy(n);e.clear()},bA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},GI=cc(oa(`${Sh}/add`),{withTypes:()=>GI}),zY=oa(`${Sh}/removeAll`),BI=cc(oa(`${Sh}/remove`),{withTypes:()=>BI}),UY=(...e)=>{console.error(`${Sh}/error`,...e)},Id=(e={})=>{const t=new Map,n=new Map,r=N=>{const j=n.get(N)??0;n.set(N,j+1)},a=N=>{const j=n.get(N)??1;j===1?n.delete(N):n.set(N,j-1)},{extra:l,onError:c=UY}=e;jw(c);const u=N=>(N.unsubscribe=()=>t.delete(N.id),t.set(N.id,N),j=>{N.unsubscribe(),j?.cancelActive&&Hy(N)}),f=N=>{const j=yA(t,N)??$I(N);return u(j)};cc(f,{withTypes:()=>f});const p=N=>{const j=yA(t,N);return j&&(j.unsubscribe(),N.cancelActive&&Hy(j)),!!j};cc(p,{withTypes:()=>p});const m=async(N,j,_,E)=>{const C=new AbortController,A=DY(f,C.signal),R=[];try{N.pending.add(C),r(N),await Promise.resolve(N.effect(j,cc({},_,{getOriginalState:E,condition:(M,I)=>A(M,I).then(Boolean),take:A,delay:zI(C.signal),pause:ym(C.signal),extra:l,signal:C.signal,fork:OY(C.signal,R),unsubscribe:N.unsubscribe,subscribe:()=>{t.set(N.id,N)},cancelActiveListeners:()=>{N.pending.forEach((M,I,P)=>{M!==C&&(M.abort(qy),P.delete(M))})},cancel:()=>{C.abort(qy),N.pending.delete(C)},throwIfCancelled:()=>{Dl(C.signal)}})))}catch(M){M instanceof Nh||bA(c,M,{raisedBy:"effect"})}finally{await Promise.all(R),C.abort(PY),a(N),N.pending.delete(C)}},g=LY(t,n);return{middleware:N=>j=>_=>{if(!xI(_))return j(_);if(GI.match(_))return f(_.payload);if(zY.match(_)){g();return}if(BI.match(_))return p(_.payload);let E=N.getState();const C=()=>{if(E===vA)throw new Error(Dr(23));return E};let A;try{if(A=j(_),t.size>0){const R=N.getState(),M=Array.from(t.values());for(const I of M){let P=!1;try{P=I.predicate(_,R,E)}catch(k){P=!1,bA(c,k,{raisedBy:"predicate"})}P&&m(I,_,N,C)}}}finally{E=vA}return A},startListening:f,stopListening:p,clearListeners:g}};function Dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $Y={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FI=_r({name:"chartLayout",initialState:$Y,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,l;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(l=t.payload.left)!==null&&l!==void 0?l:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:GY,setLayout:BY,setChartSize:FY,setScale:qY}=FI.actions,HY=FI.reducer;function qI(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function Qe(e){return Number.isFinite(e)}function Wa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){VY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VY(e,t,n){return(t=KY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nt(e,t,n){return Vt(e)||Vt(t)?n:Ja(t)?Vl(e,t,n):typeof t=="function"?t(e):n}var JY=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Ee(e[l]))return tc(tc({},e),{},{[l]:e[l]+(r||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Ee(e[c]))return tc(tc({},e),{},{[c]:e[c]+(a||0)})}return e},ka=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",HI=(e,t,n,r)=>{if(r)return e.map(u=>u.coordinate);var a,l,c=e.map(u=>(u.coordinate===t&&(a=!0),u.coordinate===n&&(l=!0),u.coordinate));return a||c.push(t),l||c.push(n),c},VI=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:l,scale:c,realScaleType:u,isCategorical:f,categoricalDomain:p,tickCount:m,ticks:g,niceTicks:v,axisType:N}=e;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,_=a==="category"&&c.bandwidth?c.bandwidth()/j:0;if(_=N==="angleAxis"&&l&&l.length>=2?Tn(l[0]-l[1])*2*_:_,g||v){var E=(g||v||[]).map((C,A)=>{var R=r?r.indexOf(C):C,M=c.map(R);return Qe(M)?{coordinate:M+_,value:C,offset:_,index:A}:null}).filter(Nr);return E}return f&&p?p.map((C,A)=>{var R=c.map(C);return Qe(R)?{coordinate:R+_,value:C,index:A,offset:_}:null}).filter(Nr):c.ticks&&m!=null?c.ticks(m).map((C,A)=>{var R=c.map(C);return Qe(R)?{coordinate:R+_,value:C,index:A,offset:_}:null}).filter(Nr):c.domain().map((C,A)=>{var R=c.map(C);return Qe(R)?{coordinate:R+_,value:r?r[C]:C,index:A,offset:_}:null}).filter(Nr)},WY=(e,t)=>{if(!t||t.length!==2||!Ee(t[0])||!Ee(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Ee(e[0])||e[0]<n)&&(a[0]=n),(!Ee(e[1])||e[1]>r)&&(a[1]=r),a[0]>r&&(a[0]=r),a[1]<n&&(a[1]=n),a},XY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0,u=0;u<n;++u){var f=e[u],p=f?.[a];if(p!=null){var m=p[1],g=p[0],v=_a(m)?g:m;v>=0?(p[0]=l,l+=v,p[1]=l):(p[0]=c,c+=v,p[1]=c)}}}},ZY=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var l=0,c=0;c<n;++c){var u=e[c],f=u?.[a];if(f!=null){var p=_a(f[1])?f[0]:f[1];p>=0?(f[0]=l,l+=p,f[1]=l):(f[0]=0,f[1]=0)}}}},QY={sign:XY,expand:y7,none:Hl,silhouette:b7,wiggle:w7,positive:ZY},eJ=(e,t,n)=>{var r,a=(r=QY[n])!==null&&r!==void 0?r:Hl,l=v7().keys(t).value((u,f)=>Number(Nt(u,f,0))).order(Iy).offset(a),c=l(e);return c.forEach((u,f)=>{u.forEach((p,m)=>{var g=Nt(e[m],t[f],0);Array.isArray(g)&&g.length===2&&Ee(g[0])&&Ee(g[1])&&(p[0]=g[0],p[1]=g[1])})}),c};function KI(e){return e==null?void 0:String(e)}function bm(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Vt(a[t.dataKey])){var u=ZP(n,"value",a[t.dataKey]);if(u)return u.coordinate+r/2}return n!=null&&n[l]?n[l].coordinate+r/2:null}var f=Nt(a,Vt(c)?t.dataKey:c),p=t.scale.map(f);return Ee(p)?p:null}var NA=e=>{var{axis:t,ticks:n,offset:r,bandSize:a,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var u=Nt(l,t.dataKey,t.scale.domain()[c]);if(Vt(u))return null;var f=t.scale.map(u);return Ee(f)?f-a/2+r:null},tJ=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return r<=0&&a>=0?0:a<0?a:r}return n[0]},nJ=e=>{var t=e.flat(2).filter(Ee);return[Math.min(...t),Math.max(...t)]},rJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],aJ=(e,t,n)=>{if(e!=null)return rJ(Object.keys(e).reduce((r,a)=>{var l=e[a];if(!l)return r;var{stackedData:c}=l,u=c.reduce((f,p)=>{var m=qI(p,t,n),g=nJ(m);return!Qe(g[0])||!Qe(g[1])?f:[Math.min(f[0],g[0]),Math.max(f[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},SA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,jA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Js=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=mh(t,m=>m.coordinate),l=1/0,c=1,u=a.length;c<u;c++){var f=a[c],p=a[c-1];l=Math.min((f?.coordinate||0)-(p?.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function _A(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:l}=e;return tc(tc({},t),{},{dataKey:n,payload:r,value:a,name:l})}function tl(e,t){if(e)return String(e);if(typeof t=="string")return t}var iJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},sJ=(e,t)=>t==="centric"?e.angle:e.radius,ts=e=>e.layout.width,ns=e=>e.layout.height,lJ=e=>e.layout.scale,YI=e=>e.layout.margin,jh=Q(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),_h=Q(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JI="data-recharts-item-index",WI="data-recharts-item-id",Od=60;function EA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EA(Object(n),!0).forEach(function(r){oJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oJ(e,t,n){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dJ=e=>e.brush.height;function fJ(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Od;return n+a}return n},0)}function pJ(e){var t=_h(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Od;return n+a}return n},0)}function mJ(e){var t=jh(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function hJ(e){var t=jh(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var bn=Q([ts,ns,YI,dJ,fJ,pJ,mJ,hJ,pI,BK],(e,t,n,r,a,l,c,u,f,p)=>{var m={left:(n.left||0)+a,right:(n.right||0)+l},g={top:(n.top||0)+c,bottom:(n.bottom||0)+u},v=Ep(Ep({},g),m),N=v.bottom;v.bottom+=r,v=JY(v,f,p);var j=e-v.left-v.right,_=t-v.top-v.bottom;return Ep(Ep({brushBottom:N},v),{},{width:Math.max(j,0),height:Math.max(_,0)})}),gJ=Q(bn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_w=Q(ts,ns,(e,t)=>({x:0,y:0,width:e,height:t})),xJ=b.createContext(null),Mn=()=>b.useContext(xJ)!=null,Eh=e=>e.brush,Ch=Q([Eh,bn,YI],(e,t,n)=>({height:e.height,x:Ee(e.x)?e.x:t.left,y:Ee(e.y)?e.y:t.top+t.height+t.brushBottom-(n?.bottom||0),width:Ee(e.width)?e.width:t.width})),_v={},Ev={},Cv={},CA;function vJ(){return CA||(CA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:l}={}){let c,u=null;const f=l!=null&&l.includes("leading"),p=l==null||l.includes("trailing"),m=()=>{u!==null&&(n.apply(c,u),c=void 0,u=null)},g=()=>{p&&m(),_()};let v=null;const N=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,g()},r)},j=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{j(),c=void 0,u=null},E=()=>{m()},C=function(...A){if(a?.aborted)return;c=this,u=A;const R=v==null;N(),f&&R&&m()};return C.schedule=N,C.cancel=_,C.flush=E,a?.addEventListener("abort",_,{once:!0}),C}e.debounce=t})(Cv)),Cv}var AA;function yJ(){return AA||(AA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vJ();function n(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:f}=l,p=Array(2);c&&(p[0]="leading"),u&&(p[1]="trailing");let m,g=null;const v=t.debounce(function(..._){m=r.apply(this,_),g=null},a,{edges:p}),N=function(..._){return f!=null&&(g===null&&(g=Date.now()),Date.now()-g>=f)?(m=r.apply(this,_),g=Date.now(),v.cancel(),v.schedule(),m):(v.apply(this,_),m)},j=()=>(v.flush(),m);return N.cancel=v.cancel,N.flush=j,N}e.debounce=n})(Ev)),Ev}var TA;function bJ(){return TA||(TA=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yJ();function n(r,a=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(r,a,{leading:c,maxWait:a,trailing:u})}e.throttle=n})(_v)),_v}var Av,kA;function wJ(){return kA||(kA=1,Av=bJ().throttle),Av}var NJ=wJ();const SJ=ei(NJ);var wm=function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=0;console.warn(n.replace(/%s/g,()=>a[c++]))}},qa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},XI=(e,t,n)=>{var{width:r=qa.width,height:a=qa.height,aspect:l,maxHeight:c}=n,u=Kl(r)?e:Number(r),f=Kl(a)?t:Number(a);return l&&l>0&&(u?f=u/l:f&&(u=f*l),c&&f!=null&&f>c&&(f=c)),{calculatedWidth:u,calculatedHeight:f}},jJ={width:0,height:0,overflow:"visible"},_J={width:0,overflowX:"visible"},EJ={height:0,overflowY:"visible"},CJ={},AJ=e=>{var{width:t,height:n}=e,r=Kl(t),a=Kl(n);return r&&a?jJ:r?_J:a?EJ:CJ};function TJ(e){var{width:t,height:n,aspect:r}=e,a=t,l=n;return a===void 0&&l===void 0?(a=qa.width,l=qa.height):a===void 0?a=r&&r>0?void 0:qa.width:l===void 0&&(l=r&&r>0?void 0:qa.height),{width:a,height:l}}function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vy.apply(null,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){kJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kJ(e,t,n){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZI=b.createContext(qa.initialDimension);function PJ(e){return Wa(e.width)&&Wa(e.height)}function QI(e){var{children:t,width:n,height:r}=e,a=b.useMemo(()=>({width:n,height:r}),[n,r]);return PJ(a)?b.createElement(ZI.Provider,{value:a},t):null}var Ew=()=>b.useContext(ZI),IJ=b.forwardRef((e,t)=>{var{aspect:n,initialDimension:r=qa.initialDimension,width:a,height:l,minWidth:c=qa.minWidth,minHeight:u,maxHeight:f,children:p,debounce:m=qa.debounce,id:g,className:v,onResize:N,style:j={}}=e,_=b.useRef(null),E=b.useRef();E.current=N,b.useImperativeHandle(t,()=>_.current);var[C,A]=b.useState({containerWidth:r.width,containerHeight:r.height}),R=b.useCallback((L,z)=>{A(q=>{var J=Math.round(L),U=Math.round(z);return q.containerWidth===J&&q.containerHeight===U?q:{containerWidth:J,containerHeight:U}})},[]);b.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return el;var L=U=>{var Y,te=U[0];if(te!=null){var{width:he,height:F}=te.contentRect;R(he,F),(Y=E.current)===null||Y===void 0||Y.call(E,he,F)}};m>0&&(L=SJ(L,m,{trailing:!0,leading:!1}));var z=new ResizeObserver(L),{width:q,height:J}=_.current.getBoundingClientRect();return R(q,J),z.observe(_.current),()=>{z.disconnect()}},[R,m]);var{containerWidth:M,containerHeight:I}=C;wm(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:k}=XI(M,I,{width:a,height:l,aspect:n,maxHeight:f});return wm(P!=null&&P>0||k!=null&&k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,k,a,l,c,u,n),b.createElement("div",{id:g?"".concat(g):void 0,className:ct("recharts-responsive-container",v),style:RA(RA({},j),{},{width:a,height:l,minWidth:c,minHeight:u,maxHeight:f}),ref:_},b.createElement("div",{style:AJ({width:a,height:l})},b.createElement(QI,{width:P,height:k},p)))}),Ri=b.forwardRef((e,t)=>{var n=Ew();if(Wa(n.width)&&Wa(n.height))return e.children;var{width:r,height:a}=TJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:l,calculatedHeight:c}=XI(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Ee(l)&&Ee(c)?b.createElement(QI,{width:l,height:c},e.children):b.createElement(IJ,Vy({},e,{width:r,height:a,ref:t}))});function Cw(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ah=()=>{var e,t=Mn(),n=Me(gJ),r=Me(Ch),a=(e=Me(Eh))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},OJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},eO=()=>{var e;return(e=Me(bn))!==null&&e!==void 0?e:OJ},Aw=()=>Me(ts),Tw=()=>Me(ns),DJ=()=>Me(e=>e.layout.margin),ot=e=>e.layout.layoutType,nl=()=>Me(ot),kw=()=>{var e=nl();if(e==="horizontal"||e==="vertical")return e},tO=e=>{var t=e.layout.layoutType;if(t==="centric"||t==="radial")return t},LJ=()=>{var e=nl();return e!==void 0},Dd=e=>{var t=Dt(),n=Mn(),{width:r,height:a}=e,l=Ew(),c=r,u=a;return l&&(c=l.width>0?l.width:r,u=l.height>0?l.height:a),b.useEffect(()=>{!n&&Wa(c)&&Wa(u)&&t(FY({width:c,height:u}))},[t,n,c,u]),null},nO=Symbol.for("immer-nothing"),PA=Symbol.for("immer-draftable"),zr=Symbol.for("immer-state");function ya(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var md=Object.getPrototypeOf;function hc(e){return!!e&&!!e[zr]}function Jl(e){return e?rO(e)||Array.isArray(e)||!!e[PA]||!!e.constructor?.[PA]||Ld(e)||kh(e):!1}var zJ=Object.prototype.constructor.toString(),IA=new WeakMap;function rO(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=IA.get(n);return r===void 0&&(r=Function.toString.call(n),IA.set(n,r)),r===zJ}function Nm(e,t,n=!0){Th(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((r,a)=>t(a,r,e))}function Th(e){const t=e[zr];return t?t.type_:Array.isArray(e)?1:Ld(e)?2:kh(e)?3:0}function Ky(e,t){return Th(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aO(e,t,n){const r=Th(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function UJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ld(e){return e instanceof Map}function kh(e){return e instanceof Set}function kl(e){return e.copy_||e.base_}function Yy(e,t){if(Ld(e))return new Map(e);if(kh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=rO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[zr];let a=Reflect.ownKeys(r);for(let l=0;l<a.length;l++){const c=a[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(md(e),r)}else{const r=md(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function Mw(e,t=!1){return Mh(e)||hc(e)||!Jl(e)||(Th(e)>1&&Object.defineProperties(e,{set:Cp,add:Cp,clear:Cp,delete:Cp}),Object.freeze(e),t&&Object.values(e).forEach(n=>Mw(n,!0))),e}function $J(){ya(2)}var Cp={value:$J};function Mh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var GJ={};function Wl(e){const t=GJ[e];return t||ya(0,e),t}var hd;function iO(){return hd}function BJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function OA(e,t){t&&(Wl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jy(e){Wy(e),e.drafts_.forEach(FJ),e.drafts_=null}function Wy(e){e===hd&&(hd=e.parent_)}function DA(e){return hd=BJ(hd,e)}function FJ(e){const t=e[zr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[zr].modified_&&(Jy(t),ya(4)),Jl(e)&&(e=Sm(t,e),t.parent_||jm(t,e)),t.patches_&&Wl("Patches").generateReplacementPatches_(n[zr].base_,e,t.patches_,t.inversePatches_)):e=Sm(t,n,[]),Jy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==nO?e:void 0}function Sm(e,t,n){if(Mh(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[zr];if(!a)return Nm(t,(l,c)=>zA(e,a,t,l,c,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return jm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const l=a.copy_;let c=l,u=!1;a.type_===3&&(c=new Set(l),l.clear(),u=!0),Nm(c,(f,p)=>zA(e,a,l,f,p,n,u),r),jm(e,l,!1),n&&e.patches_&&Wl("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function zA(e,t,n,r,a,l,c){if(a==null||typeof a!="object"&&!c)return;const u=Mh(a);if(!(u&&!c)){if(hc(a)){const f=l&&t&&t.type_!==3&&!Ky(t.assigned_,r)?l.concat(r):void 0,p=Sm(e,a,f);if(aO(n,r,p),hc(p))e.canAutoFreeze_=!1;else return}else c&&n.add(a);if(Jl(a)&&!u){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&u)return;Sm(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(Ld(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&jm(e,a)}}}function jm(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Mw(t,n)}function qJ(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:iO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,l=Rw;n&&(a=[r],l=gd);const{revoke:c,proxy:u}=Proxy.revocable(a,l);return r.draft_=u,r.revoke_=c,u}var Rw={get(e,t){if(t===zr)return e;const n=kl(e);if(!Ky(n,t))return HJ(e,n,t);const r=n[t];return e.finalized_||!Jl(r)?r:r===Tv(e.base_,t)?(kv(e),e.copy_[t]=Zy(r,e)):r},has(e,t){return t in kl(e)},ownKeys(e){return Reflect.ownKeys(kl(e))},set(e,t,n){const r=sO(kl(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=Tv(kl(e),t),l=a?.[zr];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(UJ(n,a)&&(n!==void 0||Ky(e.base_,t)))return!0;kv(e),Xy(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Tv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,kv(e),Xy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=kl(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ya(11)},getPrototypeOf(e){return md(e.base_)},setPrototypeOf(){ya(12)}},gd={};Nm(Rw,(e,t)=>{gd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gd.deleteProperty=function(e,t){return gd.set.call(this,e,t,void 0)};gd.set=function(e,t,n){return Rw.set.call(this,e[0],t,n,e[0])};function Tv(e,t){const n=e[zr];return(n?kl(n):e)[t]}function HJ(e,t,n){const r=sO(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function sO(e,t){if(!(t in e))return;let n=md(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=md(n)}}function Xy(e){e.modified_||(e.modified_=!0,e.parent_&&Xy(e.parent_))}function kv(e){e.copy_||(e.copy_=Yy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...p){return c.produce(f,m=>n.call(this,m,...p))}}typeof n!="function"&&ya(6),r!==void 0&&typeof r!="function"&&ya(7);let a;if(Jl(t)){const l=DA(this),c=Zy(t,void 0);let u=!0;try{a=n(c),u=!1}finally{u?Jy(l):Wy(l)}return OA(l,r),LA(a,l)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===nO&&(a=void 0),this.autoFreeze_&&Mw(a,!0),r){const l=[],c=[];Wl("Patches").generateReplacementPatches_(t,a,l,c),r(l,c)}return a}else ya(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,f=>t(f,...u));let r,a;return[this.produce(t,n,(c,u)=>{r=c,a=u}),r,a]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof e?.useStrictIteration=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jl(e)||ya(8),hc(e)&&(e=KJ(e));const t=DA(this),n=Zy(e,void 0);return n[zr].isManual_=!0,Wy(t),n}finishDraft(e,t){const n=e&&e[zr];(!n||!n.isManual_)&&ya(9);const{scope_:r}=n;return OA(r,t),LA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=Wl("Patches").applyPatches_;return hc(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Zy(e,t){const n=Ld(e)?Wl("MapSet").proxyMap_(e,t):kh(e)?Wl("MapSet").proxySet_(e,t):qJ(e,t);return(t?t.scope_:iO()).drafts_.push(n),n}function KJ(e){return hc(e)||ya(10,e),lO(e)}function lO(e){if(!Jl(e)||Mh(e))return e;const t=e[zr];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Yy(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Yy(e,!0);return Nm(n,(a,l)=>{aO(n,a,lO(l))},r),t&&(t.finalized_=!1),n}var YJ=new VJ;YJ.produce;var JJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},oO=_r({name:"legend",initialState:JJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Ft()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:Ft()},removeLegendPayload:{reducer(e,t){var n=Sa(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:Ft()}}}),{setLegendSize:UA,setLegendSettings:WJ,addLegendPayload:cO,replaceLegendPayload:uO,removeLegendPayload:dO}=oO.actions,XJ=oO.reducer,ZJ=["contextPayload"];function Qy(){return Qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qy.apply(null,arguments)}function $A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$A(Object(n),!0).forEach(function(r){QJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QJ(e,t,n){return(t=eW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nW(e,t){if(e==null)return{};var n,r,a=rW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aW(e){return e.value}function iW(e){var{contextPayload:t}=e,n=nW(e,ZJ),r=cI(t,e.payloadUniqBy,aW),a=gc(gc({},n),{},{payload:r});return b.isValidElement(e.content)?b.cloneElement(e.content,a):typeof e.content=="function"?b.createElement(e.content,a):b.createElement(W7,a)}function sW(e,t,n,r,a,l){var{layout:c,align:u,verticalAlign:f}=t,p,m;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(u==="center"&&c==="vertical"?p={left:((r||0)-l.width)/2}:p=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(f==="middle"?m={top:((a||0)-l.height)/2}:m=f==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),gc(gc({},p),m)}function lW(e){var t=Dt();return b.useEffect(()=>{t(WJ(e))},[t,e]),null}function oW(e){var t=Dt();return b.useEffect(()=>(t(UA(e)),()=>{t(UA({width:0,height:0}))}),[t,e]),null}function cW(e,t,n,r){return e==="vertical"&&t!=null?{height:t}:e==="horizontal"?{width:n||r}:null}var uW={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function eb(e){var t=nn(e,uW),n=HK(),r=BV(),a=DJ(),{width:l,height:c,wrapperStyle:u,portal:f}=t,[p,m]=mI([n]),g=Aw(),v=Tw();if(g==null||v==null)return null;var N=g-(a?.left||0)-(a?.right||0),j=cW(t.layout,c,l,N),_=f?u:gc(gc({position:"absolute",width:j?.width||l||"auto",height:j?.height||c||"auto"},sW(u,t,a,g,v,p)),u),E=f??r;if(E==null||n==null)return null;var C=b.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:m},b.createElement(lW,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!f&&b.createElement(oW,{width:p.width,height:p.height}),b.createElement(iW,Qy({},t,j,{margin:a,chartWidth:g,chartHeight:v,contextPayload:n})));return Bb.createPortal(C,E)}eb.displayName="Legend";function tb(){return tb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tb.apply(null,arguments)}function GA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(n),!0).forEach(function(r){dW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dW(e,t,n){return(t=fW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mW(e){return Array.isArray(e)&&Ja(e[0])&&Ja(e[1])?e.join(" ~ "):e}var Ho={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},hW=e=>{var{separator:t=Ho.separator,contentStyle:n,itemStyle:r,labelStyle:a=Ho.labelStyle,payload:l,formatter:c,itemSorter:u,wrapperClassName:f,labelClassName:p,label:m,labelFormatter:g,accessibilityLayer:v=Ho.accessibilityLayer}=e,N=()=>{if(l&&l.length){var I={padding:0,margin:0},P=(u?mh(l,u):l).map((k,L)=>{if(k.type==="none")return null;var z=k.formatter||c||mW,{value:q,name:J}=k,U=q,Y=J;if(z){var te=z(q,J,k,L,l);if(Array.isArray(te))[U,Y]=te;else if(te!=null)U=te;else return null}var he=Iu(Iu({},Ho.itemStyle),{},{color:k.color||Ho.itemStyle.color},r);return b.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:he},Ja(Y)?b.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,Ja(Y)?b.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,b.createElement("span",{className:"recharts-tooltip-item-value"},U),b.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return b.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},j=Iu(Iu({},Ho.contentStyle),n),_=Iu({margin:0},a),E=!Vt(m),C=E?m:"",A=ct("recharts-default-tooltip",f),R=ct("recharts-tooltip-label",p);E&&g&&l!==void 0&&l!==null&&(C=g(m,l));var M=v?{role:"status","aria-live":"assertive"}:{};return b.createElement("div",tb({className:A,style:j},M),b.createElement("p",{className:R,style:_},b.isValidElement(C)?C:"".concat(C)),N())},Ou="recharts-tooltip-wrapper",gW={visibility:"hidden"};function xW(e){var{coordinate:t,translateX:n,translateY:r}=e;return ct(Ou,{["".concat(Ou,"-right")]:Ee(n)&&t&&Ee(t.x)&&n>=t.x,["".concat(Ou,"-left")]:Ee(n)&&t&&Ee(t.x)&&n<t.x,["".concat(Ou,"-bottom")]:Ee(r)&&t&&Ee(t.y)&&r>=t.y,["".concat(Ou,"-top")]:Ee(r)&&t&&Ee(t.y)&&r<t.y})}function BA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offset:a,position:l,reverseDirection:c,tooltipDimension:u,viewBox:f,viewBoxDimension:p}=e;if(l&&Ee(l[r]))return l[r];var m=n[r]-u-(a>0?a:0),g=n[r]+a;if(t[r])return c[r]?m:g;var v=f[r];if(v==null)return 0;if(c[r]){var N=m,j=v;return N<j?Math.max(g,v):Math.max(m,v)}if(p==null)return 0;var _=g+u,E=v+p;return _>E?Math.max(m,v):Math.max(g,v)}function vW(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function yW(e){var{allowEscapeViewBox:t,coordinate:n,offsetTop:r,offsetLeft:a,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:f,viewBox:p}=e,m,g,v;return u.height>0&&u.width>0&&n?(g=BA({allowEscapeViewBox:t,coordinate:n,key:"x",offset:a,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:p,viewBoxDimension:p.width}),v=BA({allowEscapeViewBox:t,coordinate:n,key:"y",offset:r,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:p,viewBoxDimension:p.height}),m=vW({translateX:g,translateY:v,useTranslate3d:f})):m=gW,{cssProperties:m,cssClasses:xW({translateX:g,translateY:v,coordinate:n})}}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ap(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){nb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nb(e,t,n){return(t=bW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class NW extends b.PureComponent{constructor(){super(...arguments),nb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),nb(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:l,coordinate:c,hasPayload:u,isAnimationActive:f,offset:p,position:m,reverseDirection:g,useTranslate3d:v,viewBox:N,wrapperStyle:j,lastBoundingBox:_,innerRef:E,hasPortalFromProps:C}=this.props,A=typeof p=="number"?p:p.x,R=typeof p=="number"?p:p.y,{cssClasses:M,cssProperties:I}=yW({allowEscapeViewBox:n,coordinate:c,offsetLeft:A,offsetTop:R,position:m,reverseDirection:g,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:N}),P=C?{}:Ap(Ap({transition:f&&t?"transform ".concat(r,"ms ").concat(a):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),k=Ap(Ap({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return b.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:k,ref:E},l)}}var fO=()=>{var e;return(e=Me(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function rb(){return rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rb.apply(null,arguments)}function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){SW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SW(e,t,n){return(t=jW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VA={curveBasisClosed:l7,curveBasisOpen:o7,curveBasis:s7,curveBumpX:VV,curveBumpY:KV,curveLinearClosed:c7,curveLinear:fh,curveMonotoneX:u7,curveMonotoneY:d7,curveNatural:f7,curveStep:p7,curveStepAfter:h7,curveStepBefore:m7},_m=e=>Qe(e.x)&&Qe(e.y),KA=e=>e.base!=null&&_m(e.base)&&_m(e),Du=e=>e.x,Lu=e=>e.y,EW=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Md(e));if((n==="curveMonotone"||n==="curveBump")&&t){var r=VA["".concat(n).concat(t==="vertical"?"Y":"X")];if(r)return r}return VA[n]||fh},YA={connectNulls:!1,type:"linear"},CW=e=>{var{type:t=YA.type,points:n=[],baseLine:r,layout:a,connectNulls:l=YA.connectNulls}=e,c=EW(t,a),u=l?n.filter(_m):n;if(Array.isArray(r)){var f,p=n.map((j,_)=>HA(HA({},j),{},{base:r[_]}));a==="vertical"?f=bp().y(Lu).x1(Du).x0(j=>j.base.x):f=bp().x(Du).y1(Lu).y0(j=>j.base.y);var m=f.defined(KA).curve(c),g=l?p.filter(KA):p;return m(g)}var v;a==="vertical"&&Ee(r)?v=bp().y(Lu).x1(Du).x0(r):Ee(r)?v=bp().x(Du).y1(Lu).y0(r):v=UP().x(Du).y(Lu);var N=v.defined(_m).curve(c);return N(u)},uc=e=>{var{className:t,points:n,path:r,pathRef:a}=e,l=nl();if((!n||!n.length)&&!r)return null;var c={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||l,connectNulls:e.connectNulls},u=n&&n.length?CW(c):r;return b.createElement("path",rb({},ur(e),hw(e),{className:ct("recharts-curve",t),d:u===null?void 0:u,ref:a}))},AW=["x","y","top","left","width","height","className"];function ab(){return ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ab.apply(null,arguments)}function JA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TW(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(n),!0).forEach(function(r){kW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kW(e,t,n){return(t=MW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PW(e,t){if(e==null)return{};var n,r,a=IW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function IW(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var OW=(e,t,n,r,a,l)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),DW=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:l=0,height:c=0,className:u}=e,f=PW(e,AW),p=TW({x:t,y:n,top:r,left:a,width:l,height:c},f);return!Ee(t)||!Ee(n)||!Ee(l)||!Ee(c)||!Ee(r)||!Ee(a)?null:b.createElement("path",ab({},er(p),{className:ct("recharts-cross",u),d:OW(t,n,l,c,r,a)}))};function LW(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function WA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function XA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WA(Object(n),!0).forEach(function(r){zW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zW(e,t,n){return(t=UW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),pO=(e,t,n)=>e.map(r=>"".concat(GW(r)," ").concat(t,"ms ").concat(n)).join(","),BW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),xd=(e,t)=>Object.keys(t).reduce((n,r)=>XA(XA({},n),{},{[r]:e(r,t[r])}),{});function ZA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(n),!0).forEach(function(r){FW(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FW(e,t,n){return(t=qW(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qW(e){var t=HW(e,"string");return typeof t=="symbol"?t:t+""}function HW(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Em=(e,t,n)=>e+(t-e)*n,ib=e=>{var{from:t,to:n}=e;return t!==n},mO=(e,t,n)=>{var r=xd((a,l)=>{if(ib(l)){var[c,u]=e(l.from,l.to,l.velocity);return yn(yn({},l),{},{from:c,velocity:u})}return l},t);return n<1?xd((a,l)=>ib(l)&&r[a]!=null?yn(yn({},l),{},{velocity:Em(l.velocity,r[a].velocity,n),from:Em(l.from,r[a].from,n)}):l,t):mO(e,r,n-1)};function VW(e,t,n,r,a,l){var c,u=r.reduce((v,N)=>yn(yn({},v),{},{[N]:{from:e[N],velocity:0,to:t[N]}}),{}),f=()=>xd((v,N)=>N.from,u),p=()=>!Object.values(u).filter(ib).length,m=null,g=v=>{c||(c=v);var N=v-c,j=N/n.dt;u=mO(n,u,j),a(yn(yn(yn({},e),t),f())),c=v,p()||(m=l.setTimeout(g))};return()=>(m=l.setTimeout(g),()=>{var v;(v=m)===null||v===void 0||v()})}function KW(e,t,n,r,a,l,c){var u=null,f=a.reduce((g,v)=>{var N=e[v],j=t[v];return N==null||j==null?g:yn(yn({},g),{},{[v]:[N,j]})},{}),p,m=g=>{p||(p=g);var v=(g-p)/r,N=xd((_,E)=>Em(...E,n(v)),f);if(l(yn(yn(yn({},e),t),N)),v<1)u=c.setTimeout(m);else{var j=xd((_,E)=>Em(...E,n(1)),f);l(yn(yn(yn({},e),t),j))}};return()=>(u=c.setTimeout(m),()=>{var g;(g=u)===null||g===void 0||g()})}const YW=(e,t,n,r,a,l)=>{var c=BW(e,t);return n==null?()=>(a(yn(yn({},e),t)),()=>{}):n.isStepper===!0?VW(e,t,n,c,a,l):KW(e,t,n,r,c,a,l)};var Cm=1e-4,hO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],gO=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),QA=(e,t)=>n=>{var r=hO(e,t);return gO(r,n)},JW=(e,t)=>n=>{var r=hO(e,t),a=[...r.map((l,c)=>l*c).slice(1),0];return gO(a,n)},WW=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(l=>parseFloat(l));return[a[0],a[1],a[2],a[3]]},XW=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=WW(n[0]);if(a)return a}}return n.length===4?n:[0,0,1,1]},ZW=(e,t,n,r)=>{var a=QA(e,n),l=QA(t,r),c=JW(e,n),u=p=>p>1?1:p<0?0:p,f=p=>{for(var m=p>1?1:p,g=m,v=0;v<8;++v){var N=a(g)-m,j=c(g);if(Math.abs(N-m)<Cm||j<Cm)return l(g);g=u(g-N/j)}return l(g)};return f.isStepper=!1,f},eT=function(){return ZW(...XW(...arguments))},QW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:a=17}=t,l=(c,u,f)=>{var p=-(c-u)*n,m=f*r,g=f+(p-m)*a/1e3,v=f*a/1e3+c;return Math.abs(v-u)<Cm&&Math.abs(g)<Cm?[u,0]:[v,g]};return l.isStepper=!0,l.dt=a,l},eX=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return eT(e);case"spring":return QW();default:if(e.split("(")[0]==="cubic-bezier")return eT(e)}return typeof e=="function"?e:null};function tX(e){var t,n=()=>null,r=!1,a=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[f,...p]=u;if(typeof f=="number"){a=e.setTimeout(l.bind(null,p),f);return}l(f),a=e.setTimeout(l.bind(null,p));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,a&&(a(),a=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class nX{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(l))};return a=requestAnimationFrame(l),()=>{a!=null&&cancelAnimationFrame(a)}}}function rX(){return tX(new nX)}var aX=b.createContext(rX);function iX(e,t){var n=b.useContext(aX);return b.useMemo(()=>t??n(e),[e,t,n])}var sX=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),zd={isSsr:sX()},lX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tT={t:0},Mv={t:1};function Ec(e){var t=nn(e,lX),{isActive:n,canBegin:r,duration:a,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:f,children:p}=t,m=n==="auto"?!zd.isSsr:n,g=iX(t.animationId,t.animationManager),[v,N]=b.useState(m?tT:Mv),j=b.useRef(null);return b.useEffect(()=>{m||N(Mv)},[m]),b.useEffect(()=>{if(!m||!r)return el;var _=YW(tT,Mv,eX(l),a,N,g.getTimeoutController()),E=()=>{j.current=_()};return g.start([f,c,E,a,u]),()=>{g.stop(),j.current&&j.current(),u()}},[m,r,a,l,c,f,u,g]),p(v.t)}function Cc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=b.useRef(ud(t)),r=b.useRef(e);return r.current!==e&&(n.current=ud(t),r.current=e),n.current}var oX=["radius"],cX=["radius"],nT,rT,aT,iT,sT,lT,oT,cT,uT,dT;function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function pT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){uX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uX(e,t,n){return(t=dX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Am.apply(null,arguments)}function mT(e,t){if(e==null)return{};var n,r,a=pX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pX(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function za(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var hT=(e,t,n,r,a)=>{var l=Fs(n),c=Fs(r),u=Math.min(Math.abs(l)/2,Math.abs(c)/2),f=c>=0?1:-1,p=l>=0?1:-1,m=c>=0&&l>=0||c<0&&l<0?1:0,g;if(u>0&&Array.isArray(a)){for(var v=[0,0,0,0],N=0,j=4;N<j;N++){var _,E=(_=a[N])!==null&&_!==void 0?_:0;v[N]=E>u?u:E}g=Qt(nT||(nT=za(["M",",",""])),e,t+f*v[0]),v[0]>0&&(g+=Qt(rT||(rT=za(["A ",",",",0,0,",",",",",""])),v[0],v[0],m,e+p*v[0],t)),g+=Qt(aT||(aT=za(["L ",",",""])),e+n-p*v[1],t),v[1]>0&&(g+=Qt(iT||(iT=za(["A ",",",",0,0,",`,
        `,",",""])),v[1],v[1],m,e+n,t+f*v[1])),g+=Qt(sT||(sT=za(["L ",",",""])),e+n,t+r-f*v[2]),v[2]>0&&(g+=Qt(lT||(lT=za(["A ",",",",0,0,",`,
        `,",",""])),v[2],v[2],m,e+n-p*v[2],t+r)),g+=Qt(oT||(oT=za(["L ",",",""])),e+p*v[3],t+r),v[3]>0&&(g+=Qt(cT||(cT=za(["A ",",",",0,0,",`,
        `,",",""])),v[3],v[3],m,e,t+r-f*v[3])),g+="Z"}else if(u>0&&a===+a&&a>0){var C=Math.min(u,a);g=Qt(uT||(uT=za(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+f*C,C,C,m,e+p*C,t,e+n-p*C,t,C,C,m,e+n,t+f*C,e+n,t+r-f*C,C,C,m,e+n-p*C,t+r,e+p*C,t+r,C,C,m,e,t+r-f*C)}else g=Qt(dT||(dT=za(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return g},gT={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xO=e=>{var t=nn(e,gT),n=b.useRef(null),[r,a]=b.useState(-1);b.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var G=n.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:l,y:c,width:u,height:f,radius:p,className:m}=t,{animationEasing:g,animationDuration:v,animationBegin:N,isAnimationActive:j,isUpdateAnimationActive:_}=t,E=b.useRef(u),C=b.useRef(f),A=b.useRef(l),R=b.useRef(c),M=b.useMemo(()=>({x:l,y:c,width:u,height:f,radius:p}),[l,c,u,f,p]),I=Cc(M,"rectangle-");if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var P=ct("recharts-rectangle",m);if(!_){var k=er(t),{radius:L}=k,z=mT(k,oX);return b.createElement("path",Am({},z,{x:Fs(l),y:Fs(c),width:Fs(u),height:Fs(f),radius:typeof p=="number"?p:void 0,className:P,d:hT(l,c,u,f,p)}))}var q=E.current,J=C.current,U=A.current,Y=R.current,te="0px ".concat(r===-1?1:r,"px"),he="".concat(r,"px 0px"),F=pO(["strokeDasharray"],v,typeof g=="string"?g:gT.animationEasing);return b.createElement(Ec,{animationId:I,key:I,canBegin:r>0,duration:v,easing:g,isActive:_,begin:N},G=>{var X=wt(q,u,G),oe=wt(J,f,G),ve=wt(U,l,G),O=wt(Y,c,G);n.current&&(E.current=X,C.current=oe,A.current=ve,R.current=O);var K;j?G>0?K={transition:F,strokeDasharray:he}:K={strokeDasharray:te}:K={strokeDasharray:he};var ce=er(t),{radius:xe}=ce,Z=mT(ce,cX);return b.createElement("path",Am({},Z,{radius:typeof p=="number"?p:void 0,className:P,d:hT(ve,O,X,oe,p),ref:n,style:pT(pT({},K),t.style)}))})};function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){mX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mX(e,t,n){return(t=hX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tm=Math.PI/180,xX=e=>e*180/Math.PI,gn=(e,t,n,r)=>({x:e+Math.cos(-Tm*r)*n,y:t+Math.sin(-Tm*r)*n}),vO=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},vX=(e,t)=>{var{x:n,y:r}=e,{x:a,y:l}=t;return Math.sqrt((n-a)**2+(r-l)**2)},yX=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:l}=t,c=vX({x:n,y:r},{x:a,y:l});if(c<=0)return{radius:c,angle:0};var u=(n-a)/c,f=Math.acos(u);return r>l&&(f=2*Math.PI-f),{radius:c,angle:xX(f),angleInRadian:f}},bX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),l=Math.min(r,a);return{startAngle:t-l*360,endAngle:n-l*360}},wX=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(a,l);return e+c*360},NX=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:l}=yX({x:n,y:r},t),{innerRadius:c,outerRadius:u}=t;if(a<c||a>u||a===0)return null;var{startAngle:f,endAngle:p}=bX(t),m=l,g;if(f<=p){for(;m>p;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=p}else{for(;m>f;)m-=360;for(;m<p;)m+=360;g=m>=p&&m<=f}return g?vT(vT({},t),{},{radius:a,angle:wX(m,t)}):null};function yO(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:l}=e,c=gn(t,n,r,a),u=gn(t,n,r,l);return{points:[c,u],cx:t,cy:n,radius:r,startAngle:a,endAngle:l}}var yT,bT,wT,NT,ST,jT,_T;function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(null,arguments)}function Rl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var SX=(e,t)=>{var n=Tn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Tp=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:f}=e,p=u*(c?1:-1)+r,m=Math.asin(u/p)/Tm,g=f?a:a+l*m,v=gn(t,n,p,g),N=gn(t,n,r,g),j=f?a-l*m:a,_=gn(t,n,p*Math.cos(m*Tm),j);return{center:v,circleTangency:N,lineTangency:_,theta:m}},bO=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:c}=e,u=SX(l,c),f=l+u,p=gn(t,n,a,l),m=gn(t,n,a,f),g=Qt(yT||(yT=Rl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),p.x,p.y,a,a,+(Math.abs(u)>180),+(l>f),m.x,m.y);if(r>0){var v=gn(t,n,r,l),N=gn(t,n,r,f);g+=Qt(bT||(bT=Rl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),N.x,N.y,r,r,+(Math.abs(u)>180),+(l<=f),v.x,v.y)}else g+=Qt(wT||(wT=Rl(["L ",","," Z"])),t,n);return g},jX=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}=e,m=Tn(p-f),{circleTangency:g,lineTangency:v,theta:N}=Tp({cx:t,cy:n,radius:a,angle:f,sign:m,cornerRadius:l,cornerIsExternal:u}),{circleTangency:j,lineTangency:_,theta:E}=Tp({cx:t,cy:n,radius:a,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:u}),C=u?Math.abs(f-p):Math.abs(f-p)-N-E;if(C<0)return c?Qt(NT||(NT=Rl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),v.x,v.y,l,l,l*2,l,l,-l*2):bO({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:f,endAngle:p});var A=Qt(ST||(ST=Rl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),v.x,v.y,l,l,+(m<0),g.x,g.y,a,a,+(C>180),+(m<0),j.x,j.y,l,l,+(m<0),_.x,_.y);if(r>0){var{circleTangency:R,lineTangency:M,theta:I}=Tp({cx:t,cy:n,radius:r,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:P,lineTangency:k,theta:L}=Tp({cx:t,cy:n,radius:r,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),z=u?Math.abs(f-p):Math.abs(f-p)-I-L;if(z<0&&l===0)return"".concat(A,"L").concat(t,",").concat(n,"Z");A+=Qt(jT||(jT=Rl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),k.x,k.y,l,l,+(m<0),P.x,P.y,r,r,+(z>180),+(m>0),R.x,R.y,l,l,+(m<0),M.x,M.y)}else A+=Qt(_T||(_T=Rl(["L",",","Z"])),t,n);return A},_X={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wO=e=>{var t=nn(e,_X),{cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:m,className:g}=t;if(l<a||p===m)return null;var v=ct("recharts-sector",g),N=l-a,j=Qn(c,N,0,!0),_;return j>0&&Math.abs(p-m)<360?_=jX({cx:n,cy:r,innerRadius:a,outerRadius:l,cornerRadius:Math.min(j,N/2),forceCornerRadius:u,cornerIsExternal:f,startAngle:p,endAngle:m}):_=bO({cx:n,cy:r,innerRadius:a,outerRadius:l,startAngle:p,endAngle:m}),b.createElement("path",sb({},er(t),{className:v,d:_}))};function EX(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(eI(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:l,outerRadius:c,angle:u}=t,f=gn(r,a,l,u),p=gn(r,a,c,u);return[{x:f.x,y:f.y},{x:p.x,y:p.y}]}return yO(t)}}var Rv={},Pv={},Iv={},ET;function CX(){return ET||(ET=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dI();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(Iv)),Iv}var CT;function AX(){return CT||(CT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CX();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(Pv)),Pv}var AT;function TX(){return AT||(AT=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fI(),n=AX();function r(a,l,c){c&&typeof c!="number"&&t.isIterateeCall(a,l,c)&&(l=c=void 0),a=n.toFinite(a),l===void 0?(l=a,a=0):l=n.toFinite(l),c=c===void 0?a<l?1:-1:n.toFinite(c);const u=Math.max(Math.ceil((l-a)/(c||1)),0),f=new Array(u);for(let p=0;p<u;p++)f[p]=a,a+=c;return f}e.range=r})(Rv)),Rv}var Ov,TT;function kX(){return TT||(TT=1,Ov=TX().range),Ov}var MX=kX();const NO=ei(MX);function Vs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RX(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pw(e){let t,n,r;e.length!==2?(t=Vs,n=(u,f)=>Vs(e(u),f),r=(u,f)=>e(u)-f):(t=e===Vs||e===RX?e:PX,n=e,r=e);function a(u,f,p=0,m=u.length){if(p<m){if(t(f,f)!==0)return m;do{const g=p+m>>>1;n(u[g],f)<0?p=g+1:m=g}while(p<m)}return p}function l(u,f,p=0,m=u.length){if(p<m){if(t(f,f)!==0)return m;do{const g=p+m>>>1;n(u[g],f)<=0?p=g+1:m=g}while(p<m)}return p}function c(u,f,p=0,m=u.length){const g=a(u,f,p,m-1);return g>p&&r(u[g-1],f)>-r(u[g],f)?g-1:g}return{left:a,center:c,right:l}}function PX(){return 0}function SO(e){return e===null?NaN:+e}function*IX(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const OX=Pw(Vs),Ud=OX.right;Pw(SO).center;class kT extends Map{constructor(t,n=zX){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(MT(this,t))}has(t){return super.has(MT(this,t))}set(t,n){return super.set(DX(this,t),n)}delete(t){return super.delete(LX(this,t))}}function MT({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function DX({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function LX({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zX(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UX(e=Vs){if(e===Vs)return jO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function jO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $X=Math.sqrt(50),GX=Math.sqrt(10),BX=Math.sqrt(2);function km(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),l=r/Math.pow(10,a),c=l>=$X?10:l>=GX?5:l>=BX?2:1;let u,f,p;return a<0?(p=Math.pow(10,-a)/c,u=Math.round(e*p),f=Math.round(t*p),u/p<e&&++u,f/p>t&&--f,p=-p):(p=Math.pow(10,a)*c,u=Math.round(e/p),f=Math.round(t/p),u*p<e&&++u,f*p>t&&--f),f<u&&.5<=n&&n<2?km(e,t,n*2):[u,f,p]}function lb(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,l,c]=r?km(t,e,n):km(e,t,n);if(!(l>=a))return[];const u=l-a+1,f=new Array(u);if(r)if(c<0)for(let p=0;p<u;++p)f[p]=(l-p)/-c;else for(let p=0;p<u;++p)f[p]=(l-p)*c;else if(c<0)for(let p=0;p<u;++p)f[p]=(a+p)/-c;else for(let p=0;p<u;++p)f[p]=(a+p)*c;return f}function ob(e,t,n){return t=+t,e=+e,n=+n,km(e,t,n)[2]}function cb(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?ob(t,e,n):ob(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function RT(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function PT(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function _O(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?jO:UX(a);r>n;){if(r-n>600){const f=r-n+1,p=t-n+1,m=Math.log(f),g=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*g*(f-g)/f)*(p-f/2<0?-1:1),N=Math.max(n,Math.floor(t-p*g/f+v)),j=Math.min(r,Math.floor(t+(f-p)*g/f+v));_O(e,t,N,j,a)}const l=e[t];let c=n,u=r;for(zu(e,n,t),a(e[r],l)>0&&zu(e,n,r);c<u;){for(zu(e,c,u),++c,--u;a(e[c],l)<0;)++c;for(;a(e[u],l)>0;)--u}a(e[n],l)===0?zu(e,n,u):(++u,zu(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function zu(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function FX(e,t,n){if(e=Float64Array.from(IX(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return PT(e);if(t>=1)return RT(e);var r,a=(r-1)*t,l=Math.floor(a),c=RT(_O(e,l).subarray(0,l+1)),u=PT(e.subarray(l+1));return c+(u-c)*(a-l)}}function qX(e,t,n=SO){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,l=Math.floor(a),c=+n(e[l],l,e),u=+n(e[l+1],l+1,e);return c+(u-c)*(a-l)}}function HX(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(a);++r<a;)l[r]=e+r*n;return l}function fa(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function rs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ub=Symbol("implicit");function Iw(){var e=new kT,t=[],n=[],r=ub;function a(l){let c=e.get(l);if(c===void 0){if(r!==ub)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return a.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new kT;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return a},a.range=function(l){return arguments.length?(n=Array.from(l),a):n.slice()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return Iw(t,n).unknown(r)},fa.apply(a,arguments),a}function Ow(){var e=Iw().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,l,c,u=!1,f=0,p=0,m=.5;delete e.unknown;function g(){var v=t().length,N=a<r,j=N?a:r,_=N?r:a;l=(_-j)/Math.max(1,v-f+p*2),u&&(l=Math.floor(l)),j+=(_-j-l*(v-f))*m,c=l*(1-f),u&&(j=Math.round(j),c=Math.round(c));var E=HX(v).map(function(C){return j+l*C});return n(N?E.reverse():E)}return e.domain=function(v){return arguments.length?(t(v),g()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,g()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(u=!!v,g()):u},e.padding=function(v){return arguments.length?(f=Math.min(1,p=+v),g()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),g()):f},e.paddingOuter=function(v){return arguments.length?(p=+v,g()):p},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),g()):m},e.copy=function(){return Ow(t(),[r,a]).round(u).paddingInner(f).paddingOuter(p).align(m)},fa.apply(g(),arguments)}function EO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EO(t())},e}function VX(){return EO(Ow.apply(null,arguments).paddingInner(1))}function Dw(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function CO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $d(){}var vd=.7,Mm=1/vd,dc="\\s*([+-]?\\d+)\\s*",yd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ka="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KX=/^#([0-9a-f]{3,8})$/,YX=new RegExp(`^rgb\\(${dc},${dc},${dc}\\)$`),JX=new RegExp(`^rgb\\(${Ka},${Ka},${Ka}\\)$`),WX=new RegExp(`^rgba\\(${dc},${dc},${dc},${yd}\\)$`),XX=new RegExp(`^rgba\\(${Ka},${Ka},${Ka},${yd}\\)$`),ZX=new RegExp(`^hsl\\(${yd},${Ka},${Ka}\\)$`),QX=new RegExp(`^hsla\\(${yd},${Ka},${Ka},${yd}\\)$`),IT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dw($d,bd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:OT,formatHex:OT,formatHex8:eZ,formatHsl:tZ,formatRgb:DT,toString:DT});function OT(){return this.rgb().formatHex()}function eZ(){return this.rgb().formatHex8()}function tZ(){return AO(this).formatHsl()}function DT(){return this.rgb().formatRgb()}function bd(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=KX.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?LT(t):n===3?new Sr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YX.exec(e))?new Sr(t[1],t[2],t[3],1):(t=JX.exec(e))?new Sr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=WX.exec(e))?kp(t[1],t[2],t[3],t[4]):(t=XX.exec(e))?kp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZX.exec(e))?$T(t[1],t[2]/100,t[3]/100,1):(t=QX.exec(e))?$T(t[1],t[2]/100,t[3]/100,t[4]):IT.hasOwnProperty(e)?LT(IT[e]):e==="transparent"?new Sr(NaN,NaN,NaN,0):null}function LT(e){return new Sr(e>>16&255,e>>8&255,e&255,1)}function kp(e,t,n,r){return r<=0&&(e=t=n=NaN),new Sr(e,t,n,r)}function nZ(e){return e instanceof $d||(e=bd(e)),e?(e=e.rgb(),new Sr(e.r,e.g,e.b,e.opacity)):new Sr}function db(e,t,n,r){return arguments.length===1?nZ(e):new Sr(e,t,n,r??1)}function Sr(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Dw(Sr,db,CO($d,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new Sr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Sr(Ll(this.r),Ll(this.g),Ll(this.b),Rm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zT,formatHex:zT,formatHex8:rZ,formatRgb:UT,toString:UT}));function zT(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}`}function rZ(){return`#${Pl(this.r)}${Pl(this.g)}${Pl(this.b)}${Pl((isNaN(this.opacity)?1:this.opacity)*255)}`}function UT(){const e=Rm(this.opacity);return`${e===1?"rgb(":"rgba("}${Ll(this.r)}, ${Ll(this.g)}, ${Ll(this.b)}${e===1?")":`, ${e})`}`}function Rm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ll(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Pl(e){return e=Ll(e),(e<16?"0":"")+e.toString(16)}function $T(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ba(e,t,n,r)}function AO(e){if(e instanceof ba)return new ba(e.h,e.s,e.l,e.opacity);if(e instanceof $d||(e=bd(e)),!e)return new ba;if(e instanceof ba)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,u=l-a,f=(l+a)/2;return u?(t===l?c=(n-r)/u+(n<r)*6:n===l?c=(r-t)/u+2:c=(t-n)/u+4,u/=f<.5?l+a:2-l-a,c*=60):u=f>0&&f<1?0:c,new ba(c,u,f,e.opacity)}function aZ(e,t,n,r){return arguments.length===1?AO(e):new ba(e,t,n,r??1)}function ba(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Dw(ba,aZ,CO($d,{brighter(e){return e=e==null?Mm:Math.pow(Mm,e),new ba(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vd:Math.pow(vd,e),new ba(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new Sr(Dv(e>=240?e-240:e+120,a,r),Dv(e,a,r),Dv(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new ba(GT(this.h),Mp(this.s),Mp(this.l),Rm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Rm(this.opacity);return`${e===1?"hsl(":"hsla("}${GT(this.h)}, ${Mp(this.s)*100}%, ${Mp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function GT(e){return e=(e||0)%360,e<0?e+360:e}function Mp(e){return Math.max(0,Math.min(1,e||0))}function Dv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Lw=e=>()=>e;function iZ(e,t){return function(n){return e+n*t}}function sZ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function lZ(e){return(e=+e)==1?TO:function(t,n){return n-t?sZ(t,n,e):Lw(isNaN(t)?n:t)}}function TO(e,t){var n=t-e;return n?iZ(e,n):Lw(isNaN(e)?t:e)}const BT=(function e(t){var n=lZ(t);function r(a,l){var c=n((a=db(a)).r,(l=db(l)).r),u=n(a.g,l.g),f=n(a.b,l.b),p=TO(a.opacity,l.opacity);return function(m){return a.r=c(m),a.g=u(m),a.b=f(m),a.opacity=p(m),a+""}}return r.gamma=e,r})(1);function oZ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(l){for(a=0;a<n;++a)r[a]=e[a]*(1-l)+t[a]*l;return r}}function cZ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uZ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)a[c]=Ac(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(u){for(c=0;c<r;++c)l[c]=a[c](u);return l}}function dZ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Pm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function fZ(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=Ac(e[a],t[a]):r[a]=t[a];return function(l){for(a in n)r[a]=n[a](l);return r}}var fb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lv=new RegExp(fb.source,"g");function pZ(e){return function(){return e}}function mZ(e){return function(t){return e(t)+""}}function hZ(e,t){var n=fb.lastIndex=Lv.lastIndex=0,r,a,l,c=-1,u=[],f=[];for(e=e+"",t=t+"";(r=fb.exec(e))&&(a=Lv.exec(t));)(l=a.index)>n&&(l=t.slice(n,l),u[c]?u[c]+=l:u[++c]=l),(r=r[0])===(a=a[0])?u[c]?u[c]+=a:u[++c]=a:(u[++c]=null,f.push({i:c,x:Pm(r,a)})),n=Lv.lastIndex;return n<t.length&&(l=t.slice(n),u[c]?u[c]+=l:u[++c]=l),u.length<2?f[0]?mZ(f[0].x):pZ(t):(t=f.length,function(p){for(var m=0,g;m<t;++m)u[(g=f[m]).i]=g.x(p);return u.join("")})}function Ac(e,t){var n=typeof t,r;return t==null||n==="boolean"?Lw(t):(n==="number"?Pm:n==="string"?(r=bd(t))?(t=r,BT):hZ:t instanceof bd?BT:t instanceof Date?dZ:cZ(t)?oZ:Array.isArray(t)?uZ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fZ:Pm)(e,t)}function zw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function gZ(e,t){t===void 0&&(t=e,e=Ac);for(var n=0,r=t.length-1,a=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(a,a=t[++n]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[u](c-u)}}function xZ(e){return function(){return e}}function Im(e){return+e}var FT=[0,1];function or(e){return e}function pb(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:xZ(isNaN(t)?NaN:.5)}function vZ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function yZ(e,t,n){var r=e[0],a=e[1],l=t[0],c=t[1];return a<r?(r=pb(a,r),l=n(c,l)):(r=pb(r,a),l=n(l,c)),function(u){return l(r(u))}}function bZ(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)a[c]=pb(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(u){var f=Ud(e,u,1,r)-1;return l[f](a[f](u))}}function Gd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rh(){var e=FT,t=FT,n=Ac,r,a,l,c=or,u,f,p;function m(){var v=Math.min(e.length,t.length);return c!==or&&(c=vZ(e[0],e[v-1])),u=v>2?bZ:yZ,f=p=null,g}function g(v){return v==null||isNaN(v=+v)?l:(f||(f=u(e.map(r),t,n)))(r(c(v)))}return g.invert=function(v){return c(a((p||(p=u(t,e.map(r),Pm)))(v)))},g.domain=function(v){return arguments.length?(e=Array.from(v,Im),m()):e.slice()},g.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},g.rangeRound=function(v){return t=Array.from(v),n=zw,m()},g.clamp=function(v){return arguments.length?(c=v?!0:or,m()):c!==or},g.interpolate=function(v){return arguments.length?(n=v,m()):n},g.unknown=function(v){return arguments.length?(l=v,g):l},function(v,N){return r=v,a=N,m()}}function Uw(){return Rh()(or,or)}function wZ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Om(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function xc(e){return e=Om(Math.abs(e)),e?e[1]:NaN}function NZ(e,t){return function(n,r){for(var a=n.length,l=[],c=0,u=e[0],f=0;a>0&&u>0&&(f+u+1>r&&(u=Math.max(1,r-f)),l.push(n.substring(a-=u,a+u)),!((f+=u+1)>r));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function SZ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var jZ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wd(e){if(!(t=jZ.exec(e)))throw new Error("invalid format: "+e);var t;return new $w({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wd.prototype=$w.prototype;function $w(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _Z(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Dm;function EZ(e,t){var n=Om(e,t);if(!n)return Dm=void 0,e.toPrecision(t);var r=n[0],a=n[1],l=a-(Dm=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Om(e,Math.max(0,t+l-1))[0]}function qT(e,t){var n=Om(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const HT={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wZ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>qT(e*100,t),r:qT,s:EZ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VT(e){return e}var KT=Array.prototype.map,YT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CZ(e){var t=e.grouping===void 0||e.thousands===void 0?VT:NZ(KT.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?VT:SZ(KT.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function p(g,v){g=wd(g);var N=g.fill,j=g.align,_=g.sign,E=g.symbol,C=g.zero,A=g.width,R=g.comma,M=g.precision,I=g.trim,P=g.type;P==="n"?(R=!0,P="g"):HT[P]||(M===void 0&&(M=12),I=!0,P="g"),(C||N==="0"&&j==="=")&&(C=!0,N="0",j="=");var k=(v&&v.prefix!==void 0?v.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),L=(E==="$"?r:/[%p]/.test(P)?c:"")+(v&&v.suffix!==void 0?v.suffix:""),z=HT[P],q=/[defgprs%]/.test(P);M=M===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function J(U){var Y=k,te=L,he,F,G;if(P==="c")te=z(U)+te,U="";else{U=+U;var X=U<0||1/U<0;if(U=isNaN(U)?f:z(Math.abs(U),M),I&&(U=_Z(U)),X&&+U==0&&_!=="+"&&(X=!1),Y=(X?_==="("?_:u:_==="-"||_==="("?"":_)+Y,te=(P==="s"&&!isNaN(U)&&Dm!==void 0?YT[8+Dm/3]:"")+te+(X&&_==="("?")":""),q){for(he=-1,F=U.length;++he<F;)if(G=U.charCodeAt(he),48>G||G>57){te=(G===46?a+U.slice(he+1):U.slice(he))+te,U=U.slice(0,he);break}}}R&&!C&&(U=t(U,1/0));var oe=Y.length+U.length+te.length,ve=oe<A?new Array(A-oe+1).join(N):"";switch(R&&C&&(U=t(ve+U,ve.length?A-te.length:1/0),ve=""),j){case"<":U=Y+U+te+ve;break;case"=":U=Y+ve+U+te;break;case"^":U=ve.slice(0,oe=ve.length>>1)+Y+U+te+ve.slice(oe);break;default:U=ve+Y+U+te;break}return l(U)}return J.toString=function(){return g+""},J}function m(g,v){var N=Math.max(-8,Math.min(8,Math.floor(xc(v)/3)))*3,j=Math.pow(10,-N),_=p((g=wd(g),g.type="f",g),{suffix:YT[8+N/3]});return function(E){return _(j*E)}}return{format:p,formatPrefix:m}}var Rp,Gw,kO;AZ({thousands:",",grouping:[3],currency:["$",""]});function AZ(e){return Rp=CZ(e),Gw=Rp.format,kO=Rp.formatPrefix,Rp}function TZ(e){return Math.max(0,-xc(Math.abs(e)))}function kZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xc(t)/3)))*3-xc(Math.abs(e)))}function MZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xc(t)-xc(e))+1}function MO(e,t,n,r){var a=cb(e,t,n),l;switch(r=wd(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=kZ(a,c))&&(r.precision=l),kO(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=MZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=TZ(a))&&(r.precision=l-(r.type==="%")*2);break}}return Gw(r)}function rl(e){var t=e.domain;return e.ticks=function(n){var r=t();return lb(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return MO(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,l=r.length-1,c=r[a],u=r[l],f,p,m=10;for(u<c&&(p=c,c=u,u=p,p=a,a=l,l=p);m-- >0;){if(p=ob(c,u,n),p===f)return r[a]=c,r[l]=u,t(r);if(p>0)c=Math.floor(c/p)*p,u=Math.ceil(u/p)*p;else if(p<0)c=Math.ceil(c*p)/p,u=Math.floor(u*p)/p;else break;f=p}return e},e}function RO(){var e=Uw();return e.copy=function(){return Gd(e,RO())},fa.apply(e,arguments),rl(e)}function PO(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Im),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return PO(e).unknown(t)},e=arguments.length?Array.from(e,Im):[0,1],rl(n)}function IO(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],l=e[r],c;return l<a&&(c=n,n=r,r=c,c=a,a=l,l=c),e[n]=t.floor(a),e[r]=t.ceil(l),e}function JT(e){return Math.log(e)}function WT(e){return Math.exp(e)}function RZ(e){return-Math.log(-e)}function PZ(e){return-Math.exp(-e)}function IZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function OZ(e){return e===10?IZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function DZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XT(e){return(t,n)=>-e(-t,n)}function Bw(e){const t=e(JT,WT),n=t.domain;let r=10,a,l;function c(){return a=DZ(r),l=OZ(r),n()[0]<0?(a=XT(a),l=XT(l),e(RZ,PZ)):e(JT,WT),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(n(u),c()):n()},t.ticks=u=>{const f=n();let p=f[0],m=f[f.length-1];const g=m<p;g&&([p,m]=[m,p]);let v=a(p),N=a(m),j,_;const E=u==null?10:+u;let C=[];if(!(r%1)&&N-v<E){if(v=Math.floor(v),N=Math.ceil(N),p>0){for(;v<=N;++v)for(j=1;j<r;++j)if(_=v<0?j/l(-v):j*l(v),!(_<p)){if(_>m)break;C.push(_)}}else for(;v<=N;++v)for(j=r-1;j>=1;--j)if(_=v>0?j/l(-v):j*l(v),!(_<p)){if(_>m)break;C.push(_)}C.length*2<E&&(C=lb(p,m,E))}else C=lb(v,N,Math.min(N-v,E)).map(l);return g?C.reverse():C},t.tickFormat=(u,f)=>{if(u==null&&(u=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=wd(f)).precision==null&&(f.trim=!0),f=Gw(f)),u===1/0)return f;const p=Math.max(1,r*u/t.ticks().length);return m=>{let g=m/l(Math.round(a(m)));return g*r<r-.5&&(g*=r),g<=p?f(m):""}},t.nice=()=>n(IO(n(),{floor:u=>l(Math.floor(a(u))),ceil:u=>l(Math.ceil(a(u)))})),t}function OO(){const e=Bw(Rh()).domain([1,10]);return e.copy=()=>Gd(e,OO()).base(e.base()),fa.apply(e,arguments),e}function ZT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Fw(e){var t=1,n=e(ZT(t),QT(t));return n.constant=function(r){return arguments.length?e(ZT(t=+r),QT(t)):t},rl(n)}function DO(){var e=Fw(Rh());return e.copy=function(){return Gd(e,DO()).constant(e.constant())},fa.apply(e,arguments)}function ek(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zZ(e){return e<0?-e*e:e*e}function qw(e){var t=e(or,or),n=1;function r(){return n===1?e(or,or):n===.5?e(LZ,zZ):e(ek(n),ek(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},rl(t)}function Hw(){var e=qw(Rh());return e.copy=function(){return Gd(e,Hw()).exponent(e.exponent())},fa.apply(e,arguments),e}function UZ(){return Hw.apply(null,arguments).exponent(.5)}function tk(e){return Math.sign(e)*e*e}function $Z(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function LO(){var e=Uw(),t=[0,1],n=!1,r;function a(l){var c=$Z(e(l));return isNaN(c)?r:n?Math.round(c):c}return a.invert=function(l){return e.invert(tk(l))},a.domain=function(l){return arguments.length?(e.domain(l),a):e.domain()},a.range=function(l){return arguments.length?(e.range((t=Array.from(l,Im)).map(tk)),a):t.slice()},a.rangeRound=function(l){return a.range(l).round(!0)},a.round=function(l){return arguments.length?(n=!!l,a):n},a.clamp=function(l){return arguments.length?(e.clamp(l),a):e.clamp()},a.unknown=function(l){return arguments.length?(r=l,a):r},a.copy=function(){return LO(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},fa.apply(a,arguments),rl(a)}function zO(){var e=[],t=[],n=[],r;function a(){var c=0,u=Math.max(1,t.length);for(n=new Array(u-1);++c<u;)n[c-1]=qX(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Ud(n,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Vs),a()},l.range=function(c){return arguments.length?(t=Array.from(c),a()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return zO().domain(e).range(t).unknown(r)},fa.apply(l,arguments)}function UO(){var e=0,t=1,n=1,r=[.5],a=[0,1],l;function c(f){return f!=null&&f<=f?a[Ud(r,f,0,n)]:l}function u(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,u()):[e,t]},c.range=function(f){return arguments.length?(n=(a=Array.from(f)).length-1,u()):a.slice()},c.invertExtent=function(f){var p=a.indexOf(f);return p<0?[NaN,NaN]:p<1?[e,r[0]]:p>=n?[r[n-1],t]:[r[p-1],r[p]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return UO().domain([e,t]).range(a).unknown(l)},fa.apply(rl(c),arguments)}function $O(){var e=[.5],t=[0,1],n,r=1;function a(l){return l!=null&&l<=l?t[Ud(e,l,0,r)]:n}return a.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},a.unknown=function(l){return arguments.length?(n=l,a):n},a.copy=function(){return $O().domain(e).range(t).unknown(n)},fa.apply(a,arguments)}const zv=new Date,Uv=new Date;function wn(e,t,n,r){function a(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return a.floor=l=>(e(l=new Date(+l)),l),a.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),a.round=l=>{const c=a(l),u=a.ceil(l);return l-c<u-l?c:u},a.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),a.range=(l,c,u)=>{const f=[];if(l=a.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return f;let p;do f.push(p=new Date(+l)),t(l,u),e(l);while(p<l&&l<c);return f},a.filter=l=>wn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),n&&(a.count=(l,c)=>(zv.setTime(+l),Uv.setTime(+c),e(zv),e(Uv),Math.floor(n(zv,Uv))),a.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?a.filter(r?c=>r(c)%l===0:c=>a.count(0,c)%l===0):a)),a}const Lm=wn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?wn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Lm);Lm.range;const Di=1e3,ia=Di*60,Li=ia*60,Ki=Li*24,Vw=Ki*7,nk=Ki*30,$v=Ki*365,Il=wn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Di)},(e,t)=>(t-e)/Di,e=>e.getUTCSeconds());Il.range;const Kw=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getMinutes());Kw.range;const Yw=wn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ia)},(e,t)=>(t-e)/ia,e=>e.getUTCMinutes());Yw.range;const Jw=wn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Di-e.getMinutes()*ia)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getHours());Jw.range;const Ww=wn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Li)},(e,t)=>(t-e)/Li,e=>e.getUTCHours());Ww.range;const Bd=wn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ia)/Ki,e=>e.getDate()-1);Bd.range;const Ph=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);Ph.range;const GO=wn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));GO.range;function to(e){return wn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ia)/Vw)}const Ih=to(0),zm=to(1),GZ=to(2),BZ=to(3),vc=to(4),FZ=to(5),qZ=to(6);Ih.range;zm.range;GZ.range;BZ.range;vc.range;FZ.range;qZ.range;function no(e){return wn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Vw)}const Oh=no(0),Um=no(1),HZ=no(2),VZ=no(3),yc=no(4),KZ=no(5),YZ=no(6);Oh.range;Um.range;HZ.range;VZ.range;yc.range;KZ.range;YZ.range;const Xw=wn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xw.range;const Zw=wn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zw.range;const Yi=wn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Yi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Yi.range;const Ji=wn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ji.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:wn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ji.range;function BO(e,t,n,r,a,l){const c=[[Il,1,Di],[Il,5,5*Di],[Il,15,15*Di],[Il,30,30*Di],[l,1,ia],[l,5,5*ia],[l,15,15*ia],[l,30,30*ia],[a,1,Li],[a,3,3*Li],[a,6,6*Li],[a,12,12*Li],[r,1,Ki],[r,2,2*Ki],[n,1,Vw],[t,1,nk],[t,3,3*nk],[e,1,$v]];function u(p,m,g){const v=m<p;v&&([p,m]=[m,p]);const N=g&&typeof g.range=="function"?g:f(p,m,g),j=N?N.range(p,+m+1):[];return v?j.reverse():j}function f(p,m,g){const v=Math.abs(m-p)/g,N=Pw(([,,E])=>E).right(c,v);if(N===c.length)return e.every(cb(p/$v,m/$v,g));if(N===0)return Lm.every(Math.max(cb(p,m,g),1));const[j,_]=c[v/c[N-1][2]<c[N][2]/v?N-1:N];return j.every(_)}return[u,f]}const[JZ,WZ]=BO(Ji,Zw,Oh,GO,Ww,Yw),[XZ,ZZ]=BO(Yi,Xw,Ih,Bd,Jw,Kw);function Gv(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Bv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uu(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function QZ(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,l=e.days,c=e.shortDays,u=e.months,f=e.shortMonths,p=$u(a),m=Gu(a),g=$u(l),v=Gu(l),N=$u(c),j=Gu(c),_=$u(u),E=Gu(u),C=$u(f),A=Gu(f),R={a:G,A:X,b:oe,B:ve,c:null,d:ok,e:ok,f:NQ,g:RQ,G:IQ,H:yQ,I:bQ,j:wQ,L:FO,m:SQ,M:jQ,p:O,q:K,Q:dk,s:fk,S:_Q,u:EQ,U:CQ,V:AQ,w:TQ,W:kQ,x:null,X:null,y:MQ,Y:PQ,Z:OQ,"%":uk},M={a:ce,A:xe,b:Z,B:ue,c:null,d:ck,e:ck,f:UQ,g:JQ,G:XQ,H:DQ,I:LQ,j:zQ,L:HO,m:$Q,M:GQ,p:ye,q:Ne,Q:dk,s:fk,S:BQ,u:FQ,U:qQ,V:HQ,w:VQ,W:KQ,x:null,X:null,y:YQ,Y:WQ,Z:ZQ,"%":uk},I={a:q,A:J,b:U,B:Y,c:te,d:sk,e:sk,f:hQ,g:ik,G:ak,H:lk,I:lk,j:dQ,L:mQ,m:uQ,M:fQ,p:z,q:cQ,Q:xQ,s:vQ,S:pQ,u:aQ,U:iQ,V:sQ,w:rQ,W:lQ,x:he,X:F,y:ik,Y:ak,Z:oQ,"%":gQ};R.x=P(n,R),R.X=P(r,R),R.c=P(t,R),M.x=P(n,M),M.X=P(r,M),M.c=P(t,M);function P(ne,je){return function(Oe){var ge=[],st=-1,Fe=0,vt=ne.length,yt,St,In;for(Oe instanceof Date||(Oe=new Date(+Oe));++st<vt;)ne.charCodeAt(st)===37&&(ge.push(ne.slice(Fe,st)),(St=rk[yt=ne.charAt(++st)])!=null?yt=ne.charAt(++st):St=yt==="e"?" ":"0",(In=je[yt])&&(yt=In(Oe,St)),ge.push(yt),Fe=st+1);return ge.push(ne.slice(Fe,st)),ge.join("")}}function k(ne,je){return function(Oe){var ge=Uu(1900,void 0,1),st=L(ge,ne,Oe+="",0),Fe,vt;if(st!=Oe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(je&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Fe=Bv(Uu(ge.y,0,1)),vt=Fe.getUTCDay(),Fe=vt>4||vt===0?Um.ceil(Fe):Um(Fe),Fe=Ph.offset(Fe,(ge.V-1)*7),ge.y=Fe.getUTCFullYear(),ge.m=Fe.getUTCMonth(),ge.d=Fe.getUTCDate()+(ge.w+6)%7):(Fe=Gv(Uu(ge.y,0,1)),vt=Fe.getDay(),Fe=vt>4||vt===0?zm.ceil(Fe):zm(Fe),Fe=Bd.offset(Fe,(ge.V-1)*7),ge.y=Fe.getFullYear(),ge.m=Fe.getMonth(),ge.d=Fe.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),vt="Z"in ge?Bv(Uu(ge.y,0,1)).getUTCDay():Gv(Uu(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(vt+5)%7:ge.w+ge.U*7-(vt+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,Bv(ge)):Gv(ge)}}function L(ne,je,Oe,ge){for(var st=0,Fe=je.length,vt=Oe.length,yt,St;st<Fe;){if(ge>=vt)return-1;if(yt=je.charCodeAt(st++),yt===37){if(yt=je.charAt(st++),St=I[yt in rk?je.charAt(st++):yt],!St||(ge=St(ne,Oe,ge))<0)return-1}else if(yt!=Oe.charCodeAt(ge++))return-1}return ge}function z(ne,je,Oe){var ge=p.exec(je.slice(Oe));return ge?(ne.p=m.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function q(ne,je,Oe){var ge=N.exec(je.slice(Oe));return ge?(ne.w=j.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function J(ne,je,Oe){var ge=g.exec(je.slice(Oe));return ge?(ne.w=v.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function U(ne,je,Oe){var ge=C.exec(je.slice(Oe));return ge?(ne.m=A.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function Y(ne,je,Oe){var ge=_.exec(je.slice(Oe));return ge?(ne.m=E.get(ge[0].toLowerCase()),Oe+ge[0].length):-1}function te(ne,je,Oe){return L(ne,t,je,Oe)}function he(ne,je,Oe){return L(ne,n,je,Oe)}function F(ne,je,Oe){return L(ne,r,je,Oe)}function G(ne){return c[ne.getDay()]}function X(ne){return l[ne.getDay()]}function oe(ne){return f[ne.getMonth()]}function ve(ne){return u[ne.getMonth()]}function O(ne){return a[+(ne.getHours()>=12)]}function K(ne){return 1+~~(ne.getMonth()/3)}function ce(ne){return c[ne.getUTCDay()]}function xe(ne){return l[ne.getUTCDay()]}function Z(ne){return f[ne.getUTCMonth()]}function ue(ne){return u[ne.getUTCMonth()]}function ye(ne){return a[+(ne.getUTCHours()>=12)]}function Ne(ne){return 1+~~(ne.getUTCMonth()/3)}return{format:function(ne){var je=P(ne+="",R);return je.toString=function(){return ne},je},parse:function(ne){var je=k(ne+="",!1);return je.toString=function(){return ne},je},utcFormat:function(ne){var je=P(ne+="",M);return je.toString=function(){return ne},je},utcParse:function(ne){var je=k(ne+="",!0);return je.toString=function(){return ne},je}}}var rk={"-":"",_:" ",0:"0"},Rn=/^\s*\d+/,eQ=/^%/,tQ=/[\\^$*+?|[\]().{}]/g;function ht(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",l=a.length;return r+(l<n?new Array(n-l+1).join(t)+a:a)}function nQ(e){return e.replace(tQ,"\\$&")}function $u(e){return new RegExp("^(?:"+e.map(nQ).join("|")+")","i")}function Gu(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function rQ(e,t,n){var r=Rn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function aQ(e,t,n){var r=Rn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function sQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function lQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ak(e,t,n){var r=Rn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ik(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function oQ(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cQ(e,t,n){var r=Rn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function uQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function sk(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dQ(e,t,n){var r=Rn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function lk(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function fQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function pQ(e,t,n){var r=Rn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function mQ(e,t,n){var r=Rn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function hQ(e,t,n){var r=Rn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function gQ(e,t,n){var r=eQ.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xQ(e,t,n){var r=Rn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function vQ(e,t,n){var r=Rn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ok(e,t){return ht(e.getDate(),t,2)}function yQ(e,t){return ht(e.getHours(),t,2)}function bQ(e,t){return ht(e.getHours()%12||12,t,2)}function wQ(e,t){return ht(1+Bd.count(Yi(e),e),t,3)}function FO(e,t){return ht(e.getMilliseconds(),t,3)}function NQ(e,t){return FO(e,t)+"000"}function SQ(e,t){return ht(e.getMonth()+1,t,2)}function jQ(e,t){return ht(e.getMinutes(),t,2)}function _Q(e,t){return ht(e.getSeconds(),t,2)}function EQ(e){var t=e.getDay();return t===0?7:t}function CQ(e,t){return ht(Ih.count(Yi(e)-1,e),t,2)}function qO(e){var t=e.getDay();return t>=4||t===0?vc(e):vc.ceil(e)}function AQ(e,t){return e=qO(e),ht(vc.count(Yi(e),e)+(Yi(e).getDay()===4),t,2)}function TQ(e){return e.getDay()}function kQ(e,t){return ht(zm.count(Yi(e)-1,e),t,2)}function MQ(e,t){return ht(e.getFullYear()%100,t,2)}function RQ(e,t){return e=qO(e),ht(e.getFullYear()%100,t,2)}function PQ(e,t){return ht(e.getFullYear()%1e4,t,4)}function IQ(e,t){var n=e.getDay();return e=n>=4||n===0?vc(e):vc.ceil(e),ht(e.getFullYear()%1e4,t,4)}function OQ(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ht(t/60|0,"0",2)+ht(t%60,"0",2)}function ck(e,t){return ht(e.getUTCDate(),t,2)}function DQ(e,t){return ht(e.getUTCHours(),t,2)}function LQ(e,t){return ht(e.getUTCHours()%12||12,t,2)}function zQ(e,t){return ht(1+Ph.count(Ji(e),e),t,3)}function HO(e,t){return ht(e.getUTCMilliseconds(),t,3)}function UQ(e,t){return HO(e,t)+"000"}function $Q(e,t){return ht(e.getUTCMonth()+1,t,2)}function GQ(e,t){return ht(e.getUTCMinutes(),t,2)}function BQ(e,t){return ht(e.getUTCSeconds(),t,2)}function FQ(e){var t=e.getUTCDay();return t===0?7:t}function qQ(e,t){return ht(Oh.count(Ji(e)-1,e),t,2)}function VO(e){var t=e.getUTCDay();return t>=4||t===0?yc(e):yc.ceil(e)}function HQ(e,t){return e=VO(e),ht(yc.count(Ji(e),e)+(Ji(e).getUTCDay()===4),t,2)}function VQ(e){return e.getUTCDay()}function KQ(e,t){return ht(Um.count(Ji(e)-1,e),t,2)}function YQ(e,t){return ht(e.getUTCFullYear()%100,t,2)}function JQ(e,t){return e=VO(e),ht(e.getUTCFullYear()%100,t,2)}function WQ(e,t){return ht(e.getUTCFullYear()%1e4,t,4)}function XQ(e,t){var n=e.getUTCDay();return e=n>=4||n===0?yc(e):yc.ceil(e),ht(e.getUTCFullYear()%1e4,t,4)}function ZQ(){return"+0000"}function uk(){return"%"}function dk(e){return+e}function fk(e){return Math.floor(+e/1e3)}var Vo,KO,YO;QQ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QQ(e){return Vo=QZ(e),KO=Vo.format,Vo.parse,YO=Vo.utcFormat,Vo.utcParse,Vo}function eee(e){return new Date(e)}function tee(e){return e instanceof Date?+e:+new Date(+e)}function Qw(e,t,n,r,a,l,c,u,f,p){var m=Uw(),g=m.invert,v=m.domain,N=p(".%L"),j=p(":%S"),_=p("%I:%M"),E=p("%I %p"),C=p("%a %d"),A=p("%b %d"),R=p("%B"),M=p("%Y");function I(P){return(f(P)<P?N:u(P)<P?j:c(P)<P?_:l(P)<P?E:r(P)<P?a(P)<P?C:A:n(P)<P?R:M)(P)}return m.invert=function(P){return new Date(g(P))},m.domain=function(P){return arguments.length?v(Array.from(P,tee)):v().map(eee)},m.ticks=function(P){var k=v();return e(k[0],k[k.length-1],P??10)},m.tickFormat=function(P,k){return k==null?I:p(k)},m.nice=function(P){var k=v();return(!P||typeof P.range!="function")&&(P=t(k[0],k[k.length-1],P??10)),P?v(IO(k,P)):m},m.copy=function(){return Gd(m,Qw(e,t,n,r,a,l,c,u,f,p))},m}function nee(){return fa.apply(Qw(XZ,ZZ,Yi,Xw,Ih,Bd,Jw,Kw,Il,KO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ree(){return fa.apply(Qw(JZ,WZ,Ji,Zw,Oh,Ph,Ww,Yw,Il,YO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dh(){var e=0,t=1,n,r,a,l,c=or,u=!1,f;function p(g){return g==null||isNaN(g=+g)?f:c(a===0?.5:(g=(l(g)-n)*a,u?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t]=g,n=l(e=+e),r=l(t=+t),a=n===r?0:1/(r-n),p):[e,t]},p.clamp=function(g){return arguments.length?(u=!!g,p):u},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var N,j;return arguments.length?([N,j]=v,c=g(N,j),p):[c(0),c(1)]}}return p.range=m(Ac),p.rangeRound=m(zw),p.unknown=function(g){return arguments.length?(f=g,p):f},function(g){return l=g,n=g(e),r=g(t),a=n===r?0:1/(r-n),p}}function al(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function JO(){var e=rl(Dh()(or));return e.copy=function(){return al(e,JO())},rs.apply(e,arguments)}function WO(){var e=Bw(Dh()).domain([1,10]);return e.copy=function(){return al(e,WO()).base(e.base())},rs.apply(e,arguments)}function XO(){var e=Fw(Dh());return e.copy=function(){return al(e,XO()).constant(e.constant())},rs.apply(e,arguments)}function e1(){var e=qw(Dh());return e.copy=function(){return al(e,e1()).exponent(e.exponent())},rs.apply(e,arguments)}function aee(){return e1.apply(null,arguments).exponent(.5)}function ZO(){var e=[],t=or;function n(r){if(r!=null&&!isNaN(r=+r))return t((Ud(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Vs),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,l)=>FX(e,l/r))},n.copy=function(){return ZO(t).domain(e)},rs.apply(n,arguments)}function Lh(){var e=0,t=.5,n=1,r=1,a,l,c,u,f,p=or,m,g=!1,v;function N(_){return isNaN(_=+_)?v:(_=.5+((_=+m(_))-l)*(r*_<r*l?u:f),p(g?Math.max(0,Math.min(1,_)):_))}N.domain=function(_){return arguments.length?([e,t,n]=_,a=m(e=+e),l=m(t=+t),c=m(n=+n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N):[e,t,n]},N.clamp=function(_){return arguments.length?(g=!!_,N):g},N.interpolator=function(_){return arguments.length?(p=_,N):p};function j(_){return function(E){var C,A,R;return arguments.length?([C,A,R]=E,p=gZ(_,[C,A,R]),N):[p(0),p(.5),p(1)]}}return N.range=j(Ac),N.rangeRound=j(zw),N.unknown=function(_){return arguments.length?(v=_,N):v},function(_){return m=_,a=_(e),l=_(t),c=_(n),u=a===l?0:.5/(l-a),f=l===c?0:.5/(c-l),r=l<a?-1:1,N}}function QO(){var e=rl(Lh()(or));return e.copy=function(){return al(e,QO())},rs.apply(e,arguments)}function eD(){var e=Bw(Lh()).domain([.1,1,10]);return e.copy=function(){return al(e,eD()).base(e.base())},rs.apply(e,arguments)}function tD(){var e=Fw(Lh());return e.copy=function(){return al(e,tD()).constant(e.constant())},rs.apply(e,arguments)}function t1(){var e=qw(Lh());return e.copy=function(){return al(e,t1()).exponent(e.exponent())},rs.apply(e,arguments)}function iee(){return t1.apply(null,arguments).exponent(.5)}const Vu=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ow,scaleDiverging:QO,scaleDivergingLog:eD,scaleDivergingPow:t1,scaleDivergingSqrt:iee,scaleDivergingSymlog:tD,scaleIdentity:PO,scaleImplicit:ub,scaleLinear:RO,scaleLog:OO,scaleOrdinal:Iw,scalePoint:VX,scalePow:Hw,scaleQuantile:zO,scaleQuantize:UO,scaleRadial:LO,scaleSequential:JO,scaleSequentialLog:WO,scaleSequentialPow:e1,scaleSequentialQuantile:ZO,scaleSequentialSqrt:aee,scaleSequentialSymlog:XO,scaleSqrt:UZ,scaleSymlog:DO,scaleThreshold:$O,scaleTime:nee,scaleUtc:ree,tickFormat:MO},Symbol.toStringTag,{value:"Module"}));var as=e=>e.chartData,zh=Q([as],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),n1=(e,t,n,r)=>r?zh(e):as(e),nD=(e,t,n)=>n?zh(e):as(e);function Wi(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Qe(t)&&Qe(n))return!0}return!1}function pk(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function rD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,l;if(Qe(n))a=n;else if(typeof n=="function")return;if(Qe(r))l=r;else if(typeof r=="function")return;var c=[a,l];if(Wi(c))return c}}function see(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Wi(r))return pk(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,l]=e,c,u;if(a==="auto")t!=null&&(c=Math.min(...t));else if(Ee(a))c=a;else if(typeof a=="function")try{t!=null&&(c=a(t?.[0]))}catch{}else if(typeof a=="string"&&SA.test(a)){var f=SA.exec(a);if(f==null||f[1]==null||t==null)c=void 0;else{var p=+f[1];c=t[0]-p}}else c=t?.[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Ee(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t?.[1]))}catch{}else if(typeof l=="string"&&jA.test(l)){var m=jA.exec(l);if(m==null||m[1]==null||t==null)u=void 0;else{var g=+m[1];u=t[1]+g}}else u=t?.[1];var v=[c,u];if(Wi(v))return t==null?v:pk(v,t,n)}}}var Tc=1e9,lee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},a1,qt=!0,ca="[DecimalError] ",zl=ca+"Invalid argument: ",r1=ca+"Exponent out of range: ",kc=Math.floor,Ml=Math.pow,oee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir,En=1e7,Ut=7,aD=9007199254740991,$m=kc(aD/Ut),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,n,r,a,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===a?0:r>a^l.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Ut;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(e){return Gi(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,n=t.constructor;return It(Gi(t,new n(e),0,1),n.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return xn(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,n=this,r=n.constructor,a=r.precision,l=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ir))throw Error(ca+"NaN");if(n.s<1)throw Error(ca+(n.s?"NaN":"-Infinity"));return n.eq(Ir)?new r(0):(qt=!1,t=Gi(Nd(n,l),Nd(e,l),l),qt=!0,It(t,a))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lD(t,e):iD(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(ca+"NaN");return n.s?(qt=!1,t=Gi(n,e,0,1).times(e),qt=!0,n.minus(t)):It(new r(n),a)};Ae.naturalExponential=Ae.exp=function(){return sD(this)};Ae.naturalLogarithm=Ae.ln=function(){return Nd(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iD(t,e):lD(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(zl+e);if(t=xn(a)+1,r=a.d.length-1,n=r*Ut+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ae.squareRoot=Ae.sqrt=function(){var e,t,n,r,a,l,c,u=this,f=u.constructor;if(u.s<1){if(!u.s)return new f(0);throw Error(ca+"NaN")}for(e=xn(u),qt=!1,a=Math.sqrt(+u),a==0||a==1/0?(t=Ha(u.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=kc((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(a.toString()),n=f.precision,a=c=n+3;;)if(l=r,r=l.plus(Gi(u,l,c+2)).times(.5),Ha(l.d).slice(0,c)===(t=Ha(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),a==c&&t=="4999"){if(It(l,n+1,0),l.times(l).eq(u)){r=l;break}}else if(t!="9999")break;c+=4}return qt=!0,It(r,n)};Ae.times=Ae.mul=function(e){var t,n,r,a,l,c,u,f,p,m=this,g=m.constructor,v=m.d,N=(e=new g(e)).d;if(!m.s||!e.s)return new g(0);for(e.s*=m.s,n=m.e+e.e,f=v.length,p=N.length,f<p&&(l=v,v=N,N=l,c=f,f=p,p=c),l=[],c=f+p,r=c;r--;)l.push(0);for(r=p;--r>=0;){for(t=0,a=f+r;a>r;)u=l[a]+N[r]*v[a-r-1]+t,l[a--]=u%En|0,t=u/En|0;l[a]=(l[a]+t)%En|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,qt?It(e,g.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Xa(e,0,Tc),t===void 0?t=r.rounding:Xa(t,0,8),It(n,e+xn(n)+1,t))};Ae.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=Xl(r,!0):(Xa(e,0,Tc),t===void 0?t=a.rounding:Xa(t,0,8),r=It(new a(r),e+1,t),n=Xl(r,!0,e+1)),n};Ae.toFixed=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?Xl(a):(Xa(e,0,Tc),t===void 0?t=l.rounding:Xa(t,0,8),r=It(new l(a),e+xn(a)+1,t),n=Xl(r.abs(),!1,e+xn(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return It(new t(e),xn(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,n,r,a,l,c,u=this,f=u.constructor,p=12,m=+(e=new f(e));if(!e.s)return new f(Ir);if(u=new f(u),!u.s){if(e.s<1)throw Error(ca+"Infinity");return u}if(u.eq(Ir))return u;if(r=f.precision,e.eq(Ir))return It(u,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=u.s,c){if((n=m<0?-m:m)<=aD){for(a=new f(Ir),t=Math.ceil(r/Ut+4),qt=!1;n%2&&(a=a.times(u),hk(a.d,t)),n=kc(n/2),n!==0;)u=u.times(u),hk(u.d,t);return qt=!0,e.s<0?new f(Ir).div(a):It(a,r)}}else if(l<0)throw Error(ca+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,qt=!1,a=e.times(Nd(u,r+p)),qt=!0,a=sD(a),a.s=l,a};Ae.toPrecision=function(e,t){var n,r,a=this,l=a.constructor;return e===void 0?(n=xn(a),r=Xl(a,n<=l.toExpNeg||n>=l.toExpPos)):(Xa(e,1,Tc),t===void 0?t=l.rounding:Xa(t,0,8),a=It(new l(a),e,t),n=xn(a),r=Xl(a,e<=n||n<=l.toExpNeg,e)),r};Ae.toSignificantDigits=Ae.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xa(e,1,Tc),t===void 0?t=r.rounding:Xa(t,0,8)),It(new r(n),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=xn(e),n=e.constructor;return Xl(e,t<=n.toExpNeg||t>=n.toExpPos)};function iD(e,t){var n,r,a,l,c,u,f,p,m=e.constructor,g=m.precision;if(!e.s||!t.s)return t.s||(t=new m(e)),qt?It(t,g):t;if(f=e.d,p=t.d,c=e.e,a=t.e,f=f.slice(),l=c-a,l){for(l<0?(r=f,l=-l,u=p.length):(r=p,a=c,u=f.length),c=Math.ceil(g/Ut),u=c>u?c+1:u+1,l>u&&(l=u,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(u=f.length,l=p.length,u-l<0&&(l=u,r=p,p=f,f=r),n=0;l;)n=(f[--l]=f[l]+p[l]+n)/En|0,f[l]%=En;for(n&&(f.unshift(n),++a),u=f.length;f[--u]==0;)f.pop();return t.d=f,t.e=a,qt?It(t,g):t}function Xa(e,t,n){if(e!==~~e||e<t||e>n)throw Error(zl+e)}function Ha(e){var t,n,r,a=e.length-1,l="",c=e[0];if(a>0){for(l+=c,t=1;t<a;t++)r=e[t]+"",n=Ut-r.length,n&&(l+=Ds(n)),l+=r;c=e[t],r=c+"",n=Ut-r.length,n&&(l+=Ds(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Gi=(function(){function e(r,a){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*a+c,r[u]=l%En|0,c=l/En|0;return c&&r.unshift(c),r}function t(r,a,l,c){var u,f;if(l!=c)f=l>c?1:-1;else for(u=f=0;u<l;u++)if(r[u]!=a[u]){f=r[u]>a[u]?1:-1;break}return f}function n(r,a,l){for(var c=0;l--;)r[l]-=c,c=r[l]<a[l]?1:0,r[l]=c*En+r[l]-a[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,l,c){var u,f,p,m,g,v,N,j,_,E,C,A,R,M,I,P,k,L,z=r.constructor,q=r.s==a.s?1:-1,J=r.d,U=a.d;if(!r.s)return new z(r);if(!a.s)throw Error(ca+"Division by zero");for(f=r.e-a.e,k=U.length,I=J.length,N=new z(q),j=N.d=[],p=0;U[p]==(J[p]||0);)++p;if(U[p]>(J[p]||0)&&--f,l==null?A=l=z.precision:c?A=l+(xn(r)-xn(a))+1:A=l,A<0)return new z(0);if(A=A/Ut+2|0,p=0,k==1)for(m=0,U=U[0],A++;(p<I||m)&&A--;p++)R=m*En+(J[p]||0),j[p]=R/U|0,m=R%U|0;else{for(m=En/(U[0]+1)|0,m>1&&(U=e(U,m),J=e(J,m),k=U.length,I=J.length),M=k,_=J.slice(0,k),E=_.length;E<k;)_[E++]=0;L=U.slice(),L.unshift(0),P=U[0],U[1]>=En/2&&++P;do m=0,u=t(U,_,k,E),u<0?(C=_[0],k!=E&&(C=C*En+(_[1]||0)),m=C/P|0,m>1?(m>=En&&(m=En-1),g=e(U,m),v=g.length,E=_.length,u=t(g,_,v,E),u==1&&(m--,n(g,k<v?L:U,v))):(m==0&&(u=m=1),g=U.slice()),v=g.length,v<E&&g.unshift(0),n(_,g,E),u==-1&&(E=_.length,u=t(U,_,k,E),u<1&&(m++,n(_,k<E?L:U,E))),E=_.length):u===0&&(m++,_=[0]),j[p++]=m,u&&_[0]?_[E++]=J[M]||0:(_=[J[M]],E=1);while((M++<I||_[0]!==void 0)&&A--)}return j[0]||j.shift(),N.e=f,It(N,c?l+xn(N)+1:l)}})();function sD(e,t){var n,r,a,l,c,u,f=0,p=0,m=e.constructor,g=m.precision;if(xn(e)>16)throw Error(r1+xn(e));if(!e.s)return new m(Ir);for(qt=!1,u=g,c=new m(.03125);e.abs().gte(.1);)e=e.times(c),p+=5;for(r=Math.log(Ml(2,p))/Math.LN10*2+5|0,u+=r,n=a=l=new m(Ir),m.precision=u;;){if(a=It(a.times(e),u),n=n.times(++f),c=l.plus(Gi(a,n,u)),Ha(c.d).slice(0,u)===Ha(l.d).slice(0,u)){for(;p--;)l=It(l.times(l),u);return m.precision=g,t==null?(qt=!0,It(l,g)):l}l=c}}function xn(e){for(var t=e.e*Ut,n=e.d[0];n>=10;n/=10)t++;return t}function Fv(e,t,n){if(t>e.LN10.sd())throw qt=!0,n&&(e.precision=n),Error(ca+"LN10 precision limit exceeded");return It(new e(e.LN10),t)}function Ds(e){for(var t="";e--;)t+="0";return t}function Nd(e,t){var n,r,a,l,c,u,f,p,m,g=1,v=10,N=e,j=N.d,_=N.constructor,E=_.precision;if(N.s<1)throw Error(ca+(N.s?"NaN":"-Infinity"));if(N.eq(Ir))return new _(0);if(t==null?(qt=!1,p=E):p=t,N.eq(10))return t==null&&(qt=!0),Fv(_,p);if(p+=v,_.precision=p,n=Ha(j),r=n.charAt(0),l=xn(N),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)N=N.times(e),n=Ha(N.d),r=n.charAt(0),g++;l=xn(N),r>1?(N=new _("0."+n),l++):N=new _(r+"."+n.slice(1))}else return f=Fv(_,p+2,E).times(l+""),N=Nd(new _(r+"."+n.slice(1)),p-v).plus(f),_.precision=E,t==null?(qt=!0,It(N,E)):N;for(u=c=N=Gi(N.minus(Ir),N.plus(Ir),p),m=It(N.times(N),p),a=3;;){if(c=It(c.times(m),p),f=u.plus(Gi(c,new _(a),p)),Ha(f.d).slice(0,p)===Ha(u.d).slice(0,p))return u=u.times(2),l!==0&&(u=u.plus(Fv(_,p+2,E).times(l+""))),u=Gi(u,new _(g),p),_.precision=E,t==null?(qt=!0,It(u,E)):u;u=f,a+=2}}function mk(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=kc(n/Ut),e.d=[],r=(n+1)%Ut,n<0&&(r+=Ut),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=Ut;r<a;)e.d.push(+t.slice(r,r+=Ut));t=t.slice(r),r=Ut-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),qt&&(e.e>$m||e.e<-$m))throw Error(r1+n)}else e.s=0,e.e=0,e.d=[0];return e}function It(e,t,n){var r,a,l,c,u,f,p,m,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Ut,a=t,p=g[m=0];else{if(m=Math.ceil((r+1)/Ut),l=g.length,m>=l)return e;for(p=l=g[m],c=1;l>=10;l/=10)c++;r%=Ut,a=r-Ut+c}if(n!==void 0&&(l=Ml(10,c-a-1),u=p/l%10|0,f=t<0||g[m+1]!==void 0||p%l,f=n<4?(u||f)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||f||n==6&&(r>0?a>0?p/Ml(10,c-a):0:g[m-1])%10&1||n==(e.s<0?8:7))),t<1||!g[0])return f?(l=xn(e),g.length=1,t=t-l-1,g[0]=Ml(10,(Ut-t%Ut)%Ut),e.e=kc(-t/Ut)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=m,l=1,m--):(g.length=m+1,l=Ml(10,Ut-r),g[m]=a>0?(p/Ml(10,c-a)%Ml(10,a)|0)*l:0),f)for(;;)if(m==0){(g[0]+=l)==En&&(g[0]=1,++e.e);break}else{if(g[m]+=l,g[m]!=En)break;g[m--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(qt&&(e.e>$m||e.e<-$m))throw Error(r1+xn(e));return e}function lD(e,t){var n,r,a,l,c,u,f,p,m,g,v=e.constructor,N=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),qt?It(t,N):t;if(f=e.d,g=t.d,r=t.e,p=e.e,f=f.slice(),c=p-r,c){for(m=c<0,m?(n=f,c=-c,u=g.length):(n=g,r=p,u=f.length),a=Math.max(Math.ceil(N/Ut),u)+2,c>a&&(c=a,n.length=1),n.reverse(),a=c;a--;)n.push(0);n.reverse()}else{for(a=f.length,u=g.length,m=a<u,m&&(u=a),a=0;a<u;a++)if(f[a]!=g[a]){m=f[a]<g[a];break}c=0}for(m&&(n=f,f=g,g=n,t.s=-t.s),u=f.length,a=g.length-u;a>0;--a)f[u++]=0;for(a=g.length;a>c;){if(f[--a]<g[a]){for(l=a;l&&f[--l]===0;)f[l]=En-1;--f[l],f[a]+=En}f[a]-=g[a]}for(;f[--u]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,qt?It(t,N):t):new v(0)}function Xl(e,t,n){var r,a=xn(e),l=Ha(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+Ds(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(a<0?"e":"e+")+a):a<0?(l="0."+Ds(-a-1)+l,n&&(r=n-c)>0&&(l+=Ds(r))):a>=c?(l+=Ds(a+1-c),n&&(r=n-a-1)>0&&(l=l+"."+Ds(r))):((r=a+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(a+1===c&&(l+="."),l+=Ds(r))),e.s<0?"-"+l:l}function hk(e,t){if(e.length>t)return e.length=t,!0}function oD(e){var t,n,r;function a(l){var c=this;if(!(c instanceof a))return new a(l);if(c.constructor=a,l instanceof a){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(zl+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return mk(c,l.toString())}else if(typeof l!="string")throw Error(zl+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,oee.test(l))mk(c,l);else throw Error(zl+l)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oD,a.config=a.set=cee,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function cee(e){if(!e||typeof e!="object")throw Error(ca+"Object expected");var t,n,r,a=["precision",1,Tc,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(kc(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(zl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(zl+n+": "+r);return this}var a1=oD(lee);Ir=new a1(1);const Et=a1;function cD(e){var t;return e===0?t=1:t=Math.floor(new Et(e).abs().log(10).toNumber())+1,t}function uD(e,t,n){for(var r=new Et(e),a=0,l=[];r.lt(t)&&a<1e5;)l.push(r.toNumber()),r=r.add(n),a++;return l}var dD=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},fD=(e,t,n)=>{if(e.lte(0))return new Et(0);var r=cD(e.toNumber()),a=new Et(10).pow(r),l=e.div(a),c=r!==1?.05:.1,u=new Et(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=u.mul(a);return t?new Et(f.toNumber()):new Et(Math.ceil(f.toNumber()))},uee=(e,t,n)=>{var r=new Et(1),a=new Et(e);if(!a.isint()&&n){var l=Math.abs(e);l<1?(r=new Et(10).pow(cD(e)-1),a=new Et(Math.floor(a.div(r).toNumber())).mul(r)):l>1&&(a=new Et(Math.floor(e)))}else e===0?a=new Et(Math.floor((t-1)/2)):n||(a=new Et(Math.floor(e)));for(var c=Math.floor((t-1)/2),u=[],f=0;f<t;f++)u.push(a.add(new Et(f-c).mul(r)).toNumber());return u},pD=function(t,n,r,a){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Et(0),tickMin:new Et(0),tickMax:new Et(0)};var c=fD(new Et(n).sub(t).div(r-1),a,l),u;t<=0&&n>=0?u=new Et(0):(u=new Et(t).add(n).div(2),u=u.sub(new Et(u).mod(c)));var f=Math.ceil(u.sub(t).div(c).toNumber()),p=Math.ceil(new Et(n).sub(u).div(c).toNumber()),m=f+p+1;return m>r?pD(t,n,r,a,l+1):(m<r&&(p=n>0?p+(r-m):p,f=n>0?f:f+(r-m)),{step:c,tickMin:u.sub(new Et(f).mul(c)),tickMax:u.add(new Et(p).mul(c))})},dee=function(t){var[n,r]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,c=Math.max(a,2),[u,f]=dD([n,r]);if(u===-1/0||f===1/0){var p=f===1/0?[u,...Array(a-1).fill(1/0)]:[...Array(a-1).fill(-1/0),f];return n>r?p.reverse():p}if(u===f)return uee(u,a,l);var{step:m,tickMin:g,tickMax:v}=pD(u,f,c,l,0),N=uD(g,v.add(new Et(.1).mul(m)),m);return n>r?N.reverse():N},fee=function(t,n){var[r,a]=t,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[c,u]=dD([r,a]);if(c===-1/0||u===1/0)return[r,a];if(c===u)return[c];var f=Math.max(n,2),p=fD(new Et(u).sub(c).div(f-1),l,0),m=[...uD(new Et(c),new Et(u),p),u];return l===!1&&(m=m.map(g=>Math.round(g))),r>a?m.reverse():m},mD=e=>e.rootProps.maxBarSize,pee=e=>e.rootProps.barGap,hD=e=>e.rootProps.barCategoryGap,mee=e=>e.rootProps.barSize,Fd=e=>e.rootProps.stackOffset,gD=e=>e.rootProps.reverseStackOrder,i1=e=>e.options.chartName,s1=e=>e.rootProps.syncId,xD=e=>e.rootProps.syncMethod,l1=e=>e.options.eventEmitter,hee=e=>e.rootProps.baseValue,cn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},El={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ua={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Uh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t};function $h(e,t,n){if(n!=="auto")return n;if(e!=null)return ka(e,t)?"category":"number"}function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gee(e,t,n){return(t=xee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xee(e){var t=vee(e,"string");return typeof t=="symbol"?t:t+""}function vee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xk={allowDataOverflow:El.allowDataOverflow,allowDecimals:El.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:El.angleAxisId,includeHidden:!1,name:void 0,reversed:El.reversed,scale:El.scale,tick:El.tick,tickCount:void 0,ticks:void 0,type:El.type,unit:void 0},vk={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ua.radiusAxisId,includeHidden:Ua.includeHidden,name:void 0,reversed:Ua.reversed,scale:Ua.scale,tick:Ua.tick,tickCount:Ua.tickCount,ticks:void 0,type:Ua.type,unit:void 0},yee=(e,t)=>{if(t!=null)return e.polarAxis.angleAxis[t]},o1=Q([yee,tO],(e,t)=>{var n;if(e!=null)return e;var r=(n=$h(t,"angleAxis",xk.type))!==null&&n!==void 0?n:"category";return Gm(Gm({},xk),{},{type:r})}),bee=(e,t)=>e.polarAxis.radiusAxis[t],c1=Q([bee,tO],(e,t)=>{var n;if(e!=null)return e;var r=(n=$h(t,"radiusAxis",vk.type))!==null&&n!==void 0?n:"category";return Gm(Gm({},vk),{},{type:r})}),Gh=e=>e.polarOptions,u1=Q([ts,ns,bn],vO),vD=Q([Gh,u1],(e,t)=>{if(e!=null)return Qn(e.innerRadius,t,0)}),yD=Q([Gh,u1],(e,t)=>{if(e!=null)return Qn(e.outerRadius,t,t*.8)}),wee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},bD=Q([Gh],wee);Q([o1,bD],Uh);var wD=Q([u1,vD,yD],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Q([c1,wD],Uh);var ND=Q([ot,Gh,vD,yD,ts,ns],(e,t,n,r,a,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:u,startAngle:f,endAngle:p}=t;return{cx:Qn(c,a,a/2),cy:Qn(u,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:p,clockWise:!1}}}),Yt=(e,t)=>t,qd=(e,t,n)=>n;function Bh(e){return e?.id}function SD(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:l}=n,c=new Map;return e.forEach(u=>{var f,p=(f=u.data)!==null&&f!==void 0?f:r;if(!(p==null||p.length===0)){var m=Bh(u);p.forEach((g,v)=>{var N=l==null||a?v:String(Nt(g,l,null)),j=Nt(g,u.dataKey,0),_;c.has(N)?_=c.get(N):_={},Object.assign(_,{[m]:j}),c.set(N,_)})}}),Array.from(c.values())}function Fh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var qh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Hh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Nee(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var Pn=e=>{var t=ot(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mc=e=>e.tooltip.settings.axisId;function See(e){if(e in Vu)return Vu[e]();var t="scale".concat(Md(e));if(t in Vu)return Vu[t]()}function yk(e){var t=e.ticks,n=e.bandwidth,r=e.range(),a=[Math.min(...r),Math.max(...r)];return{domain:()=>e.domain(),range:(function(l){function c(){return l.apply(this,arguments)}return c.toString=function(){return l.toString()},c})(()=>a),rangeMin:()=>a[0],rangeMax:()=>a[1],isInRange(l){var c=a[0],u=a[1];return c<=u?l>=c&&l<=u:l>=u&&l<=c},bandwidth:n?()=>n.call(e):void 0,ticks:t?l=>t.call(e,l):void 0,map:(l,c)=>{var u=e(l);if(u!=null){if(e.bandwidth&&c!==null&&c!==void 0&&c.position){var f=e.bandwidth();switch(c.position){case"middle":u+=f/2;break;case"end":u+=f;break}}return u}}}}function bk(e,t,n){if(typeof e=="function")return yk(e.copy().domain(t).range(n));if(e!=null){var r=See(e);if(r!=null)return r.domain(t).range(n),yk(r)}}var jD=(e,t)=>{if(t!=null)switch(e){case"linear":{if(!Wi(t)){for(var n,r,a=0;a<t.length;a++){var l=t[a];Qe(l)&&((n===void 0||l<n)&&(n=l),(r===void 0||l>r)&&(r=l))}return n!==void 0&&r!==void 0?[n,r]:void 0}return t}default:return t}};function wk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Bm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wk(Object(n),!0).forEach(function(r){jee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jee(e,t,n){return(t=_ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ee(e){var t=Eee(e,"string");return typeof t=="symbol"?t:t+""}function Eee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mb=[0,"auto"],jn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},_D=(e,t)=>e.cartesianAxis.xAxis[t],is=(e,t)=>{var n=_D(e,t);return n??jn},_n={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:mb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Od},ED=(e,t)=>e.cartesianAxis.yAxis[t],ss=(e,t)=>{var n=ED(e,t);return n??_n},Cee={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},d1=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Cee},rn=(e,t,n)=>{switch(t){case"xAxis":return is(e,n);case"yAxis":return ss(e,n);case"zAxis":return d1(e,n);case"angleAxis":return o1(e,n);case"radiusAxis":return c1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Aee=(e,t,n)=>{switch(t){case"xAxis":return is(e,n);case"yAxis":return ss(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Rc=(e,t,n)=>{switch(t){case"xAxis":return is(e,n);case"yAxis":return ss(e,n);case"angleAxis":return o1(e,n);case"radiusAxis":return c1(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},CD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function f1(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var Hd=e=>e.graphicalItems.cartesianItems,Tee=Q([Yt,qd],f1),p1=(e,t,n)=>e.filter(n).filter(r=>t?.includeHidden===!0?!0:!r.hide),Vd=Q([Hd,rn,Tee],p1,{memoizeOptions:{resultEqualityCheck:Hh}}),AD=Q([Vd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fh)),TD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),kee=Q([Vd],TD),m1=e=>e.map(t=>t.data).filter(Boolean).flat(1),Mee=Q([Vd],m1,{memoizeOptions:{resultEqualityCheck:Hh}}),h1=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},g1=Q([Mee,n1],h1),x1=(e,t,n)=>t?.dataKey!=null?e.map(r=>({value:Nt(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:Nt(a,r)}))):e.map(r=>({value:r})),Vh=Q([g1,rn,Vd],x1);function kD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Hp(e){if(Ja(e)||e instanceof Date){var t=Number(e);if(Qe(t))return t}}function Nk(e){if(Array.isArray(e)){var t=[Hp(e[0]),Hp(e[1])];return Wi(t)?t:void 0}var n=Hp(e);if(n!=null)return[n,n]}function Xi(e){return e.map(Hp).filter(Nr)}function Ree(e,t,n){return!n||typeof t!="number"||_a(t)?[]:n.length?Xi(n.flatMap(r=>{var a=Nt(e,r.dataKey),l,c;if(Array.isArray(a)?[l,c]=a:l=c=a,!(!Qe(l)||!Qe(c)))return[t-l,t+c]})):[]}var Nn=e=>{var t=Pn(e),n=Mc(e);return Rc(e,t,n)},Kd=Q([Nn],e=>e?.dataKey),Pee=Q([AD,n1,Nn],SD),MD=(e,t,n,r)=>{var a={},l=t.reduce((c,u)=>{if(u.stackId==null)return c;var f=c[u.stackId];return f==null&&(f=[]),f.push(u),c[u.stackId]=f,c},a);return Object.fromEntries(Object.entries(l).map(c=>{var[u,f]=c,p=r?[...f].reverse():f,m=p.map(Bh);return[u,{stackedData:eJ(e,m,n),graphicalItems:p}]}))},Fm=Q([Pee,AD,Fd,gD],MD),RD=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:l}=t;if(r==null&&n!=="zAxis"){var c=aJ(e,a,l);if(!(c!=null&&c[0]===0&&c[1]===0))return c}},Iee=Q([rn],e=>e.allowDataOverflow),v1=e=>{var t;if(e==null||!("domain"in e))return mb;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Xi(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:mb},y1=Q([rn],v1),b1=Q([y1,Iee],rD),Oee=Q([Fm,as,Yt,b1],RD,{memoizeOptions:{resultEqualityCheck:qh}}),Kh=e=>e.errorBars,Dee=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>kD(n,r)),qm=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n.filter(Boolean);if(a.length!==0){var l=a.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},w1=(e,t,n,r,a)=>{var l,c;if(n.length>0&&e.forEach(u=>{n.forEach(f=>{var p,m,g=(p=r[f.id])===null||p===void 0?void 0:p.filter(C=>kD(a,C)),v=Nt(u,(m=t.dataKey)!==null&&m!==void 0?m:f.dataKey),N=Ree(u,v,g);if(N.length>=2){var j=Math.min(...N),_=Math.max(...N);(l==null||j<l)&&(l=j),(c==null||_>c)&&(c=_)}var E=Nk(v);E!=null&&(l=l==null?E[0]:Math.min(l,E[0]),c=c==null?E[1]:Math.max(c,E[1]))})}),t?.dataKey!=null&&e.forEach(u=>{var f=Nk(Nt(u,t.dataKey));f!=null&&(l=l==null?f[0]:Math.min(l,f[0]),c=c==null?f[1]:Math.max(c,f[1]))}),Qe(l)&&Qe(c))return[l,c]},Lee=Q([g1,rn,kee,Kh,Yt],w1,{memoizeOptions:{resultEqualityCheck:qh}});function zee(e){var{value:t}=e;if(Ja(t)||t instanceof Date)return t}var Uee=(e,t,n)=>{var r=e.map(zee).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&XP(r))?NO(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},PD=e=>e.referenceElements.dots,Pc=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),$ee=Q([PD,Yt,qd],Pc),ID=e=>e.referenceElements.areas,Gee=Q([ID,Yt,qd],Pc),OD=e=>e.referenceElements.lines,Bee=Q([OD,Yt,qd],Pc),DD=(e,t)=>{if(e!=null){var n=Xi(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Fee=Q($ee,Yt,DD),LD=(e,t)=>{if(e!=null){var n=Xi(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qee=Q([Gee,Yt],LD);function Hee(e){var t;if(e.x!=null)return Xi([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Xi(n)}function Vee(e){var t;if(e.y!=null)return Xi([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Xi(n)}var zD=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?Hee(r):Vee(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Kee=Q([Bee,Yt],zD),Yee=Q(Fee,Kee,qee,(e,t,n)=>qm(e,n,t)),N1=(e,t,n,r,a,l,c,u)=>{if(n!=null)return n;var f=c==="vertical"&&u==="xAxis"||c==="horizontal"&&u==="yAxis",p=f?qm(r,l,a):qm(l,a);return see(t,p,e.allowDataOverflow)},Jee=Q([rn,y1,b1,Oee,Lee,Yee,ot,Yt],N1,{memoizeOptions:{resultEqualityCheck:qh}}),Wee=[0,1],S1=(e,t,n,r,a,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:u,type:f}=e,p=ka(t,l);if(p&&u==null){var m;return NO(0,(m=n?.length)!==null&&m!==void 0?m:0)}return f==="category"?Uee(r,e,p):a==="expand"?Wee:c}},j1=Q([rn,ot,g1,Vh,Fd,Yt,Jee],S1);function Xee(e){return e in Vu}var UD=(e,t,n)=>{if(e!=null){var{scale:r,type:a}=e;if(r==="auto")return a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!t)?"point":a==="category"?"band":"linear";if(typeof r=="string"){var l="scale".concat(Md(r));return Xee(l)?l:"point"}}},il=Q([rn,CD,i1],UD);function _1(e,t,n,r){if(!(n==null||r==null))return typeof e.scale=="function"?bk(e.scale,n,r):bk(t,n,r)}var E1=(e,t,n)=>{var r=v1(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wi(e))return dee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wi(e))return fee(e,t.tickCount,t.allowDecimals)}},C1=Q([j1,Rc,il],E1),A1=(e,t,n,r)=>{if(r!=="angleAxis"&&e?.type==="number"&&Wi(t)&&Array.isArray(n)&&n.length>0){var a,l,c=t[0],u=(a=n[0])!==null&&a!==void 0?a:0,f=t[1],p=(l=n[n.length-1])!==null&&l!==void 0?l:0;return[Math.min(c,u),Math.max(f,p)]}return t},Zee=Q([rn,j1,C1,Yt],A1),Qee=Q(Vh,rn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Xi(e.map(g=>g.value))).sort((g,v)=>g-v),a=r[0],l=r[r.length-1];if(a==null||l==null)return 1/0;var c=l-a;if(c===0)return 1/0;for(var u=0;u<r.length-1;u++){var f=r[u],p=r[u+1];if(!(f==null||p==null)){var m=p-f;n=Math.min(n,m)}}return n/c}}),$D=Q(Qee,ot,hD,bn,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!Qe(e))return 0;var l=t==="vertical"?r.height:r.width;if(a==="gap")return e*l/2;if(a==="no-gap"){var c=Qn(n,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),ete=(e,t,n)=>{var r=is(e,t);return r==null||typeof r.padding!="string"?0:$D(e,"xAxis",t,n,r.padding)},tte=(e,t,n)=>{var r=ss(e,t);return r==null||typeof r.padding!="string"?0:$D(e,"yAxis",t,n,r.padding)},nte=Q(is,ete,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),rte=Q(ss,tte,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),ate=Q([bn,nte,Ch,Eh,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:l}=r;return a?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),ite=Q([bn,ot,rte,Ch,Eh,(e,t,n)=>n],(e,t,n,r,a,l)=>{var{padding:c}=a;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Yd=(e,t,n,r)=>{var a;switch(t){case"xAxis":return ate(e,n,r);case"yAxis":return ite(e,n,r);case"zAxis":return(a=d1(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return bD(e);case"radiusAxis":return wD(e,n);default:return}},GD=Q([rn,Yd],Uh),ste=Q([il,Zee],jD),Yh=Q([rn,il,ste,GD],_1);Q([Vd,Kh,Yt],Dee);function BD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Jh=(e,t)=>t,Wh=(e,t,n)=>n,lte=Q(jh,Jh,Wh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BD)),ote=Q(_h,Jh,Wh,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BD)),FD=(e,t)=>({width:e.width,height:t.height}),cte=(e,t)=>{var n=typeof t.width=="number"?t.width:Od;return{width:n,height:e.height}},qD=Q(bn,is,FD),ute=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dte=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fte=Q(ns,bn,lte,Jh,Wh,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=FD(t,u);c==null&&(c=ute(t,r,e));var p=r==="top"&&!a||r==="bottom"&&a;l[u.id]=c-Number(p)*f.height,c+=(p?-1:1)*f.height}),l}),pte=Q(ts,bn,ote,Jh,Wh,(e,t,n,r,a)=>{var l={},c;return n.forEach(u=>{var f=cte(t,u);c==null&&(c=dte(t,r,e));var p=r==="left"&&!a||r==="right"&&a;l[u.id]=c-Number(p)*f.width,c+=(p?-1:1)*f.width}),l}),mte=(e,t)=>{var n=is(e,t);if(n!=null)return fte(e,n.orientation,n.mirror)},hte=Q([bn,is,mte,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),gte=(e,t)=>{var n=ss(e,t);if(n!=null)return pte(e,n.orientation,n.mirror)},xte=Q([bn,ss,gte,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n?.[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),HD=Q(bn,ss,(e,t)=>{var n=typeof t.width=="number"?t.width:Od;return{width:n,height:e.height}}),Sk=(e,t,n)=>{switch(t){case"xAxis":return qD(e,n).width;case"yAxis":return HD(e,n).height;default:return}},VD=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:l,dataKey:c}=n,u=ka(e,r),f=t.map(p=>p.value);if(c&&u&&l==="category"&&a&&XP(f))return f}},T1=Q([ot,Vh,rn,Yt],VD),KD=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:l}=n,c=ka(e,r);if(c&&(a==="number"||l!=="auto"))return t.map(u=>u.value)}},k1=Q([ot,Vh,Rc,Yt],KD),jk=Q([ot,Aee,il,Yh,T1,k1,Yd,C1,Yt],(e,t,n,r,a,l,c,u,f)=>{if(t!=null){var p=ka(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:a,isCategorical:p,niceTicks:u,range:c,realScaleType:n,scale:r}}}),vte=(e,t,n,r,a,l,c,u,f)=>{if(!(t==null||r==null)){var p=ka(e,f),{type:m,ticks:g,tickCount:v}=t,N=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=m==="category"&&r.bandwidth?r.bandwidth()/N:0;j=f==="angleAxis"&&l!=null&&l.length>=2?Tn(l[0]-l[1])*2*j:j;var _=g||a;return _?_.map((E,C)=>{var A=c?c.indexOf(E):E,R=r.map(A);return Qe(R)?{index:C,coordinate:R+j,value:E,offset:j}:null}).filter(Nr):p&&u?u.map((E,C)=>{var A=r.map(E);return Qe(A)?{coordinate:A+j,value:E,index:C,offset:j}:null}).filter(Nr):r.ticks?r.ticks(v).map((E,C)=>{var A=r.map(E);return Qe(A)?{coordinate:A+j,value:E,index:C,offset:j}:null}).filter(Nr):r.domain().map((E,C)=>{var A=r.map(E);return Qe(A)?{coordinate:A+j,value:c?c[E]:E,index:C,offset:j}:null}).filter(Nr)}},YD=Q([ot,Rc,il,Yh,C1,Yd,T1,k1,Yt],vte),yte=(e,t,n,r,a,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var u=ka(e,c),{tickCount:f}=t,p=0;return p=c==="angleAxis"&&r?.length>=2?Tn(r[0]-r[1])*2*p:p,u&&l?l.map((m,g)=>{var v=n.map(m);return Qe(v)?{coordinate:v+p,value:m,index:g,offset:p}:null}).filter(Nr):n.ticks?n.ticks(f).map((m,g)=>{var v=n.map(m);return Qe(v)?{coordinate:v+p,value:m,index:g,offset:p}:null}).filter(Nr):n.domain().map((m,g)=>{var v=n.map(m);return Qe(v)?{coordinate:v+p,value:a?a[m]:m,index:g,offset:p}:null}).filter(Nr)}},Za=Q([ot,Rc,Yh,Yd,T1,k1,Yt],yte),Qa=Q(rn,Yh,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})}),bte=Q([rn,il,j1,GD],_1);Q((e,t,n)=>d1(e,n),bte,(e,t)=>{if(!(e==null||t==null))return Bm(Bm({},e),{},{scale:t})});var wte=Q([ot,jh,_h],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),JD=e=>e.options.defaultTooltipEventType,WD=e=>e.options.validateTooltipEventTypes;function XD(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function M1(e,t){var n=JD(e),r=WD(e);return XD(t,n,r)}function Nte(e){return Me(t=>M1(t,e))}var ZD=(e,t)=>{var n,r=Number(t);if(!(_a(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Ste=e=>e.tooltip.settings,Us={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jte={itemInteraction:{click:Us,hover:Us},axisInteraction:{click:Us,hover:Us},keyboardInteraction:Us,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QD=_r({name:"tooltip",initialState:jte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Ft()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:Ft()},removeTooltipEntrySettings:{reducer(e,t){var n=Sa(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:Ft()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:_te,replaceTooltipEntrySettings:Ete,removeTooltipEntrySettings:Cte,setTooltipSettingsState:Ate,setActiveMouseOverItemIndex:e4,mouseLeaveItem:Tte,mouseLeaveChart:t4,setActiveClickItemIndex:kte,setMouseOverAxisIndex:n4,setMouseClickAxisIndex:Mte,setSyncInteraction:hb,setKeyboardInteraction:gb}=QD.actions,Rte=QD.reducer;function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){Pte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pte(e,t,n){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ite(e){var t=Ote(e,"string");return typeof t=="symbol"?t:t+""}function Ote(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dte(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Lte(e){return e.index!=null}var r4=(e,t,n,r)=>{if(t==null)return Us;var a=Dte(e,t,n);if(a==null)return Us;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Lte(a)){if(l)return Pp(Pp({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Pp(Pp({},Us),{},{coordinate:a.coordinate})};function zte(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function Ute(e,t){var n=zte(e),r=t[0],a=t[1];if(n===void 0)return!1;var l=Math.min(r,a),c=Math.max(r,a);return n>=l&&n<=c}function $te(e,t,n){if(n==null||t==null)return!0;var r=Nt(e,t);return r==null||!Wi(n)?!0:Ute(r,n)}var R1=(e,t,n,r)=>{var a=e?.index;if(a==null)return null;var l=Number(a);if(!Qe(l))return a;var c=0,u=1/0;t.length>0&&(u=t.length-1);var f=Math.max(c,Math.min(l,u)),p=t[f];return p==null||$te(p,n,r)?String(f):null},a4=(e,t,n,r,a,l,c)=>{if(l!=null){var u=c[0],f=u?.getPosition(l);if(f!=null)return f;var p=a?.[Number(l)];if(p)return n==="horizontal"?{x:p.coordinate,y:(r.top+t)/2}:{x:(r.left+e)/2,y:p.coordinate}}},i4=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var l=e.tooltipItemPayloads[0];return l!=null?[l]:[]}return e.tooltipItemPayloads.filter(c=>{var u;return((u=c.settings)===null||u===void 0?void 0:u.graphicalItemId)===a})},s4=e=>e.options.tooltipPayloadSearcher,Ic=e=>e.tooltip;function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ck(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){Gte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gte(e,t,n){return(t=Bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bte(e){var t=Fte(e,"string");return typeof t=="symbol"?t:t+""}function Fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qte(e,t){return e??t}var l4=(e,t,n,r,a,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:f,dataStartIndex:p,dataEndIndex:m}=n,g=[];return e.reduce((v,N)=>{var j,{dataDefinedOnItem:_,settings:E}=N,C=qte(_,u),A=Array.isArray(C)?qI(C,p,m):C,R=(j=E?.dataKey)!==null&&j!==void 0?j:r,M=E?.nameKey,I;if(r&&Array.isArray(A)&&!Array.isArray(A[0])&&c==="axis"?I=ZP(A,r,a):I=l(A,t,f,M),Array.isArray(I))I.forEach(k=>{var L=Ck(Ck({},E),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});v.push(_A({tooltipEntrySettings:L,dataKey:k.dataKey,payload:k.payload,value:Nt(k.payload,k.dataKey),name:k.name}))});else{var P;v.push(_A({tooltipEntrySettings:E,dataKey:R,payload:I,value:Nt(I,R),name:(P=Nt(I,M))!==null&&P!==void 0?P:E?.name}))}return v},g)}},P1=Q([Nn,CD,i1],UD),Hte=Q([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Vte=Q([Pn,Mc],f1),Oc=Q([Hte,Nn,Vte],p1,{memoizeOptions:{resultEqualityCheck:Hh}}),Kte=Q([Oc],e=>e.filter(Fh)),Yte=Q([Oc],m1,{memoizeOptions:{resultEqualityCheck:Hh}}),Dc=Q([Yte,as],h1),Jte=Q([Kte,as,Nn],SD),I1=Q([Dc,Nn,Oc],x1),o4=Q([Nn],v1),Wte=Q([Nn],e=>e.allowDataOverflow),c4=Q([o4,Wte],rD),Xte=Q([Oc],e=>e.filter(Fh)),Zte=Q([Jte,Xte,Fd,gD],MD),Qte=Q([Zte,as,Pn,c4],RD),ene=Q([Oc],TD),tne=Q([Dc,Nn,ene,Kh,Pn],w1,{memoizeOptions:{resultEqualityCheck:qh}}),nne=Q([PD,Pn,Mc],Pc),rne=Q([nne,Pn],DD),ane=Q([ID,Pn,Mc],Pc),ine=Q([ane,Pn],LD),sne=Q([OD,Pn,Mc],Pc),lne=Q([sne,Pn],zD),one=Q([rne,lne,ine],qm),cne=Q([Nn,o4,c4,Qte,tne,one,ot,Pn],N1),Jd=Q([Nn,ot,Dc,I1,Fd,Pn,cne],S1),une=Q([Jd,Nn,P1],E1),dne=Q([Nn,Jd,une,Pn],A1),u4=e=>{var t=Pn(e),n=Mc(e),r=!1;return Yd(e,t,n,r)},d4=Q([Nn,u4],Uh),f4=Q([Nn,P1,dne,d4],_1),fne=Q([ot,I1,Nn,Pn],VD),pne=Q([ot,I1,Nn,Pn],KD),mne=(e,t,n,r,a,l,c,u)=>{if(t){var{type:f}=t,p=ka(e,u);if(r){var m=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=f==="category"&&r.bandwidth?r.bandwidth()/m:0;return g=u==="angleAxis"&&a!=null&&a?.length>=2?Tn(a[0]-a[1])*2*g:g,p&&c?c.map((v,N)=>{var j=r.map(v);return Qe(j)?{coordinate:j+g,value:v,index:N,offset:g}:null}).filter(Nr):r.domain().map((v,N)=>{var j=r.map(v);return Qe(j)?{coordinate:j+g,value:l?l[v]:v,index:N,offset:g}:null}).filter(Nr)}}},ls=Q([ot,Nn,P1,f4,u4,fne,pne,Pn],mne),O1=Q([JD,WD,Ste],(e,t,n)=>XD(n.shared,e,t)),p4=e=>e.tooltip.settings.trigger,D1=e=>e.tooltip.settings.defaultIndex,Wd=Q([Ic,O1,p4,D1],r4),Ws=Q([Wd,Dc,Kd,Jd],R1),m4=Q([ls,Ws],ZD),L1=Q([Wd],e=>{if(e)return e.dataKey}),hne=Q([Wd],e=>{if(e)return e.graphicalItemId}),h4=Q([Ic,O1,p4,D1],i4),gne=Q([ts,ns,ot,bn,ls,D1,h4],a4),xne=Q([Wd,gne],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vne=Q([Wd],e=>{var t;return(t=e?.active)!==null&&t!==void 0?t:!1}),yne=Q([h4,Ws,as,Kd,m4,s4,O1],l4),bne=Q([yne],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function Ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ak(Object(n),!0).forEach(function(r){wne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wne(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jne=()=>Me(Nn),_ne=()=>{var e=jne(),t=Me(ls),n=Me(f4);return Js(!e||!n?void 0:Tk(Tk({},e),{},{scale:n}),t)};function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ko(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){Ene(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ene(e,t,n){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne=(e,t,n,r)=>{var a=t.find(l=>l&&l.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},kne=(e,t,n,r)=>{var a=t.find(p=>p&&p.index===n);if(a){if(e==="centric"){var l=a.coordinate,{radius:c}=r;return Ko(Ko(Ko({},r),gn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var u=a.coordinate,{angle:f}=r;return Ko(Ko(Ko({},r),gn(r.cx,r.cy,u,f)),{},{angle:f,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Mne(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var g4=(e,t,n,r,a)=>{var l,c=(l=t?.length)!==null&&l!==void 0?l:0;if(c<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var u=0;u<c;u++){var f,p,m,g,v,N=u>0?(f=n[u-1])===null||f===void 0?void 0:f.coordinate:(p=n[c-1])===null||p===void 0?void 0:p.coordinate,j=(m=n[u])===null||m===void 0?void 0:m.coordinate,_=u>=c-1?(g=n[0])===null||g===void 0?void 0:g.coordinate:(v=n[u+1])===null||v===void 0?void 0:v.coordinate,E=void 0;if(!(N==null||j==null||_==null))if(Tn(j-N)!==Tn(_-j)){var C=[];if(Tn(_-j)===Tn(a[1]-a[0])){E=_;var A=j+a[1]-a[0];C[0]=Math.min(A,(A+N)/2),C[1]=Math.max(A,(A+N)/2)}else{E=N;var R=_+a[1]-a[0];C[0]=Math.min(j,(R+j)/2),C[1]=Math.max(j,(R+j)/2)}var M=[Math.min(j,(E+j)/2),Math.max(j,(E+j)/2)];if(e>M[0]&&e<=M[1]||e>=C[0]&&e<=C[1]){var I;return(I=n[u])===null||I===void 0?void 0:I.index}}else{var P=Math.min(N,_),k=Math.max(N,_);if(e>(P+j)/2&&e<=(k+j)/2){var L;return(L=n[u])===null||L===void 0?void 0:L.index}}}else if(t)for(var z=0;z<c;z++){var q=t[z];if(q!=null){var J=t[z+1],U=t[z-1];if(z===0&&J!=null&&e<=(q.coordinate+J.coordinate)/2||z===c-1&&U!=null&&e>(q.coordinate+U.coordinate)/2||z>0&&z<c-1&&U!=null&&J!=null&&e>(q.coordinate+U.coordinate)/2&&e<=(q.coordinate+J.coordinate)/2)return q.index}}return-1},x4=()=>Me(i1),z1=(e,t)=>t,v4=(e,t,n)=>n,U1=(e,t,n,r)=>r,Rne=Q(ls,e=>mh(e,t=>t.coordinate)),$1=Q([Ic,z1,v4,U1],r4),G1=Q([$1,Dc,Kd,Jd],R1),Pne=(e,t,n)=>{if(t!=null){var r=Ic(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},y4=Q([Ic,z1,v4,U1],i4),Hm=Q([ts,ns,ot,bn,ls,U1,y4],a4),Ine=Q([$1,Hm],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),b4=Q([ls,G1],ZD),One=Q([y4,G1,as,Kd,b4,s4,z1],l4),Dne=Q([$1,G1],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Lne=(e,t,n,r,a,l,c)=>{if(!(!e||!n||!r||!a)&&Mne(e,c)){var u=iJ(e,t),f=g4(u,l,a,n,r),p=Tne(t,a,f,e);return{activeIndex:String(f),activeCoordinate:p}}},zne=(e,t,n,r,a,l,c)=>{if(!(!e||!r||!a||!l||!n)){var u=NX(e,n);if(u){var f=sJ(u,t),p=g4(f,c,l,r,a),m=kne(t,l,p,u);return{activeIndex:String(p),activeCoordinate:m}}}},Une=(e,t,n,r,a,l,c,u)=>{if(!(!e||!t||!r||!a||!l))return t==="horizontal"||t==="vertical"?Lne(e,t,r,a,l,c,u):zne(e,t,n,r,a,l,c)},$ne=Q(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),Gne=Q(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(cn)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:Nee}});function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Rk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mk(Object(n),!0).forEach(function(r){Bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=qne(e,"string");return typeof t=="symbol"?t:t+""}function qne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne={},Vne={zIndexMap:Object.values(cn).reduce((e,t)=>Rk(Rk({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),Hne)},Kne=new Set(Object.values(cn));function Yne(e){return Kne.has(e)}var w4=_r({name:"zIndex",initialState:Vne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Ft()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!Yne(n)&&delete e.zIndexMap[n])},prepare:Ft()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:Ft()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:Ft()}}}),{registerZIndexPortal:Jne,unregisterZIndexPortal:Wne,registerZIndexPortalElement:Xne,unregisterZIndexPortalElement:Zne}=w4.actions,Qne=w4.reducer;function fr(e){var{zIndex:t,children:n}=e,r=LJ(),a=r&&t!==void 0&&t!==0,l=Mn(),c=Dt();b.useLayoutEffect(()=>a?(c(Jne({zIndex:t})),()=>{c(Wne({zIndex:t}))}):el,[c,t,a]);var u=Me(f=>$ne(f,t,l));return a?u?Bb.createPortal(n,u):null:n}function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xb.apply(null,arguments)}function Pk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ip(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pk(Object(n),!0).forEach(function(r){ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ere(e,t,n){return(t=tre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tre(e){var t=nre(e,"string");return typeof t=="symbol"?t:t+""}function nre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rre(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return b.isValidElement(t)?b.cloneElement(t,r):b.createElement(n,r)}function are(e){var t,{coordinate:n,payload:r,index:a,offset:l,tooltipAxisBandSize:c,layout:u,cursor:f,tooltipEventType:p,chartName:m}=e,g=n,v=r,N=a;if(!f||!g||m!=="ScatterChart"&&p!=="axis")return null;var j,_,E;if(m==="ScatterChart")j=g,_=DW,E=cn.cursorLine;else if(m==="BarChart")j=LW(u,g,l,c),_=xO,E=cn.cursorRectangle;else if(u==="radial"&&eI(g)){var{cx:C,cy:A,radius:R,startAngle:M,endAngle:I}=yO(g);j={cx:C,cy:A,startAngle:M,endAngle:I,innerRadius:R,outerRadius:R},_=wO,E=cn.cursorLine}else j={points:EX(u,g,l)},_=uc,E=cn.cursorLine;var P=typeof f=="object"&&"className"in f?f.className:void 0,k=Ip(Ip(Ip(Ip({stroke:"#ccc",pointerEvents:"none"},l),j),ql(f)),{},{payload:v,payloadIndex:N,className:ct("recharts-tooltip-cursor",P)});return b.createElement(fr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:E},b.createElement(rre,{cursor:f,cursorComp:_,cursorProps:k}))}function ire(e){var t=_ne(),n=eO(),r=nl(),a=x4();return t==null||n==null||r==null||a==null?null:b.createElement(are,xb({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var N4=b.createContext(null),sre=()=>b.useContext(N4),qv={exports:{}},Ik;function lre(){return Ik||(Ik=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(f,p,m){this.fn=f,this.context=p,this.once=m||!1}function l(f,p,m,g,v){if(typeof m!="function")throw new TypeError("The listener must be a function");var N=new a(m,g||f,v),j=n?n+p:p;return f._events[j]?f._events[j].fn?f._events[j]=[f._events[j],N]:f._events[j].push(N):(f._events[j]=N,f._eventsCount++),f}function c(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var p=[],m,g;if(this._eventsCount===0)return p;for(g in m=this._events)t.call(m,g)&&p.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(m)):p},u.prototype.listeners=function(p){var m=n?n+p:p,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var v=0,N=g.length,j=new Array(N);v<N;v++)j[v]=g[v].fn;return j},u.prototype.listenerCount=function(p){var m=n?n+p:p,g=this._events[m];return g?g.fn?1:g.length:0},u.prototype.emit=function(p,m,g,v,N,j){var _=n?n+p:p;if(!this._events[_])return!1;var E=this._events[_],C=arguments.length,A,R;if(E.fn){switch(E.once&&this.removeListener(p,E.fn,void 0,!0),C){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,m),!0;case 3:return E.fn.call(E.context,m,g),!0;case 4:return E.fn.call(E.context,m,g,v),!0;case 5:return E.fn.call(E.context,m,g,v,N),!0;case 6:return E.fn.call(E.context,m,g,v,N,j),!0}for(R=1,A=new Array(C-1);R<C;R++)A[R-1]=arguments[R];E.fn.apply(E.context,A)}else{var M=E.length,I;for(R=0;R<M;R++)switch(E[R].once&&this.removeListener(p,E[R].fn,void 0,!0),C){case 1:E[R].fn.call(E[R].context);break;case 2:E[R].fn.call(E[R].context,m);break;case 3:E[R].fn.call(E[R].context,m,g);break;case 4:E[R].fn.call(E[R].context,m,g,v);break;default:if(!A)for(I=1,A=new Array(C-1);I<C;I++)A[I-1]=arguments[I];E[R].fn.apply(E[R].context,A)}}return!0},u.prototype.on=function(p,m,g){return l(this,p,m,g,!1)},u.prototype.once=function(p,m,g){return l(this,p,m,g,!0)},u.prototype.removeListener=function(p,m,g,v){var N=n?n+p:p;if(!this._events[N])return this;if(!m)return c(this,N),this;var j=this._events[N];if(j.fn)j.fn===m&&(!v||j.once)&&(!g||j.context===g)&&c(this,N);else{for(var _=0,E=[],C=j.length;_<C;_++)(j[_].fn!==m||v&&!j[_].once||g&&j[_].context!==g)&&E.push(j[_]);E.length?this._events[N]=E.length===1?E[0]:E:c(this,N)}return this},u.prototype.removeAllListeners=function(p){var m;return p?(m=n?n+p:p,this._events[m]&&c(this,m)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(qv)),qv.exports}var ore=lre();const cre=ei(ore);var Sd=new cre,vb="recharts.syncEvent.tooltip",Ok="recharts.syncEvent.brush",Xh=(e,t)=>{if(t&&Array.isArray(e)){var n=Number.parseInt(t,10);if(!_a(n))return e[n]}},ure={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},S4=_r({name:"options",initialState:ure,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),dre=S4.reducer,{createEventEmitter:fre}=S4.actions;function pre(e){return e.tooltip.syncInteraction}var mre={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},j4=_r({name:"chartData",initialState:mre,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:Dk,setDataStartEndIndexes:hre,setComputedData:Wde}=j4.actions,gre=j4.reducer,xre=["x","y"];function Lk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Yo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lk(Object(n),!0).forEach(function(r){vre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vre(e,t,n){return(t=yre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wre(e,t){if(e==null)return{};var n,r,a=Nre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Nre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sre(){var e=Me(s1),t=Me(l1),n=Dt(),r=Me(xD),a=Me(ls),l=nl(),c=Ah(),u=Me(f=>f.rootProps.className);b.useEffect(()=>{if(e==null)return el;var f=(p,m,g)=>{if(t!==g&&e===p){if(r==="index"){var v;if(c&&m!==null&&m!==void 0&&(v=m.payload)!==null&&v!==void 0&&v.coordinate&&m.payload.sourceViewBox){var N=m.payload.coordinate,{x:j,y:_}=N,E=wre(N,xre),{x:C,y:A,width:R,height:M}=m.payload.sourceViewBox,I=Yo(Yo({},E),{},{x:c.x+(R?(j-C)/R:0)*c.width,y:c.y+(M?(_-A)/M:0)*c.height});n(Yo(Yo({},m),{},{payload:Yo(Yo({},m.payload),{},{coordinate:I})}))}else n(m);return}if(a!=null){var P;if(typeof r=="function"){var k={activeTooltipIndex:m.payload.index==null?void 0:Number(m.payload.index),isTooltipActive:m.payload.active,activeIndex:m.payload.index==null?void 0:Number(m.payload.index),activeLabel:m.payload.label,activeDataKey:m.payload.dataKey,activeCoordinate:m.payload.coordinate},L=r(a,k);P=a[L]}else r==="value"&&(P=a.find(F=>String(F.value)===m.payload.label));var{coordinate:z}=m.payload;if(P==null||m.payload.active===!1||z==null||c==null){n(hb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:J}=z,U=Math.min(q,c.x+c.width),Y=Math.min(J,c.y+c.height),te={x:l==="horizontal"?P.coordinate:U,y:l==="horizontal"?Y:P.coordinate},he=hb({active:m.payload.active,coordinate:te,dataKey:m.payload.dataKey,index:String(P.index),label:m.payload.label,sourceViewBox:m.payload.sourceViewBox,graphicalItemId:m.payload.graphicalItemId});n(he)}}};return Sd.on(vb,f),()=>{Sd.off(vb,f)}},[u,n,t,e,r,a,l,c])}function jre(){var e=Me(s1),t=Me(l1),n=Dt();b.useEffect(()=>{if(e==null)return el;var r=(a,l,c)=>{t!==c&&e===a&&n(hre(l))};return Sd.on(Ok,r),()=>{Sd.off(Ok,r)}},[n,t,e])}function _re(){var e=Dt();b.useEffect(()=>{e(fre())},[e]),Sre(),jre()}function Ere(e,t,n,r,a,l){var c=Me(N=>Pne(N,e,t)),u=Me(l1),f=Me(s1),p=Me(xD),m=Me(pre),g=m?.active,v=Ah();b.useEffect(()=>{if(!g&&f!=null&&u!=null){var N=hb({active:l,coordinate:n,dataKey:c,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:v,graphicalItemId:void 0});Sd.emit(vb,f,N,u)}},[g,n,c,a,r,u,f,p,l,v])}function zk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zk(Object(n),!0).forEach(function(r){Cre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cre(e,t,n){return(t=Are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Are(e){var t=Tre(e,"string");return typeof t=="symbol"?t:t+""}function Tre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e){return e.dataKey}function Mre(e,t){return b.isValidElement(e)?b.cloneElement(e,t):typeof e=="function"?b.createElement(e,t):b.createElement(hW,t)}var $k=[],Rre={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pi(e){var t,n,r=nn(e,Rre),{active:a,allowEscapeViewBox:l,animationDuration:c,animationEasing:u,content:f,filterNull:p,isAnimationActive:m,offset:g,payloadUniqBy:v,position:N,reverseDirection:j,useTranslate3d:_,wrapperStyle:E,cursor:C,shared:A,trigger:R,defaultIndex:M,portal:I,axisId:P}=r,k=Dt(),L=typeof M=="number"?String(M):M;b.useEffect(()=>{k(Ate({shared:A,trigger:R,axisId:P,active:a,defaultIndex:L}))},[k,A,R,P,a,L]);var z=Ah(),q=fO(),J=Nte(A),{activeIndex:U,isActive:Y}=(t=Me(ye=>Dne(ye,J,R,L)))!==null&&t!==void 0?t:{},te=Me(ye=>One(ye,J,R,L)),he=Me(ye=>b4(ye,J,R,L)),F=Me(ye=>Ine(ye,J,R,L)),G=te,X=sre(),oe=(n=a??Y)!==null&&n!==void 0?n:!1,[ve,O]=mI([G,oe]),K=J==="axis"?he:void 0;Ere(J,R,F,K,U,oe);var ce=I??X;if(ce==null||z==null||J==null)return null;var xe=G??$k;oe||(xe=$k),p&&xe.length&&(xe=cI(xe.filter(ye=>ye.value!=null&&(ye.hide!==!0||r.includeHidden)),v,kre));var Z=xe.length>0,ue=b.createElement(NW,{allowEscapeViewBox:l,animationDuration:c,animationEasing:u,isAnimationActive:m,active:oe,coordinate:F,hasPayload:Z,offset:g,position:N,reverseDirection:j,useTranslate3d:_,viewBox:z,wrapperStyle:E,lastBoundingBox:ve,innerRef:O,hasPortalFromProps:!!I},Mre(f,Uk(Uk({},r),{},{payload:xe,label:K,active:oe,activeIndex:U,coordinate:F,accessibilityLayer:q})));return b.createElement(b.Fragment,null,Bb.createPortal(ue,ce),oe&&b.createElement(ire,{cursor:C,tooltipEventType:J,coordinate:F,payload:xe,index:U}))}var Xs=e=>null;Xs.displayName="Cell";function Pre(e,t,n){return(t=Ire(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ire(e){var t=Ore(e,"string");return typeof t=="symbol"?t:t+""}function Ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dre{constructor(t){Pre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Lre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gk(Object(n),!0).forEach(function(r){zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zre(e,t,n){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ure(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gre={cacheSize:2e3,enableCache:!0},_4=Lre({},Gre),Bk=new Dre(_4.cacheSize),Bre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fk="recharts_measurement_span";function Fre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(l,"|").concat(c,"|").concat(u)}var qk=(e,t)=>{try{var n=document.getElementById(Fk);n||(n=document.createElement("span"),n.setAttribute("id",Fk),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Wu=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||zd.isSsr)return{width:0,height:0};if(!_4.enableCache)return qk(t,n);var r=Fre(t,n),a=Bk.get(r);if(a)return a;var l=qk(t,n);return Bk.set(r,l),l},E4;function qre(e,t,n){return(t=Hre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hre(e){var t=Vre(e,"string");return typeof t=="symbol"?t:t+""}function Vre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Vk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Yre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Jre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wre=["cm","mm","pt","pc","in","Q","px"];function Xre(e){return Wre.includes(e)}var nc="NaN";function Zre(e,t){return e*Jre[t]}class Bn{static parse(t){var n,[,r,a]=(n=Yre.exec(t))!==null&&n!==void 0?n:[];return r==null?Bn.NaN:new Bn(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,_a(t)&&(this.unit=""),n!==""&&!Kre.test(n)&&(this.num=NaN,this.unit=""),Xre(n)&&(this.num=Zre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Bn(NaN,""):new Bn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return _a(this.num)}}E4=Bn;qre(Bn,"NaN",new E4(NaN,""));function C4(e){if(e==null||e.includes(nc))return nc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,l]=(n=Hk.exec(t))!==null&&n!==void 0?n:[],c=Bn.parse(r??""),u=Bn.parse(l??""),f=a==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return nc;t=t.replace(Hk,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,[,m,g,v]=(p=Vk.exec(t))!==null&&p!==void 0?p:[],N=Bn.parse(m??""),j=Bn.parse(v??""),_=g==="+"?N.add(j):N.subtract(j);if(_.isNaN())return nc;t=t.replace(Vk,_.toString())}return t}var Kk=/\(([^()]*)\)/;function Qre(e){for(var t=e,n;(n=Kk.exec(t))!=null;){var[,r]=n;t=t.replace(Kk,C4(r))}return t}function eae(e){var t=e.replace(/\s+/g,"");return t=Qre(t),t=C4(t),t}function tae(e){try{return eae(e)}catch{return nc}}function Hv(e){var t=tae(e.slice(5,-1));return t===nc?"":t}var nae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],rae=["dx","dy","angle","className","breakAll"];function yb(){return yb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yb.apply(null,arguments)}function Yk(e,t){if(e==null)return{};var n,r,a=aae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A4=/[ \f\n\r\t\v\u2028\u2029]+/,T4=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];Vt(t)||(n?a=t.toString().split(""):a=t.toString().split(A4));var l=a.map(u=>({word:u,width:Wu(u,r).width})),c=n?0:Wu("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}};function iae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var k4=(e,t,n,r)=>e.reduce((a,l)=>{var{word:c,width:u}=l,f=a[a.length-1];if(f&&u!=null&&(t==null||r||f.width+u+n<Number(t)))f.words.push(c),f.width+=u+n;else{var p={words:[c],width:u};a.push(p)}return a},[]),M4=e=>e.reduce((t,n)=>t.width>n.width?t:n),sae="",Jk=(e,t,n,r,a,l,c,u)=>{var f=e.slice(0,t),p=T4({breakAll:n,style:r,children:f+sae});if(!p)return[!1,[]];var m=k4(p.wordsWithComputedWidth,l,c,u),g=m.length>a||M4(m).width>Number(l);return[g,m]},lae=(e,t,n,r,a)=>{var{maxLines:l,children:c,style:u,breakAll:f}=e,p=Ee(l),m=String(c),g=k4(t,r,n,a);if(!p||a)return g;var v=g.length>l||M4(g).width>Number(r);if(!v)return g;for(var N=0,j=m.length-1,_=0,E;N<=j&&_<=m.length-1;){var C=Math.floor((N+j)/2),A=C-1,[R,M]=Jk(m,A,f,u,l,r,n,a),[I]=Jk(m,C,f,u,l,r,n,a);if(!R&&!I&&(N=C+1),R&&I&&(j=C-1),!R&&I){E=M;break}_++}return E||g},Wk=e=>{var t=Vt(e)?[]:e.toString().split(A4);return[{words:t,width:void 0}]},oae=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:l,maxLines:c}=e;if((t||n)&&!zd.isSsr){var u,f,p=T4({breakAll:l,children:r,style:a});if(p){var{wordsWithComputedWidth:m,spaceWidth:g}=p;u=m,f=g}else return Wk(r);return lae({breakAll:l,children:r,maxLines:c,style:a},u,f,t,!!n)}return Wk(r)},R4="#808080",cae={angle:0,breakAll:!1,capHeight:"0.71em",fill:R4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Zh=b.forwardRef((e,t)=>{var n=nn(e,cae),{x:r,y:a,lineHeight:l,capHeight:c,fill:u,scaleToFit:f,textAnchor:p,verticalAnchor:m}=n,g=Yk(n,nae),v=b.useMemo(()=>oae({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:f,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,f,g.style,g.width]),{dx:N,dy:j,angle:_,className:E,breakAll:C}=g,A=Yk(g,rae);if(!Ja(r)||!Ja(a)||v.length===0)return null;var R=Number(r)+(Ee(N)?N:0),M=Number(a)+(Ee(j)?j:0);if(!Qe(R)||!Qe(M))return null;var I;switch(m){case"start":I=Hv("calc(".concat(c,")"));break;case"middle":I=Hv("calc(".concat((v.length-1)/2," * -").concat(l," + (").concat(c," / 2))"));break;default:I=Hv("calc(".concat(v.length-1," * -").concat(l,")"));break}var P=[],k=v[0];if(f&&k!=null){var L=k.width,{width:z}=g;P.push("scale(".concat(Ee(z)&&Ee(L)?z/L:1,")"))}return _&&P.push("rotate(".concat(_,", ").concat(R,", ").concat(M,")")),P.length&&(A.transform=P.join(" ")),b.createElement("text",yb({},er(A),{ref:t,x:R,y:M,className:ct("recharts-text",E),textAnchor:p,fill:u.includes("url")?R4:u}),v.map((q,J)=>{var U=q.words.join(C?"":" ");return b.createElement("tspan",{x:R,dy:J===0?I:l,key:"".concat(U,"-").concat(J)},U)}))});Zh.displayName="Text";function Xk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xk(Object(n),!0).forEach(function(r){uae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uae(e,t,n){return(t=dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pae=e=>{var{viewBox:t,position:n,offset:r=0,parentViewBox:a}=e,{x:l,y:c,height:u,upperWidth:f,lowerWidth:p}=Cw(t),m=l,g=l+(f-p)/2,v=(m+g)/2,N=(f+p)/2,j=m+f/2,_=u>=0?1:-1,E=_*r,C=_>0?"end":"start",A=_>0?"start":"end",R=f>=0?1:-1,M=R*r,I=R>0?"end":"start",P=R>0?"start":"end",k=a;if(n==="top"){var L={x:m+f/2,y:c-E,horizontalAnchor:"middle",verticalAnchor:C};return k&&(L.height=Math.max(c-k.y,0),L.width=f),L}if(n==="bottom"){var z={x:g+p/2,y:c+u+E,horizontalAnchor:"middle",verticalAnchor:A};return k&&(z.height=Math.max(k.y+k.height-(c+u),0),z.width=p),z}if(n==="left"){var q={x:v-M,y:c+u/2,horizontalAnchor:I,verticalAnchor:"middle"};return k&&(q.width=Math.max(q.x-k.x,0),q.height=u),q}if(n==="right"){var J={x:v+N+M,y:c+u/2,horizontalAnchor:P,verticalAnchor:"middle"};return k&&(J.width=Math.max(k.x+k.width-J.x,0),J.height=u),J}var U=k?{width:N,height:u}:{};return n==="insideLeft"?$a({x:v+M,y:c+u/2,horizontalAnchor:P,verticalAnchor:"middle"},U):n==="insideRight"?$a({x:v+N-M,y:c+u/2,horizontalAnchor:I,verticalAnchor:"middle"},U):n==="insideTop"?$a({x:m+f/2,y:c+E,horizontalAnchor:"middle",verticalAnchor:A},U):n==="insideBottom"?$a({x:g+p/2,y:c+u-E,horizontalAnchor:"middle",verticalAnchor:C},U):n==="insideTopLeft"?$a({x:m+M,y:c+E,horizontalAnchor:P,verticalAnchor:A},U):n==="insideTopRight"?$a({x:m+f-M,y:c+E,horizontalAnchor:I,verticalAnchor:A},U):n==="insideBottomLeft"?$a({x:g+M,y:c+u-E,horizontalAnchor:P,verticalAnchor:C},U):n==="insideBottomRight"?$a({x:g+p-M,y:c+u-E,horizontalAnchor:I,verticalAnchor:C},U):n&&typeof n=="object"&&(Ee(n.x)||Kl(n.x))&&(Ee(n.y)||Kl(n.y))?$a({x:l+Qn(n.x,N),y:c+Qn(n.y,u),horizontalAnchor:"end",verticalAnchor:"end"},U):$a({x:j,y:c+u/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},mae=["labelRef"],hae=["content"];function Zk(e,t){if(e==null)return{};var n,r,a=gae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Qk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ku(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Qk(Object(n),!0).forEach(function(r){xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xae(e,t,n){return(t=vae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(null,arguments)}var P4=b.createContext(null),bae=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:l,height:c,children:u}=e,f=b.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:l,height:c}),[t,n,r,a,l,c]);return b.createElement(P4.Provider,{value:f},u)},I4=()=>{var e=b.useContext(P4),t=Ah();return e||(t?Cw(t):void 0)},wae=b.createContext(null),Nae=()=>{var e=b.useContext(wae),t=Me(ND);return e||t},Sae=e=>{var{value:t,formatter:n}=e,r=Vt(e.children)?t:e.children;return typeof n=="function"?n(r):r},B1=e=>e!=null&&typeof e=="function",jae=(e,t)=>{var n=Tn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},_ae=(e,t,n,r,a)=>{var{offset:l,className:c}=e,{cx:u,cy:f,innerRadius:p,outerRadius:m,startAngle:g,endAngle:v,clockWise:N}=a,j=(p+m)/2,_=jae(g,v),E=_>=0?1:-1,C,A;switch(t){case"insideStart":C=g+E*l,A=N;break;case"insideEnd":C=v-E*l,A=!N;break;case"end":C=v+E*l,A=N;break;default:throw new Error("Unsupported position ".concat(t))}A=_<=0?A:!A;var R=gn(u,f,j,C),M=gn(u,f,j,C+(A?1:-1)*359),I="M".concat(R.x,",").concat(R.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(A?0:1,`,
    `).concat(M.x,",").concat(M.y),P=Vt(e.id)?ud("recharts-radial-line-"):e.id;return b.createElement("text",Oi({},r,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",c)}),b.createElement("defs",null,b.createElement("path",{id:P,d:I})),b.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Eae=(e,t,n)=>{var{cx:r,cy:a,innerRadius:l,outerRadius:c,startAngle:u,endAngle:f}=e,p=(u+f)/2;if(n==="outside"){var{x:m,y:g}=gn(r,a,c+t,p);return{x:m,y:g,textAnchor:m>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:N,y:j}=gn(r,a,v,p);return{x:N,y:j,textAnchor:"middle",verticalAnchor:"middle"}},Vp=e=>e!=null&&"cx"in e&&Ee(e.cx),Cae={angle:0,offset:5,zIndex:cn.label,position:"middle",textBreakAll:!1};function Aae(e){if(!Vp(e))return e;var{cx:t,cy:n,outerRadius:r}=e,a=r*2;return{x:t-r,y:n-r,width:a,upperWidth:a,lowerWidth:a,height:a}}function Ls(e){var t=nn(e,Cae),{viewBox:n,parentViewBox:r,position:a,value:l,children:c,content:u,className:f="",textBreakAll:p,labelRef:m}=t,g=Nae(),v=I4(),N=a==="center"?v:g??v,j,_,E;n==null?j=N:Vp(n)?j=n:j=Cw(n);var C=Aae(j);if(!j||Vt(l)&&Vt(c)&&!b.isValidElement(u)&&typeof u!="function")return null;var A=Ku(Ku({},t),{},{viewBox:j});if(b.isValidElement(u)){var{labelRef:R}=A,M=Zk(A,mae);return b.cloneElement(u,M)}if(typeof u=="function"){var{content:I}=A,P=Zk(A,hae);if(_=b.createElement(u,P),b.isValidElement(_))return _}else _=Sae(t);var k=er(t);if(Vp(j)){if(a==="insideStart"||a==="insideEnd"||a==="end")return _ae(t,a,_,k,j);E=Eae(j,t.offset,t.position)}else{if(!C)return null;var L=pae({viewBox:C,position:a,offset:t.offset,parentViewBox:Vp(r)?void 0:r});E=Ku(Ku({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return b.createElement(fr,{zIndex:t.zIndex},b.createElement(Zh,Oi({ref:m,className:ct("recharts-label",f)},k,E,{textAnchor:iae(k.textAnchor)?k.textAnchor:E.textAnchor,breakAll:p}),_))}Ls.displayName="Label";var Tae=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?b.createElement(Ls,Oi({key:"label-implicit"},r)):Ja(e)?b.createElement(Ls,Oi({key:"label-implicit",value:e},r)):b.isValidElement(e)?e.type===Ls?b.cloneElement(e,Ku({key:"label-implicit"},r)):b.createElement(Ls,Oi({key:"label-implicit",content:e},r)):B1(e)?b.createElement(Ls,Oi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?b.createElement(Ls,Oi({},e,{key:"label-implicit"},r)):null};function kae(e){var{label:t,labelRef:n}=e,r=I4();return Tae(t,r,n)||null}var Vv={},Kv={},eM;function Mae(){return eM||(eM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(Kv)),Kv}var Yv={},tM;function Rae(){return tM||(tM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(Yv)),Yv}var nM;function Pae(){return nM||(nM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mae(),n=Rae(),r=gw();function a(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=a})(Vv)),Vv}var Jv,rM;function Iae(){return rM||(rM=1,Jv=Pae().last),Jv}var Oae=Iae();const Dae=ei(Oae);var Lae=["valueAccessor"],zae=["dataKey","clockWise","id","textBreakAll","zIndex"];function Vm(){return Vm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vm.apply(null,arguments)}function aM(e,t){if(e==null)return{};var n,r,a=Uae(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Uae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $ae=e=>Array.isArray(e.value)?Dae(e.value):e.value,O4=b.createContext(void 0),F1=O4.Provider,D4=b.createContext(void 0),Gae=D4.Provider;function Bae(){return b.useContext(O4)}function Fae(){return b.useContext(D4)}function Kp(e){var{valueAccessor:t=$ae}=e,n=aM(e,Lae),{dataKey:r,clockWise:a,id:l,textBreakAll:c,zIndex:u}=n,f=aM(n,zae),p=Bae(),m=Fae(),g=p||m;return!g||!g.length?null:b.createElement(fr,{zIndex:u??cn.label},b.createElement(tn,{className:"recharts-label-list"},g.map((v,N)=>{var j,_=Vt(r)?t(v,N):Nt(v.payload,r),E=Vt(l)?{}:{id:"".concat(l,"-").concat(N)};return b.createElement(Ls,Vm({key:"label-".concat(N)},er(v),f,E,{fill:(j=n.fill)!==null&&j!==void 0?j:v.fill,parentViewBox:v.parentViewBox,value:_,textBreakAll:c,viewBox:v.viewBox,index:N,zIndex:0}))})))}Kp.displayName="LabelList";function Qh(e){var{label:t}=e;return t?t===!0?b.createElement(Kp,{key:"labelList-implicit"}):b.isValidElement(t)||B1(t)?b.createElement(Kp,{key:"labelList-implicit",content:t}):typeof t=="object"?b.createElement(Kp,Vm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function bb(){return bb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bb.apply(null,arguments)}var L4=e=>{var{cx:t,cy:n,r,className:a}=e,l=ct("recharts-dot",a);return Ee(t)&&Ee(n)&&Ee(r)?b.createElement("circle",bb({},ur(e),hw(e),{className:l,cx:t,cy:n,r})):null},z4=e=>e.graphicalItems.polarItems,qae=Q([Yt,qd],f1),e0=Q([z4,rn,qae],p1),Hae=Q([e0],m1),t0=Q([Hae,zh],h1),Vae=Q([t0,rn,e0],x1);Q([t0,rn,e0],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var l,c=Nt(r,(l=t.dataKey)!==null&&l!==void 0?l:a.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):t?.dataKey!=null?e.map(r=>({value:Nt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var iM=()=>{},Kae=Q([t0,rn,e0,Kh,Yt],w1),Yae=Q([rn,y1,b1,iM,Kae,iM,ot,Yt],N1),U4=Q([rn,ot,t0,Vae,Fd,Yt,Yae],S1),Jae=Q([U4,Rc,il],E1),Wae=Q([rn,U4,Jae,Yt],A1);Q([il,Wae],jD);var Xae={radiusAxis:{},angleAxis:{}},$4=_r({name:"polarAxis",initialState:Xae,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Xde,removeRadiusAxis:Zde,addAngleAxis:Qde,removeAngleAxis:efe}=$4.actions,Zae=$4.reducer;function G4(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(r){Qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qae(e,t,n){return(t=eie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nie=(e,t)=>t,q1=Q([z4,nie],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),rie=[],H1=(e,t,n)=>n?.length===0?rie:n,B4=Q([zh,q1,H1],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if(t?.data!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(l=>lM(lM({},t.presentationProps),l.props))),a!=null)return a}}),aie=Q([B4,q1,H1],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var l,c=Nt(r,t.nameKey,t.name),u;return n!=null&&(l=n[a])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:tl(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),iie=Q([B4,q1,H1,bn],(e,t,n,r)=>{if(!(t==null||e==null))return sse({offset:r,pieSettings:t,displayedData:e,cells:n})}),Wv={exports:{}},kt={};var oM;function sie(){if(oM)return kt;oM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),N=Symbol.for("react.client.reference");function j(_){if(typeof _=="object"&&_!==null){var E=_.$$typeof;switch(E){case e:switch(_=_.type,_){case n:case a:case r:case f:case p:case v:return _;default:switch(_=_&&_.$$typeof,_){case c:case u:case g:case m:return _;case l:return _;default:return E}}case t:return E}}}return kt.ContextConsumer=l,kt.ContextProvider=c,kt.Element=e,kt.ForwardRef=u,kt.Fragment=n,kt.Lazy=g,kt.Memo=m,kt.Portal=t,kt.Profiler=a,kt.StrictMode=r,kt.Suspense=f,kt.SuspenseList=p,kt.isContextConsumer=function(_){return j(_)===l},kt.isContextProvider=function(_){return j(_)===c},kt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},kt.isForwardRef=function(_){return j(_)===u},kt.isFragment=function(_){return j(_)===n},kt.isLazy=function(_){return j(_)===g},kt.isMemo=function(_){return j(_)===m},kt.isPortal=function(_){return j(_)===t},kt.isProfiler=function(_){return j(_)===a},kt.isStrictMode=function(_){return j(_)===r},kt.isSuspense=function(_){return j(_)===f},kt.isSuspenseList=function(_){return j(_)===p},kt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===a||_===r||_===f||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===m||_.$$typeof===c||_.$$typeof===l||_.$$typeof===u||_.$$typeof===N||_.getModuleId!==void 0)},kt.typeOf=j,kt}var cM;function lie(){return cM||(cM=1,Wv.exports=sie()),Wv.exports}var oie=lie(),uM=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dM=null,Xv=null,F4=e=>{if(e===dM&&Array.isArray(Xv))return Xv;var t=[];return b.Children.forEach(e,n=>{Vt(n)||(oie.isFragment(n)?t=t.concat(F4(n.props.children)):t.push(n))}),Xv=t,dM=e,t};function V1(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>uM(a)):r=[uM(t)],F4(e).forEach(a=>{var l=Vl(a,"type.displayName")||Vl(a,"type.name");l&&r.indexOf(l)!==-1&&n.push(a)}),n}var K1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Zv={},fM;function cie(){return fM||(fM=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(Zv)),Zv}var Qv,pM;function uie(){return pM||(pM=1,Qv=cie().isPlainObject),Qv}var die=uie();const fie=ei(die);var mM,hM,gM,xM,vM;function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pie(e,t,n){return(t=mie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Km.apply(null,arguments)}function Bu(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var wM=(e,t,n,r,a)=>{var l=n-r,c;return c=Qt(mM||(mM=Bu(["M ",",",""])),e,t),c+=Qt(hM||(hM=Bu(["L ",",",""])),e+n,t),c+=Qt(gM||(gM=Bu(["L ",",",""])),e+n-l/2,t+a),c+=Qt(xM||(xM=Bu(["L ",",",""])),e+n-l/2-r,t+a),c+=Qt(vM||(vM=Bu(["L ",","," Z"])),e,t),c},gie={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xie=e=>{var t=nn(e,gie),{x:n,y:r,upperWidth:a,lowerWidth:l,height:c,className:u}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isUpdateAnimationActive:g}=t,v=b.useRef(null),[N,j]=b.useState(-1),_=b.useRef(a),E=b.useRef(l),C=b.useRef(c),A=b.useRef(n),R=b.useRef(r),M=Cc(e,"trapezoid-");if(b.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var te=v.current.getTotalLength();te&&j(te)}catch{}},[]),n!==+n||r!==+r||a!==+a||l!==+l||c!==+c||a===0&&l===0||c===0)return null;var I=ct("recharts-trapezoid",u);if(!g)return b.createElement("g",null,b.createElement("path",Km({},er(t),{className:I,d:wM(n,r,a,l,c)})));var P=_.current,k=E.current,L=C.current,z=A.current,q=R.current,J="0px ".concat(N===-1?1:N,"px"),U="".concat(N,"px 0px"),Y=pO(["strokeDasharray"],p,f);return b.createElement(Ec,{animationId:M,key:M,canBegin:N>0,duration:p,easing:f,isActive:g,begin:m},te=>{var he=wt(P,a,te),F=wt(k,l,te),G=wt(L,c,te),X=wt(z,n,te),oe=wt(q,r,te);v.current&&(_.current=he,E.current=F,C.current=G,A.current=X,R.current=oe);var ve=te>0?{transition:Y,strokeDasharray:U}:{strokeDasharray:J};return b.createElement("path",Km({},er(t),{className:I,d:wM(X,oe,he,F,G),ref:v,style:bM(bM({},ve),t.style)}))})},vie=["option","shapeType","activeClassName"];function yie(e,t){if(e==null)return{};var n,r,a=bie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NM(Object(n),!0).forEach(function(r){wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wie(e,t,n){return(t=Nie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nie(e){var t=Sie(e,"string");return typeof t=="symbol"?t:t+""}function Sie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jie(e,t){return Ym(Ym({},t),e)}function _ie(e,t){return e==="symbols"}function SM(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return b.createElement(xO,n);case"trapezoid":return b.createElement(xie,n);case"sector":return b.createElement(wO,n);case"symbols":if(_ie(t))return b.createElement(mw,n);break;case"curve":return b.createElement(uc,n);default:return null}}function Eie(e){return b.isValidElement(e)?e.props:e}function Y1(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=yie(e,vie),l;if(b.isValidElement(t))l=b.cloneElement(t,Ym(Ym({},a),Eie(t)));else if(typeof t=="function")l=t(a,a.index);else if(fie(t)&&typeof t!="boolean"){var c=jie(t,a);l=b.createElement(SM,{shapeType:n,elementProps:c})}else{var u=a;l=b.createElement(SM,{shapeType:n,elementProps:u})}return a.isActive?b.createElement(tn,{className:r},l):l}var J1=(e,t,n)=>{var r=Dt();return(a,l)=>c=>{e?.(a,l,c),r(e4({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},W1=e=>{var t=Dt();return(n,r)=>a=>{e?.(n,r,a),t(Tte())}},X1=(e,t,n)=>{var r=Dt();return(a,l)=>c=>{e?.(a,l,c),r(kte({activeIndex:String(l),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function n0(e){var{tooltipEntrySettings:t}=e,n=Dt(),r=Mn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(_te(t)):a.current!==t&&n(Ete({prev:a.current,next:t})),a.current=t)},[t,n,r]),b.useLayoutEffect(()=>()=>{a.current&&(n(Cte(a.current)),a.current=null)},[n]),null}function Z1(e){var{legendPayload:t}=e,n=Dt(),r=Mn(),a=b.useRef(null);return b.useLayoutEffect(()=>{r||(a.current===null?n(cO(t)):a.current!==t&&n(uO({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(dO(a.current)),a.current=null)},[n]),null}function Cie(e){var{legendPayload:t}=e,n=Dt(),r=Me(ot),a=b.useRef(null);return b.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(cO(t)):a.current!==t&&n(uO({prev:a.current,next:t})),a.current=t)},[n,r,t]),b.useLayoutEffect(()=>()=>{a.current&&(n(dO(a.current)),a.current=null)},[n]),null}var ey,Aie=()=>{var[e]=b.useState(()=>ud("uid-"));return e},Tie=(ey=V3.useId)!==null&&ey!==void 0?ey:Aie;function kie(e,t){var n=Tie();return t||(e?"".concat(e,"-").concat(n):n)}var Mie=b.createContext(void 0),r0=e=>{var{id:t,type:n,children:r}=e,a=kie("recharts-".concat(n),t);return b.createElement(Mie.Provider,{value:a},r(a))},Rie={cartesianItems:[],polarItems:[]},q4=_r({name:"graphicalItems",initialState:Rie,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Ft()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=Sa(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:Ft()},removeCartesianGraphicalItem:{reducer(e,t){var n=Sa(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:Ft()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Ft()},removePolarGraphicalItem:{reducer(e,t){var n=Sa(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:Ft()}}}),{addCartesianGraphicalItem:Pie,replaceCartesianGraphicalItem:Iie,removeCartesianGraphicalItem:Oie,addPolarGraphicalItem:Die,removePolarGraphicalItem:Lie}=q4.actions,zie=q4.reducer,Uie=e=>{var t=Dt(),n=b.useRef(null);return b.useLayoutEffect(()=>{n.current===null?t(Pie(e)):n.current!==e&&t(Iie({prev:n.current,next:e})),n.current=e},[t,e]),b.useLayoutEffect(()=>()=>{n.current&&(t(Oie(n.current)),n.current=null)},[t]),null},Q1=b.memo(Uie);function $ie(e){var t=Dt();return b.useLayoutEffect(()=>(t(Die(e)),()=>{t(Lie(e))}),[t,e]),null}var Gie=["key"],Bie=["onMouseEnter","onClick","onMouseLeave"],Fie=["id"],qie=["id"];function jM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(n),!0).forEach(function(r){Hie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hie(e,t,n){return(t=Vie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vie(e){var t=Kie(e,"string");return typeof t=="symbol"?t:t+""}function Kie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zs.apply(null,arguments)}function a0(e,t){if(e==null)return{};var n,r,a=Yie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jie(e){var t=b.useMemo(()=>V1(e.children,Xs),[e.children]),n=Me(r=>aie(r,e.id,t));return n==null?null:b.createElement(Cie,{legendPayload:n})}var Wie=b.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:l,fill:c,name:u,hide:f,tooltipType:p,id:m}=e,g={dataDefinedOnItem:r.map(v=>v.tooltipPayload),getPosition:v=>{var N;return(N=r[Number(v)])===null||N===void 0?void 0:N.tooltipPosition},settings:{stroke:a,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:tl(u,t),hide:f,type:p,color:c,unit:"",graphicalItemId:m}};return b.createElement(n0,{tooltipEntrySettings:g})}),Xie=(e,t)=>e>t?"start":e<t?"end":"middle",Zie=(e,t,n)=>Qn(typeof t=="function"?t(e):t,n,n*.8),Qie=(e,t,n)=>{var{top:r,left:a,width:l,height:c}=t,u=vO(l,c),f=a+Qn(e.cx,l,l/2),p=r+Qn(e.cy,c,c/2),m=Qn(e.innerRadius,u,0),g=Zie(n,e.outerRadius,u),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:p,innerRadius:m,outerRadius:g,maxRadius:v}},ese=(e,t)=>{var n=Tn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},tse=(e,t)=>{if(b.isValidElement(e))return b.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ct("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=a0(t,Gie);return b.createElement(uc,Zs({},a,{type:"linear",className:n}))},nse=(e,t,n)=>{if(b.isValidElement(e))return b.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),b.isValidElement(r)))return r;var a=ct("recharts-pie-label-text",G4(e));return b.createElement(Zh,Zs({},t,{alignmentBaseline:"middle",className:a}),r)};function rse(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:l,dataKey:c}=n;if(!r||!a||!t)return null;var u=ur(n),f=ql(a),p=ql(l),m=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,g=t.map((v,N)=>{var j=(v.startAngle+v.endAngle)/2,_=gn(v.cx,v.cy,v.outerRadius+m,j),E=en(en(en(en({},u),v),{},{stroke:"none"},f),{},{index:N,textAnchor:Xie(_.x,v.cx)},_),C=en(en(en(en({},u),v),{},{fill:"none",stroke:v.fill},p),{},{index:N,points:[gn(v.cx,v.cy,v.outerRadius,j),_],key:"line"});return b.createElement(fr,{zIndex:cn.label,key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(N)},b.createElement(tn,null,l&&tse(l,C),nse(a,E,Nt(v,c))))});return b.createElement(tn,{className:"recharts-pie-labels"},g)}function ase(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?b.createElement(Qh,{label:a}):b.createElement(rse,{sectors:t,props:n,showLabels:r})}function ise(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:l,id:c}=e,u=Me(Ws),f=Me(L1),p=Me(hne),{onMouseEnter:m,onClick:g,onMouseLeave:v}=a,N=a0(a,Bie),j=J1(m,a.dataKey,c),_=W1(v),E=X1(g,a.dataKey,c);return t==null||t.length===0?null:b.createElement(b.Fragment,null,t.map((C,A)=>{if(C?.startAngle===0&&C?.endAngle===0&&t.length!==1)return null;var R=p==null||p===c,M=String(A)===u&&(f==null||a.dataKey===f)&&R,I=u?r:null,P=n&&M?n:I,k=en(en({},C),{},{stroke:C.stroke,tabIndex:-1,[JI]:A,[WI]:c});return b.createElement(tn,Zs({key:"sector-".concat(C?.startAngle,"-").concat(C?.endAngle,"-").concat(C.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},Rd(N,C,A),{onMouseEnter:j(C,A),onMouseLeave:_(C,A),onClick:E(C,A)}),b.createElement(Y1,Zs({option:l??P,index:A,shapeType:"sector",isActive:M},k)))}))}function sse(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:f,dataKey:p,nameKey:m,tooltipType:g}=n,v=Math.abs(n.minAngle),N=ese(u,f),j=Math.abs(N),_=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter(P=>Nt(P,p,0)!==0).length,C=(j>=360?E:E-1)*_,A=j-E*v-C,R=r.reduce((P,k)=>{var L=Nt(k,p,0);return P+(Ee(L)?L:0)},0),M;if(R>0){var I;M=r.map((P,k)=>{var L=Nt(P,p,0),z=Nt(P,m,k),q=Qie(n,l,P),J=(Ee(L)?L:0)/R,U,Y=en(en({},P),a&&a[k]&&a[k].props);k?U=I.endAngle+Tn(N)*_*(L!==0?1:0):U=u;var te=U+Tn(N)*((L!==0?v:0)+J*A),he=(U+te)/2,F=(q.innerRadius+q.outerRadius)/2,G=[{name:z,value:L,payload:Y,dataKey:p,type:g,graphicalItemId:n.id}],X=gn(q.cx,q.cy,F,he);return I=en(en(en(en({},n.presentationProps),{},{percent:J,cornerRadius:typeof c=="string"?parseFloat(c):c,name:z,tooltipPayload:G,midAngle:he,middleRadius:F,tooltipPosition:X},Y),q),{},{value:L,dataKey:p,startAngle:U,endAngle:te,payload:Y,paddingAngle:Tn(N)*_}),I})}return M}function lse(e){var{showLabels:t,sectors:n,children:r}=e,a=b.useMemo(()=>!t||!n?[]:n.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[n,t]);return b.createElement(Gae,{value:t?a:void 0},r)}function ose(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,activeShape:p,inactiveShape:m,onAnimationStart:g,onAnimationEnd:v}=t,N=Cc(t,"recharts-pie-"),j=n.current,[_,E]=b.useState(!1),C=b.useCallback(()=>{typeof v=="function"&&v(),E(!1)},[v]),A=b.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]);return b.createElement(lse,{showLabels:!_,sectors:a},b.createElement(Ec,{animationId:N,begin:c,duration:u,isActive:l,easing:f,onAnimationStart:A,onAnimationEnd:C,key:N},R=>{var M,I=[],P=a&&a[0],k=(M=P?.startAngle)!==null&&M!==void 0?M:0;return a?.forEach((L,z)=>{var q=j&&j[z],J=z>0?Vl(L,"paddingAngle",0):0;if(q){var U=wt(q.endAngle-q.startAngle,L.endAngle-L.startAngle,R),Y=en(en({},L),{},{startAngle:k+J,endAngle:k+U+J});I.push(Y),k=Y.endAngle}else{var{endAngle:te,startAngle:he}=L,F=wt(0,te-he,R),G=en(en({},L),{},{startAngle:k+J,endAngle:k+F+J});I.push(G),k=G.endAngle}}),n.current=I,b.createElement(tn,null,b.createElement(ise,{sectors:I,activeShape:p,inactiveShape:m,allOtherPieProps:t,shape:t.shape,id:r}))}),b.createElement(ase,{showLabels:!_,sectors:a,props:t}),t.children)}var cse={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:cn.area};function use(e){var{id:t}=e,n=a0(e,Fie),{hide:r,className:a,rootTabIndex:l}=e,c=b.useMemo(()=>V1(e.children,Xs),[e.children]),u=Me(m=>iie(m,t,c)),f=b.useRef(null),p=ct("recharts-pie",a);return r||u==null?(f.current=null,b.createElement(tn,{tabIndex:l,className:p})):b.createElement(fr,{zIndex:e.zIndex},b.createElement(Wie,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:u,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),b.createElement(tn,{tabIndex:l,className:p},b.createElement(ose,{props:en(en({},n),{},{sectors:u}),previousSectorsRef:f,id:t})))}function wb(e){var t=nn(e,cse),{id:n}=t,r=a0(t,qie),a=ur(r);return b.createElement(r0,{id:n,type:"pie"},l=>b.createElement(b.Fragment,null,b.createElement($ie,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),b.createElement(Jie,Zs({},r,{id:l})),b.createElement(use,Zs({},r,{id:l}))))}wb.displayName="Pie";var dse=["points"];function _M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ty(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_M(Object(n),!0).forEach(function(r){fse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_M(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fse(e,t,n){return(t=pse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pse(e){var t=mse(e,"string");return typeof t=="symbol"?t:t+""}function mse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jm.apply(null,arguments)}function hse(e,t){if(e==null)return{};var n,r,a=gse(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xse(e){var{option:t,dotProps:n,className:r}=e;if(b.isValidElement(t))return b.cloneElement(t,n);if(typeof t=="function")return t(n);var a=ct(r,typeof t!="boolean"?t.className:""),l=n??{},{points:c}=l,u=hse(l,dse);return b.createElement(L4,Jm({},u,{className:a}))}function vse(e,t){return e==null?!1:t?!0:e.length===1}function H4(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:l,baseProps:c,needClip:u,clipPathId:f,zIndex:p=cn.scatter}=e;if(!vse(t,n))return null;var m=K1(n),g=OV(n),v=t.map((j,_)=>{var E,C,A=ty(ty(ty({r:3},c),g),{},{index:_,cx:(E=j.x)!==null&&E!==void 0?E:void 0,cy:(C=j.y)!==null&&C!==void 0?C:void 0,dataKey:l,value:j.value,payload:j.payload,points:t});return b.createElement(xse,{key:"dot-".concat(_),option:n,dotProps:A,className:a})}),N={};return u&&f!=null&&(N.clipPath="url(#clipPath-".concat(m?"":"dots-").concat(f,")")),b.createElement(fr,{zIndex:p},b.createElement(tn,Jm({className:r},N),v))}function EM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EM(Object(n),!0).forEach(function(r){yse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yse(e,t,n){return(t=bse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bse(e){var t=wse(e,"string");return typeof t=="symbol"?t:t+""}function wse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var V4=0,Nse={xAxis:{},yAxis:{},zAxis:{}},K4=_r({name:"cartesianAxis",initialState:Nse,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Ft()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:Ft()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Ft()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Ft()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:Ft()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Ft()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Ft()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:Ft()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Ft()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var l,c=a.widthHistory||[];if(c.length===3&&c[0]===c[2]&&r===c[1]&&r!==a.width&&Math.abs(r-((l=c[0])!==null&&l!==void 0?l:0))<=1)return;var u=[...c,r].slice(-3);e.yAxis[n]=CM(CM({},a),{},{width:r,widthHistory:u})}}}}),{addXAxis:Sse,replaceXAxis:jse,removeXAxis:_se,addYAxis:Ese,replaceYAxis:Cse,removeYAxis:Ase,addZAxis:tfe,replaceZAxis:nfe,removeZAxis:rfe,updateYAxisWidth:Tse}=K4.actions,kse=K4.reducer,Mse=Q([bn],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Rse=Q([Mse,ts,ns],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),i0=()=>Me(Rse),Pse=()=>Me(bne);function AM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ny(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AM(Object(n),!0).forEach(function(r){Ise(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ise(e,t,n){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ose(e){var t=Dse(e,"string");return typeof t=="symbol"?t:t+""}function Dse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lse=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:l,clipPath:c}=e;if(a===!1||t.x==null||t.y==null)return null;var u={index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},f=ny(ny(ny({},u),ql(a)),hw(a)),p;return b.isValidElement(a)?p=b.cloneElement(a,f):typeof a=="function"?p=a(f):p=b.createElement(L4,f),b.createElement(tn,{className:"recharts-active-dot",clipPath:c},p)};function Nb(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:l,zIndex:c=cn.activeDot}=e,u=Me(Ws),f=Pse();if(t==null||f==null)return null;var p=t.find(m=>f.includes(m.payload));return Vt(p)?null:b.createElement(fr,{zIndex:c},b.createElement(Lse,{point:p,childIndex:Number(u),mainColor:n,dataKey:a,activeDot:r,clipPath:l}))}var TM=(e,t,n)=>{var r=n??e;if(!Vt(r))return Qn(r,t,0)},zse=(e,t,n)=>{var r={},a=e.filter(Fh),l=e.filter(p=>p.stackId==null),c=a.reduce((p,m)=>{var g=p[m.stackId];return g==null&&(g=[]),g.push(m),p[m.stackId]=g,p},r),u=Object.entries(c).map(p=>{var m,[g,v]=p,N=v.map(_=>_.dataKey),j=TM(t,n,(m=v[0])===null||m===void 0?void 0:m.barSize);return{stackId:g,dataKeys:N,barSize:j}}),f=l.map(p=>{var m=[p.dataKey].filter(v=>v!=null),g=TM(t,n,p.barSize);return{stackId:void 0,dataKeys:m,barSize:g}});return[...u,...f]};function kM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kM(Object(n),!0).forEach(function(r){Use(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Use(e,t,n){return(t=$se(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $se(e){var t=Gse(e,"string");return typeof t=="symbol"?t:t+""}function Gse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bse(e,t,n,r,a){var l,c=r.length;if(!(c<1)){var u=Qn(e,n,0,!0),f,p=[];if(Qe((l=r[0])===null||l===void 0?void 0:l.barSize)){var m=!1,g=n/c,v=r.reduce((A,R)=>A+(R.barSize||0),0);v+=(c-1)*u,v>=n&&(v-=(c-1)*u,u=0),v>=n&&g>0&&(m=!0,g*=.9,v=c*g);var N=(n-v)/2>>0,j={offset:N-u,size:0};f=r.reduce((A,R)=>{var M,I={stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:j.offset+j.size+u,size:m?g:(M=R.barSize)!==null&&M!==void 0?M:0}},P=[...A,I];return j=I.position,P},p)}else{var _=Qn(t,n,0,!0);n-2*_-(c-1)*u<=0&&(u=0);var E=(n-2*_-(c-1)*u)/c;E>1&&(E>>=0);var C=Qe(a)?Math.min(E,a):E;f=r.reduce((A,R,M)=>[...A,{stackId:R.stackId,dataKeys:R.dataKeys,position:{offset:_+(E+u)*M+(E-C)/2,size:C}}],p)}return f}}var Fse=(e,t,n,r,a,l,c)=>{var u=Vt(c)?t:c,f=Bse(n,r,a!==l?a:l,e,u);return a!==l&&f!=null&&(f=f.map(p=>Op(Op({},p),{},{position:Op(Op({},p.position),{},{offset:p.position.offset-a/2})}))),f},qse=(e,t)=>{var n=Bh(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var a=e[r];if(a){var{stackedData:l}=a;if(l)return l.find(c=>c.key===n)}}}},Hse=(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}};function Vse(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Qe(e.zIndex)?e.zIndex:t}var Y4=e=>{var{chartData:t}=e,n=Dt(),r=Mn();return b.useEffect(()=>r?()=>{}:(n(Dk(t)),()=>{n(Dk(void 0))}),[t,n,r]),null},MM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},J4=_r({name:"brush",initialState:MM,reducers:{setBrushSettings(e,t){return t.payload==null?MM:t.payload}}}),{setBrushSettings:afe}=J4.actions,Kse=J4.reducer;function Yse(e){return(e%180+180)%180}var Jse=function(t){var{width:n,height:r}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=Yse(a),c=l*Math.PI/180,u=Math.atan(r/n),f=c>u&&c<Math.PI-u?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Wse={dots:[],areas:[],lines:[]},W4=_r({name:"referenceElements",initialState:Wse,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Sa(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Sa(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Sa(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:ife,removeDot:sfe,addArea:lfe,removeArea:ofe,addLine:cfe,removeLine:ufe}=W4.actions,Xse=W4.reducer,Zse=b.createContext(void 0),Qse=e=>{var{children:t}=e,[n]=b.useState("".concat(ud("recharts"),"-clip")),r=i0();if(r==null)return null;var{x:a,y:l,width:c,height:u}=r;return b.createElement(Zse.Provider,{value:n},b.createElement("defs",null,b.createElement("clipPath",{id:n},b.createElement("rect",{x:a,y:l,height:u,width:c}))),t)};function X4(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function ele(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Jse(r,n)}function tle(e,t,n){var r=n==="width",{x:a,y:l,width:c,height:u}=e;return t===1?{start:r?a:l,end:r?a+c:l+u}:{start:r?a+c:l+u,end:r?a:l}}function jd(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-a)<=0}function nle(e,t){return X4(e,t+1)}function rle(e,t,n,r,a){for(var l=(r||[]).slice(),{start:c,end:u}=t,f=0,p=1,m=c,g=function(){var j=r?.[f];if(j===void 0)return{v:X4(r,p)};var _=f,E,C=()=>(E===void 0&&(E=n(j,_)),E),A=j.coordinate,R=f===0||jd(e,A,C,m,u);R||(f=0,m=c,p+=1),R&&(m=A+e*(C()/2+a),f+=p)},v;p<=l.length;)if(v=g(),v)return v.v;return[]}function ale(e,t,n,r,a){var l=(r||[]).slice(),c=l.length;if(c===0)return[];for(var{start:u,end:f}=t,p=1;p<=c;p++){for(var m=(c-1)%p,g=u,v=!0,N=function(){var M=r[_];if(M==null)return 0;var I=_,P,k=()=>(P===void 0&&(P=n(M,I)),P),L=M.coordinate,z=_===m||jd(e,L,k,g,f);if(!z)return v=!1,1;z&&(g=L+e*(k()/2+a))},j,_=m;_<c&&(j=N(),!(j!==0&&j===1));_+=p);if(v){for(var E=[],C=m;C<c;C+=p){var A=r[C];A!=null&&E.push(A)}return E}}return[]}function RM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(n),!0).forEach(function(r){ile(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ile(e,t,n){return(t=sle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sle(e){var t=lle(e,"string");return typeof t=="symbol"?t:t+""}function lle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ole(e,t,n,r,a){for(var l=(r||[]).slice(),c=l.length,{start:u}=t,{end:f}=t,p=function(v){var N=l[v];if(N==null)return 1;var j=N,_,E=()=>(_===void 0&&(_=n(N,v)),_);if(v===c-1){var C=e*(j.coordinate+e*E()/2-f);l[v]=j=Jn(Jn({},j),{},{tickCoord:C>0?j.coordinate-C*e:j.coordinate})}else l[v]=j=Jn(Jn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var A=jd(e,j.tickCoord,E,u,f);A&&(f=j.tickCoord-e*(E()/2+a),l[v]=Jn(Jn({},j),{},{isShow:!0}))}},m=c-1;m>=0;m--)p(m);return l}function cle(e,t,n,r,a,l){var c=(r||[]).slice(),u=c.length,{start:f,end:p}=t;if(l){var m=r[u-1];if(m!=null){var g=n(m,u-1),v=e*(m.coordinate+e*g/2-p);if(c[u-1]=m=Jn(Jn({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate}),m.tickCoord!=null){var N=jd(e,m.tickCoord,()=>g,f,p);N&&(p=m.tickCoord-e*(g/2+a),c[u-1]=Jn(Jn({},m),{},{isShow:!0}))}}}for(var j=l?u-1:u,_=function(A){var R=c[A];if(R==null)return 1;var M=R,I,P=()=>(I===void 0&&(I=n(R,A)),I);if(A===0){var k=e*(M.coordinate-e*P()/2-f);c[A]=M=Jn(Jn({},M),{},{tickCoord:k<0?M.coordinate-k*e:M.coordinate})}else c[A]=M=Jn(Jn({},M),{},{tickCoord:M.coordinate});if(M.tickCoord!=null){var L=jd(e,M.tickCoord,P,f,p);L&&(f=M.tickCoord+e*(P()/2+a),c[A]=Jn(Jn({},M),{},{isShow:!0}))}},E=0;E<j;E++)_(E);return c}function eN(e,t,n){var{tick:r,ticks:a,viewBox:l,minTickGap:c,orientation:u,interval:f,tickFormatter:p,unit:m,angle:g}=e;if(!a||!a.length||!r)return[];if(Ee(f)||zd.isSsr){var v;return(v=nle(a,Ee(f)?f:0))!==null&&v!==void 0?v:[]}var N=[],j=u==="top"||u==="bottom"?"width":"height",_=m&&j==="width"?Wu(m,{fontSize:t,letterSpacing:n}):{width:0,height:0},E=(I,P)=>{var k=typeof p=="function"?p(I.value,P):I.value;return j==="width"?ele(Wu(k,{fontSize:t,letterSpacing:n}),_,g):Wu(k,{fontSize:t,letterSpacing:n})[j]},C=a[0],A=a[1],R=a.length>=2&&C!=null&&A!=null?Tn(A.coordinate-C.coordinate):1,M=tle(l,R,j);return f==="equidistantPreserveStart"?rle(R,M,E,a,c):f==="equidistantPreserveEnd"?ale(R,M,E,a,c):(f==="preserveStart"||f==="preserveStartEnd"?N=cle(R,M,E,a,c,f==="preserveStartEnd"):N=ole(R,M,E,a,c),N.filter(I=>I.isShow))}var ule=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:l=0}=e,c=0;if(t){Array.from(t).forEach(m=>{if(m){var g=m.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=n?n.getBoundingClientRect().width:0,f=a+l,p=c+f+u+(n?r:0);return Math.round(p)}return 0},dle=["axisLine","width","height","className","hide","ticks","axisType"];function fle(e,t){if(e==null)return{};var n,r,a=ple(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ple(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Zl(){return Zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zl.apply(null,arguments)}function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){mle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mle(e,t,n){return(t=hle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hle(e){var t=gle(e,"string");return typeof t=="symbol"?t:t+""}function gle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cn.axis};function xle(e){var{x:t,y:n,width:r,height:a,orientation:l,mirror:c,axisLine:u,otherSvgProps:f}=e;if(!u)return null;var p=Zt(Zt(Zt({},f),ur(u)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);p=Zt(Zt({},p),{},{x1:t,y1:n+m*a,x2:t+r,y2:n+m*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);p=Zt(Zt({},p),{},{x1:t+g*r,y1:n,x2:t+g*r,y2:n+a})}return b.createElement("line",Zl({},p,{className:ct("recharts-cartesian-axis-line",Vl(u,"className"))}))}function vle(e,t,n,r,a,l,c,u,f){var p,m,g,v,N,j,_=u?-1:1,E=e.tickSize||c,C=Ee(e.tickCoord)?e.tickCoord:e.coordinate;switch(l){case"top":p=m=e.coordinate,v=n+ +!u*a,g=v-_*E,j=g-_*f,N=C;break;case"left":g=v=e.coordinate,m=t+ +!u*r,p=m-_*E,N=p-_*f,j=C;break;case"right":g=v=e.coordinate,m=t+ +u*r,p=m+_*E,N=p+_*f,j=C;break;default:p=m=e.coordinate,v=n+ +u*a,g=v+_*E,j=g+_*f,N=C;break}return{line:{x1:p,y1:g,x2:m,y2:v},tick:{x:N,y:j}}}function yle(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function ble(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function wle(e){var{option:t,tickProps:n,value:r}=e,a,l=ct(n.className,"recharts-cartesian-axis-tick-value");if(b.isValidElement(t))a=b.cloneElement(t,Zt(Zt({},n),{},{className:l}));else if(typeof t=="function")a=t(Zt(Zt({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ct(c,G4(t))),a=b.createElement(Zh,Zl({},n,{className:c}),r)}return a}var Nle=b.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:l,tickFormatter:c,unit:u,padding:f,tickTextProps:p,orientation:m,mirror:g,x:v,y:N,width:j,height:_,tickSize:E,tickMargin:C,fontSize:A,letterSpacing:R,getTicksConfig:M,events:I,axisType:P}=e,k=eN(Zt(Zt({},M),{},{ticks:n}),A,R),L=yle(m,g),z=ble(m,g),q=ur(M),J=ql(r),U={};typeof a=="object"&&(U=a);var Y=Zt(Zt({},q),{},{fill:"none"},U),te=k.map(G=>Zt({entry:G},vle(G,v,N,j,_,m,E,g,C))),he=te.map(G=>{var{entry:X,line:oe}=G;return b.createElement(tn,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},a&&b.createElement("line",Zl({},Y,oe,{className:ct("recharts-cartesian-axis-tick-line",Vl(a,"className"))})))}),F=te.map((G,X)=>{var oe,ve,{entry:O,tick:K}=G,ce=Zt(Zt(Zt(Zt({verticalAnchor:z},q),{},{textAnchor:L,stroke:"none",fill:l},K),{},{index:X,payload:O,visibleTicksCount:k.length,tickFormatter:c,padding:f},p),{},{angle:(oe=(ve=p?.angle)!==null&&ve!==void 0?ve:q.angle)!==null&&oe!==void 0?oe:0}),xe=Zt(Zt({},ce),J);return b.createElement(tn,Zl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Rd(I,O,X)),r&&b.createElement(wle,{option:r,tickProps:xe,value:"".concat(typeof c=="function"?c(O.value,X):O.value).concat(u||"")}))});return b.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},F.length>0&&b.createElement(fr,{zIndex:cn.label},b.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:t},F)),he.length>0&&b.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},he))}),Sle=b.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:l,hide:c,ticks:u,axisType:f}=e,p=fle(e,dle),[m,g]=b.useState(""),[v,N]=b.useState(""),j=b.useRef(null);b.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var E;return ule({ticks:j.current,label:(E=e.labelRef)===null||E===void 0?void 0:E.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var _=b.useCallback(E=>{if(E){var C=E.getElementsByClassName("recharts-cartesian-axis-tick-value");j.current=C;var A=C[0];if(A){var R=window.getComputedStyle(A),M=R.fontSize,I=R.letterSpacing;(M!==m||I!==v)&&(g(M),N(I))}}},[m,v]);return c||r!=null&&r<=0||a!=null&&a<=0?null:b.createElement(fr,{zIndex:e.zIndex},b.createElement(tn,{className:ct("recharts-cartesian-axis",l)},b.createElement(xle,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:ur(e)}),b.createElement(Nle,{ref:_,axisType:f,events:p,fontSize:m,getTicksConfig:e,height:e.height,letterSpacing:v,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:u,unit:e.unit,width:e.width,x:e.x,y:e.y}),b.createElement(bae,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},b.createElement(kae,{label:e.label,labelRef:e.labelRef}),e.children)))}),tN=b.forwardRef((e,t)=>{var n=nn(e,Bi);return b.createElement(Sle,Zl({},n,{ref:t}))});tN.displayName="CartesianAxis";var jle=["x1","y1","x2","y2","key"],_le=["offset"],Ele=["xAxisId","yAxisId"],Cle=["xAxisId","yAxisId"];function IM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IM(Object(n),!0).forEach(function(r){Ale(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ale(e,t,n){return(t=Tle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tle(e){var t=kle(e,"string");return typeof t=="symbol"?t:t+""}function kle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(null,arguments)}function Wm(e,t){if(e==null)return{};var n,r,a=Mle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rle=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:l,height:c,ry:u}=e;return b.createElement("rect",{x:r,y:a,ry:u,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Z4(e){var{option:t,lineItemProps:n}=e,r;if(b.isValidElement(t))r=b.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:l,y1:c,x2:u,y2:f,key:p}=n,m=Wm(n,jle),g=(a=ur(m))!==null&&a!==void 0?a:{},{offset:v}=g,N=Wm(g,_le);r=b.createElement("line",Ol({},N,{x1:l,y1:c,x2:u,y2:f,fill:"none",key:p}))}return r}function Ple(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Wm(e,Ele),f=a.map((p,m)=>{var g=Wn(Wn({},u),{},{x1:t,y1:p,x2:t+n,y2:p,key:"line-".concat(m),index:m});return b.createElement(Z4,{key:"line-".concat(m),option:r,lineItemProps:g})});return b.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function Ile(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Wm(e,Cle),f=a.map((p,m)=>{var g=Wn(Wn({},u),{},{x1:p,y1:t,x2:p,y2:t+n,key:"line-".concat(m),index:m});return b.createElement(Z4,{option:r,lineItemProps:g,key:"line-".concat(m)})});return b.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function Ole(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:l,height:c,horizontalPoints:u,horizontal:f=!0}=e;if(!f||!t||!t.length||u==null)return null;var p=u.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==p[0]&&p.unshift(0);var m=p.map((g,v)=>{var N=p[v+1],j=N==null,_=j?a+c-g:N-g;if(_<=0)return null;var E=v%t.length;return b.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:_,width:l,stroke:"none",fill:t[E],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function Dle(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:l,width:c,height:u,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var p=f.map(g=>Math.round(g+a-a)).sort((g,v)=>g-v);a!==p[0]&&p.unshift(0);var m=p.map((g,v)=>{var N=p[v+1],j=N==null,_=j?a+c-g:N-g;if(_<=0)return null;var E=v%n.length;return b.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:_,height:u,stroke:"none",fill:n[E],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return b.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var Lle=(e,t)=>{var{xAxis:n,width:r,height:a,offset:l}=e;return HI(eN(Wn(Wn(Wn({},Bi),n),{},{ticks:VI(n),viewBox:{x:0,y:0,width:r,height:a}})),l.left,l.left+l.width,t)},zle=(e,t)=>{var{yAxis:n,width:r,height:a,offset:l}=e;return HI(eN(Wn(Wn(Wn({},Bi),n),{},{ticks:VI(n),viewBox:{x:0,y:0,width:r,height:a}})),l.top,l.top+l.height,t)},Ule={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cn.grid};function Xo(e){var t=Aw(),n=Tw(),r=eO(),a=Wn(Wn({},nn(e,Ule)),{},{x:Ee(e.x)?e.x:r.left,y:Ee(e.y)?e.y:r.top,width:Ee(e.width)?e.width:r.width,height:Ee(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:u,y:f,width:p,height:m,syncWithTicks:g,horizontalValues:v,verticalValues:N}=a,j=Mn(),_=Me(z=>jk(z,"xAxis",l,j)),E=Me(z=>jk(z,"yAxis",c,j));if(!Wa(p)||!Wa(m)||!Ee(u)||!Ee(f))return null;var C=a.verticalCoordinatesGenerator||Lle,A=a.horizontalCoordinatesGenerator||zle,{horizontalPoints:R,verticalPoints:M}=a;if((!R||!R.length)&&typeof A=="function"){var I=v&&v.length,P=A({yAxis:E?Wn(Wn({},E),{},{ticks:I?v:E.ticks}):void 0,width:t??p,height:n??m,offset:r},I?!0:g);wm(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(R=P)}if((!M||!M.length)&&typeof C=="function"){var k=N&&N.length,L=C({xAxis:_?Wn(Wn({},_),{},{ticks:k?N:_.ticks}):void 0,width:t??p,height:n??m,offset:r},k?!0:g);wm(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(M=L)}return b.createElement(fr,{zIndex:a.zIndex},b.createElement("g",{className:"recharts-cartesian-grid"},b.createElement(Rle,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),b.createElement(Ole,Ol({},a,{horizontalPoints:R})),b.createElement(Dle,Ol({},a,{verticalPoints:M})),b.createElement(Ple,Ol({},a,{offset:r,horizontalPoints:R,xAxis:_,yAxis:E})),b.createElement(Ile,Ol({},a,{offset:r,verticalPoints:M,xAxis:_,yAxis:E}))))}Xo.displayName="CartesianGrid";var $le={},Q4=_r({name:"errorBars",initialState:$le,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(l=>l.dataKey===r.dataKey&&l.direction===r.direction?a:l))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:dfe,replaceErrorBar:ffe,removeErrorBar:pfe}=Q4.actions,Gle=Q4.reducer,Ble=["children"];function Fle(e,t){if(e==null)return{};var n,r,a=qle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hle={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Vle=b.createContext(Hle);function e5(e){var{children:t}=e,n=Fle(e,Ble);return b.createElement(Vle.Provider,{value:n},t)}function s0(e,t){var n,r,a=Me(p=>is(p,e)),l=Me(p=>ss(p,t)),c=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:jn.allowDataOverflow,u=(r=l?.allowDataOverflow)!==null&&r!==void 0?r:_n.allowDataOverflow,f=c||u;return{needClip:f,needClipX:c,needClipY:u}}function nN(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=i0(),{needClipX:l,needClipY:c,needClip:u}=s0(t,n);if(!u||!a)return null;var{x:f,y:p,width:m,height:g}=a;return b.createElement("clipPath",{id:"clipPath-".concat(r)},b.createElement("rect",{x:l?f:f-m/2,y:c?p:p-g/2,width:l?m:m*2,height:c?g:g*2}))}var t5=(e,t,n,r)=>Qa(e,"xAxis",t,r),n5=(e,t,n,r)=>Za(e,"xAxis",t,r),r5=(e,t,n,r)=>Qa(e,"yAxis",n,r),a5=(e,t,n,r)=>Za(e,"yAxis",n,r),Kle=Q([ot,t5,r5,n5,a5],(e,t,n,r,a)=>ka(e,"xAxis")?Js(t,r,!1):Js(n,a,!1)),Yle=(e,t,n,r,a)=>a;function Jle(e){return e.type==="line"}var Wle=Q([Hd,Yle],(e,t)=>e.filter(Jle).find(n=>n.id===t)),Xle=Q([ot,t5,r5,n5,a5,Wle,Kle,n1],(e,t,n,r,a,l,c,u)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=u;if(!(l==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||c==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:g,data:v}=l,N;if(v!=null&&v.length>0?N=v:N=f?.slice(p,m+1),N!=null)return Loe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:g,bandSize:c,displayedData:N})}});function i5(e){var t=ql(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:l}=t,c=Number(a),u=Number(l);return(Number.isNaN(c)||c<0)&&(c=n),(Number.isNaN(u)||u<0)&&(u=r),{r:c,strokeWidth:u}}return{r:n,strokeWidth:r}}var ry={exports:{}},ay={};var OM;function Zle(){if(OM)return ay;OM=1;var e=bc();function t(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,a=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return ay.useSyncExternalStoreWithSelector=function(f,p,m,g,v){var N=a(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=c(function(){function E(I){if(!C){if(C=!0,A=I,I=g(I),v!==void 0&&j.hasValue){var P=j.value;if(v(P,I))return R=P}return R=I}if(P=R,n(A,I))return P;var k=g(I);return v!==void 0&&v(P,k)?(A=I,P):(A=I,R=k)}var C=!1,A,R,M=m===void 0?null:m;return[function(){return E(p())},M===null?void 0:function(){return E(M())}]},[p,m,g,v]);var _=r(f,N[0],N[1]);return l(function(){j.hasValue=!0,j.value=_},[_]),u(_),_},ay}var DM;function Qle(){return DM||(DM=1,ry.exports=Zle()),ry.exports}Qle();function eoe(e){e()}function toe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){eoe(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var LM={notify(){},get:()=>[]};function noe(e,t){let n,r=LM,a=0,l=!1;function c(_){m();const E=r.subscribe(_);let C=!1;return()=>{C||(C=!0,E(),g())}}function u(){r.notify()}function f(){j.onStateChange&&j.onStateChange()}function p(){return l}function m(){a++,n||(n=e.subscribe(f),r=toe())}function g(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=LM)}function v(){l||(l=!0,m())}function N(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:f,isSubscribed:p,trySubscribe:v,tryUnsubscribe:N,getListeners:()=>r};return j}var roe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aoe=roe(),ioe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",soe=ioe(),loe=()=>aoe||soe?b.useLayoutEffect:b.useEffect,ooe=loe();function zM(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function coe(e,t){if(zM(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!zM(e[n[a]],t[n[a]]))return!1;return!0}var uoe=Symbol.for("react-redux-context"),doe=typeof globalThis<"u"?globalThis:{};function foe(){if(!b.createContext)return{};const e=doe[uoe]??=new Map;let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var poe=foe();function moe(e){const{children:t,context:n,serverState:r,store:a}=e,l=b.useMemo(()=>{const f=noe(a);return{store:a,subscription:f,getServerState:r?()=>r:void 0}},[a,r]),c=b.useMemo(()=>a.getState(),[a]);ooe(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==a.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const u=n||poe;return b.createElement(u.Provider,{value:l},t)}var hoe=moe,goe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function xoe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Xd(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(goe.has(r)){if(e[r]==null&&t[r]==null)continue;if(!coe(e[r],t[r]))return!1}else if(!xoe(e[r],t[r]))return!1;return!0}var voe=["id"],yoe=["type","layout","connectNulls","needClip","shape"],boe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function _d(){return _d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_d.apply(null,arguments)}function UM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UM(Object(n),!0).forEach(function(r){woe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function woe(e,t,n){return(t=Noe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Noe(e){var t=Soe(e,"string");return typeof t=="symbol"?t:t+""}function Soe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rN(e,t){if(e==null)return{};var n,r,a=joe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function joe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _oe=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:tl(n,t),payload:e}]},Eoe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:c,hide:u,unit:f,tooltipType:p,id:m}=e,g={dataDefinedOnItem:n,getPosition:el,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:tl(c,t),hide:u,type:p,color:r,unit:f,graphicalItemId:m}};return b.createElement(n0,{tooltipEntrySettings:g})}),s5=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Coe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var Aoe=(e,t,n)=>{var r=n.reduce((N,j)=>N+j);if(!r)return s5(t,e);for(var a=Math.floor(e/r),l=e%r,c=t-e,u=[],f=0,p=0;f<n.length;p+=(m=n[f])!==null&&m!==void 0?m:0,++f){var m,g=n[f];if(g!=null&&p+g>l){u=[...n.slice(0,f),l-p];break}}var v=u.length%2===0?[0,c]:[c];return[...Coe(n,a),...u,...v].map(N=>"".concat(N,"px")).join(", ")};function Toe(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:l,needClip:c}=r,{id:u}=r,f=rN(r,voe),p=ur(f);return b.createElement(H4,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:l,baseProps:p,needClip:c,clipPathId:t})}function koe(e){var{showLabels:t,children:n,points:r}=e,a=b.useMemo(()=>r?.map(l=>{var c,u,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(u=l.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ba(Ba({},f),{},{value:l.value,payload:l.payload,viewBox:f,parentViewBox:void 0,fill:void 0})}),[r]);return b.createElement(F1,{value:t?a:void 0},n)}function $M(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:l}=e,{type:c,layout:u,connectNulls:f,needClip:p,shape:m}=l,g=rN(l,yoe),v=Ba(Ba({},er(g)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):void 0,points:r,type:c,layout:u,connectNulls:f,strokeDasharray:a??l.strokeDasharray});return b.createElement(b.Fragment,null,r?.length>1&&b.createElement(Y1,_d({shapeType:"curve",option:m},v,{pathRef:n})),b.createElement(Toe,{points:r,clipPathId:t,props:l}))}function Moe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Roe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:u,isAnimationActive:f,animationBegin:p,animationDuration:m,animationEasing:g,animateNewValues:v,width:N,height:j,onAnimationEnd:_,onAnimationStart:E}=n,C=a.current,A=Cc(c,"recharts-line-"),R=b.useRef(A),[M,I]=b.useState(!1),P=!M,k=b.useCallback(()=>{typeof _=="function"&&_(),I(!1)},[_]),L=b.useCallback(()=>{typeof E=="function"&&E(),I(!0)},[E]),z=Moe(r.current),q=b.useRef(0);R.current!==A&&(q.current=l.current,R.current=A);var J=q.current;return b.createElement(koe,{points:c,showLabels:P},n.children,b.createElement(Ec,{animationId:A,begin:p,duration:m,isActive:f,easing:g,onAnimationEnd:k,onAnimationStart:L,key:A},U=>{var Y=wt(J,z+J,U),te=Math.min(Y,z),he;if(f)if(u){var F="".concat(u).split(/[,\s]+/gim).map(oe=>parseFloat(oe));he=Aoe(te,z,F)}else he=s5(z,te);else he=u==null?void 0:String(u);if(U>0&&z>0&&(a.current=c,l.current=Math.max(l.current,te)),C){var G=C.length/c.length,X=U===1?c:c.map((oe,ve)=>{var O=Math.floor(ve*G);if(C[O]){var K=C[O];return Ba(Ba({},oe),{},{x:wt(K.x,oe.x,U),y:wt(K.y,oe.y,U)})}return v?Ba(Ba({},oe),{},{x:wt(N*2,oe.x,U),y:wt(j/2,oe.y,U)}):Ba(Ba({},oe),{},{x:oe.x,y:oe.y})});return a.current=X,b.createElement($M,{props:n,points:X,clipPathId:t,pathRef:r,strokeDasharray:he})}return b.createElement($M,{props:n,points:c,clipPathId:t,pathRef:r,strokeDasharray:he})}),b.createElement(Qh,{label:n.label}))}function Poe(e){var{clipPathId:t,props:n}=e,r=b.useRef(null),a=b.useRef(0),l=b.useRef(null);return b.createElement(Roe,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:l})}var Ioe=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:Nt(e.payload,t)}};class Ooe extends b.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:l,yAxisId:c,top:u,left:f,width:p,height:m,id:g,needClip:v,zIndex:N}=this.props;if(t)return null;var j=ct("recharts-line",a),_=g,{r:E,strokeWidth:C}=i5(n),A=K1(n),R=E*2+C,M=v?"url(#clipPath-".concat(A?"":"dots-").concat(_,")"):void 0;return b.createElement(fr,{zIndex:N},b.createElement(tn,{className:j},v&&b.createElement("defs",null,b.createElement(nN,{clipPathId:_,xAxisId:l,yAxisId:c}),!A&&b.createElement("clipPath",{id:"clipPath-dots-".concat(_)},b.createElement("rect",{x:f-R/2,y:u-R/2,width:p+R,height:m+R}))),b.createElement(e5,{xAxisId:l,yAxisId:c,data:r,dataPointFormatter:Ioe,errorBarOffset:0},b.createElement(Poe,{props:this.props,clipPathId:_}))),b.createElement(Nb,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:M}))}}var l5={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:cn.line,type:"linear"};function Doe(e){var t=nn(e,l5),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:c,connectNulls:u,dot:f,hide:p,isAnimationActive:m,label:g,legendType:v,xAxisId:N,yAxisId:j,id:_}=t,E=rN(t,boe),{needClip:C}=s0(N,j),A=i0(),R=nl(),M=Mn(),I=Me(q=>Xle(q,N,j,M,_));if(R!=="horizontal"&&R!=="vertical"||I==null||A==null)return null;var{height:P,width:k,x:L,y:z}=A;return b.createElement(Ooe,_d({},E,{id:_,connectNulls:u,dot:f,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:l,animationEasing:c,isAnimationActive:m,hide:p,label:g,legendType:v,xAxisId:N,yAxisId:j,points:I,layout:R,height:P,width:k,left:L,top:z,needClip:C}))}function Loe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,dataKey:c,bandSize:u,displayedData:f}=e;return f.map((p,m)=>{var g=Nt(p,c);if(t==="horizontal"){var v=bm({axis:n,ticks:a,bandSize:u,entry:p,index:m}),N=Vt(g)?null:r.scale.map(g);return{x:v,y:N??null,value:g,payload:p}}var j=Vt(g)?null:n.scale.map(g),_=bm({axis:r,ticks:l,bandSize:u,entry:p,index:m});return j==null||_==null?null:{x:j,y:_,value:g,payload:p}}).filter(Boolean)}function zoe(e){var t=nn(e,l5),n=Mn();return b.createElement(r0,{id:t.id,type:"line"},r=>b.createElement(b.Fragment,null,b.createElement(Z1,{legendPayload:_oe(t)}),b.createElement(Eoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(Q1,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),b.createElement(Doe,_d({},t,{id:r}))))}var Sb=b.memo(zoe,Xd);Sb.displayName="Line";function ti(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:V4}function ni(e,t){var n,r;return(n=(r=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:V4}var o5=(e,t,n)=>Qa(e,"xAxis",ti(e,t),n),c5=(e,t,n)=>Za(e,"xAxis",ti(e,t),n),u5=(e,t,n)=>Qa(e,"yAxis",ni(e,t),n),d5=(e,t,n)=>Za(e,"yAxis",ni(e,t),n),Uoe=Q([ot,o5,u5,c5,d5],(e,t,n,r,a)=>ka(e,"xAxis")?Js(t,r,!1):Js(n,a,!1)),$oe=(e,t)=>t,f5=Q([Hd,$oe],(e,t)=>e.filter(n=>n.type==="area").find(n=>n.id===t)),p5=e=>{var t=ot(e),n=ka(t,"xAxis");return n?"yAxis":"xAxis"},Goe=(e,t)=>{var n=p5(e);return n==="yAxis"?ni(e,t):ti(e,t)},Boe=(e,t,n)=>Fm(e,p5(e),Goe(e,t),n),Foe=Q([f5,Boe],(e,t)=>{var n;if(!(e==null||t==null)){var{stackId:r}=e,a=Bh(e);if(!(r==null||a==null)){var l=(n=t[r])===null||n===void 0?void 0:n.stackedData,c=l?.find(u=>u.key===a);if(c!=null)return c.map(u=>[u[0],u[1]])}}}),qoe=Q([ot,o5,u5,c5,d5,Foe,nD,Uoe,f5,hee],(e,t,n,r,a,l,c,u,f,p)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:v}=c;if(!(f==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||a==null||r.length===0||a.length===0||u==null)){var{data:N}=f,j;if(N&&N.length>0?j=N:j=m?.slice(g,v+1),j!=null)return cce({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataStartIndex:g,areaSettings:f,stackedData:l,displayedData:j,chartBaseValue:p,bandSize:u})}}),Hoe=["id"],Voe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ul.apply(null,arguments)}function m5(e,t){if(e==null)return{};var n,r,a=Koe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Koe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function GM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function rc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(n),!0).forEach(function(r){Yoe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yoe(e,t,n){return(t=Joe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Joe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xm(e,t){return e&&e!=="none"?e:t}var Xoe=e=>{var{dataKey:t,name:n,stroke:r,fill:a,legendType:l,hide:c}=e;return[{inactive:c,dataKey:t,type:l,color:Xm(r,a),value:tl(n,t),payload:e}]},Zoe=b.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:l,name:c,hide:u,unit:f,tooltipType:p,id:m}=e,g={dataDefinedOnItem:n,getPosition:el,settings:{stroke:r,strokeWidth:a,fill:l,dataKey:t,nameKey:void 0,name:tl(c,t),hide:u,type:p,color:Xm(r,l),unit:f,graphicalItemId:m}};return b.createElement(n0,{tooltipEntrySettings:g})});function Qoe(e){var{clipPathId:t,points:n,props:r}=e,{needClip:a,dot:l,dataKey:c}=r,u=ur(r);return b.createElement(H4,{points:n,dot:l,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:c,baseProps:u,needClip:a,clipPathId:t})}function ece(e){var{showLabels:t,children:n,points:r}=e,a=r.map(l=>{var c,u,f={x:(c=l.x)!==null&&c!==void 0?c:0,y:(u=l.y)!==null&&u!==void 0?u:0,width:0,lowerWidth:0,upperWidth:0,height:0};return rc(rc({},f),{},{value:l.value,payload:l.payload,parentViewBox:void 0,viewBox:f,fill:void 0})});return b.createElement(F1,{value:t?a:void 0},n)}function BM(e){var{points:t,baseLine:n,needClip:r,clipPathId:a,props:l}=e,{layout:c,type:u,stroke:f,connectNulls:p,isRange:m}=l,{id:g}=l,v=m5(l,Hoe),N=ur(v),j=er(v);return b.createElement(b.Fragment,null,t?.length>1&&b.createElement(tn,{clipPath:r?"url(#clipPath-".concat(a,")"):void 0},b.createElement(uc,Ul({},j,{id:g,points:t,connectNulls:p,type:u,baseLine:n,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&b.createElement(uc,Ul({},N,{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:t})),f!=="none"&&m&&b.createElement(uc,Ul({},N,{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:n}))),b.createElement(Qoe,{points:t,props:v,clipPathId:a}))}function tce(e){var t,n,{alpha:r,baseLine:a,points:l,strokeWidth:c}=e,u=(t=l[0])===null||t===void 0?void 0:t.y,f=(n=l[l.length-1])===null||n===void 0?void 0:n.y;if(!Qe(u)||!Qe(f))return null;var p=r*Math.abs(u-f),m=Math.max(...l.map(g=>g.x||0));return Ee(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(g=>g.x||0),m)),Ee(m)?b.createElement("rect",{x:0,y:u<f?u:u-p,width:m+(c?parseInt("".concat(c),10):1),height:Math.floor(p)}):null}function nce(e){var t,n,{alpha:r,baseLine:a,points:l,strokeWidth:c}=e,u=(t=l[0])===null||t===void 0?void 0:t.x,f=(n=l[l.length-1])===null||n===void 0?void 0:n.x;if(!Qe(u)||!Qe(f))return null;var p=r*Math.abs(u-f),m=Math.max(...l.map(g=>g.y||0));return Ee(a)?m=Math.max(a,m):a&&Array.isArray(a)&&a.length&&(m=Math.max(...a.map(g=>g.y||0),m)),Ee(m)?b.createElement("rect",{x:u<f?u:u-p,y:0,width:p,height:Math.floor(m+(c?parseInt("".concat(c),10):1))}):null}function rce(e){var{alpha:t,layout:n,points:r,baseLine:a,strokeWidth:l}=e;return n==="vertical"?b.createElement(tce,{alpha:t,points:r,baseLine:a,strokeWidth:l}):b.createElement(nce,{alpha:t,points:r,baseLine:a,strokeWidth:l})}function ace(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l}=e,{points:c,baseLine:u,isAnimationActive:f,animationBegin:p,animationDuration:m,animationEasing:g,onAnimationStart:v,onAnimationEnd:N}=r,j=b.useMemo(()=>({points:c,baseLine:u}),[c,u]),_=Cc(j,"recharts-area-"),E=kw(),[C,A]=b.useState(!1),R=!C,M=b.useCallback(()=>{typeof N=="function"&&N(),A(!1)},[N]),I=b.useCallback(()=>{typeof v=="function"&&v(),A(!0)},[v]);if(E==null)return null;var P=a.current,k=l.current;return b.createElement(ece,{showLabels:R,points:c},r.children,b.createElement(Ec,{animationId:_,begin:p,duration:m,isActive:f,easing:g,onAnimationEnd:M,onAnimationStart:I,key:_},L=>{if(P){var z=P.length/c.length,q=L===1?c:c.map((U,Y)=>{var te=Math.floor(Y*z);if(P[te]){var he=P[te];return rc(rc({},U),{},{x:wt(he.x,U.x,L),y:wt(he.y,U.y,L)})}return U}),J;return Ee(u)?J=wt(k,u,L):Vt(u)||_a(u)?J=wt(k,0,L):J=u.map((U,Y)=>{var te=Math.floor(Y*z);if(Array.isArray(k)&&k[te]){var he=k[te];return rc(rc({},U),{},{x:wt(he.x,U.x,L),y:wt(he.y,U.y,L)})}return U}),L>0&&(a.current=q,l.current=J),b.createElement(BM,{points:q,baseLine:J,needClip:t,clipPathId:n,props:r})}return L>0&&(a.current=c,l.current=u),b.createElement(tn,null,f&&b.createElement("defs",null,b.createElement("clipPath",{id:"animationClipPath-".concat(n)},b.createElement(rce,{alpha:L,points:c,baseLine:u,layout:E,strokeWidth:r.strokeWidth}))),b.createElement(tn,{clipPath:"url(#animationClipPath-".concat(n,")")},b.createElement(BM,{points:c,baseLine:u,needClip:t,clipPathId:n,props:r})))}),b.createElement(Qh,{label:r.label}))}function ice(e){var{needClip:t,clipPathId:n,props:r}=e,a=b.useRef(null),l=b.useRef();return b.createElement(ace,{needClip:t,clipPathId:n,props:r,previousPointsRef:a,previousBaselineRef:l})}class sce extends b.PureComponent{render(){var{hide:t,dot:n,points:r,className:a,top:l,left:c,needClip:u,xAxisId:f,yAxisId:p,width:m,height:g,id:v,baseLine:N,zIndex:j}=this.props;if(t)return null;var _=ct("recharts-area",a),E=v,{r:C,strokeWidth:A}=i5(n),R=K1(n),M=C*2+A,I=u?"url(#clipPath-".concat(R?"":"dots-").concat(E,")"):void 0;return b.createElement(fr,{zIndex:j},b.createElement(tn,{className:_},u&&b.createElement("defs",null,b.createElement(nN,{clipPathId:E,xAxisId:f,yAxisId:p}),!R&&b.createElement("clipPath",{id:"clipPath-dots-".concat(E)},b.createElement("rect",{x:c-M/2,y:l-M/2,width:m+M,height:g+M}))),b.createElement(ice,{needClip:u,clipPathId:E,props:this.props})),b.createElement(Nb,{points:r,mainColor:Xm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(N)&&b.createElement(Nb,{points:N,mainColor:Xm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var h5={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:cn.area};function lce(e){var t,n=nn(e,h5),{activeDot:r,animationBegin:a,animationDuration:l,animationEasing:c,connectNulls:u,dot:f,fill:p,fillOpacity:m,hide:g,isAnimationActive:v,legendType:N,stroke:j,xAxisId:_,yAxisId:E}=n,C=m5(n,Voe),A=nl(),R=x4(),{needClip:M}=s0(_,E),I=Mn(),{points:P,isRange:k,baseLine:L}=(t=Me(te=>qoe(te,e.id,I)))!==null&&t!==void 0?t:{},z=i0();if(A!=="horizontal"&&A!=="vertical"||z==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:q,width:J,x:U,y:Y}=z;return!P||!P.length?null:b.createElement(sce,Ul({},C,{activeDot:r,animationBegin:a,animationDuration:l,animationEasing:c,baseLine:L,connectNulls:u,dot:f,fill:p,fillOpacity:m,height:q,hide:g,layout:A,isAnimationActive:v==="auto"?!zd.isSsr:v,isRange:k,legendType:N,needClip:M,points:P,stroke:j,width:J,left:U,top:Y,xAxisId:_,yAxisId:E}))}var oce=(e,t,n,r,a)=>{var l=n??t;if(Ee(l))return l;var c=e==="horizontal"?a:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]};function cce(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:a,layout:l,chartBaseValue:c,xAxis:u,yAxis:f,displayedData:p,dataStartIndex:m,xAxisTicks:g,yAxisTicks:v,bandSize:N}=e,j=a&&a.length,_=oce(l,c,n,u,f),E=l==="horizontal",C=!1,A=p.map((M,I)=>{var P,k,L,z;if(j)z=a[m+I];else{var q=Nt(M,r);Array.isArray(q)?(z=q,C=!0):z=[_,q]}var J=(P=(k=z)===null||k===void 0?void 0:k[1])!==null&&P!==void 0?P:null,U=J==null||j&&!t&&Nt(M,r)==null;if(E){var Y;return{x:bm({axis:u,ticks:g,bandSize:N,entry:M,index:I}),y:U?null:(Y=f.scale.map(J))!==null&&Y!==void 0?Y:null,value:z,payload:M}}return{x:U?null:(L=u.scale.map(J))!==null&&L!==void 0?L:null,y:bm({axis:f,ticks:v,bandSize:N,entry:M,index:I}),value:z,payload:M}}),R;return j||C?R=A.map(M=>{var I,P=Array.isArray(M.value)?M.value[0]:null;if(E){var k;return{x:M.x,y:P!=null&&M.y!=null&&(k=f.scale.map(P))!==null&&k!==void 0?k:null,payload:M.payload}}return{x:P!=null&&(I=u.scale.map(P))!==null&&I!==void 0?I:null,y:M.y,payload:M.payload}}):R=E?f.scale.map(_):u.scale.map(_),{points:A,baseLine:R??0,isRange:C}}function uce(e){var t=nn(e,h5),n=Mn();return b.createElement(r0,{id:t.id,type:"area"},r=>b.createElement(b.Fragment,null,b.createElement(Z1,{legendPayload:Xoe(t)}),b.createElement(Zoe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),b.createElement(Q1,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:KI(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:n,connectNulls:t.connectNulls}),b.createElement(lce,Ul({},t,{id:r}))))}var Yp=b.memo(uce,Xd);Yp.displayName="Area";var dce="Invariant failed";function fce(e,t){throw new Error(dce)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jb.apply(null,arguments)}function Zm(e){return b.createElement(Y1,jb({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var pce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,a)=>{if(Ee(t))return t;var l=Ee(r)||Vt(r);return l?t(r,a):(l||fce(),n)}},mce=(e,t,n)=>n,hce=(e,t)=>t,Zd=Q([Hd,hce],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),gce=Q([Zd],e=>e?.maxBarSize),xce=(e,t,n,r)=>r,vce=Q([ot,Hd,ti,ni,mce],(e,t,n,r,a)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===a).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),yce=(e,t,n)=>{var r=ot(e),a=ti(e,t),l=ni(e,t);if(!(a==null||l==null))return r==="horizontal"?Fm(e,"yAxis",l,n):Fm(e,"xAxis",a,n)},bce=(e,t)=>{var n=ot(e),r=ti(e,t),a=ni(e,t);if(!(r==null||a==null))return n==="horizontal"?Sk(e,"xAxis",r):Sk(e,"yAxis",a)},wce=Q([vce,mee,bce],zse),Nce=(e,t,n)=>{var r,a,l=Zd(e,t);if(l==null)return 0;var c=ti(e,t),u=ni(e,t);if(c==null||u==null)return 0;var f=ot(e),p=mD(e),{maxBarSize:m}=l,g=Vt(m)?p:m,v,N;return f==="horizontal"?(v=Qa(e,"xAxis",c,n),N=Za(e,"xAxis",c,n)):(v=Qa(e,"yAxis",u,n),N=Za(e,"yAxis",u,n)),(r=(a=Js(v,N,!0))!==null&&a!==void 0?a:g)!==null&&r!==void 0?r:0},g5=(e,t,n)=>{var r=ot(e),a=ti(e,t),l=ni(e,t);if(!(a==null||l==null)){var c,u;return r==="horizontal"?(c=Qa(e,"xAxis",a,n),u=Za(e,"xAxis",a,n)):(c=Qa(e,"yAxis",l,n),u=Za(e,"yAxis",l,n)),Js(c,u)}},Sce=Q([wce,mD,pee,hD,Nce,g5,gce],Fse),jce=(e,t,n)=>{var r=ti(e,t);if(r!=null)return Qa(e,"xAxis",r,n)},_ce=(e,t,n)=>{var r=ni(e,t);if(r!=null)return Qa(e,"yAxis",r,n)},Ece=(e,t,n)=>{var r=ti(e,t);if(r!=null)return Za(e,"xAxis",r,n)},Cce=(e,t,n)=>{var r=ni(e,t);if(r!=null)return Za(e,"yAxis",r,n)},Ace=Q([Sce,Zd],Hse),Tce=Q([yce,Zd],qse),kce=Q([bn,_w,jce,_ce,Ece,Cce,Ace,ot,nD,g5,Tce,Zd,xce],(e,t,n,r,a,l,c,u,f,p,m,g,v)=>{var{chartData:N,dataStartIndex:j,dataEndIndex:_}=f;if(!(g==null||c==null||t==null||u!=="horizontal"&&u!=="vertical"||n==null||r==null||a==null||l==null||p==null)){var{data:E}=g,C;if(E!=null&&E.length>0?C=E:C=N?.slice(j,_+1),C!=null)return aue({layout:u,barSettings:g,pos:c,parentViewBox:t,bandSize:p,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:l,stackedData:m,displayedData:C,offset:e,cells:v,dataStartIndex:j})}}),Mce=["index"];function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function Rce(e,t){if(e==null)return{};var n,r,a=Pce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Pce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var x5=b.createContext(void 0),Ice=e=>{var t=b.useContext(x5);if(t!=null)return t.stackId;if(e!=null)return KI(e)},Oce=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Dce=e=>{var t=b.useContext(x5);if(t!=null){var{stackId:n}=t;return"url(#".concat(Oce(n,e),")")}},v5=e=>{var{index:t}=e,n=Rce(e,Mce),r=Dce(t);return b.createElement(tn,_b({className:"recharts-bar-stack-layer",clipPath:r},n))},Lce=["onMouseEnter","onMouseLeave","onClick"],zce=["value","background","tooltipPosition"],Uce=["id"],$ce=["onMouseEnter","onClick","onMouseLeave"];function Zi(){return Zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zi.apply(null,arguments)}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FM(Object(n),!0).forEach(function(r){Gce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gce(e,t,n){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bce(e){var t=Fce(e,"string");return typeof t=="symbol"?t:t+""}function Fce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qm(e,t){if(e==null)return{};var n,r,a=qce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hce=e=>{var{dataKey:t,name:n,fill:r,legendType:a,hide:l}=e;return[{inactive:l,dataKey:t,type:a,color:r,value:tl(n,t),payload:e}]},Vce=b.memo(e=>{var{dataKey:t,stroke:n,strokeWidth:r,fill:a,name:l,hide:c,unit:u,tooltipType:f,id:p}=e,m={dataDefinedOnItem:void 0,getPosition:el,settings:{stroke:n,strokeWidth:r,fill:a,dataKey:t,nameKey:void 0,name:tl(l,t),hide:c,type:f,color:a,unit:u,graphicalItemId:p}};return b.createElement(n0,{tooltipEntrySettings:m})});function Kce(e){var t=Me(Ws),{data:n,dataKey:r,background:a,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:u,onClick:f}=l,p=Qm(l,Lce),m=J1(c,r,l.id),g=W1(u),v=X1(f,r,l.id);if(!a||n==null)return null;var N=ql(a);return b.createElement(fr,{zIndex:Vse(a,cn.barBackground)},n.map((j,_)=>{var{value:E,background:C,tooltipPosition:A}=j,R=Qm(j,zce);if(!C)return null;var M=m(j,_),I=g(j,_),P=v(j,_),k=lr(lr(lr(lr(lr({option:a,isActive:String(_)===t},R),{},{fill:"#eee"},C),N),Rd(p,j,_)),{},{onMouseEnter:M,onMouseLeave:I,onClick:P,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return b.createElement(Zm,Zi({key:"background-bar-".concat(_)},k))}))}function Yce(e){var{showLabels:t,children:n,rects:r}=e,a=r?.map(l=>{var c={x:l.x,y:l.y,width:l.width,lowerWidth:l.width,upperWidth:l.width,height:l.height};return lr(lr({},c),{},{value:l.value,payload:l.payload,parentViewBox:l.parentViewBox,viewBox:c,fill:l.fill})});return b.createElement(F1,{value:t?a:void 0},n)}function Jce(e){var{shape:t,activeBar:n,baseProps:r,entry:a,index:l,dataKey:c}=e,u=Me(Ws),f=Me(L1),p=n&&String(l)===u&&(f==null||c===f),m=p?n:t;return p?b.createElement(fr,{zIndex:cn.activeBar},b.createElement(v5,{index:l},b.createElement(Zm,Zi({},r,{name:String(r.name)},a,{isActive:p,option:m,index:l,dataKey:c})))):b.createElement(Zm,Zi({},r,{name:String(r.name)},a,{isActive:p,option:m,index:l,dataKey:c}))}function Wce(e){var{shape:t,baseProps:n,entry:r,index:a,dataKey:l}=e;return b.createElement(Zm,Zi({},n,{name:String(n.name)},r,{isActive:!1,option:t,index:a,dataKey:l}))}function Xce(e){var t,{data:n,props:r}=e,a=(t=ur(r))!==null&&t!==void 0?t:{},{id:l}=a,c=Qm(a,Uce),{shape:u,dataKey:f,activeBar:p}=r,{onMouseEnter:m,onClick:g,onMouseLeave:v}=r,N=Qm(r,$ce),j=J1(m,f,l),_=W1(v),E=X1(g,f,l);return n?b.createElement(b.Fragment,null,n.map((C,A)=>b.createElement(v5,Zi({index:A,key:"rectangle-".concat(C?.x,"-").concat(C?.y,"-").concat(C?.value,"-").concat(A),className:"recharts-bar-rectangle"},Rd(N,C,A),{onMouseEnter:j(C,A),onMouseLeave:_(C,A),onClick:E(C,A)}),p?b.createElement(Jce,{shape:u,activeBar:p,baseProps:c,entry:C,index:A,dataKey:f}):b.createElement(Wce,{shape:u,baseProps:c,entry:C,index:A,dataKey:f})))):null}function Zce(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:a,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationEnd:p,onAnimationStart:m}=t,g=n.current,v=Cc(t,"recharts-bar-"),[N,j]=b.useState(!1),_=!N,E=b.useCallback(()=>{typeof p=="function"&&p(),j(!1)},[p]),C=b.useCallback(()=>{typeof m=="function"&&m(),j(!0)},[m]);return b.createElement(Yce,{showLabels:_,rects:r},b.createElement(Ec,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:C,key:v},A=>{var R=A===1?r:r?.map((M,I)=>{var P=g&&g[I];if(P)return lr(lr({},M),{},{x:wt(P.x,M.x,A),y:wt(P.y,M.y,A),width:wt(P.width,M.width,A),height:wt(P.height,M.height,A)});if(a==="horizontal"){var k=wt(0,M.height,A),L=wt(M.stackedBarStart,M.y,A);return lr(lr({},M),{},{y:L,height:k})}var z=wt(0,M.width,A),q=wt(M.stackedBarStart,M.x,A);return lr(lr({},M),{},{width:z,x:q})});return A>0&&(n.current=R??null),R==null?null:b.createElement(tn,null,b.createElement(Xce,{props:t,data:R}))}),b.createElement(Qh,{label:t.label}),t.children)}function Qce(e){var t=b.useRef(null);return b.createElement(Zce,{previousRectanglesRef:t,props:e})}var y5=0,eue=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Nt(e,t)}};class tue extends b.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:a,xAxisId:l,yAxisId:c,needClip:u,background:f,id:p}=this.props;if(t||n==null)return null;var m=ct("recharts-bar",a),g=p;return b.createElement(tn,{className:m,id:p},u&&b.createElement("defs",null,b.createElement(nN,{clipPathId:g,xAxisId:l,yAxisId:c})),b.createElement(tn,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},b.createElement(Kce,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),b.createElement(Qce,this.props)))}}var nue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:y5,xAxisId:0,yAxisId:0,zIndex:cn.bar};function rue(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:p,isAnimationActive:m}=e,{needClip:g}=s0(t,n),v=nl(),N=Mn(),j=V1(e.children,Xs),_=Me(A=>kce(A,e.id,N,j));if(v!=="vertical"&&v!=="horizontal")return null;var E,C=_?.[0];return C==null||C.height==null||C.width==null?E=0:E=v==="vertical"?C.height/2:C.width/2,b.createElement(e5,{xAxisId:t,yAxisId:n,data:_,dataPointFormatter:eue,errorBarOffset:E},b.createElement(tue,Zi({},e,{layout:v,needClip:g,data:_,xAxisId:t,yAxisId:n,hide:r,legendType:a,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:f,animationEasing:p,isAnimationActive:m})))}function aue(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:a,bandSize:l,xAxis:c,yAxis:u,xAxisTicks:f,yAxisTicks:p,stackedData:m,displayedData:g,offset:v,cells:N,parentViewBox:j,dataStartIndex:_}=e,E=t==="horizontal"?u:c,C=m?E.scale.domain():null,A=tJ({numericAxis:E}),R=E.scale.map(A);return g.map((M,I)=>{var P,k,L,z,q,J;if(m){var U=m[I+_];if(U==null)return null;P=WY(U,C)}else P=Nt(M,n),Array.isArray(P)||(P=[A,P]);var Y=pce(r,y5)(P[1],I);if(t==="horizontal"){var te,he=u.scale.map(P[0]),F=u.scale.map(P[1]);if(he==null||F==null)return null;k=NA({axis:c,ticks:f,bandSize:l,offset:a.offset,entry:M,index:I}),L=(te=F??he)!==null&&te!==void 0?te:void 0,z=a.size;var G=he-F;if(q=_a(G)?0:G,J={x:k,y:v.top,width:z,height:v.height},Math.abs(Y)>0&&Math.abs(q)<Math.abs(Y)){var X=Tn(q||Y)*(Math.abs(Y)-Math.abs(q));L-=X,q+=X}}else{var oe=c.scale.map(P[0]),ve=c.scale.map(P[1]);if(oe==null||ve==null)return null;if(k=oe,L=NA({axis:u,ticks:p,bandSize:l,offset:a.offset,entry:M,index:I}),z=ve-oe,q=a.size,J={x:v.left,y:L,width:v.width,height:q},Math.abs(Y)>0&&Math.abs(z)<Math.abs(Y)){var O=Tn(z||Y)*(Math.abs(Y)-Math.abs(z));z+=O}}if(k==null||L==null||z==null||q==null)return null;var K=lr(lr({},M),{},{stackedBarStart:R,x:k,y:L,width:z,height:q,value:m?P:P[1],payload:M,background:J,tooltipPosition:{x:k+z/2,y:L+q/2},parentViewBox:j},N&&N[I]&&N[I].props);return K}).filter(Boolean)}function iue(e){var t=nn(e,nue),n=Ice(t.stackId),r=Mn();return b.createElement(r0,{id:t.id,type:"bar"},a=>b.createElement(b.Fragment,null,b.createElement(Z1,{legendPayload:Hce(t)}),b.createElement(Vce,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),b.createElement(Q1,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:n,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),b.createElement(fr,{zIndex:t.zIndex},b.createElement(rue,Zi({},t,{id:a})))))}var fc=b.memo(iue,Xd);fc.displayName="Bar";var sue=["domain","range"],lue=["domain","range"];function qM(e,t){if(e==null)return{};var n,r,a=oue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function HM(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function b5(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=qM(e,sue),{domain:l,range:c}=t,u=qM(t,lue);return!HM(n,l)||!HM(r,c)?!1:Xd(a,u)}var cue=["type"],uue=["dangerouslySetInnerHTML","ticks","scale"],due=["id","scale"];function Eb(){return Eb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Eb.apply(null,arguments)}function VM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function KM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VM(Object(n),!0).forEach(function(r){fue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fue(e,t,n){return(t=pue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cb(e,t){if(e==null)return{};var n,r,a=hue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function hue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gue(e){var t=Dt(),n=b.useRef(null),r=kw(),{type:a}=e,l=Cb(e,cue),c=$h(r,"xAxis",a),u=b.useMemo(()=>{if(c!=null)return KM(KM({},l),{},{type:c})},[l,c]);return b.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Sse(u)):n.current!==u&&t(jse({prev:n.current,next:u})),n.current=u)},[u,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(_se(n.current)),n.current=null)},[t]),null}var xue=e=>{var{xAxisId:t,className:n}=e,r=Me(_w),a=Mn(),l="xAxis",c=Me(C=>YD(C,l,t,a)),u=Me(C=>qD(C,t)),f=Me(C=>hte(C,t)),p=Me(C=>_D(C,t));if(u==null||f==null||p==null)return null;var{dangerouslySetInnerHTML:m,ticks:g,scale:v}=e,N=Cb(e,uue),{id:j,scale:_}=p,E=Cb(p,due);return b.createElement(tN,Eb({},N,E,{x:f.x,y:f.y,width:u.width,height:u.height,className:ct("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:c,axisType:l}))},vue={allowDataOverflow:jn.allowDataOverflow,allowDecimals:jn.allowDecimals,allowDuplicatedCategory:jn.allowDuplicatedCategory,angle:jn.angle,axisLine:Bi.axisLine,height:jn.height,hide:!1,includeHidden:jn.includeHidden,interval:jn.interval,label:!1,minTickGap:jn.minTickGap,mirror:jn.mirror,orientation:jn.orientation,padding:jn.padding,reversed:jn.reversed,scale:jn.scale,tick:jn.tick,tickCount:jn.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:jn.type,xAxisId:0},yue=e=>{var t=nn(e,vue);return b.createElement(b.Fragment,null,b.createElement(gue,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),b.createElement(xue,t))},$s=b.memo(yue,b5);$s.displayName="XAxis";var bue=["type"],wue=["dangerouslySetInnerHTML","ticks","scale"],Nue=["id","scale"];function Ab(){return Ab=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ab.apply(null,arguments)}function YM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function JM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(n),!0).forEach(function(r){Sue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sue(e,t,n){return(t=jue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jue(e){var t=_ue(e,"string");return typeof t=="symbol"?t:t+""}function _ue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tb(e,t){if(e==null)return{};var n,r,a=Eue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Eue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Cue(e){var t=Dt(),n=b.useRef(null),r=kw(),{type:a}=e,l=Tb(e,bue),c=$h(r,"yAxis",a),u=b.useMemo(()=>{if(c!=null)return JM(JM({},l),{},{type:c})},[c,l]);return b.useLayoutEffect(()=>{u!=null&&(n.current===null?t(Ese(u)):n.current!==u&&t(Cse({prev:n.current,next:u})),n.current=u)},[u,t]),b.useLayoutEffect(()=>()=>{n.current&&(t(Ase(n.current)),n.current=null)},[t]),null}function Aue(e){var{yAxisId:t,className:n,width:r,label:a}=e,l=b.useRef(null),c=b.useRef(null),u=Me(_w),f=Mn(),p=Dt(),m="yAxis",g=Me(P=>HD(P,t)),v=Me(P=>xte(P,t)),N=Me(P=>YD(P,m,t,f)),j=Me(P=>ED(P,t));if(b.useLayoutEffect(()=>{if(!(r!=="auto"||!g||B1(a)||b.isValidElement(a)||j==null)){var P=l.current;if(P){var k=P.getCalculatedWidth();Math.round(g.width)!==Math.round(k)&&p(Tse({id:t,width:k}))}}},[N,g,p,a,t,r,j]),g==null||v==null||j==null)return null;var{dangerouslySetInnerHTML:_,ticks:E,scale:C}=e,A=Tb(e,wue),{id:R,scale:M}=j,I=Tb(j,Nue);return b.createElement(tN,Ab({},A,I,{ref:l,labelRef:c,x:v.x,y:v.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:g.width,height:g.height,className:ct("recharts-".concat(m," ").concat(m),n),viewBox:u,ticks:N,axisType:m}))}var Tue={allowDataOverflow:_n.allowDataOverflow,allowDecimals:_n.allowDecimals,allowDuplicatedCategory:_n.allowDuplicatedCategory,angle:_n.angle,axisLine:Bi.axisLine,hide:!1,includeHidden:_n.includeHidden,interval:_n.interval,label:!1,minTickGap:_n.minTickGap,mirror:_n.mirror,orientation:_n.orientation,padding:_n.padding,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:_n.tickCount,tickLine:Bi.tickLine,tickSize:Bi.tickSize,type:_n.type,width:_n.width,yAxisId:0},kue=e=>{var t=nn(e,Tue);return b.createElement(b.Fragment,null,b.createElement(Cue,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),b.createElement(Aue,t))},Gs=b.memo(kue,b5);Gs.displayName="YAxis";var Mue=(e,t)=>t,aN=Q([Mue,ot,ND,Pn,d4,ls,Rne,bn],Une),iN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},w5=oa("mouseClick"),N5=Id();N5.startListening({actionCreator:w5,effect:(e,t)=>{var n=e.payload,r=aN(t.getState(),iN(n));r?.activeIndex!=null&&t.dispatch(Mte({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var kb=oa("mouseMove"),S5=Id(),Dp=null;S5.startListening({actionCreator:kb,effect:(e,t)=>{var n=e.payload;Dp!==null&&cancelAnimationFrame(Dp);var r=iN(n);Dp=requestAnimationFrame(()=>{var a=t.getState(),l=M1(a,a.tooltip.settings.shared);if(l==="axis"){var c=aN(a,r);c?.activeIndex!=null?t.dispatch(n4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate})):t.dispatch(t4())}Dp=null})}});function Rue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var WM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},j5=_r({name:"rootProps",initialState:WM,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:WM.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Pue=j5.reducer,{updateOptions:Iue}=j5.actions,Oue=null,Due={updatePolarOptions:(e,t)=>t.payload},_5=_r({name:"polarOptions",initialState:Oue,reducers:Due}),{updatePolarOptions:Lue}=_5.actions,zue=_5.reducer,E5=oa("keyDown"),C5=oa("focus"),sN=Id();sN.startListening({actionCreator:E5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=R1(a,Dc(n),Kd(n),Jd(n)),u=c==null?-1:Number(c);if(!(!Number.isFinite(u)||u<0)){var f=ls(n);if(l==="Enter"){var p=Hm(n,"axis","hover",String(a.index));t.dispatch(gb({active:!a.active,activeIndex:a.index,activeCoordinate:p}));return}var m=wte(n),g=m==="left-to-right"?1:-1,v=l==="ArrowRight"?1:-1,N=u+v*g;if(!(f==null||N>=f.length||N<0)){var j=Hm(n,"axis","hover",String(N));t.dispatch(gb({active:!0,activeIndex:N.toString(),activeCoordinate:j}))}}}}}});sN.startListening({actionCreator:C5,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var l="0",c=Hm(n,"axis","hover",String(l));t.dispatch(gb({active:!0,activeIndex:l,activeCoordinate:c}))}}}});var na=oa("externalEvent"),A5=Id(),iy=new Map;A5.startListening({actionCreator:na,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,l=iy.get(a);l!==void 0&&cancelAnimationFrame(l);var c=requestAnimationFrame(()=>{try{var u=t.getState(),f={activeCoordinate:xne(u),activeDataKey:L1(u),activeIndex:Ws(u),activeLabel:m4(u),activeTooltipIndex:Ws(u),isTooltipActive:vne(u)};n(f,r)}finally{iy.delete(a)}});iy.set(a,c)}}});var Uue=Q([Ic],e=>e.tooltipItemPayloads),$ue=Q([Uue,(e,t)=>t,(e,t,n)=>n],(e,t,n)=>{if(t!=null){var r=e.find(l=>l.settings.graphicalItemId===n);if(r!=null){var{getPosition:a}=r;if(a!=null)return a(t)}}}),T5=oa("touchMove"),k5=Id();k5.startListening({actionCreator:T5,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=M1(r,r.tooltip.settings.shared);if(a==="axis"){var l=n.touches[0];if(l==null)return;var c=aN(r,iN({clientX:l.clientX,clientY:l.clientY,currentTarget:n.currentTarget}));c?.activeIndex!=null&&t.dispatch(n4({activeIndex:c.activeIndex,activeDataKey:void 0,activeCoordinate:c.activeCoordinate}))}else if(a==="item"){var u,f=n.touches[0];if(document.elementFromPoint==null||f==null)return;var p=document.elementFromPoint(f.clientX,f.clientY);if(!p||!p.getAttribute)return;var m=p.getAttribute(JI),g=(u=p.getAttribute(WI))!==null&&u!==void 0?u:void 0,v=Oc(r).find(_=>_.id===g);if(m==null||v==null||g==null)return;var{dataKey:N}=v,j=$ue(r,m,g);t.dispatch(e4({activeDataKey:N,activeIndex:m,activeCoordinate:j,activeGraphicalItemId:g}))}}}});var Gue=gI({brush:Kse,cartesianAxis:kse,chartData:gre,errorBars:Gle,graphicalItems:zie,layout:HY,legend:XJ,options:dre,polarAxis:Zae,polarOptions:zue,referenceElements:Xse,rootProps:Pue,tooltip:Rte,zIndex:Qne}),Bue=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return gY({reducer:Gue,preloadedState:t,middleware:r=>{var a;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([N5.middleware,S5.middleware,sN.middleware,A5.middleware,k5.middleware])},enhancers:r=>{var a=r;return typeof r=="function"&&(a=r()),a.concat(MI({type:"raf"}))},devTools:{serialize:{replacer:Rue},name:"recharts-".concat(n)}})};function M5(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=Mn(),l=b.useRef(null);if(a)return n;l.current==null&&(l.current=Bue(t,r));var c=vw;return b.createElement(hoe,{context:c,store:l.current},n)}function Fue(e){var{layout:t,margin:n}=e,r=Dt(),a=Mn();return b.useEffect(()=>{a||(r(BY(t)),r(GY(n)))},[r,a,t,n]),null}var R5=b.memo(Fue,Xd);function P5(e){var t=Dt();return b.useEffect(()=>{t(Iue(e))},[t,e]),null}function XM(e){var{zIndex:t,isPanorama:n}=e,r=b.useRef(null),a=Dt();return b.useLayoutEffect(()=>(r.current&&a(Xne({zIndex:t,element:r.current,isPanorama:n})),()=>{a(Zne({zIndex:t,isPanorama:n}))}),[a,t,n]),b.createElement("g",{tabIndex:-1,ref:r})}function ZM(e){var{children:t,isPanorama:n}=e,r=Me(Gne);if(!r||r.length===0)return t;var a=r.filter(c=>c<0),l=r.filter(c=>c>0);return b.createElement(b.Fragment,null,a.map(c=>b.createElement(XM,{key:c,zIndex:c,isPanorama:n})),t,l.map(c=>b.createElement(XM,{key:c,zIndex:c,isPanorama:n})))}var que=["children"];function Hue(e,t){if(e==null)return{};var n,r,a=Vue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Vue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function eh(){return eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eh.apply(null,arguments)}var Kue={width:"100%",height:"100%",display:"block"},Yue=b.forwardRef((e,t)=>{var n=Aw(),r=Tw(),a=fO();if(!Wa(n)||!Wa(r))return null;var{children:l,otherAttributes:c,title:u,desc:f}=e,p,m;return c!=null&&(typeof c.tabIndex=="number"?p=c.tabIndex:p=a?0:void 0,typeof c.role=="string"?m=c.role:m=a?"application":void 0),b.createElement(lw,eh({},c,{title:u,desc:f,role:m,tabIndex:p,width:n,height:r,style:Kue,ref:t}),l)}),Jue=e=>{var{children:t}=e,n=Me(Ch);if(!n)return null;var{width:r,height:a,y:l,x:c}=n;return b.createElement(lw,{width:r,height:a,x:c,y:l},t)},QM=b.forwardRef((e,t)=>{var{children:n}=e,r=Hue(e,que),a=Mn();return a?b.createElement(Jue,null,b.createElement(ZM,{isPanorama:!0},n)):b.createElement(Yue,eh({ref:t},r),b.createElement(ZM,{isPanorama:!1},n))});function Wue(){var e=Dt(),[t,n]=b.useState(null),r=Me(lJ);return b.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),l=a.width/t.offsetWidth;Qe(l)&&l!==r&&e(qY(l))}},[t,e,r]),n}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xue(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){Zue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zue(e,t,n){return(t=Que(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Que(e){var t=ede(e,"string");return typeof t=="symbol"?t:t+""}function ede(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(null,arguments)}var tde=()=>(_re(),null);function th(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var nde=b.forwardRef((e,t)=>{var n,r,a=b.useRef(null),[l,c]=b.useState({containerWidth:th((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:th((r=e.style)===null||r===void 0?void 0:r.height)}),u=b.useCallback((p,m)=>{c(g=>{var v=Math.round(p),N=Math.round(m);return g.containerWidth===v&&g.containerHeight===N?g:{containerWidth:v,containerHeight:N}})},[]),f=b.useCallback(p=>{if(typeof t=="function"&&t(p),p!=null&&typeof ResizeObserver<"u"){var{width:m,height:g}=p.getBoundingClientRect();u(m,g);var v=j=>{var _=j[0];if(_!=null){var{width:E,height:C}=_.contentRect;u(E,C)}},N=new ResizeObserver(v);N.observe(p),a.current=N}},[t,u]);return b.useEffect(()=>()=>{var p=a.current;p?.disconnect()},[u]),b.createElement(b.Fragment,null,b.createElement(Dd,{width:l.containerWidth,height:l.containerHeight}),b.createElement("div",Ks({ref:f},e)))}),rde=b.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,l]=b.useState({containerWidth:th(n),containerHeight:th(r)}),c=b.useCallback((f,p)=>{l(m=>{var g=Math.round(f),v=Math.round(p);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),u=b.useCallback(f=>{if(typeof t=="function"&&t(f),f!=null){var{width:p,height:m}=f.getBoundingClientRect();c(p,m)}},[t,c]);return b.createElement(b.Fragment,null,b.createElement(Dd,{width:a.containerWidth,height:a.containerHeight}),b.createElement("div",Ks({ref:u},e)))}),ade=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return b.createElement(b.Fragment,null,b.createElement(Dd,{width:n,height:r}),b.createElement("div",Ks({ref:t},e)))}),ide=b.forwardRef((e,t)=>{var{width:n,height:r}=e;return typeof n=="string"||typeof r=="string"?b.createElement(rde,Ks({},e,{ref:t})):typeof n=="number"&&typeof r=="number"?b.createElement(ade,Ks({},e,{width:n,height:r,ref:t})):b.createElement(b.Fragment,null,b.createElement(Dd,{width:n,height:r}),b.createElement("div",Ks({ref:t},e)))});function sde(e){return e?nde:ide}var lde=b.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:f,onMouseEnter:p,onMouseLeave:m,onMouseMove:g,onMouseUp:v,onTouchEnd:N,onTouchMove:j,onTouchStart:_,style:E,width:C,responsive:A,dispatchTouchEvents:R=!0}=e,M=b.useRef(null),I=Dt(),[P,k]=b.useState(null),[L,z]=b.useState(null),q=Wue(),J=Ew(),U=J?.width>0?J.width:C,Y=J?.height>0?J.height:a,te=b.useCallback(ne=>{q(ne),typeof t=="function"&&t(ne),k(ne),z(ne),ne!=null&&(M.current=ne)},[q,t,k,z]),he=b.useCallback(ne=>{I(w5(ne)),I(na({handler:l,reactEvent:ne}))},[I,l]),F=b.useCallback(ne=>{I(kb(ne)),I(na({handler:p,reactEvent:ne}))},[I,p]),G=b.useCallback(ne=>{I(t4()),I(na({handler:m,reactEvent:ne}))},[I,m]),X=b.useCallback(ne=>{I(kb(ne)),I(na({handler:g,reactEvent:ne}))},[I,g]),oe=b.useCallback(()=>{I(C5())},[I]),ve=b.useCallback(ne=>{I(E5(ne.key))},[I]),O=b.useCallback(ne=>{I(na({handler:c,reactEvent:ne}))},[I,c]),K=b.useCallback(ne=>{I(na({handler:u,reactEvent:ne}))},[I,u]),ce=b.useCallback(ne=>{I(na({handler:f,reactEvent:ne}))},[I,f]),xe=b.useCallback(ne=>{I(na({handler:v,reactEvent:ne}))},[I,v]),Z=b.useCallback(ne=>{I(na({handler:_,reactEvent:ne}))},[I,_]),ue=b.useCallback(ne=>{R&&I(T5(ne)),I(na({handler:j,reactEvent:ne}))},[I,R,j]),ye=b.useCallback(ne=>{I(na({handler:N,reactEvent:ne}))},[I,N]),Ne=sde(A);return b.createElement(N4.Provider,{value:P},b.createElement(PP.Provider,{value:L},b.createElement(Ne,{width:U??E?.width,height:Y??E?.height,className:ct("recharts-wrapper",r),style:Xue({position:"relative",cursor:"default",width:U,height:Y},E),onClick:he,onContextMenu:O,onDoubleClick:K,onFocus:oe,onKeyDown:ve,onMouseDown:ce,onMouseEnter:F,onMouseLeave:G,onMouseMove:X,onMouseUp:xe,onTouchEnd:ye,onTouchMove:ue,onTouchStart:Z,ref:te},b.createElement(tde,null),n)))}),ode=["width","height","responsive","children","className","style","compact","title","desc"];function cde(e,t){if(e==null)return{};var n,r,a=ude(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ude(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var I5=b.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:l,className:c,style:u,compact:f,title:p,desc:m}=e,g=cde(e,ode),v=ur(g);return f?b.createElement(b.Fragment,null,b.createElement(Dd,{width:n,height:r}),b.createElement(QM,{otherAttributes:v,title:p,desc:m},l)):b.createElement(lde,{className:c,style:u,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},b.createElement(QM,{otherAttributes:v,title:p,desc:m,ref:t},b.createElement(Qse,null,l)))});function Mb(){return Mb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mb.apply(null,arguments)}var dde={top:5,right:5,bottom:5,left:5},fde={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:dde,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},lN=b.forwardRef(function(t,n){var r,a=nn(t.categoricalChartProps,fde),{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:p}=t,m={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return b.createElement(M5,{preloadedState:{options:m},reduxStoreName:(r=p.id)!==null&&r!==void 0?r:l},b.createElement(Y4,{chartData:p.data}),b.createElement(R5,{layout:a.layout,margin:a.margin}),b.createElement(P5,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(I5,Mb({},a,{ref:n})))}),pde=["axis"],mde=b.forwardRef((e,t)=>b.createElement(lN,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:pde,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t})),hde=["axis","item"],Xu=b.forwardRef((e,t)=>b.createElement(lN,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:hde,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t}));function gde(e){var t=Dt();return b.useEffect(()=>{t(Lue(e))},[t,e]),null}var xde=["layout"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rb.apply(null,arguments)}function vde(e,t){if(e==null)return{};var n,r,a=yde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yde(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var bde={top:5,right:5,bottom:5,left:5},O5={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:bde,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wde=b.forwardRef(function(t,n){var r,a=nn(t.categoricalChartProps,O5),{layout:l}=a,c=vde(a,xde),{chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:m}=t,g={chartName:u,defaultTooltipEventType:f,validateTooltipEventTypes:p,tooltipPayloadSearcher:m,eventEmitter:void 0};return b.createElement(M5,{preloadedState:{options:g},reduxStoreName:(r=a.id)!==null&&r!==void 0?r:u},b.createElement(Y4,{chartData:a.data}),b.createElement(R5,{layout:l,margin:a.margin}),b.createElement(P5,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),b.createElement(gde,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),b.createElement(I5,Rb({},c,{ref:n})))});function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function nR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(r){Nde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nde(e,t,n){return(t=Sde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sde(e){var t=jde(e,"string");return typeof t=="symbol"?t:t+""}function jde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _de=["item"],Ede=nR(nR({},O5),{},{layout:"centric",startAngle:0,endAngle:360}),rR=b.forwardRef((e,t)=>{var n=nn(e,Ede);return b.createElement(wde,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_de,tooltipPayloadSearcher:Xh,categoricalChartProps:n,ref:t})}),Cde=["axis"],Ade=b.forwardRef((e,t)=>b.createElement(lN,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cde,tooltipPayloadSearcher:Xh,categoricalChartProps:e,ref:t}));const Tde=({user:e,onUserUpdate:t})=>{const[n,r]=b.useState(!1),[a,l]=b.useState(!0),[c,u]=b.useState(!1),[f,p]=b.useState(null),[m,g]=b.useState({major:e.major||"",bio:e.bio||"",location:e.location||""});b.useEffect(()=>{(async()=>{l(!0);try{const[C,A]=await Promise.all([Ce.getProfile(),Ce.getProfileStats()]);g({major:C.major||"",bio:C.bio||"",location:C.location||""}),p(A),t(C)}catch(C){console.error("Failed to load profile data",C)}finally{l(!1)}})()},[]);const v=async()=>{u(!0);try{const E=await Ce.updateProfile(m);t(E),r(!1)}catch{alert("Failed to update profile. Please try again.")}finally{u(!1)}},N=e.banned?{label:"Status",value:"BANNED",icon:i.jsx(Fa,{className:"text-red-500"}),color:"text-red-600"}:{label:"Warnings",value:`${e.warnings||0}/3`,icon:i.jsx(on,{className:"text-amber-500"}),color:(e.warnings||0)>=2?"text-amber-600":"text-slate-900"},j=[{label:"Groups Joined",value:f?.groups_joined||"0",icon:i.jsx(pt,{className:"text-orange-500"}),color:"text-slate-900"},{label:"Meetings",value:f?.study_hours||"0",icon:i.jsx(cy,{className:"text-blue-500"}),color:"text-slate-900"},N,{label:"Karma Points",value:f?.karma||"0",icon:i.jsx($l,{className:"text-emerald-500"}),color:"text-slate-900"}],_=f?.activity?.map((E,C)=>({day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][C],hours:E}))||[];return a?i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx(ke,{className:"animate-spin text-orange-500",size:40})}):i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-48 w-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-[3rem] shadow-xl shadow-orange-100"}),i.jsxs("div",{className:"absolute top-8 left-12 flex flex-col md:flex-row items-start gap-6 w-[calc(100%-6rem)]",children:[i.jsx("div",{className:"w-32 h-32 bg-white rounded-[2.5rem] p-2 shadow-2xl shrink-0",children:i.jsx("div",{className:"w-full h-full bg-orange-100 rounded-[2rem] flex items-center justify-center text-orange-600 text-4xl font-black border border-orange-200",children:e.avatar||e.name[0]})}),i.jsxs("div",{className:"mt-12 space-y-1 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:e.name}),e.role==="admin"&&i.jsx("span",{className:"px-3 py-1 bg-purple-500 text-white text-xs font-black uppercase tracking-wider rounded-lg shadow-lg",children:"Admin"}),e.role==="moderator"&&i.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-xs font-black uppercase tracking-wider rounded-lg shadow-lg",children:"Moderator"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white font-bold text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(jr,{size:14,className:"text-white"})," ",m.location||"Location not set"]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Ys,{size:14,className:"text-white"})," ",e.email]})]})]})]}),i.jsx("div",{className:"absolute top-20 right-12 hidden md:block",children:n?i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{disabled:c,onClick:()=>r(!1),className:"px-6 py-3 bg-white text-red-500 border border-red-100 rounded-2xl font-bold hover:bg-red-50 transition-all disabled:opacity-50",children:"Cancel"}),i.jsxs("button",{disabled:c,onClick:v,className:"px-6 py-3 bg-orange-500 text-white rounded-2xl font-bold shadow-lg shadow-orange-200 hover:bg-orange-600 transition-all flex items-center gap-2 disabled:opacity-50",children:[c?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsx(aE,{size:18}),"Save Changes"]})]}):i.jsxs("button",{onClick:()=>r(!0),className:"px-6 py-3 bg-white text-slate-900 border border-slate-200 rounded-2xl font-bold shadow-lg hover:bg-slate-50 transition-all flex items-center gap-2",children:[i.jsx(pc,{size:18}),"Edit Profile"]})})]}),i.jsx("div",{className:"mt-24 md:hidden px-4",children:n?i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("button",{disabled:c,onClick:v,className:"w-full px-6 py-4 bg-orange-500 text-white rounded-2xl font-bold shadow-md flex items-center justify-center gap-2",children:[c?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsx(aE,{size:18}),"Save Changes"]}),i.jsx("button",{disabled:c,onClick:()=>r(!1),className:"w-full px-6 py-4 bg-white text-red-500 border border-red-100 rounded-2xl font-bold",children:"Cancel"})]}):i.jsxs("button",{onClick:()=>r(!0),className:"w-full px-6 py-4 bg-white text-slate-900 border border-slate-200 rounded-2xl font-bold shadow-md flex items-center justify-center gap-2",children:[i.jsx(pc,{size:18}),"Edit Profile"]})}),i.jsxs("div",{className:`${n?"mt-8":"mt-20"} grid grid-cols-1 lg:grid-cols-3 gap-8`,children:[i.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Personal Details"}),!n&&i.jsx(Hb,{size:16,className:"text-slate-300"})]}),n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Academic Major"}),i.jsxs("div",{className:"relative",children:[i.jsx(cy,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:border-orange-500 focus:bg-white transition-all",placeholder:"e.g. Computer Science",value:m.major,onChange:E=>g({...m,major:E.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Current Location"}),i.jsxs("div",{className:"relative",children:[i.jsx(jr,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16}),i.jsx("input",{className:"w-full pl-12 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm focus:border-orange-500 focus:bg-white transition-all",placeholder:"e.g. Bangkok, Thailand",value:m.location,onChange:E=>g({...m,location:E.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"About Me / Bio"}),i.jsx("textarea",{rows:4,className:"w-full px-5 py-3 bg-slate-50 border border-slate-200 rounded-xl outline-none font-bold text-sm resize-none focus:border-orange-500 focus:bg-white transition-all",placeholder:"Tell us a bit about your study habits or interests...",value:m.bio,onChange:E=>g({...m,bio:E.target.value})})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Major"}),i.jsx("p",{className:"font-bold text-slate-800",children:m.major||"Not specified"})]}),i.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bio"}),i.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:m.bio?`"${m.bio}"`:"Write something about yourself..."})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:j.map((E,C)=>i.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-slate-200 shadow-sm text-center group hover:border-orange-200 transition-all ${E.label==="Status"&&e.banned?"border-red-200 bg-red-50":""}`,children:[i.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-white transition-colors",children:E.icon}),i.jsx("h4",{className:`text-2xl font-black ${E.color||"text-slate-900"}`,children:E.value}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:E.label})]},C))})]}),i.jsx("div",{className:"lg:col-span-2 space-y-8",children:i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm h-full",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight mb-8",children:"Weekly Activity"}),i.jsx("div",{className:"h-[300px] w-full",children:i.jsx(Ri,{width:"100%",height:"100%",children:i.jsxs(Xu,{data:_,children:[i.jsx($s,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),i.jsx(Gs,{hide:!0}),i.jsx(Pi,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontWeight:700}}),i.jsx(fc,{dataKey:"hours",radius:[8,8,8,8],barSize:40,children:_.map((E,C)=>i.jsx(Xs,{fill:C===5||C===6?"#F97316":"#f1f5f9"},`cell-${C}`))})]})})}),i.jsxs("div",{className:"mt-8 flex items-center justify-between p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:i.jsx($l,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Karma Milestone"}),i.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-widest",children:"Contribute to the hub to earn more!"})]})]}),i.jsx("span",{className:"text-4xl font-black text-orange-500",children:f?.karma||0})]})]})})]})]})},kde=()=>{const{userId:e}=xR(),t=$r(),[n,r]=b.useState(!0),[a,l]=b.useState(null),[c,u]=b.useState(null);b.useEffect(()=>{(async()=>{if(e){r(!0);try{const[v,N]=await Promise.all([Ce.getUserById(parseInt(e)),Ce.getUserStats(parseInt(e))]);l(v),u(N)}catch(v){console.error("Failed to load user profile",v),alert("Failed to load user profile. They may have privacy settings enabled.")}finally{r(!1)}}})()},[e]);const f=a?.banned?{label:"Status",value:"BANNED",icon:i.jsx(Fa,{className:"text-red-500"}),color:"text-red-600"}:{label:"Warnings",value:`${a?.warnings||0}/3`,icon:i.jsx(on,{className:"text-amber-500"}),color:(a?.warnings||0)>=2?"text-amber-600":"text-slate-900"},p=[{label:"Groups Joined",value:c?.groups_joined||"0",icon:i.jsx(pt,{className:"text-orange-500"}),color:"text-slate-900"},{label:"Meetings",value:c?.study_hours||"0",icon:i.jsx(cy,{className:"text-blue-500"}),color:"text-slate-900"},f,{label:"Karma Points",value:c?.karma||"0",icon:i.jsx($l,{className:"text-emerald-500"}),color:"text-slate-900"}],m=c?.activity?.map((g,v)=>({day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][v],hours:g}))||[];return n?i.jsx("div",{className:"h-64 flex items-center justify-center",children:i.jsx(ke,{className:"animate-spin text-orange-500",size:40})}):a?i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-12",children:[i.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-slate-600 hover:text-slate-900 font-bold transition-colors mb-4",children:[i.jsx($z,{size:20}),"Back"]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-48 w-full bg-gradient-to-r from-orange-400 to-orange-600 rounded-[3rem] shadow-xl shadow-orange-100"}),i.jsxs("div",{className:"absolute top-8 left-12 flex flex-col md:flex-row items-start gap-6 w-[calc(100%-6rem)]",children:[i.jsx("div",{className:"w-32 h-32 bg-white rounded-[2.5rem] p-2 shadow-2xl shrink-0",children:i.jsx("div",{className:"w-full h-full bg-orange-100 rounded-[2rem] flex items-center justify-center text-orange-600 text-4xl font-black border border-orange-200",children:a.avatar||a.name[0]})}),i.jsxs("div",{className:"mt-12 space-y-1 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("h1",{className:"text-3xl font-black text-white tracking-tight",children:a.name}),a.role==="admin"&&i.jsx("span",{className:"px-3 py-1 bg-purple-500 text-white text-xs font-black uppercase tracking-wider rounded-lg shadow-lg",children:"Admin"}),a.role==="moderator"&&i.jsx("span",{className:"px-3 py-1 bg-blue-500 text-white text-xs font-black uppercase tracking-wider rounded-lg shadow-lg",children:"Moderator"})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-white font-bold text-sm",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(jr,{size:14,className:"text-white"})," ",a.location||"Location not set"]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(Ys,{size:14,className:"text-white"})," ",a.email]})]})]})]})]}),i.jsxs("div",{className:"mt-20 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm space-y-6",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:"Personal Details"}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Major"}),i.jsx("p",{className:"font-bold text-slate-800",children:a.major||"Not specified"})]}),i.jsxs("div",{className:"space-y-1 p-4 bg-slate-50 rounded-2xl border border-slate-100",children:[i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Bio"}),i.jsx("p",{className:"text-sm font-medium text-slate-500 leading-relaxed italic",children:a.bio?`"${a.bio}"`:"No bio available"})]})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:p.map((g,v)=>i.jsxs("div",{className:`bg-white p-6 rounded-3xl border border-slate-200 shadow-sm text-center group hover:border-orange-200 transition-all ${g.label==="Status"&&a?.banned?"border-red-200 bg-red-50":""}`,children:[i.jsx("div",{className:"w-10 h-10 bg-slate-50 rounded-xl flex items-center justify-center mx-auto mb-3 group-hover:bg-white transition-colors",children:g.icon}),i.jsx("h4",{className:`text-2xl font-black ${g.color||"text-slate-900"}`,children:g.value}),i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:g.label})]},v))})]}),i.jsx("div",{className:"lg:col-span-2 space-y-8",children:i.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-slate-200 shadow-sm h-full",children:[i.jsx("h2",{className:"text-xl font-extrabold text-slate-900 tracking-tight mb-8",children:"Weekly Activity"}),i.jsx("div",{className:"h-[300px] w-full",children:i.jsx(Ri,{width:"100%",height:"100%",children:i.jsxs(Xu,{data:m,children:[i.jsx($s,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12,fontWeight:700},dy:10}),i.jsx(Gs,{hide:!0}),i.jsx(Pi,{cursor:{fill:"#f8fafc"},contentStyle:{borderRadius:"16px",border:"none",boxShadow:"0 10px 15px -3px rgb(0 0 0 / 0.1)",fontWeight:700}}),i.jsx(fc,{dataKey:"hours",radius:[8,8,8,8],barSize:40,children:m.map((g,v)=>i.jsx(Xs,{fill:v===5||v===6?"#F97316":"#f1f5f9"},`cell-${v}`))})]})})}),i.jsxs("div",{className:"mt-8 flex items-center justify-between p-6 bg-slate-50 rounded-3xl border border-slate-100",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center text-orange-600",children:i.jsx($l,{size:24})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-slate-900",children:"Karma Points"}),i.jsx("p",{className:"text-xs font-bold text-slate-400 mt-1 uppercase tracking-widest",children:"Community Contributions"})]})]}),i.jsx("span",{className:"text-4xl font-black text-orange-500",children:c?.karma||0})]})]})})]})]}):i.jsxs("div",{className:"h-64 flex flex-col items-center justify-center space-y-4",children:[i.jsx("p",{className:"text-slate-600 font-bold",children:"User not found"}),i.jsx("button",{onClick:()=>t(-1),className:"px-6 py-3 bg-orange-500 text-white rounded-xl font-bold hover:bg-orange-600 transition-all",children:"Go Back"})]})},Mde=()=>{const{theme:e,toggleTheme:t}=Ib(),[n,r]=b.useState(()=>localStorage.getItem("notification_sound")!=="false"),[a,l]=b.useState(!1),[c,u]=b.useState(""),[f,p]=b.useState(""),[m,g]=b.useState(""),[v,N]=b.useState(!1),[j,_]=b.useState(""),[E,C]=b.useState(!1),A=async I=>{if(I.preventDefault(),_(""),C(!1),!c||!f||!m){_("All fields are required.");return}if(f.length<8){_("New password must be at least 8 characters long.");return}if(f!==m){_("New passwords do not match.");return}N(!0);try{await Ce.changePassword({current_password:c,new_password:f,new_password_confirmation:m}),C(!0),u(""),p(""),g(""),setTimeout(()=>{l(!1),C(!1)},2e3)}catch(P){_(P.message||"Failed to change password. Please try again.")}finally{N(!1)}},R=()=>{const I=!n;r(I),localStorage.setItem("notification_sound",I?"true":"false"),I&&(L5(),setTimeout(z5,50))},M=[{title:"Account & Security",items:[{label:"Login & Security",icon:i.jsx(An,{className:"text-blue-500"}),desc:"Change password"},{label:"Privacy Center",icon:i.jsx(Ui,{className:"text-emerald-500"}),desc:"Control who sees your profile activity"}]},{title:"Preferences",items:[{label:"Notifications",icon:i.jsx(Td,{className:"text-orange-500"}),desc:n?"Sound alerts on":"Sound alerts off"},{label:"Appearance",icon:i.jsx(td,{className:"text-purple-500"}),desc:"Switch to Dark Mode"}]},{title:"Data & Sync",items:[{label:"Storage Usage",icon:i.jsx(dU,{className:"text-slate-500"}),desc:"Clear cache and manage shared files"}]}];return i.jsxs("div",{className:"max-w-4xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[i.jsxs("div",{className:"space-y-8",children:[M.map((I,P)=>i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] ml-2",children:I.title}),i.jsx("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] overflow-hidden shadow-sm",children:I.items.map((k,L)=>k.label==="Notifications"?i.jsxs("div",{className:`w-full flex items-center justify-between p-6 ${L!==I.items.length-1?"border-b border-slate-100":""}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-sm",children:n?i.jsx(MR,{size:20,className:"text-orange-500"}):i.jsx(j$,{size:20,className:"text-slate-400"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h4",{className:"font-bold text-slate-900",children:k.label}),i.jsx("p",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:n?"Sound alerts on":"Sound alerts off"})]})]}),i.jsx("button",{onClick:R,className:`relative w-12 h-6 rounded-full transition-colors duration-300 focus:outline-none ${n?"bg-orange-500":"bg-slate-200"}`,"aria-label":"Toggle notification sound",role:"switch","aria-checked":n,children:i.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300 ${n?"translate-x-6":"translate-x-0"}`})})]},L):k.label==="Appearance"?i.jsxs("div",{className:`w-full flex items-center justify-between p-6 ${L!==I.items.length-1?"border-b border-slate-100":""}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center shadow-sm",children:e==="dark"?i.jsx(Kb,{size:20,className:"text-purple-500"}):i.jsx(td,{size:20,className:"text-purple-500"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h4",{className:"font-bold text-slate-900",children:k.label}),i.jsx("p",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:e==="dark"?"Dark mode is on":"Switch to Dark Mode"})]})]}),i.jsx("button",{onClick:t,className:`relative w-12 h-6 rounded-full transition-colors duration-300 focus:outline-none ${e==="dark"?"bg-orange-500":"bg-slate-200"}`,"aria-label":"Toggle dark mode",role:"switch","aria-checked":e==="dark",children:i.jsx("span",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-300 ${e==="dark"?"translate-x-6":"translate-x-0"}`})})]},L):i.jsxs("button",{onClick:()=>{k.label==="Login & Security"&&l(!0)},className:`w-full flex items-center justify-between p-6 hover:bg-slate-50 transition-colors group ${L!==I.items.length-1?"border-b border-slate-100":""}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-2xl flex items-center justify-center transition-colors group-hover:bg-white shadow-sm",children:k.icon}),i.jsxs("div",{className:"text-left",children:[i.jsx("h4",{className:"font-bold text-slate-900",children:k.label}),i.jsx("p",{className:"text-xs font-semibold text-slate-400 mt-0.5",children:k.desc})]})]}),i.jsx(Gl,{size:18,className:"text-slate-300 group-hover:text-slate-600 transition-colors"})]},L))})]},P)),i.jsxs("div",{className:"pt-8 space-y-4",children:[i.jsx("h3",{className:"text-[10px] font-black text-red-400 uppercase tracking-[0.2em] ml-2",children:"Danger Zone"}),i.jsx("div",{className:"bg-white border border-red-100 rounded-[2.5rem] overflow-hidden shadow-sm",children:i.jsxs("button",{className:"w-full flex items-center justify-between p-6 hover:bg-red-50 transition-colors group",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100/50 rounded-2xl flex items-center justify-center",children:i.jsx(qi,{className:"text-red-500"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h4",{className:"font-bold text-red-600",children:"Delete Account"}),i.jsx("p",{className:"text-xs font-semibold text-red-400 mt-0.5",children:"Permanently remove all your data and groups"})]})]}),i.jsx(Gl,{size:18,className:"text-red-300"})]})})]})]}),a&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 p-6 flex justify-between items-center",style:{color:"white"},children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-extrabold tracking-tight",style:{color:"white"},children:"Change Password"}),i.jsx("p",{className:"font-medium text-sm mt-1",style:{color:"rgb(191 219 254)"},children:"Update your account password"})]}),i.jsx("button",{onClick:()=>{l(!1),_(""),C(!1),u(""),p(""),g("")},className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:i.jsx(et,{size:20,style:{color:"white"}})})]}),i.jsx("div",{className:"p-6",children:E?i.jsxs("div",{className:"py-12 text-center",children:[i.jsx(ac,{size:64,className:"mx-auto text-emerald-500 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-2",children:"Password Changed!"}),i.jsx("p",{className:"text-sm text-slate-600",children:"Your password has been updated successfully."})]}):i.jsxs("form",{onSubmit:A,className:"space-y-4",children:[j&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:i.jsx("p",{className:"text-sm text-red-600 font-semibold",children:j})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-600 uppercase tracking-widest mb-2",children:"Current Password"}),i.jsx("input",{type:"password",value:c,onChange:I=>u(I.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium",placeholder:"Enter current password",disabled:v})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-600 uppercase tracking-widest mb-2",children:"New Password"}),i.jsx("input",{type:"password",value:f,onChange:I=>p(I.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium",placeholder:"Enter new password (min 8 characters)",disabled:v})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-600 uppercase tracking-widest mb-2",children:"Confirm New Password"}),i.jsx("input",{type:"password",value:m,onChange:I=>g(I.target.value),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-medium",placeholder:"Confirm new password",disabled:v})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{l(!1),_(""),u(""),p(""),g("")},className:"flex-1 px-6 py-3 bg-slate-100 text-slate-700 font-bold rounded-xl hover:bg-slate-200 transition-colors",disabled:v,children:"Cancel"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all shadow-lg shadow-blue-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",disabled:v,children:v?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Changing..."]}):"Change Password"})]})]})})]})})]})},Rde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(null),[c,u]=b.useState(!1);b.useEffect(()=>{f()},[]);const f=async()=>{r(!0),l(null);try{const m=await Ce.getLeaders();t(m)}catch(m){console.error("Failed to load contributors:",m),l("Could not load leaderboard data. Please try again later.")}finally{r(!1)}},p=m=>m===1?"":m===2?"":m===3?"":null;return i.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in slide-in-from-bottom-4 duration-500 pb-20",children:[i.jsx("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-[2.5rem] p-12 text-white shadow-xl shadow-orange-200",children:i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur rounded-2xl flex items-center justify-center",children:i.jsx(fy,{size:32,className:"text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-extrabold tracking-tight",children:"Top Contributors"}),i.jsx("p",{className:"text-orange-100 font-medium text-lg mt-1",children:"Most active members in our community"})]})]}),i.jsx("button",{onClick:()=>u(!0),className:"w-12 h-12 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",title:"How Karma Points Work",children:i.jsx(Hb,{size:24,className:"text-white"})})]})}),a&&i.jsxs("div",{className:"bg-red-50 border border-red-200 p-6 rounded-2xl text-red-800",children:[i.jsx("p",{className:"font-bold",children:a}),i.jsx("button",{onClick:f,className:"mt-3 text-xs font-black uppercase tracking-widest underline decoration-2 underline-offset-4",children:"Retry"})]}),n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-24 space-y-4",children:[i.jsx(ke,{size:48,className:"animate-spin text-orange-500"}),i.jsx("p",{className:"text-slate-400 font-bold uppercase tracking-widest text-[10px]",children:"Loading Leaderboard..."})]}):i.jsx("div",{className:"bg-white border border-slate-200 rounded-[2.5rem] overflow-hidden shadow-xl",children:i.jsxs("table",{className:"w-full text-left",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"bg-slate-50 border-b-2 border-slate-200",children:[i.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Rank"}),i.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"User"}),i.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest",children:"Major"}),i.jsx("th",{className:"px-8 py-5 text-xs font-black text-slate-400 uppercase tracking-widest text-right",children:"Karma Points"})]})}),i.jsx("tbody",{children:e.length===0?i.jsx("tr",{children:i.jsxs("td",{colSpan:4,className:"px-8 py-16 text-center",children:[i.jsx(fy,{size:48,className:"mx-auto mb-4 text-slate-200"}),i.jsx("p",{className:"font-bold text-slate-400",children:"No contributors yet."}),i.jsx("p",{className:"text-sm text-slate-400 mt-2",children:"Be the first to earn karma points!"})]})}):e.map((m,g)=>{const v=p(g+1),N=g<3;return i.jsxs("tr",{className:`border-b border-slate-100 hover:bg-slate-50 transition-colors ${N?"bg-orange-50/30":""}`,children:[i.jsx("td",{className:"px-8 py-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`w-10 h-10 flex items-center justify-center rounded-xl font-bold text-sm ${g===0?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-200":g===1?"bg-gradient-to-br from-slate-300 to-slate-400 text-white shadow-lg shadow-slate-200":g===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white shadow-lg shadow-amber-200":"bg-slate-100 text-slate-500"}`,children:["#",g+1]}),v&&i.jsx("span",{className:"text-2xl",children:v})]})}),i.jsx("td",{className:"px-8 py-6",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx($t,{to:`/profile/${m.id}`,className:"w-12 h-12 bg-orange-50 rounded-xl flex items-center justify-center font-bold text-orange-600 border border-orange-100 cursor-pointer hover:scale-105 transition-transform",children:m.name[0]}),i.jsxs("div",{children:[i.jsx($t,{to:`/profile/${m.id}`,className:"font-bold text-slate-900 hover:text-orange-500 transition-colors cursor-pointer text-lg",children:m.name}),i.jsx("p",{className:"text-xs text-slate-400 font-semibold",children:m.email})]})]})}),i.jsx("td",{className:"px-8 py-6",children:i.jsx("span",{className:"text-sm font-semibold text-slate-600",children:m.major||"Student"})}),i.jsx("td",{className:"px-8 py-6 text-right",children:i.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 border border-orange-100 rounded-xl",children:[i.jsx($l,{className:"text-orange-500",size:16}),i.jsx("span",{className:"font-black text-slate-900",children:m.karma_points.toLocaleString()})]})})]},m.id)})})]})}),c&&i.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl w-full max-w-4xl max-h-[85vh] overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 p-8 flex justify-between items-center text-white",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-extrabold tracking-tight",children:"How Karma Points Work"}),i.jsx("p",{className:"text-orange-100 font-medium mt-1",children:"Earn karma by being an active and positive member of the community"})]}),i.jsx("button",{onClick:()=>u(!1),className:"w-10 h-10 bg-white/20 backdrop-blur rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:i.jsx(et,{size:20,className:"text-white"})})]}),i.jsxs("div",{className:"p-8 overflow-y-auto max-h-[calc(85vh-120px)] space-y-6",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-emerald-700 flex items-center gap-2",children:[i.jsx("span",{className:"w-8 h-8 bg-emerald-500 rounded-lg flex items-center justify-center text-white font-black text-sm",children:"+"}),"Earning Karma (Positive Actions)"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Create Group"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+20"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Start a new study group"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Join Group"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Join an existing study group"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Gain Member"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+15"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Leader gains a new member"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Create Event"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+15"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Schedule a study meeting"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Upload File"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Share study materials"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Send Message"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+5"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Participate in group chat"})]}),i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-emerald-600 uppercase tracking-widest",children:"Good Rating"}),i.jsx("span",{className:"text-emerald-600 font-black",children:"+10"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Receive 4-5 star rating"})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h3",{className:"text-lg font-bold text-red-700 flex items-center gap-2",children:[i.jsx("span",{className:"w-8 h-8 bg-red-500 rounded-lg flex items-center justify-center text-white font-black text-sm",children:""}),"Losing Karma (Negative Actions)"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Banned"}),i.jsx("span",{className:"text-red-600 font-black",children:"-50"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Permanent account ban"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"30-Day Suspension"}),i.jsx("span",{className:"text-red-600 font-black",children:"-30"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Long suspension period"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"7-Day Suspension"}),i.jsx("span",{className:"text-red-600 font-black",children:"-20"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Week suspension period"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Kicked from Group"}),i.jsx("span",{className:"text-red-600 font-black",children:"-20"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Removed by group leader"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Warning"}),i.jsx("span",{className:"text-red-600 font-black",children:"-15"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Receive moderator warning"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"3-Day Suspension"}),i.jsx("span",{className:"text-red-600 font-black",children:"-10"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Short suspension period"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Lose Member"}),i.jsx("span",{className:"text-red-600 font-black",children:"-10"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Leader loses a member"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Leave Group"}),i.jsx("span",{className:"text-red-600 font-black",children:"-5"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Voluntarily exit a group"})]}),i.jsxs("div",{className:"bg-red-50 rounded-xl p-4 border border-red-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-xs font-black text-red-600 uppercase tracking-widest",children:"Bad Rating"}),i.jsx("span",{className:"text-red-600 font-black",children:"-5"})]}),i.jsx("p",{className:"text-sm text-slate-600",children:"Receive 1-2 star rating"})]})]})]}),i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-4",children:i.jsxs("p",{className:"text-sm text-orange-800 font-semibold text-center",children:[" ",i.jsx("strong",{children:"Pro Tip:"})," Stay active, be helpful, maintain good conduct, and lead quality study groups to maximize your karma points!"]})})]})]})})]})},Pde=()=>{const{theme:e,toggleTheme:t}=Ib();return i.jsxs("div",{className:"min-h-screen bg-slate-50",children:[i.jsxs("header",{className:"fixed top-0 inset-x-0 h-20 bg-white/80 backdrop-blur-md border-b border-slate-100 z-50 px-6 md:px-12 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-bold shadow-lg shadow-orange-100",children:"AU"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"text-xl font-black text-slate-900 leading-none tracking-tight",children:"StudyHub"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-0.5",children:"Study Group Finder"})]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-8",children:[i.jsx("a",{href:"#features",className:"text-sm font-bold text-slate-500 hover:text-slate-900",children:"Features"}),i.jsx("a",{href:"#how",className:"text-sm font-bold text-slate-500 hover:text-slate-900",children:"How it works"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-xl transition-all text-slate-400 hover:text-slate-700",title:e==="dark"?"Switch to light mode":"Switch to dark mode",children:e==="dark"?i.jsx(kR,{size:20}):i.jsx(Kb,{size:20})}),i.jsx($t,{to:"/login",className:"text-sm font-bold text-slate-600 px-5 py-2 hover:bg-slate-100 rounded-xl transition-all",children:"Login"}),i.jsx($t,{to:"/signup",className:"bg-orange-500 text-white text-sm font-bold px-6 py-2.5 rounded-xl shadow-lg shadow-orange-100 hover:bg-orange-600 transition-all",children:"Sign Up"})]})]}),i.jsxs("section",{className:"pt-40 pb-24 px-6 md:px-12 max-w-7xl mx-auto grid lg:grid-cols-2 gap-16 items-center",children:[i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-50 border border-orange-100 rounded-full text-orange-600 text-xs font-black uppercase tracking-widest",children:[i.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),"Built for Students by Students"]}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[1.1] tracking-tight",children:["Study better, ",i.jsx("br",{})," ",i.jsx("span",{className:"text-orange-500",children:"together."})]}),i.jsx("p",{className:"text-lg text-slate-500 font-medium leading-relaxed max-w-lg",children:"Find classmates, join study groups, and ace your exams. AU StudyHub connects you with the right people for every subject."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsxs($t,{to:"/signup",className:"w-full sm:w-auto px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest shadow-xl shadow-orange-200 hover:bg-orange-600 hover:-translate-y-1 transition-all flex items-center justify-center gap-3",children:["Get Started ",i.jsx(Fb,{size:18})]}),i.jsxs("div",{className:"flex -space-x-3 px-4",children:[[1,2,3,4].map(n=>i.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-white bg-slate-200"},n)),i.jsx("div",{className:"w-10 h-10 rounded-full border-4 border-white bg-orange-500 text-white flex items-center justify-center text-[10px] font-black",children:"+2k"})]}),i.jsx("span",{className:"text-sm font-bold text-slate-400",children:"Join 2,000+ students online"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-6 pt-4",children:[i.jsxs("div",{className:"flex items-center gap-3 text-slate-500 font-bold text-sm",children:[i.jsx(ac,{className:"text-orange-500"})," Real classmates"]}),i.jsxs("div",{className:"flex items-center gap-3 text-slate-500 font-bold text-sm",children:[i.jsx(ac,{className:"text-orange-500"})," Faculty filtered"]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-orange-500/10 blur-[100px] rounded-full"}),i.jsxs("div",{className:"relative bg-white border border-slate-200 rounded-[3rem] p-4 shadow-2xl",children:[i.jsx("img",{src:"https://www.u-fukui.ac.jp/wp/wp-content/uploads/Assumption-Campus.jpg",className:"rounded-[2.5rem] w-full h-auto opacity-90",alt:"Study Group"}),i.jsxs("div",{className:"absolute -bottom-8 -left-8 bg-white p-6 rounded-3xl shadow-xl border border-slate-100 animate-bounce duration-[3000ms]",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"w-2.5 h-2.5 bg-emerald-500 rounded-full"}),i.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Join Now"})]}),i.jsx("p",{className:"font-bold text-slate-900",children:"Calc III Study Room"}),i.jsx("div",{className:"flex mt-3",children:[1,2,3].map(n=>i.jsx("div",{className:"w-7 h-7 rounded-full border-2 border-white bg-slate-200 -ml-2 first:ml-0"},n))})]})]})]})]}),i.jsx("section",{id:"features",className:"py-24 px-6 md:px-12 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-16 space-y-4",children:[i.jsx("h2",{className:"text-4xl font-black text-slate-900",children:"Everything you need to succeed"}),i.jsx("p",{className:"text-slate-500 font-medium max-w-xl mx-auto",children:"A specialized toolset designed to make collaborative learning effortless and productive."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:i.jsx(pt,{className:"text-orange-500"}),title:"Smart Groups",desc:"Join groups limited by seats to ensure focused and high-quality study sessions."},{icon:i.jsx(Qu,{className:"text-blue-500"}),title:"AI Study Assistant",desc:"Use Gemini-powered chat summaries and auto-generated study descriptions."},{icon:i.jsx(An,{className:"text-emerald-500"}),title:"Verified Profiles",desc:"Only university students with valid emails can join our verified community."}].map((n,r)=>i.jsxs("div",{className:"p-10 bg-slate-50 rounded-[3rem] border border-slate-100 hover:border-orange-200 transition-all hover:bg-white hover:shadow-xl hover:shadow-orange-50/50 group text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-white rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm group-hover:scale-110 transition-all",children:n.icon}),i.jsx("h3",{className:"text-xl font-bold text-slate-900 mb-4",children:n.title}),i.jsx("p",{className:"text-slate-500 font-medium leading-relaxed",children:n.desc})]},r))})]})}),i.jsx("footer",{className:"py-12 border-t border-slate-100 text-center",children:i.jsx("p",{className:"text-slate-400 font-bold text-xs uppercase tracking-widest",children:" 2026 AU Study Group Finder  Built with  for students"})})]})},Ide=({onLogin:e})=>{const[t,n]=b.useState(""),[r,a]=b.useState(""),[l,c]=b.useState(!1),[u,f]=b.useState(""),p=$r(),m=async g=>{g.preventDefault(),c(!0),f("");try{const v=await Ce.login({email:t,password:r}),N={...v.user,token:v.token};e(N),p("/home")}catch(v){f(v.message||"Login failed. Please check your credentials.")}finally{c(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-50",children:i.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-[3rem] shadow-2xl p-10 space-y-8 animate-in zoom-in-95 duration-300",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-3xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl shadow-orange-100 mb-4",children:"AU"}),i.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Welcome Back"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Log in to find your study group"})]}),u&&i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl text-xs font-bold border border-red-100",children:u}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ys,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),i.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"u6.....@au.edu",value:t,onChange:g=>n(g.target.value)})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center ml-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Password"}),i.jsx("button",{type:"button",className:"text-[10px] font-black text-orange-500 uppercase tracking-widest hover:text-orange-600",children:"Forgot?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Ui,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),i.jsx("input",{type:"password",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:r,onChange:g=>a(g.target.value)})]})]}),i.jsx("button",{type:"submit",disabled:l,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-100 hover:bg-orange-600 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:l?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:["Login ",i.jsx(Fb,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),i.jsxs("p",{className:"text-center text-slate-500 font-bold text-sm",children:["Don't have an account? ",i.jsx($t,{to:"/signup",className:"text-orange-500 hover:text-orange-600 underline",children:"Sign up for free"})]})]})})},Ode=({onSignup:e})=>{const[t,n]=b.useState({name:"",email:"",pass:"",confirm:""}),[r,a]=b.useState(!1),[l,c]=b.useState(""),[u,f]=b.useState(""),p=$r(),m=async g=>{if(g.preventDefault(),t.pass!==t.confirm){alert("Passwords don't match!");return}a(!0),c("");try{const v=await Ce.register({name:t.name,email:t.email,password:t.pass,password_confirmation:t.confirm}),N={...v.user,token:v.token};e(N),v.message&&f(v.message),setTimeout(()=>{p("/home")},2e3)}catch(v){c(v.message||"Registration failed. Please try again.")}finally{a(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center p-6 bg-slate-50",children:i.jsxs("div",{className:"w-full max-w-md bg-white border border-slate-200 rounded-[3rem] shadow-2xl p-10 space-y-8 animate-in zoom-in-95 duration-300",children:[i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-3xl flex items-center justify-center text-white font-bold text-2xl mx-auto shadow-xl shadow-orange-100 mb-4",children:"AU"}),i.jsx("h1",{className:"text-3xl font-black text-slate-900 tracking-tight",children:"Join StudyHub"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Create your account to start studying"})]}),l&&i.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl text-xs font-bold border border-red-100",children:l}),u&&i.jsxs("div",{className:"bg-green-50 text-green-700 p-4 rounded-2xl text-xs font-bold border border-green-100 flex items-center gap-2",children:[i.jsx(Ys,{size:16}),u]}),i.jsxs("form",{onSubmit:m,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(ah,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),i.jsx("input",{type:"text",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"John Doe",value:t.name,onChange:g=>n({...t,name:g.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ys,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),i.jsx("input",{type:"email",required:!0,className:"w-full pl-12 pr-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"u6....@au.edu",value:t.email,onChange:g=>n({...t,email:g.target.value})})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Password"}),i.jsx("input",{type:"password",required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:t.pass,onChange:g=>n({...t,pass:g.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest ml-2",children:"Confirm"}),i.jsx("input",{type:"password",required:!0,className:"w-full px-6 py-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 font-bold text-sm transition-all",placeholder:"",value:t.confirm,onChange:g=>n({...t,confirm:g.target.value})})]})]}),i.jsx("button",{type:"submit",disabled:r,className:"w-full bg-orange-500 text-white py-4 rounded-2xl font-black text-xs uppercase tracking-widest shadow-xl shadow-orange-100 hover:bg-orange-600 transition-all flex items-center justify-center gap-2 group disabled:opacity-50",children:r?i.jsx(ke,{size:18,className:"animate-spin"}):i.jsxs(i.Fragment,{children:["Create Account ",i.jsx(Fb,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})})]}),i.jsxs("p",{className:"text-center text-slate-500 font-bold text-sm",children:["Already have an account? ",i.jsx($t,{to:"/login",className:"text-orange-500 hover:text-orange-600 underline",children:"Login here"})]})]})})},Dde=()=>{const{id:e,hash:t}=xR(),[n]=Ad(),r=$r(),[a,l]=b.useState("verifying"),[c,u]=b.useState("");b.useEffect(()=>{f()},[]);const f=async()=>{try{const p=n.toString(),m=`${Zp.BASE_URL}/email/verify/${e}/${t}${p?`?${p}`:""}`,g=await fetch(m,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}),v=await g.json();if(g.ok){l("success"),u(v.message||"Email verified successfully!");const N=localStorage.getItem("auth_user");if(N){try{const j=JSON.parse(N);j.email_verified_at=new Date().toISOString(),localStorage.setItem("auth_user",JSON.stringify(j))}catch(j){console.error("Failed to update user data",j)}setTimeout(()=>{r("/home")},3e3)}}else l("error"),u(v.message||"Verification failed. The link may be invalid or expired.")}catch{l("error"),u("An error occurred while verifying your email.")}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-blue-50 flex items-center justify-center p-6",children:i.jsxs("div",{className:"w-full max-w-lg",children:[i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden",children:[i.jsx("div",{className:`p-10 flex justify-center items-center ${a==="success"?"bg-green-500":a==="error"?"bg-red-500":"bg-blue-500"} text-white`,children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"w-20 h-20 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:[a==="verifying"&&i.jsx(ke,{size:40,className:"animate-spin"}),a==="success"&&i.jsx(Va,{size:40}),a==="error"&&i.jsx(et,{size:40})]}),i.jsxs("h1",{className:"text-3xl font-black tracking-tight",children:[a==="verifying"&&"Verifying Email...",a==="success"&&"Email Verified!",a==="error"&&"Verification Failed"]})]})}),i.jsxs("div",{className:"p-10 text-center space-y-6",children:[i.jsx("p",{className:"text-lg text-slate-600 leading-relaxed",children:c}),a==="success"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"p-6 bg-green-50 border-2 border-green-200 rounded-2xl",children:i.jsx("p",{className:"text-sm text-green-800 font-bold",children:" Your account is now fully activated! You can now access all features of StudyGroupFinder."})}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Redirecting you to the home page in 3 seconds..."})]}),a==="error"&&i.jsxs("div",{className:"p-6 bg-red-50 border-2 border-red-200 rounded-2xl space-y-4",children:[i.jsx("p",{className:"text-sm text-red-800 font-bold",children:"This verification link may have expired or is invalid."}),i.jsx("p",{className:"text-xs text-red-600",children:"If you're logged in, you can request a new verification email from your account settings."})]}),i.jsx("div",{className:"pt-6 space-y-3",children:a==="success"?i.jsx($t,{to:"/home",className:"w-full px-8 py-4 bg-green-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-green-600 shadow-lg shadow-green-100 transition-all inline-block",children:"Go to Home"}):a==="error"?i.jsxs(i.Fragment,{children:[i.jsx($t,{to:"/login",className:"w-full px-8 py-4 bg-orange-500 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:bg-orange-600 shadow-lg shadow-orange-100 transition-all inline-block",children:"Go to Login"}),i.jsx($t,{to:"/",className:"block text-xs font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Back to Home"})]}):null})]})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx("p",{className:"text-sm text-slate-400 font-bold",children:"StudyGroupFinder - Connect, Collaborate, Succeed"})})]})})},aR="processed_notifications",D5=({notifications:e,onMarkRead:t,onClose:n,onNotificationClick:r,onRefresh:a})=>{const[l,c]=b.useState(null),[u,f]=b.useState(()=>{try{const k=localStorage.getItem(aR);return k?JSON.parse(k):{}}catch{return{}}}),[p,m]=b.useState(!1),[g,v]=b.useState(""),[N,j]=b.useState(null);b.useEffect(()=>{try{localStorage.setItem(aR,JSON.stringify(u))}catch(k){console.error("Failed to save processed notifications:",k)}},[u]),b.useEffect(()=>{const k=new Set(e.map(q=>q.id)),L={...u};let z=!1;Object.keys(L).forEach(q=>{const J=parseInt(q);k.has(J)||(delete L[J],z=!0)}),z&&f(L)},[e]);const _=k=>{switch(k){case"message":return i.jsx(Bl,{size:16,className:"text-orange-500"});case"group_join":return i.jsx(sc,{size:16,className:"text-blue-500"});case"event":return i.jsx(Cn,{size:16,className:"text-emerald-500"});case"join_request":return i.jsx(sc,{size:16,className:"text-amber-500"});case"join_approved":return i.jsx(zs,{size:16,className:"text-emerald-500"});case"join_rejected":return i.jsx(et,{size:16,className:"text-red-500"});case"removed_from_group":return i.jsx(Yb,{size:16,className:"text-red-600"});case"report_submitted":return i.jsx(An,{size:16,className:"text-red-500"});case"user_warned":return i.jsx(on,{size:16,className:"text-amber-500"});case"user_banned":return i.jsx(Fa,{size:16,className:"text-red-600"});case"user_suspended":return i.jsx(Fa,{size:16,className:"text-orange-600"});case"role_changed":return i.jsx($l,{size:16,className:"text-purple-600"});case"group_approved":return i.jsx(Va,{size:16,className:"text-emerald-600"});case"group_rejected":return i.jsx(qs,{size:16,className:"text-red-600"});case"ownership_transferred":return i.jsx(ja,{size:16,className:"text-blue-600"});case"ownership_received":return i.jsx($l,{size:16,className:"text-blue-600"});case"group_leadership_changed":return i.jsx(ja,{size:16,className:"text-slate-600"});case"password_reset":return i.jsx(CR,{size:16,className:"text-teal-600"});case"report_resolved":return i.jsx(a$,{size:16,className:"text-green-600"});case"new_report":return i.jsx(An,{size:16,className:"text-orange-600"});case"warning_received":return i.jsx(on,{size:16,className:"text-amber-600"});case"group_archived_admin":return i.jsx(Ga,{size:16,className:"text-slate-600"});case"suspension_lifted":return i.jsx(Va,{size:16,className:"text-emerald-600"});case"ban_lifted":return i.jsx(Va,{size:16,className:"text-emerald-600"});case"new_group_pending":return i.jsx(on,{size:16,className:"text-blue-600"});case"group_invitation":return i.jsx(sc,{size:16,className:"text-blue-600"});case"invitation_accepted":return i.jsx(zs,{size:16,className:"text-emerald-600"});case"invitation_declined":return i.jsx(et,{size:16,className:"text-slate-500"});default:return i.jsx(Kt,{size:16,className:"text-slate-400"})}},E=k=>{const L=new Date(k),q=Math.floor((new Date().getTime()-L.getTime())/1e3);return q<60?"Just now":q<3600?`${Math.floor(q/60)}m ago`:q<86400?`${Math.floor(q/3600)}h ago`:L.toLocaleDateString()},C=async(k,L)=>{k.stopPropagation();const z=L.data.group_id,q=L.data.user_id;if(!z||!q){alert("Invalid notification data");return}c(L.id);try{await Ce.approveJoinRequest(z,q.toString()),f(J=>({...J,[L.id]:"approved"})),a?.()}catch(J){alert(J.message||"Failed to approve")}finally{c(null)}},A=(k,L)=>{k.stopPropagation(),j(L),m(!0)},R=async k=>{if(!N)return;const L=N.data.group_id,z=N.data.user_id;if(!L||!z){alert("Invalid notification data");return}c(N.id),m(!1);try{await Ce.rejectJoinRequest(L,z.toString(),k),f(q=>({...q,[N.id]:"rejected"})),a?.()}catch(q){alert(q.message||"Failed to reject")}finally{c(null),j(null),v("")}},M=()=>{m(!1),j(null),v("")},I=async(k,L)=>{k.stopPropagation();const z=L.data.group_id;if(!z){alert("Invalid notification data");return}c(L.id);try{await Ce.acceptInvitation(z),f(q=>({...q,[L.id]:"approved"})),a?.()}catch(q){alert(q.message||"Failed to accept invitation")}finally{c(null)}},P=async(k,L)=>{k.stopPropagation();const z=L.data.group_id;if(!z){alert("Invalid notification data");return}c(L.id);try{await Ce.declineInvitation(z),f(q=>({...q,[L.id]:"rejected"})),a?.()}catch(q){alert(q.message||"Failed to decline invitation")}finally{c(null)}};return i.jsxs("div",{className:"absolute top-14 right-0 w-80 bg-white border border-slate-200 rounded-[2rem] shadow-2xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-black text-slate-900 uppercase tracking-widest",children:"Notifications"}),i.jsxs("button",{onClick:t,className:"text-[10px] font-black text-orange-500 uppercase tracking-widest flex items-center gap-1 hover:text-orange-600 transition-colors",children:[i.jsx(zs,{size:12}),"Read All"]})]}),i.jsx("div",{className:"max-h-[400px] overflow-y-auto",children:e.length===0?i.jsxs("div",{className:"p-12 text-center space-y-2 opacity-30",children:[i.jsx(Kt,{size:32,className:"mx-auto"}),i.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest",children:"Clear for now"})]}):e.map(k=>{const L=k.type==="user_warned"||k.type==="warning_received",z=k.type==="user_banned",q=k.type==="user_suspended",J=k.type==="report_submitted"||k.type==="new_report",U=k.type==="role_changed"||k.type==="ownership_received",Y=k.type==="group_approved",te=k.type==="password_reset",he=k.type==="group_archived_admin",F=z?"bg-red-50/50 border-l-4 border-l-red-500":q?"bg-orange-50/50 border-l-4 border-l-orange-500":L?"bg-amber-50/50 border-l-4 border-l-amber-500":J?"bg-red-50/30 border-l-4 border-l-red-400":U?"bg-purple-50/50 border-l-4 border-l-purple-500":Y?"bg-emerald-50/50 border-l-4 border-l-emerald-500":te?"bg-teal-50/50 border-l-4 border-l-teal-500":he?"bg-slate-50/50 border-l-4 border-l-slate-500":k.read_at?"":"bg-orange-50/30";return i.jsxs("div",{onClick:()=>r?.(k),className:`p-5 border-b border-slate-50 flex gap-4 hover:bg-slate-50 transition-colors cursor-pointer ${F}`,children:[i.jsx("div",{className:"mt-1 shrink-0 w-8 h-8 rounded-xl bg-white border border-slate-100 flex items-center justify-center shadow-sm",children:_(k.type)}),i.jsxs("div",{className:"space-y-1 flex-1",children:[i.jsx("p",{className:`text-xs font-bold leading-tight ${z?"text-red-700":L?"text-amber-700":"text-slate-800"}`,children:k.data.message}),(L||z||q)&&k.data.reason&&i.jsxs("p",{className:"text-[11px] font-semibold text-slate-600 leading-snug mt-1 italic",children:["Reason: ",k.data.reason]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:E(k.created_at)})}),k.type==="join_request"&&(u[k.id]?i.jsx("div",{className:`mt-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest text-center ${u[k.id]==="approved"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:u[k.id]==="approved"?"Approved!":"Rejected!"}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("button",{onClick:G=>C(G,k),disabled:l===k.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-emerald-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-emerald-600 disabled:opacity-50 transition-all",children:[l===k.id?i.jsx(ke,{size:10,className:"animate-spin"}):i.jsx(zs,{size:10}),"Accept"]}),i.jsxs("button",{onClick:G=>A(G,k),disabled:l===k.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-red-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-red-600 disabled:opacity-50 transition-all",children:[l===k.id?i.jsx(ke,{size:10,className:"animate-spin"}):i.jsx(qs,{size:10}),"Reject"]})]})),k.type==="group_invitation"&&(u[k.id]?i.jsx("div",{className:`mt-2 px-3 py-2 rounded-lg text-[10px] font-black uppercase tracking-widest text-center ${u[k.id]==="approved"?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:u[k.id]==="approved"?"Accepted!":"Declined!"}):i.jsxs("div",{className:"flex gap-2 mt-2",children:[i.jsxs("button",{onClick:G=>I(G,k),disabled:l===k.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-emerald-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-emerald-600 disabled:opacity-50 transition-all",children:[l===k.id?i.jsx(ke,{size:10,className:"animate-spin"}):i.jsx(zs,{size:10}),"Accept"]}),i.jsxs("button",{onClick:G=>P(G,k),disabled:l===k.id,className:"flex-1 flex items-center justify-center gap-1 text-[10px] font-black bg-red-500 text-white px-3 py-2 rounded-lg uppercase tracking-widest hover:bg-red-600 disabled:opacity-50 transition-all",children:[l===k.id?i.jsx(ke,{size:10,className:"animate-spin"}):i.jsx(et,{size:10}),"Decline"]})]}))]})]},k.id)})}),i.jsx("div",{className:"p-4 bg-slate-50 text-center",children:i.jsx("button",{onClick:n,className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-slate-900 transition-colors",children:"Close"})}),p&&N&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm animate-in fade-in duration-200",children:i.jsxs("div",{className:"bg-white rounded-[2rem] shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black tracking-tight",children:"Reject Request"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:N.data.user_name||"User"})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsx("p",{className:"text-slate-700 font-semibold text-sm",children:"Would you like to provide a reason for rejecting this request? This is optional."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Rejection Reason (Optional)"}),i.jsx("textarea",{value:g,onChange:k=>v(k.target.value),placeholder:"e.g., Group is full, Looking for members with specific background, etc.",rows:4,className:"w-full px-4 py-3 border-2 border-slate-300 rounded-xl focus:border-red-400 focus:outline-none font-semibold text-sm resize-none",maxLength:500}),i.jsxs("p",{className:"text-xs text-slate-400 mt-1 font-semibold",children:[g.length,"/500 characters"]})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[i.jsx("button",{onClick:M,className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),i.jsx("button",{onClick:()=>R(),className:"flex-1 px-6 py-3 bg-slate-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-600 transition-all",children:"Skip & Reject"}),i.jsx("button",{onClick:()=>R(g.trim()||void 0),disabled:g.trim().length===0,className:"flex-1 px-6 py-3 bg-red-500 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-red-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Send & Reject"})]})]})})]})},Lde=()=>{const[e,t]=b.useState(!0),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(!0),[f,p]=b.useState(""),[m,g]=b.useState("");b.useEffect(()=>{v()},[]);const v=async()=>{try{const j=await Ce.checkVerificationStatus();t(j.verified),g(j.email)}catch(j){console.error("Failed to check verification status",j)}finally{r(!1)}},N=async()=>{l(!0),p("");try{const j=await Ce.resendVerification();p(j.message||"Verification email sent!"),setTimeout(()=>p(""),5e3)}catch(j){p(j.message||"Failed to resend email"),setTimeout(()=>p(""),5e3)}finally{l(!1)}};return n||e||!c?null:i.jsx("div",{className:"bg-amber-50 border-b-2 border-amber-200 animate-in slide-in-from-top duration-300",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-10 h-10 bg-amber-500 rounded-full flex items-center justify-center text-white shrink-0",children:i.jsx(Ys,{size:20})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-bold text-amber-900 text-sm",children:"Verify Your Email"}),f&&i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-green-600",children:[i.jsx(Va,{size:14}),f]})]}),i.jsxs("p",{className:"text-sm text-amber-700",children:["We sent a verification email to ",i.jsx("span",{className:"font-bold",children:m}),". Please check your inbox and click the verification link to access all features."]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.jsx("button",{onClick:N,disabled:a,className:"px-4 py-2 bg-amber-500 text-white rounded-xl text-xs font-black uppercase tracking-widest hover:bg-amber-600 transition-all disabled:opacity-50 flex items-center gap-2",children:a?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:14,className:"animate-spin"}),"Sending..."]}):"Resend Email"}),i.jsx("button",{onClick:()=>u(!1),className:"p-2 text-amber-400 hover:text-amber-600 transition-colors",title:"Dismiss",children:i.jsx(et,{size:18})})]})]})})})},zde=()=>{const e=$r(),[t,n]=b.useState({email:"",password:""}),[r,a]=b.useState(!1),[l,c]=b.useState(""),u=async f=>{f.preventDefault(),c(""),a(!0);try{const p=await Ce.login(t);if(!["admin","moderator"].includes(p.user.role)){c("Access denied. Admin or moderator credentials required."),a(!1);return}localStorage.setItem("admin_auth",JSON.stringify({...p.user,token:p.token})),window.dispatchEvent(new Event("admin_auth_change")),e("/admin/dashboard")}catch(p){c(p.message||"Login failed. Please check your credentials.")}finally{a(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-6",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4wNSI+PHBhdGggZD0iTTM2IDM0djItaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6bTAtNHYyaDJ2LTJoLTJ6Ii8+PC9nPjwvZz48L3N2Zz4=')] opacity-20"}),i.jsxs("div",{className:"relative w-full max-w-md animate-in zoom-in-95 duration-500",children:[i.jsxs("div",{className:"bg-white rounded-[3rem] shadow-2xl overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 p-12 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-black/10"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"w-20 h-20 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-xl",children:i.jsx(An,{size:40,className:"text-white"})}),i.jsx("h1",{className:"text-3xl font-black text-white mb-2",children:"Admin Portal"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold",children:"StudyHub Management System"})]})]}),i.jsxs("form",{onSubmit:u,className:"p-10 space-y-6",children:[l&&i.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-2xl p-4 flex items-start gap-3",children:[i.jsx(ed,{className:"text-red-500 shrink-0 mt-0.5",size:20}),i.jsx("p",{className:"text-sm font-bold text-red-800",children:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-4",children:"Admin Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ys,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"email",placeholder:"admin@au.edu",value:t.email,onChange:f=>n({...t,email:f.target.value}),className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",required:!0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-4",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ui,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"password",placeholder:"Enter admin password",value:t.password,onChange:f=>n({...t,password:f.target.value}),className:"w-full pl-14 pr-6 py-4 bg-slate-50 border-2 border-slate-200 rounded-2xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",required:!0})]})]}),i.jsx("button",{type:"submit",disabled:r,className:"w-full py-5 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-2xl font-black text-sm uppercase tracking-widest hover:from-purple-700 hover:to-purple-800 transition-all shadow-xl shadow-purple-200 flex items-center justify-center gap-2 disabled:opacity-50",children:r?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:20,className:"animate-spin"}),"Authenticating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{size:20}),"Access Admin Panel"]})}),i.jsx("div",{className:"pt-6 border-t border-slate-100",children:i.jsx("button",{type:"button",onClick:()=>e("/"),className:"text-sm font-bold text-slate-400 hover:text-slate-900 transition-colors w-full text-center",children:" Back to Main Site"})})]})]}),i.jsx("p",{className:"text-center text-white/60 text-xs font-bold mt-6",children:"Authorized personnel only  All actions are logged"})]})]})},ua=({children:e})=>{const t=da(),n=$r(),[r,a]=b.useState(!1),[l,c]=b.useState(!1),[u,f]=b.useState([]),[p,m]=b.useState(0),[g,v]=b.useState(null),N=b.useRef(null),{theme:j,toggleTheme:_}=Ib();b.useEffect(()=>{const M=localStorage.getItem("admin_auth");if(M){const I=JSON.parse(M);v({name:I.name,role:I.role}),E();const P=setInterval(E,3e4);return()=>clearInterval(P)}},[]),b.useEffect(()=>{const M=I=>{N.current&&!N.current.contains(I.target)&&c(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const E=async()=>{try{const M=localStorage.getItem("admin_auth"),I=M?JSON.parse(M).token:null;if(!I){console.error("No admin auth token found");return}const[P,k]=await Promise.all([fetch("http://localhost:8000/api/admin/notifications",{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"}}),fetch("http://localhost:8000/api/admin/notifications/unread-count",{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"}})]);if(!P.ok||!k.ok){console.error("Failed to fetch notifications:",P.status,k.status);return}const L=await P.json(),z=await k.json();if(!Array.isArray(L)){console.error("Notifications response is not an array:",L);return}f(q=>{const J=new Set(L.map(Y=>Y.id)),U=q.filter(Y=>Y.read_at&&!J.has(Y.id));return[...L,...U].sort((Y,te)=>new Date(te.created_at).getTime()-new Date(Y.created_at).getTime())}),m(z.count)}catch(M){console.error("Failed to fetch notifications",M)}},C=async()=>{try{const M=localStorage.getItem("admin_auth"),I=M?JSON.parse(M).token:null;if(!I){console.error("No admin auth token found");return}await fetch("http://localhost:8000/api/admin/notifications/mark-read",{method:"POST",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json",Accept:"application/json"}}),m(0),f(P=>P.map(k=>({...k,read_at:new Date().toISOString()})))}catch(M){console.error("Failed to mark as read",M)}},A=()=>{localStorage.removeItem("admin_auth"),n("/admin/login")},R=[{path:"/admin/dashboard",icon:AU,label:"Dashboard"},{path:"/admin/users",icon:pt,label:"User Management"},{path:"/admin/groups",icon:pt,label:"Group Management"},{path:"/admin/events",icon:Cn,label:"Meetings Management"},{path:"/admin/ratings",icon:aa,label:"Ratings Management"},{path:"/admin/reports",icon:on,label:"User Reports"},{path:"/admin/moderation",icon:uy,label:"Moderation Activity"},{path:"/admin/analytics",icon:ER,label:"Analytics"}];return i.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[r&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>a(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-72 bg-gradient-to-b from-purple-900 to-purple-950 text-white flex flex-col transition-transform duration-300 lg:translate-x-0 lg:static
        ${r?"translate-x-0":"-translate-x-full"}
      `,children:[i.jsxs("div",{className:"p-6 border-b border-purple-800/50 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-xl flex items-center justify-center shadow-lg",children:i.jsx(An,{size:24})}),i.jsxs("div",{children:[i.jsx("h1",{className:"font-black text-lg leading-none",children:"Admin Panel"}),i.jsx("p",{className:"text-xs text-purple-300 font-bold mt-1",children:"StudyHub Management"})]})]}),i.jsx("button",{onClick:()=>a(!1),className:"lg:hidden",children:i.jsx(et,{className:"w-6 h-6"})})]}),i.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:R.map(M=>{const I=t.pathname===M.path;return i.jsxs($t,{to:M.path,onClick:()=>a(!1),className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${I?"bg-purple-500 text-white shadow-lg":"text-purple-200 hover:bg-purple-800/50 hover:text-white"}`,children:[i.jsx(M.icon,{size:20}),i.jsx("span",{className:"font-bold",children:M.label})]},M.path)})}),i.jsx("div",{className:"p-4 border-t border-purple-800/50",children:i.jsxs("button",{onClick:A,className:"flex items-center gap-3 w-full px-4 py-3 text-purple-200 hover:bg-purple-800/50 hover:text-white rounded-xl transition-all font-bold",children:[i.jsx(Vb,{size:20}),i.jsx("span",{children:"Logout"})]})})]}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[i.jsxs("header",{className:"h-20 bg-white border-b border-slate-200 px-6 flex items-center justify-between sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>a(!0),className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg",children:i.jsx(AR,{className:"w-6 h-6 text-slate-600"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-slate-900",children:R.find(M=>M.path===t.pathname)?.label||"Admin Panel"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Manage and monitor your StudyHub platform"})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:_,className:"p-2 hover:bg-slate-100 rounded-xl transition-all text-slate-400 hover:text-slate-700",title:j==="dark"?"Switch to light mode":"Switch to dark mode",children:j==="dark"?i.jsx(kR,{size:22}):i.jsx(Kb,{size:22})}),i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs("button",{onClick:()=>c(!l),className:`p-2 hover:bg-slate-100 rounded-xl relative transition-all ${l?"bg-slate-50 text-slate-900":"text-slate-400"}`,children:[i.jsx(Td,{size:22}),p>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-purple-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black text-white",children:p>9?"9+":p})]}),l&&i.jsx(D5,{notifications:u,onMarkRead:C,onClose:()=>c(!1),onRefresh:E})]}),i.jsx("div",{className:"h-10 w-[1px] bg-slate-200 mx-2 hidden sm:block"}),i.jsx("div",{className:"px-4 py-2 bg-purple-50 border border-purple-200 rounded-xl",children:g&&i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("p",{className:"text-xs font-black text-purple-900 leading-tight",children:g.name}),i.jsx("p",{className:"text-[10px] font-black text-purple-600 uppercase tracking-widest",children:g.role})]})})]})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:e})]})]})},Ude=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null);b.useEffect(()=>{f();const g=setInterval(()=>{f(!0)},3e4);return()=>clearInterval(g)},[]);const f=async(g=!1)=>{try{g||l(!0);const v=localStorage.getItem("admin_auth");if(!v)return;const j=JSON.parse(v).token,_=await fetch("http://localhost:8000/api/admin/dashboard",{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!_.ok)throw new Error("Failed to fetch dashboard");const E=await _.json();t(E),u(new Date)}catch(v){console.error("Failed to load dashboard:",v)}finally{r(!1),l(!1)}},p=()=>{f()},m=g=>{if(!g)return"Never";const v=Math.floor((new Date().getTime()-g.getTime())/1e3);if(v<60)return"Just now";const N=Math.floor(v/60);return N<60?`${N}m ago`:`${Math.floor(N/60)}h ago`};return n?i.jsx(ua,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Fu,{size:32,className:"text-purple-600 animate-pulse"})}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading dashboard..."})]})})}):i.jsx(ua,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-purple-800 rounded-[2rem] p-8 text-white shadow-xl",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-black mb-2",children:"Welcome to Admin Dashboard"}),i.jsx("p",{className:"text-purple-100 font-medium",children:"Monitor and manage your StudyHub platform"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-purple-100 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",m(c)]})]}),i.jsxs("button",{onClick:p,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-white/20 hover:bg-white/30 rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx(pt,{size:24,className:"text-blue-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Total Users"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_users||0}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mt-2 text-xs",children:[i.jsxs("span",{className:"font-bold text-slate-500",children:["Leaders: ",e?.leaders_count||0]}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("span",{className:"font-bold text-slate-500",children:["Members: ",e?.members_count||0]}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("span",{className:"font-bold text-slate-500",children:["Admins: ",e?.admin_count||0]}),i.jsx("span",{className:"text-slate-300",children:""}),i.jsxs("span",{className:"font-bold text-slate-500",children:["Mods: ",e?.moderator_count||0]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center",children:i.jsx(pt,{size:24,className:"text-emerald-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Study Groups"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_groups||0}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Fu,{size:14,className:"text-emerald-500"}),i.jsxs("span",{className:"text-sm font-bold text-emerald-600",children:[e?.active_groups||0," Active"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx(Bl,{size:24,className:"text-orange-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Messages"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_messages||0}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.jsx(ad,{size:14,className:"text-emerald-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Platform activity"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center",children:i.jsx(aa,{size:24,className:"text-amber-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Ratings"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_ratings||0}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(aa,{size:14,className:"text-amber-500 fill-amber-500"}),i.jsxs("span",{className:"text-sm font-bold text-slate-500",children:["Avg: ",e?.avg_rating?e.avg_rating.toFixed(1):"0.0"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:i.jsx(Cn,{size:24,className:"text-purple-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Meetings"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.total_events||0}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx(Cn,{size:14,className:"text-purple-500"}),i.jsxs("span",{className:"text-sm font-bold text-slate-500",children:[e?.upcoming_events||0," Upcoming"]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-xl flex items-center justify-center",children:i.jsx(on,{size:24,className:"text-red-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Reports"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.reports_count||0}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.jsx(on,{size:14,className:"text-red-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Pending reports"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-xl flex items-center justify-center",children:i.jsx(pt,{size:24,className:"text-teal-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"New Today"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.new_groups_today||0}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.jsx(ad,{size:14,className:"text-teal-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Groups created today"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center",children:i.jsx(Cn,{size:24,className:"text-indigo-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"This Week"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.meetings_this_week||0}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.jsx(Cn,{size:14,className:"text-indigo-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Meetings scheduled"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-xl flex items-center justify-center",children:i.jsx(on,{size:24,className:"text-rose-600"})}),i.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Violations"})]}),i.jsx("p",{className:"text-3xl font-black text-slate-900",children:e?.violations_count||0}),i.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[i.jsx(d$,{size:14,className:"text-rose-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-500",children:"Banned/Suspended users"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Group with Most Meetings"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Most active group this week"})]}),i.jsx("div",{className:"p-6",children:e?.group_with_most_meetings?i.jsx("div",{className:"bg-gradient-to-br from-indigo-50 to-purple-50 rounded-2xl p-6 border-2 border-indigo-200",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-2xl flex items-center justify-center font-black text-2xl flex-shrink-0 shadow-lg",children:e.group_with_most_meetings.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-xl font-black text-slate-900 mb-1",children:e.group_with_most_meetings.name}),i.jsx("p",{className:"text-sm text-slate-600 font-medium mb-3",children:e.group_with_most_meetings.subject}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cn,{size:16,className:"text-indigo-600"}),i.jsxs("span",{className:"text-sm font-bold text-indigo-700",children:[e.group_with_most_meetings.events_count," meeting",e.group_with_most_meetings.events_count!==1?"s":""," this week"]})]})}),i.jsx("div",{className:"mt-3 pt-3 border-t border-indigo-200",children:i.jsxs("p",{className:"text-xs text-slate-500 font-medium",children:["Led by ",i.jsx("span",{className:"font-bold text-slate-700",children:e.group_with_most_meetings.creator.name})]})})]})]})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Cn,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No meetings scheduled this week"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Most Reported Users"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Users with highest report count"})]}),i.jsx("div",{className:"p-6",children:e?.most_reported_users&&e.most_reported_users.length>0?i.jsx("div",{className:"space-y-4",children:e.most_reported_users.slice(0,5).map((g,v)=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-red-50 rounded-xl border border-red-100",children:[i.jsx("div",{className:"w-10 h-10 bg-red-200 text-red-700 rounded-lg flex items-center justify-center font-bold flex-shrink-0",children:g.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),i.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.email})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-red-100 px-3 py-1 rounded-full",children:[i.jsx(on,{size:14,className:"text-red-600"}),i.jsx("span",{className:"text-sm font-black text-red-700",children:g.report_count})]})]},v))}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(on,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No reports yet"})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Activity Feed"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest platform activities"})]}),i.jsx("div",{className:"p-6",children:e?.recent_activity_feed&&e.recent_activity_feed.length>0?i.jsx("div",{className:"space-y-3",children:e.recent_activity_feed.map((g,v)=>{const N=_=>{switch(_){case"user_joined":return i.jsx(pt,{size:16,className:"text-blue-600"});case"group_created":return i.jsx(pt,{size:16,className:"text-emerald-600"});case"report_submitted":return i.jsx(on,{size:16,className:"text-red-600"});default:return i.jsx(Fu,{size:16,className:"text-slate-600"})}},j=_=>{switch(_){case"user_joined":return"bg-blue-100";case"group_created":return"bg-emerald-100";case"report_submitted":return"bg-red-100";default:return"bg-slate-100"}};return i.jsxs("div",{className:"flex items-start gap-3 p-3 bg-slate-50 rounded-xl",children:[i.jsx("div",{className:`w-8 h-8 ${j(g.type)} rounded-lg flex items-center justify-center flex-shrink-0`,children:N(g.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-bold text-slate-900",children:g.description}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:m(new Date(g.timestamp))})]})]},v)})}):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Fu,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No recent activity"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Users"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest registered users"})]}),i.jsx("div",{className:"p-6 space-y-4",children:e?.recent_users.slice(0,5).map(g=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:g.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),i.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.email})]}),i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${g.role==="leader"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:g.role})]},g.id))})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Groups"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest created study groups"})]}),i.jsx("div",{className:"p-6 space-y-4",children:e?.recent_groups.slice(0,5).map(g=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-emerald-100 text-emerald-600 rounded-lg flex items-center justify-center font-bold",children:g.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.name}),i.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.subject})]}),i.jsxs("span",{className:"text-xs font-bold text-slate-400",children:[g.members_count," members"]})]},g.id))})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Ratings"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest group ratings submitted"})]}),i.jsx("div",{className:"p-6 space-y-4",children:e?.recent_ratings&&e.recent_ratings.length>0?e.recent_ratings.slice(0,5).map(g=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-amber-100 text-amber-600 rounded-lg flex items-center justify-center font-bold",children:i.jsx(aa,{size:20,className:"fill-amber-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.group_name}),i.jsxs("p",{className:"text-xs text-slate-500 font-medium truncate",children:["by ",g.user_name]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(aa,{size:12,className:"text-amber-500 fill-amber-500"}),i.jsx("span",{className:"text-xs font-bold text-slate-700",children:g.average_rating.toFixed(1)})]}),i.jsx("span",{className:"text-xs text-slate-400",children:"Avg Rating"})]})]},g.id)):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(aa,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No ratings yet"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsxs("div",{className:"p-6 border-b border-slate-100",children:[i.jsx("h3",{className:"text-lg font-black text-slate-900",children:"Recent Meetings"}),i.jsx("p",{className:"text-sm text-slate-500 font-medium",children:"Latest scheduled meetings"})]}),i.jsx("div",{className:"p-6 space-y-4",children:e?.recent_events&&e.recent_events.length>0?e.recent_events.slice(0,5).map(g=>i.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-xl",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:i.jsx(Cn,{size:20})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-slate-900 truncate",children:g.title}),i.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:g.type})]}),i.jsxs("div",{className:"flex flex-col items-end",children:[i.jsx("span",{className:"text-xs font-bold text-slate-700",children:new Date(g.start_time).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),i.jsx("span",{className:"text-xs text-slate-400",children:new Date(g.start_time).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})})]})]},g.id)):i.jsxs("div",{className:"text-center py-8",children:[i.jsx(Cn,{className:"w-12 h-12 text-slate-300 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-slate-500",children:"No meetings yet"})]})})]})]})]})})},$de=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(""),[m,g]=b.useState(""),[v,N]=b.useState(""),[j,_]=b.useState(1),[E,C]=b.useState(1),[A,R]=b.useState(0),[M,I]=b.useState(null),[P,k]=b.useState({name:"",email:"",role:"",major:"",bio:"",location:""}),[L,z]=b.useState(!1),[q,J]=b.useState(null),[U,Y]=b.useState(null),[te,he]=b.useState(!1),[F,G]=b.useState(null),[X,oe]=b.useState({duration:"7",reason:""}),[ve,O]=b.useState(null),[K,ce]=b.useState(""),[xe,Z]=b.useState(null),[ue,ye]=b.useState(null),[Ne,ne]=b.useState(""),[je,Oe]=b.useState(null),[ge,st]=b.useState(""),Fe=se=>{if(!se)return null;const De=new Date(se),rt=new Date,Ze=De.getTime()-rt.getTime(),$=Math.ceil(Ze/(1e3*60*60*24));return $>0?$:null},vt=()=>{const se=localStorage.getItem("admin_auth");if(!se)return!1;const{role:De}=JSON.parse(se);return De==="admin"},yt=se=>!["admin","moderator"].includes(se.role);b.useEffect(()=>{St();const se=setInterval(()=>{St(!0)},3e4);return()=>clearInterval(se)},[j,f,m,v]);const St=async(se=!1)=>{try{se||l(!0);const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token,$=new URLSearchParams({page:j.toString(),...f&&{search:f},...m&&{role:m},...v&&{status:v}}),Ie=await fetch(`http://localhost:8000/api/admin/users?${$}`,{headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}});if(!Ie.ok)throw new Error("Failed to fetch users");const Ue=await Ie.json();t(Ue.data),_(Ue.current_page),C(Ue.last_page),R(Ue.total),u(new Date)}catch(De){console.error("Failed to load users:",De)}finally{r(!1),l(!1)}},In=()=>{St()},pr=se=>{if(!se)return"Never";const De=Math.floor((new Date().getTime()-se.getTime())/1e3);if(De<60)return"Just now";const rt=Math.floor(De/60);return rt<60?`${rt}m ago`:`${Math.floor(rt/60)}h ago`},Fn=se=>{I(se),k({name:se.name,email:se.email,role:se.role,major:se.major||"",bio:se.bio||"",location:se.location||""})},On=async()=>{if(M){z(!0);try{const se=localStorage.getItem("admin_auth");if(!se)return;const rt=JSON.parse(se).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${M.id}`,{method:"PUT",headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw new Error("Failed to update user");alert("User updated successfully!"),I(null),St()}catch(se){alert(se.message||"Failed to update user")}finally{z(!1)}}},tr=async se=>{try{const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token,$=await fetch(`http://localhost:8000/api/admin/users/${se}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}});if(!$.ok){const Ie=await $.json();throw new Error(Ie.message||"Failed to delete user")}alert("User deleted successfully!"),J(null),St()}catch(De){alert(De.message||"Failed to delete user")}},fe=async se=>{he(!0);try{const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token,$=await fetch(`http://localhost:8000/api/admin/users/${se}/profile`,{headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to fetch user profile");const Ie=await $.json();Y(Ie)}catch(De){console.error("Failed to load user profile:",De),alert("Failed to load user profile")}finally{he(!1)}},ze=async()=>{if(F){z(!0);try{const se=localStorage.getItem("admin_auth");if(!se)return;const rt=JSON.parse(se).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${F.id}/suspend`,{method:"POST",headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"},body:JSON.stringify({duration_days:parseInt(X.duration),reason:X.reason})})).ok)throw new Error("Failed to suspend user");alert("User suspended successfully!"),G(null),oe({duration:"7",reason:""}),St()}catch(se){alert(se.message||"Failed to suspend user")}finally{z(!1)}}},Mt=async()=>{if(ve){z(!0);try{const se=localStorage.getItem("admin_auth");if(!se)return;const rt=JSON.parse(se).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${ve.id}/assign-role`,{method:"POST",headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"},body:JSON.stringify({role:K})})).ok)throw new Error("Failed to assign role");alert("Role assigned successfully!"),O(null),ce(""),St()}catch(se){alert(se.message||"Failed to assign role")}finally{z(!1)}}},ae=async se=>{if(confirm("Are you sure you want to reset this user's password? A new password will be generated and sent to their email."))try{const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token,$=await fetch(`http://localhost:8000/api/admin/users/${se}/reset-password`,{method:"POST",headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to reset password");const Ie=await $.json();alert(`Password reset successfully! New password: ${Ie.new_password}

Please share this with the user securely.`)}catch(De){alert(De.message||"Failed to reset password")}},Re=async()=>{if(ue){z(!0);try{const se=localStorage.getItem("admin_auth");if(!se)return;const rt=JSON.parse(se).token,Ze=await fetch(`http://localhost:8000/api/admin/users/${ue.id}/warn`,{method:"POST",headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"},body:JSON.stringify({reason:Ne})});if(!Ze.ok)throw new Error("Failed to warn user");const $=await Ze.json();alert($.auto_banned?"User has been automatically banned after receiving 3 warnings!":"User warned successfully!"),ye(null),ne(""),St()}catch(se){alert(se.message||"Failed to warn user")}finally{z(!1)}}},Ye=async()=>{if(je){z(!0);try{const se=localStorage.getItem("admin_auth");if(!se)return;const rt=JSON.parse(se).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${je.id}/ban`,{method:"POST",headers:{Authorization:`Bearer ${rt}`,"Content-Type":"application/json"},body:JSON.stringify({reason:ge})})).ok)throw new Error("Failed to ban user");alert("User banned successfully!"),Oe(null),st(""),St()}catch(se){alert(se.message||"Failed to ban user")}finally{z(!1)}}},un=async se=>{if(confirm("Are you sure you want to unban this user? This will also reset their warnings."))try{const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${se}/unban`,{method:"POST",headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unban user");alert("User unbanned successfully!"),St()}catch(De){alert(De.message||"Failed to unban user")}},nr=async se=>{if(confirm("Are you sure you want to lift this user's suspension?"))try{const De=localStorage.getItem("admin_auth");if(!De)return;const Ze=JSON.parse(De).token;if(!(await fetch(`http://localhost:8000/api/admin/users/${se}/unsuspend`,{method:"POST",headers:{Authorization:`Bearer ${Ze}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unsuspend user");alert("User suspension lifted successfully!"),St()}catch(De){alert(De.message||"Failed to unsuspend user")}};return i.jsxs(ua,{children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"User Management"}),i.jsxs("p",{className:"text-slate-500 font-medium",children:[A," total users registered"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",pr(c)]})]}),i.jsxs("button",{onClick:In,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsxs("div",{className:"relative w-full md:w-96",children:[i.jsx(Ya,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search users by name, email, major...",value:f,onChange:se=>{p(se.target.value),_(1)},className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 placeholder:text-slate-400"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(An,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:m,onChange:se=>{g(se.target.value),_(1)},className:"w-full pl-12 pr-10 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:"All Roles"}),i.jsx("option",{value:"member",children:"Members"}),i.jsx("option",{value:"leader",children:"Leaders"}),i.jsx("option",{value:"moderator",children:"Moderators"}),i.jsx("option",{value:"admin",children:"Admins"})]})]}),i.jsxs("div",{className:"relative flex-1",children:[i.jsx(on,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:v,onChange:se=>{N(se.target.value),_(1)},className:"w-full pl-12 pr-10 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"warned",children:"Warned Users"}),i.jsx("option",{value:"suspended",children:"Suspended Users"}),i.jsx("option",{value:"banned",children:"Banned Users"})]})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:n?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(ke,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading users..."})]}):e.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(iU,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No users found"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Users will appear here"})]}):i.jsx(i.Fragment,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Role"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Major"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Groups"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Joined"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(se=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-lg flex items-center justify-center font-bold",children:se.name[0]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:se.name}),i.jsx("p",{className:"text-sm text-slate-500",children:se.email})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${se.role==="admin"?"bg-purple-100 text-purple-700":se.role==="moderator"?"bg-orange-100 text-orange-700":se.role==="leader"?"bg-blue-100 text-blue-700":"bg-slate-100 text-slate-700"}`,children:se.role}),!!se.banned&&i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-red-100 text-red-700",children:"Banned"}),se.suspended_until&&new Date(se.suspended_until)>new Date&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-orange-100 text-orange-700",children:["Suspended (",Fe(se.suspended_until),"d left)"]}),!!se.warnings&&se.warnings>0&&i.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-bold bg-amber-100 text-amber-700",children:[se.warnings," ",se.warning_expires_at&&Fe(se.warning_expires_at)!==null&&i.jsxs(i.Fragment,{children:[" (",Fe(se.warning_expires_at),"d left)"]})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm font-bold text-slate-700",children:se.major||"N/A"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold text-purple-600",children:se.created_groups_count}),i.jsx("span",{className:"text-xs text-slate-400",children:"created"})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm text-slate-500 font-medium",children:new Date(se.created_at).toLocaleDateString()})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>fe(se.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:"View profile",children:i.jsx(td,{size:16})}),i.jsx("button",{onClick:()=>Fn(se),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit user",children:i.jsx(pc,{size:16})}),se.email!=="admin@au.edu"&&i.jsxs(i.Fragment,{children:[vt()&&i.jsx("button",{onClick:()=>{O(se),ce(se.role)},className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Assign role",children:i.jsx(An,{size:16})}),(yt(se)||vt())&&i.jsxs(i.Fragment,{children:[se.banned?i.jsx("button",{onClick:()=>un(se.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Unban user",children:i.jsx($i,{size:16})}):se.suspended_until&&new Date(se.suspended_until)>new Date?i.jsx("button",{onClick:()=>nr(se.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-all",title:"Lift suspension",children:i.jsx($i,{size:16})}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>ye(se),className:"p-2 text-amber-600 hover:bg-amber-50 rounded-lg transition-all",title:"Warn user",children:i.jsx(on,{size:16})}),i.jsx("button",{onClick:()=>G(se),className:"p-2 text-orange-600 hover:bg-orange-50 rounded-lg transition-all",title:"Suspend user",children:i.jsx(Fa,{size:16})}),i.jsx("button",{onClick:()=>Oe(se),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Ban user permanently",children:i.jsx(Fa,{size:16,className:"fill-current"})})]}),i.jsx("button",{onClick:()=>ae(se.id),className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-all",title:"Reset password",children:i.jsx(CR,{size:16})})]}),vt()&&i.jsx("button",{onClick:()=>J(se.id),className:"p-2 text-slate-600 hover:bg-slate-50 rounded-lg transition-all",title:"Delete user",children:i.jsx(qi,{size:16})})]})]})})]},se.id))})]})})})}),E>1&&i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",j," of ",E]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>_(se=>Math.max(1,se-1)),disabled:j===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),i.jsx("button",{onClick:()=>_(se=>Math.min(E,se+1)),disabled:j===E,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),M&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Edit User"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Update user information"})]}),i.jsx("button",{onClick:()=>I(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Name"}),i.jsx("input",{type:"text",value:P.name,onChange:se=>k({...P,name:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Email"}),i.jsx("input",{type:"email",value:P.email,onChange:se=>k({...P,email:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Role"}),i.jsxs("select",{value:P.role,onChange:se=>k({...P,role:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[i.jsx("option",{value:"member",children:"Member"}),i.jsx("option",{value:"leader",children:"Leader"}),i.jsx("option",{value:"moderator",children:"Moderator"}),i.jsx("option",{value:"admin",children:"Admin"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Major"}),i.jsx("input",{type:"text",value:P.major,onChange:se=>k({...P,major:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsx("input",{type:"text",value:P.location,onChange:se=>k({...P,location:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Bio"}),i.jsx("textarea",{value:P.bio,onChange:se=>k({...P,bio:se.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold resize-none"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:On,disabled:L,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Saving..."]}):"Save Changes"}),i.jsx("button",{onClick:()=>I(null),className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),q&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ed,{size:32,className:"text-red-600"})}),i.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete User?"}),i.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. All user data and created groups will be permanently deleted."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>tr(q),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),i.jsx("button",{onClick:()=>J(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),U&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-4xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-gradient-to-r from-purple-500 to-blue-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"User Profile"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:U.user.name})]}),i.jsx("button",{onClick:()=>Y(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Email"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.user.email})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Role"}),i.jsx("p",{className:"font-bold text-slate-900 capitalize",children:U.user.role})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Major"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.user.major||"N/A"})]}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Location"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.user.location||"N/A"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[i.jsx(pt,{size:20,className:"text-purple-600"}),"Groups (",(U.created_groups?.length||0)+(U.joined_groups?.length||0),")"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border-2 border-purple-200",children:[i.jsx("p",{className:"text-sm font-black text-purple-600 mb-2",children:"Created"}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:U.created_groups?.length||0})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[i.jsx("p",{className:"text-sm font-black text-blue-600 mb-2",children:"Joined"}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:U.joined_groups?.length||0})]})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[i.jsx(ed,{size:20,className:"text-orange-600"}),"Reports"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border-2 border-orange-200",children:[i.jsx("p",{className:"text-sm font-black text-orange-600 mb-2",children:"Reports Made"}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:U.reports_made?.length||0})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsx("p",{className:"text-sm font-black text-red-600 mb-2",children:"Reports Received"}),i.jsx("p",{className:"text-2xl font-black text-slate-900",children:U.reports_received?.length||0})]})]})]}),(U.moderation_history?.length||0)>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-black text-slate-900 mb-3 flex items-center gap-2",children:[i.jsx(An,{size:20,className:"text-slate-600"}),"Moderation History"]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:U.moderation_history.map((se,De)=>i.jsxs("div",{className:"bg-slate-50 p-3 rounded-xl text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-black text-slate-900",children:se.action_type}),i.jsx("span",{className:"text-xs text-slate-500 font-medium",children:new Date(se.created_at).toLocaleDateString()})]}),se.reason&&i.jsx("p",{className:"text-slate-600 font-medium",children:se.reason})]},De))})]}),i.jsx("button",{onClick:()=>Y(null),className:"w-full py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Close"})]})]})}),F&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-orange-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Suspend User"}),i.jsx("p",{className:"text-orange-100 text-sm font-bold mt-1",children:"Temporarily restrict access"})]}),i.jsx("button",{onClick:()=>{G(null),oe({duration:"7",reason:""})},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-orange-50 p-4 rounded-xl border-2 border-orange-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:F.name}),i.jsx("p",{className:"text-sm text-slate-600",children:F.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Duration (Days)"}),i.jsxs("select",{value:X.duration,onChange:se=>oe({...X,duration:se.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none font-bold",children:[i.jsx("option",{value:"1",children:"1 Day"}),i.jsx("option",{value:"3",children:"3 Days"}),i.jsx("option",{value:"7",children:"7 Days"}),i.jsx("option",{value:"14",children:"14 Days"}),i.jsx("option",{value:"30",children:"30 Days"}),i.jsx("option",{value:"90",children:"90 Days"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),i.jsx("textarea",{value:X.reason,onChange:se=>oe({...X,reason:se.target.value}),rows:4,placeholder:"Explain why this user is being suspended...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-orange-500/20 focus:border-orange-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:ze,disabled:L||!X.reason.trim(),className:"flex-1 py-4 bg-orange-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-orange-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Suspending..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Fa,{size:18}),"Suspend User"]})}),i.jsx("button",{onClick:()=>{G(null),oe({duration:"7",reason:""})},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),ve&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-emerald-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Assign Role"}),i.jsx("p",{className:"text-emerald-100 text-sm font-bold mt-1",children:"Change user permissions"})]}),i.jsx("button",{onClick:()=>{O(null),ce("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl border-2 border-emerald-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:ve.name}),i.jsx("p",{className:"text-sm text-slate-600",children:ve.email}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Current role: ",i.jsx("span",{className:"font-bold capitalize",children:ve.role})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Role"}),i.jsxs("select",{value:K,onChange:se=>ce(se.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500 transition-all outline-none font-bold",children:[i.jsx("option",{value:"member",children:"Member"}),i.jsx("option",{value:"leader",children:"Leader"}),i.jsx("option",{value:"moderator",children:"Moderator"}),i.jsx("option",{value:"admin",children:"Admin"})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[i.jsx("p",{className:"text-xs font-black text-blue-600 uppercase tracking-widest mb-2",children:"Role Permissions"}),i.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 font-medium",children:[K==="member"&&i.jsxs(i.Fragment,{children:[i.jsx("li",{children:" Can join and create groups"}),i.jsx("li",{children:" Basic platform access"})]}),K==="leader"&&i.jsxs(i.Fragment,{children:[i.jsx("li",{children:" Can manage own groups"}),i.jsx("li",{children:" Can organize meetings"}),i.jsx("li",{children:" Standard user privileges"})]}),K==="moderator"&&i.jsxs(i.Fragment,{children:[i.jsx("li",{children:" Can review reports"}),i.jsx("li",{children:" Can moderate content"}),i.jsx("li",{children:" Can suspend users temporarily"})]}),K==="admin"&&i.jsxs(i.Fragment,{children:[i.jsx("li",{children:" Full platform access"}),i.jsx("li",{children:" Can manage all users and groups"}),i.jsx("li",{children:" Can access analytics dashboard"})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Mt,disabled:L||K===ve.role,className:"flex-1 py-4 bg-emerald-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-emerald-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Assigning..."]}):i.jsxs(i.Fragment,{children:[i.jsx(An,{size:18}),"Assign Role"]})}),i.jsx("button",{onClick:()=>{O(null),ce("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),ue&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-amber-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Warn User"}),i.jsx("p",{className:"text-amber-100 text-sm font-bold mt-1",children:"Issue a warning (3 warnings = auto-ban)"})]}),i.jsx("button",{onClick:()=>{ye(null),ne("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-amber-50 p-4 rounded-xl border-2 border-amber-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:ue.name}),i.jsx("p",{className:"text-sm text-slate-600",children:ue.email}),i.jsxs("p",{className:"text-xs text-slate-500 mt-2",children:["Current warnings: ",i.jsx("span",{className:"font-bold",children:ue.warnings||0})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),i.jsx("textarea",{value:Ne,onChange:se=>ne(se.target.value),rows:4,placeholder:"Explain why this user is being warned...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),(ue.warnings||0)>=2&&i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsx("p",{className:"text-sm font-black text-red-600",children:" WARNING"}),i.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"This will be the user's 3rd warning. They will be automatically banned!"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Re,disabled:L||!Ne.trim(),className:"flex-1 py-4 bg-amber-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-amber-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Warning..."]}):i.jsxs(i.Fragment,{children:[i.jsx(on,{size:18}),"Issue Warning"]})}),i.jsx("button",{onClick:()=>{ye(null),ne("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),je&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Ban User"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:"Permanently ban user from platform"})]}),i.jsx("button",{onClick:()=>{Oe(null),st("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:je.name}),i.jsx("p",{className:"text-sm text-slate-600",children:je.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Reason"}),i.jsx("textarea",{value:ge,onChange:se=>st(se.target.value),rows:4,placeholder:"Explain why this user is being permanently banned...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsx("p",{className:"text-sm font-black text-red-600",children:" PERMANENT ACTION"}),i.jsx("p",{className:"text-sm text-slate-700 mt-1",children:"This user will lose all access to the platform. Use unban to restore access."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Ye,disabled:L||!ge.trim(),className:"flex-1 py-4 bg-red-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Banning..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Fa,{size:18}),"Ban User"]})}),i.jsx("button",{onClick:()=>{Oe(null),st("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})})]})},Gde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(""),[m,g]=b.useState(""),[v,N]=b.useState(""),[j,_]=b.useState(1),[E,C]=b.useState(1),[A,R]=b.useState(0),[M,I]=b.useState(null),[P,k]=b.useState({name:"",subject:"",faculty:"",description:"",max_members:5,location:"",status:"open"}),[L,z]=b.useState(!1),[q,J]=b.useState(null),[U,Y]=b.useState(null),[te,he]=b.useState(null),[F,G]=b.useState(""),[X,oe]=b.useState(null),[ve,O]=b.useState(""),[K,ce]=b.useState([]),[xe,Z]=b.useState(null),[ue,ye]=b.useState([]),[Ne,ne]=b.useState(!1);b.useEffect(()=>{je();const fe=setInterval(()=>{je(!0)},3e4);return()=>clearInterval(fe)},[j,f,m,v]);const je=async(fe=!1)=>{try{fe||l(!0);const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,Re=await fetch(`http://localhost:8000/api/admin/groups?page=${j}&search=${f}&status=${m}&approval_status=${v}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!Re.ok)throw new Error("Failed to fetch groups");const Ye=await Re.json();t(Ye.data),_(Ye.current_page),C(Ye.last_page),R(Ye.total),u(new Date)}catch(ze){console.error("Failed to load groups:",ze)}finally{r(!1),l(!1)}},Oe=()=>{je()},ge=fe=>{if(!fe)return"Never";const ze=Math.floor((new Date().getTime()-fe.getTime())/1e3);if(ze<60)return"Just now";const Mt=Math.floor(ze/60);return Mt<60?`${Mt}m ago`:`${Math.floor(Mt/60)}h ago`},st=fe=>{I(fe),k({name:fe.name,subject:fe.subject,faculty:fe.faculty,description:fe.description,max_members:fe.max_members,location:fe.location,status:fe.status})},Fe=async()=>{if(M){z(!0);try{const fe=localStorage.getItem("admin_auth");if(!fe)return;const Mt=JSON.parse(fe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${M.id}`,{method:"PUT",headers:{Authorization:`Bearer ${Mt}`,"Content-Type":"application/json"},body:JSON.stringify(P)})).ok)throw new Error("Failed to update group");alert("Group updated successfully!"),I(null),je()}catch(fe){alert(fe.message||"Failed to update group")}finally{z(!1)}}},vt=async fe=>{try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${fe}`,{method:"DELETE",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete group");alert("Group deleted successfully!"),J(null),je()}catch(ze){alert(ze.message||"Failed to delete group")}},yt=async()=>{if(U){z(!0);try{const fe=localStorage.getItem("admin_auth");if(!fe)return;const Mt=JSON.parse(fe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${U.id}/approve`,{method:"POST",headers:{Authorization:`Bearer ${Mt}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to approve group");alert("Group approved successfully!"),Y(null),je()}catch(fe){alert(fe.message||"Failed to approve group")}finally{z(!1)}}},St=async()=>{if(te){z(!0);try{const fe=localStorage.getItem("admin_auth");if(!fe)return;const Mt=JSON.parse(fe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${te.id}/reject`,{method:"POST",headers:{Authorization:`Bearer ${Mt}`,"Content-Type":"application/json"},body:JSON.stringify({reason:F})})).ok)throw new Error("Failed to reject group");alert("Group rejected successfully!"),he(null),G(""),je()}catch(fe){alert(fe.message||"Failed to reject group")}finally{z(!1)}}},In=async fe=>{oe(fe);try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,Re=await fetch(`http://localhost:8000/api/groups/${fe.id}`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!Re.ok)throw new Error("Failed to fetch group members");const Ye=await Re.json();ce(Ye.members||[])}catch(ze){console.error("Failed to load group members:",ze),alert("Failed to load group members")}},pr=async()=>{if(!(!X||!ve)){z(!0);try{const fe=localStorage.getItem("admin_auth");if(!fe)return;const Mt=JSON.parse(fe).token;if(!(await fetch(`http://localhost:8000/api/admin/groups/${X.id}/transfer-ownership`,{method:"POST",headers:{Authorization:`Bearer ${Mt}`,"Content-Type":"application/json"},body:JSON.stringify({new_owner_id:ve})})).ok)throw new Error("Failed to transfer ownership");alert("Ownership transferred successfully!"),oe(null),O(""),ce([]),je()}catch(fe){alert(fe.message||"Failed to transfer ownership")}finally{z(!1)}}},Fn=async fe=>{Z(fe),ne(!0);try{const ze=localStorage.getItem("admin_auth");if(!ze)return;const ae=JSON.parse(ze).token,Re=await fetch(`http://localhost:8000/api/admin/groups/${fe.id}/chat-logs`,{headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"}});if(!Re.ok)throw new Error("Failed to fetch chat logs");const Ye=await Re.json();ye(Ye.messages||[])}catch(ze){console.error("Failed to load chat logs:",ze),alert("Failed to load chat logs")}finally{ne(!1)}},On=fe=>{switch(fe){case"open":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:[i.jsx(nd,{size:12})," Open"]});case"closed":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1 rounded-lg",children:[i.jsx(Ui,{size:12})," Closed"]});case"archived":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-slate-500 bg-slate-100 px-3 py-1 rounded-lg",children:[i.jsx(Ga,{size:12})," Archived"]});default:return null}},tr=fe=>{switch(fe){case"approved":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-lg",children:[i.jsx(Va,{size:12})," Approved"]});case"rejected":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-red-600 bg-red-50 px-3 py-1 rounded-lg",children:[i.jsx(qs,{size:12})," Rejected"]});case"pending":return i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-amber-600 bg-amber-50 px-3 py-1 rounded-lg",children:[i.jsx(rU,{size:12})," Pending"]});default:return null}};return i.jsxs(ua,{children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"Group Management"}),i.jsxs("p",{className:"text-slate-500 font-medium",children:[A," total study groups"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",ge(c)]})]}),i.jsxs("button",{onClick:Oe,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("select",{value:m,onChange:fe=>{g(fe.target.value),_(1)},className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",children:[i.jsx("option",{value:"",children:"All Status"}),i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"closed",children:"Closed"}),i.jsx("option",{value:"archived",children:"Archived"})]}),i.jsxs("select",{value:v,onChange:fe=>{N(fe.target.value),_(1)},className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900",children:[i.jsx("option",{value:"",children:"All Approvals"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"approved",children:"Approved"}),i.jsx("option",{value:"rejected",children:"Rejected"})]}),i.jsxs("div",{className:"relative w-full sm:w-80",children:[i.jsx(Ya,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search groups...",value:f,onChange:fe=>{p(fe.target.value),_(1)},className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold text-slate-900 placeholder:text-slate-400"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:n?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(ke,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading groups..."})]}):e.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(pt,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No groups found"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Groups will appear here"})]}):i.jsx(i.Fragment,{children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b-2 border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Group"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Leader"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Faculty"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Members"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Approval"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Created"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-widest",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-100",children:e.map(fe=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:fe.name}),i.jsx("p",{className:"text-sm text-slate-500",children:fe.subject})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-700",children:fe.creator.name}),i.jsx("p",{className:"text-xs text-slate-500",children:fe.creator.email})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm font-bold text-slate-700",children:fe.faculty})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pt,{size:14,className:"text-purple-600"}),i.jsxs("span",{className:"text-sm font-bold text-slate-700",children:[fe.members_count,"/",fe.max_members]})]})}),i.jsx("td",{className:"px-6 py-4",children:On(fe.status)}),i.jsx("td",{className:"px-6 py-4",children:tr(fe.approval_status)}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:"text-sm text-slate-500 font-medium",children:new Date(fe.created_at).toLocaleDateString()})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[fe.approval_status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Y(fe),className:"p-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-all",title:"Approve group",children:i.jsx(Va,{size:16})}),i.jsx("button",{onClick:()=>he(fe),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Reject group",children:i.jsx(qs,{size:16})})]}),i.jsx("button",{onClick:()=>Fn(fe),className:"p-2 text-teal-600 hover:bg-teal-50 rounded-lg transition-all",title:"View chat logs",children:i.jsx(Bl,{size:16})}),i.jsx("button",{onClick:()=>In(fe),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-all",title:"Transfer ownership",children:i.jsx($i,{size:16})}),i.jsx("button",{onClick:()=>st(fe),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"Edit group",children:i.jsx(pc,{size:16})}),i.jsx("button",{onClick:()=>J(fe.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete group",children:i.jsx(qi,{size:16})})]})})]},fe.id))})]})})})}),E>1&&i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",j," of ",E]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>_(fe=>Math.max(1,fe-1)),disabled:j===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),i.jsx("button",{onClick:()=>_(fe=>Math.min(E,fe+1)),disabled:j===E,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),M&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Edit Group"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Update group information"})]}),i.jsx("button",{onClick:()=>I(null),className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6 max-h-[600px] overflow-y-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-2 space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Group Name"}),i.jsx("input",{type:"text",value:P.name,onChange:fe=>k({...P,name:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Subject"}),i.jsx("input",{type:"text",value:P.subject,onChange:fe=>k({...P,subject:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Faculty"}),i.jsx("input",{type:"text",value:P.faculty,onChange:fe=>k({...P,faculty:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Max Members"}),i.jsx("input",{type:"number",min:"2",value:P.max_members,onChange:fe=>k({...P,max_members:parseInt(fe.target.value)}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location"}),i.jsx("input",{type:"text",value:P.location,onChange:fe=>k({...P,location:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Status"}),i.jsxs("select",{value:P.status,onChange:fe=>k({...P,status:fe.target.value}),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"closed",children:"Closed"}),i.jsx("option",{value:"archived",children:"Archived"})]})]}),i.jsxs("div",{className:"col-span-2 space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Description"}),i.jsx("textarea",{value:P.description,onChange:fe=>k({...P,description:fe.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold resize-none"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Fe,disabled:L,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Saving..."]}):"Save Changes"}),i.jsx("button",{onClick:()=>I(null),className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),q&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(ed,{size:32,className:"text-red-600"})}),i.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete Group?"}),i.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. All messages and group data will be permanently deleted."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>vt(q),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),i.jsx("button",{onClick:()=>J(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),U&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Va,{size:32,className:"text-emerald-600"})}),i.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Approve Group?"}),i.jsx("p",{className:"text-slate-600 text-center mb-2",children:"You are about to approve the following group:"}),i.jsxs("div",{className:"bg-emerald-50 p-4 rounded-xl mb-6",children:[i.jsx("p",{className:"font-bold text-slate-900",children:U.name}),i.jsx("p",{className:"text-sm text-slate-600",children:U.subject}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Created by: ",U.creator.name]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:yt,disabled:L,className:"flex-1 py-3 bg-emerald-500 text-white rounded-xl font-bold hover:bg-emerald-600 transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:16,className:"animate-spin"}),"Approving..."]}):"Approve"}),i.jsx("button",{onClick:()=>Y(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})}),te&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-red-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Reject Group"}),i.jsx("p",{className:"text-red-100 text-sm font-bold mt-1",children:"Provide a reason for rejection"})]}),i.jsx("button",{onClick:()=>{he(null),G("")},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-red-50 p-4 rounded-xl border-2 border-red-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:te.name}),i.jsx("p",{className:"text-sm text-slate-600",children:te.subject}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Created by: ",te.creator.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Rejection Reason"}),i.jsx("textarea",{value:F,onChange:fe=>G(fe.target.value),rows:4,placeholder:"Explain why this group is being rejected...",className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-red-500/20 focus:border-red-500 transition-all outline-none font-bold resize-none placeholder:text-slate-400"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:St,disabled:L||!F.trim(),className:"flex-1 py-4 bg-red-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-red-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Rejecting..."]}):i.jsxs(i.Fragment,{children:[i.jsx(qs,{size:18}),"Reject Group"]})}),i.jsx("button",{onClick:()=>{he(null),G("")},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),X&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-purple-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Transfer Ownership"}),i.jsx("p",{className:"text-purple-100 text-sm font-bold mt-1",children:"Assign a new group leader"})]}),i.jsx("button",{onClick:()=>{oe(null),O(""),ce([])},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8 space-y-6",children:[i.jsxs("div",{className:"bg-purple-50 p-4 rounded-xl border-2 border-purple-200",children:[i.jsx("p",{className:"font-bold text-slate-900",children:X.name}),i.jsx("p",{className:"text-sm text-slate-600",children:X.subject}),i.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Current leader: ",X.creator.name]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"New Owner"}),K.length>0?i.jsxs("select",{value:ve,onChange:fe=>O(fe.target.value),className:"w-full px-4 py-3 bg-slate-50 border-2 border-slate-200 rounded-xl focus:ring-2 focus:ring-purple-500/20 focus:border-purple-500 transition-all outline-none font-bold",children:[i.jsx("option",{value:"",children:"Select a member"}),K.map(fe=>i.jsxs("option",{value:fe.id,children:[fe.name," (",fe.email,")"]},fe.id))]}):i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-slate-50 rounded-xl",children:[i.jsx(ke,{size:16,className:"animate-spin text-purple-600"}),i.jsx("span",{className:"text-sm text-slate-600 font-medium",children:"Loading members..."})]})]}),i.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:[i.jsx("p",{className:"text-xs font-black text-blue-600 uppercase tracking-widest mb-2",children:" Important"}),i.jsxs("ul",{className:"text-sm text-slate-700 space-y-1 font-medium",children:[i.jsx("li",{children:" The current leader will become a regular member"}),i.jsx("li",{children:" The new owner will have full group management rights"}),i.jsx("li",{children:" This action cannot be undone"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:pr,disabled:L||!ve,className:"flex-1 py-4 bg-purple-500 text-white rounded-xl font-black text-sm uppercase tracking-widest hover:bg-purple-600 transition-all shadow-lg flex items-center justify-center gap-2 disabled:opacity-50",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:18,className:"animate-spin"}),"Transferring..."]}):i.jsxs(i.Fragment,{children:[i.jsx($i,{size:18}),"Transfer Ownership"]})}),i.jsx("button",{onClick:()=>{oe(null),O(""),ce([])},className:"px-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Cancel"})]})]})]})}),xe&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2.5rem] w-full max-w-4xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-gradient-to-r from-teal-500 to-blue-500 p-8 text-white flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black",children:"Chat Logs"}),i.jsx("p",{className:"text-teal-100 text-sm font-bold mt-1",children:xe.name})]}),i.jsx("button",{onClick:()=>{Z(null),ye([])},className:"bg-white/20 hover:bg-white/30 p-3 rounded-2xl transition-all",children:i.jsx(et,{size:24})})]}),i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"bg-slate-50 rounded-xl border-2 border-slate-200 p-6 max-h-[600px] overflow-y-auto",children:Ne?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(ke,{size:32,className:"animate-spin text-teal-600 mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading chat logs..."})]}):!Array.isArray(ue)||ue.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Bl,{className:"w-16 h-16 text-slate-300 mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No messages yet"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Chat messages will appear here"})]}):i.jsx("div",{className:"space-y-4",children:ue.map((fe,ze)=>i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-sm border border-slate-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-400 to-blue-500 text-white rounded-lg flex items-center justify-center font-bold text-sm",children:fe.user?.name?.[0]||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900",children:fe.user?.name||"Unknown User"}),i.jsx("p",{className:"text-xs text-slate-500",children:fe.user?.email||"No email"})]})]}),i.jsx("span",{className:"text-xs text-slate-400 font-medium",children:new Date(fe.created_at).toLocaleString()})]}),fe.content&&i.jsx("p",{className:"text-slate-700 font-medium ml-13 mb-2",children:fe.content}),fe.file_path&&i.jsx("div",{className:"ml-13 mt-2 bg-slate-50 p-3 rounded-xl border-2 border-slate-200 inline-block",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-teal-100 p-2 rounded-lg",children:i.jsx("svg",{className:"w-5 h-5 text-teal-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("a",{href:`http://localhost:8000/storage/${fe.file_path}`,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-teal-600 hover:text-teal-700 hover:underline",children:fe.file_name}),i.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:fe.file_type}),fe.file_size&&i.jsxs("p",{className:"text-xs text-slate-500",children:[(fe.file_size/1024/1024).toFixed(2)," MB"]})]})]})]})})]},ze))})}),i.jsx("button",{onClick:()=>{Z(null),ye([])},className:"w-full mt-6 py-4 bg-slate-100 text-slate-700 rounded-xl font-black text-sm uppercase tracking-widest hover:bg-slate-200 transition-all",children:"Close"})]})]})})]})},Bde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[m,g]=b.useState(1),[v,N]=b.useState(0),[j,_]=b.useState(""),[E,C]=b.useState(""),[A,R]=b.useState("upcoming"),[M,I]=b.useState(null),[P,k]=b.useState(null),[L,z]=b.useState(!1);b.useEffect(()=>{q();const G=setInterval(()=>{q(!0)},3e4);return()=>clearInterval(G)},[f,j,E,A]);const q=async(G=!1)=>{try{G||l(!0);const X=localStorage.getItem("admin_auth");if(!X)return;const ve=JSON.parse(X).token,O=new URLSearchParams({page:f.toString(),per_page:"20",...j&&{search:j},...E&&{type:E},...A&&{status:A}}),K=await fetch(`http://localhost:8000/api/admin/events?${O}`,{headers:{Authorization:`Bearer ${ve}`,"Content-Type":"application/json"}});if(!K.ok)throw new Error("Failed to fetch events");const ce=await K.json();t(ce.data),p(ce.current_page),g(ce.last_page),N(ce.total),u(new Date)}catch(X){console.error("Failed to load events:",X)}finally{r(!1),l(!1)}},J=()=>{q()},U=G=>{if(!G)return"Never";const X=Math.floor((new Date().getTime()-G.getTime())/1e3);if(X<60)return"Just now";const oe=Math.floor(X/60);return oe<60?`${oe}m ago`:`${Math.floor(oe/60)}h ago`},Y=async G=>{if(confirm("Are you sure you want to delete this meeting? This action cannot be undone."))try{I(G);const X=localStorage.getItem("admin_auth");if(!X)return;const ve=JSON.parse(X).token;if(!(await fetch(`http://localhost:8000/api/admin/events/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${ve}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete meeting");alert("Meeting deleted successfully"),q()}catch(X){console.error("Failed to delete meeting:",X),alert("Failed to delete meeting")}finally{I(null)}},te=async G=>{if(G.preventDefault(),!!P)try{z(!0);const X=localStorage.getItem("admin_auth");if(!X)return;const ve=JSON.parse(X).token;if(!(await fetch(`http://localhost:8000/api/admin/events/${P.id}`,{method:"PUT",headers:{Authorization:`Bearer ${ve}`,"Content-Type":"application/json"},body:JSON.stringify({title:P.title,type:P.type,start_time:P.start_time,location:P.location||null,recurrence:P.recurrence,recurrence_count:P.recurrence_count||null})})).ok)throw new Error("Failed to update meeting");alert("Meeting updated successfully"),k(null),q()}catch(X){console.error("Failed to update meeting:",X),alert("Failed to update meeting")}finally{z(!1)}},he=G=>new Date(G).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),F=G=>({General:"bg-slate-100 text-slate-700",Project:"bg-blue-100 text-blue-700","Group Meeting":"bg-purple-100 text-purple-700",Exam:"bg-red-100 text-red-700",Assignment:"bg-orange-100 text-orange-700"})[G]||"bg-slate-100 text-slate-700";return n&&e.length===0?i.jsx(ua,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ke,{className:"w-16 h-16 text-purple-600 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading meetings..."})]})})}):i.jsxs(ua,{children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Meetings Management"}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:["Manage all calendar meetings (",v," total)"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",U(c)]})]}),i.jsxs("button",{onClick:J,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search by title, location, creator, or group...",value:j,onChange:G=>{_(G.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(qb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:E,onChange:G=>{C(G.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[i.jsx("option",{value:"",children:"All Meeting Types"}),i.jsx("option",{value:"General",children:"General"}),i.jsx("option",{value:"Project",children:"Project"}),i.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),i.jsx("option",{value:"Exam",children:"Exam"}),i.jsx("option",{value:"Assignment",children:"Assignment"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Kt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:A,onChange:G=>{R(G.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[i.jsx("option",{value:"",children:"All Meetings"}),i.jsx("option",{value:"upcoming",children:"Upcoming"}),i.jsx("option",{value:"past",children:"Past (Done)"})]})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:e.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(Cn,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No meetings found"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:j||E?"Try adjusting your filters":"Meetings will appear here"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Meeting Details"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Date & Time"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Location"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Creator"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(G=>{const X=new Date(G.start_time)<new Date;return i.jsxs("tr",{className:`hover:bg-slate-50 transition-colors ${X?"opacity-60":""}`,children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cn,{size:16,className:X?"text-slate-400":"text-purple-500"}),i.jsx("span",{className:"font-bold text-slate-900",children:G.title}),X&&i.jsx("span",{className:"px-1.5 py-0.5 bg-slate-200 text-slate-500 rounded text-[10px] font-black uppercase tracking-wider",children:"Done"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold ${F(G.type)}`,children:G.type}),G.recurrence!=="none"&&G.recurrence_count&&i.jsxs("span",{className:"flex items-center gap-1 text-xs text-slate-500 font-medium",children:[i.jsx(ic,{size:12}),G.recurrence," (",G.recurrence_count,"x)"]})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-700",children:[i.jsx(Kt,{size:14,className:"text-slate-400"}),he(G.start_time)]})}),i.jsx("td",{className:"px-6 py-4",children:G.location?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(jr,{size:14,className:"text-emerald-500"}),i.jsx("span",{className:"text-sm font-medium text-slate-700",children:G.location})]}):i.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"No location"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm",children:G.user.name}),i.jsx("p",{className:"text-xs text-slate-500",children:G.user.email})]})}),i.jsx("td",{className:"px-6 py-4",children:G.group?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pt,{size:14,className:"text-emerald-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-900",children:G.group.name})]}):i.jsx("span",{className:"text-xs text-slate-400 font-medium",children:"Personal Event"})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs("button",{onClick:()=>k(G),className:"inline-flex items-center gap-2 px-3 py-1.5 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-all font-bold text-sm",children:[i.jsx(pc,{size:14}),"Edit"]}),i.jsxs("button",{onClick:()=>Y(G.id),disabled:M===G.id,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all font-bold text-sm disabled:opacity-50",children:[M===G.id?i.jsx(ke,{size:14,className:"animate-spin"}):i.jsx(qi,{size:14}),"Delete"]})]})})]},G.id)})})]})})}),m>1&&i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",m]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>p(G=>Math.max(1,G-1)),disabled:f===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),i.jsx("button",{onClick:()=>p(G=>Math.min(m,G+1)),disabled:f===m,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]}),P&&i.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl shadow-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"bg-purple-600 p-6 text-white flex justify-between items-center sticky top-0",children:[i.jsx("h3",{className:"text-xl font-black",children:"Edit Event"}),i.jsx("button",{onClick:()=>k(null),className:"hover:bg-purple-700 rounded-lg p-1 transition-all",children:i.jsx(et,{size:20})})]}),i.jsxs("form",{onSubmit:te,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Event Title"}),i.jsx("input",{type:"text",required:!0,value:P.title,onChange:G=>k({...P,title:G.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Event Type"}),i.jsxs("select",{value:P.type,onChange:G=>k({...P,type:G.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500",children:[i.jsx("option",{value:"General",children:"General"}),i.jsx("option",{value:"Project",children:"Project"}),i.jsx("option",{value:"Group Meeting",children:"Group Meeting"}),i.jsx("option",{value:"Exam",children:"Exam"}),i.jsx("option",{value:"Assignment",children:"Assignment"})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Date & Time"}),i.jsx("input",{type:"datetime-local",required:!0,value:P.start_time.slice(0,16),onChange:G=>k({...P,start_time:G.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Location (Optional)"}),i.jsx("input",{type:"text",value:P.location||"",onChange:G=>k({...P,location:G.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence"}),i.jsxs("select",{value:P.recurrence,onChange:G=>k({...P,recurrence:G.target.value}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500",children:[i.jsx("option",{value:"none",children:"One-time (No repeat)"}),i.jsx("option",{value:"daily",children:"Daily"}),i.jsx("option",{value:"weekly",children:"Weekly"}),i.jsx("option",{value:"monthly",children:"Monthly"})]})]}),P.recurrence!=="none"&&i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest ml-2",children:"Recurrence Count"}),i.jsx("input",{type:"number",min:"1",max:"365",value:P.recurrence_count||"",onChange:G=>k({...P,recurrence_count:parseInt(G.target.value)||null}),className:"w-full px-4 py-3 bg-slate-50 border border-slate-200 rounded-xl font-bold text-sm outline-none focus:border-purple-500"})]}),i.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 space-y-2",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest",children:"Event Info"}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-bold",children:"Creator:"})," ",P.user.name]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-bold",children:"Group:"})," ",P.group?P.group.name:"Personal Event"]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-bold",children:"Created:"})," ",new Date(P.created_at).toLocaleString()]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>k(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold text-sm hover:bg-slate-200 transition-all",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:L,className:"flex-1 py-3 bg-purple-600 text-white rounded-xl font-bold text-sm hover:bg-purple-700 transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:L?i.jsxs(i.Fragment,{children:[i.jsx(ke,{size:16,className:"animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})]})},Fde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[m,g]=b.useState(1),[v,N]=b.useState(0),[j,_]=b.useState(""),[E,C]=b.useState(""),[A,R]=b.useState(""),[M,I]=b.useState(null);b.useEffect(()=>{P();const Y=setInterval(()=>{P(!0)},3e4);return()=>clearInterval(Y)},[f,j,E,A]);const P=async(Y=!1)=>{try{Y||l(!0);const te=localStorage.getItem("admin_auth");if(!te)return;const F=JSON.parse(te).token,G=new URLSearchParams({page:f.toString(),per_page:"20",...j&&{search:j},...E&&{min_rating:E},...A&&{rating_type:A}}),X=await fetch(`http://localhost:8000/api/admin/ratings?${G}`,{headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!X.ok)throw new Error("Failed to fetch ratings");const oe=await X.json();t(oe.data),p(oe.current_page),g(oe.last_page),N(oe.total),u(new Date)}catch(te){console.error("Failed to load ratings:",te)}finally{r(!1),l(!1)}},k=()=>{P()},L=Y=>{if(!Y)return"Never";const te=Math.floor((new Date().getTime()-Y.getTime())/1e3);if(te<60)return"Just now";const he=Math.floor(te/60);return he<60?`${he}m ago`:`${Math.floor(he/60)}h ago`},z=async Y=>{if(confirm("Are you sure you want to delete this rating? This action cannot be undone."))try{I(Y);const te=localStorage.getItem("admin_auth");if(!te)return;const F=JSON.parse(te).token;if(!(await fetch(`http://localhost:8000/api/admin/ratings/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete rating");alert("Rating deleted successfully"),P()}catch(te){console.error("Failed to delete rating:",te),alert("Failed to delete rating")}finally{I(null)}},q=Y=>i.jsxs("div",{className:"flex items-center gap-0.5",children:[[1,2,3,4,5].map(te=>i.jsx(aa,{size:14,className:te<=Y?"text-amber-500 fill-amber-500":"text-slate-300"},te)),i.jsx("span",{className:"ml-1 text-sm font-bold text-slate-700",children:Y.toFixed(1)})]}),J=Y=>new Date(Y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),U=(Y,te)=>((Y+te)/2).toFixed(1);return n&&e.length===0?i.jsx(ua,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ke,{className:"w-16 h-16 text-purple-600 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading ratings..."})]})})}):i.jsx(ua,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-6 shadow-sm",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Ratings Management"}),i.jsxs("p",{className:"text-sm text-slate-500 font-medium mt-1",children:["Manage all group and leader ratings (",v," total)"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",L(c)]})]}),i.jsxs("button",{onClick:k,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search by user name or group name...",value:j,onChange:Y=>{_(Y.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(qb,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:A,onChange:Y=>{R(Y.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[i.jsx("option",{value:"",children:"All Types"}),i.jsx("option",{value:"group",children:"Group Ratings Only"}),i.jsx("option",{value:"leader",children:"Leader Ratings Only"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx(aa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",size:20}),i.jsxs("select",{value:E,onChange:Y=>{C(Y.target.value),p(1)},className:"w-full pl-10 pr-4 py-2.5 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:outline-none font-medium text-sm appearance-none bg-white",children:[i.jsx("option",{value:"",children:"All Ratings"}),i.jsx("option",{value:"4",children:"4+ Stars"}),i.jsx("option",{value:"3",children:"3+ Stars"}),i.jsx("option",{value:"2",children:"2+ Stars"}),i.jsx("option",{value:"1",children:"1+ Stars"})]})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:e.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(aa,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No ratings found"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:j||E||A?"Try adjusting your filters":"Ratings will appear here"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Reviewer"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group Rated"}),(A===""||A==="group")&&i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Group Rating"}),(A===""||A==="leader")&&i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Leader Rating"}),A===""&&i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Average"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-black text-slate-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-right text-xs font-black text-slate-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-slate-200",children:e.map(Y=>i.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm",children:Y.user.name}),i.jsx("p",{className:"text-xs text-slate-500",children:Y.user.email}),Y.update_count>0&&i.jsxs("span",{className:"inline-block mt-1 px-2 py-0.5 bg-blue-100 text-blue-700 rounded text-xs font-bold",children:["Updated ",Y.update_count,"x"]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pt,{size:14,className:"text-emerald-500"}),i.jsx("span",{className:"text-sm font-bold text-slate-900",children:Y.group.name})]})}),(A===""||A==="group")&&i.jsx("td",{className:"px-6 py-4",children:q(Y.group_rating)}),(A===""||A==="leader")&&i.jsx("td",{className:"px-6 py-4",children:q(Y.leader_rating)}),A===""&&i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ad,{size:14,className:"text-purple-500"}),i.jsx("span",{className:"text-sm font-black text-purple-600",children:U(Y.group_rating,Y.leader_rating)})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"text-sm text-slate-600 font-medium",children:[i.jsx("div",{children:J(Y.created_at)}),Y.updated_at!==Y.created_at&&i.jsxs("div",{className:"text-xs text-slate-400",children:["Updated: ",J(Y.updated_at)]})]})}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("button",{onClick:()=>z(Y.id),disabled:M===Y.id,className:"inline-flex items-center gap-2 px-3 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all font-bold text-sm disabled:opacity-50",children:[M===Y.id?i.jsx(ke,{size:14,className:"animate-spin"}):i.jsx(qi,{size:14}),"Delete"]})})]},Y.id))})]})})}),m>1&&i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",m]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>p(Y=>Math.max(1,Y-1)),disabled:f===1,className:"px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),i.jsx("button",{onClick:()=>p(Y=>Math.min(m,Y+1)),disabled:f===m,className:"px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})})]})})},qde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[m,g]=b.useState(1),[v,N]=b.useState(0),[j,_]=b.useState(null),[E,C]=b.useState(""),[A,R]=b.useState("all"),[M,I]=b.useState("all"),[P,k]=b.useState(null),[L,z]=b.useState(""),[q,J]=b.useState(""),[U,Y]=b.useState(null);b.useEffect(()=>{te();const Z=setInterval(()=>{te(!0)},3e4);return()=>clearInterval(Z)},[f,A,M]);const te=async(Z=!1)=>{try{Z||l(!0);const ue=localStorage.getItem("admin_auth");if(!ue)return;const Ne=JSON.parse(ue).token,ne=new URLSearchParams({page:f.toString(),status:A,priority:M}),je=await fetch(`http://localhost:8000/api/admin/reports?${ne}`,{headers:{Authorization:`Bearer ${Ne}`,"Content-Type":"application/json"}});if(!je.ok)throw new Error("Failed to fetch reports");const Oe=await je.json();t(Oe.data),p(Oe.current_page),g(Oe.last_page),N(Oe.total),u(new Date)}catch(ue){console.error("Failed to load reports:",ue)}finally{r(!1),l(!1)}},he=()=>{te()},F=Z=>{if(!Z)return"Never";const ue=Math.floor((new Date().getTime()-Z.getTime())/1e3);if(ue<60)return"Just now";const ye=Math.floor(ue/60);return ye<60?`${ye}m ago`:`${Math.floor(ye/60)}h ago`},G=async Z=>{try{const ue=localStorage.getItem("admin_auth");if(!ue)return;const Ne=JSON.parse(ue).token;if(!(await fetch(`http://localhost:8000/api/admin/reports/${Z}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ne}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete report");alert("Report deleted successfully!"),_(null),te()}catch(ue){alert(ue.message||"Failed to delete report")}},X=async()=>{if(!P||!L){alert("Please select a resolution action");return}try{const Z=localStorage.getItem("admin_auth");if(!Z)return;const ye=JSON.parse(Z).token;if(!(await fetch(`http://localhost:8000/api/admin/reports/${P.id}/resolve`,{method:"POST",headers:{Authorization:`Bearer ${ye}`,"Content-Type":"application/json"},body:JSON.stringify({resolution_action:L,resolution_notes:q})})).ok)throw new Error("Failed to resolve report");alert("Report resolved successfully!"),k(null),z(""),J(""),te()}catch(Z){alert(Z.message||"Failed to resolve report")}},oe=Z=>({spam:"Spam",harassment:"Harassment",inappropriate_content:"Inappropriate Content",fake_profile:"Fake Profile",other:"Other"})[Z]||Z,ve=Z=>{const ue={low:{bg:"bg-blue-100",text:"text-blue-700"},medium:{bg:"bg-yellow-100",text:"text-yellow-700"},high:{bg:"bg-orange-100",text:"text-orange-700"},urgent:{bg:"bg-red-100",text:"text-red-700"}},ye=ue[Z]||ue.medium;return i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${ye.bg} ${ye.text} uppercase`,children:Z})},O=Z=>{const ue={pending:{bg:"bg-amber-100",text:"text-amber-700",icon:Kt},investigating:{bg:"bg-blue-100",text:"text-blue-700",icon:td},resolved:{bg:"bg-emerald-100",text:"text-emerald-700",icon:Va},dismissed:{bg:"bg-slate-100",text:"text-slate-700",icon:qs}},ye=ue[Z]||ue.pending,Ne=ye.icon;return i.jsxs("span",{className:`flex items-center gap-1 px-3 py-1 rounded-full text-xs font-bold ${ye.bg} ${ye.text}`,children:[i.jsx(Ne,{size:12}),Z]})},K=e.filter(Z=>{if(!E)return!0;const ue=E.toLowerCase();return Z.reported_user.name.toLowerCase().includes(ue)||Z.reported_user.email.toLowerCase().includes(ue)||Z.reporter.name.toLowerCase().includes(ue)||Z.reporter.email.toLowerCase().includes(ue)||Z.reason.toLowerCase().includes(ue)||Z.description.toLowerCase().includes(ue)}).sort((Z,ue)=>{const ye={pending:1,dismissed:2,resolved:3};return(ye[Z.status]||99)-(ye[ue.status]||99)}),ce=e.filter(Z=>Z.status==="pending").length,xe=e.filter(Z=>Z.priority==="urgent").length;return i.jsxs(ua,{children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"User Reports Management"}),i.jsxs("p",{className:"text-slate-500 font-medium",children:[v," total reports ",E&&`(${K.length} matching)`]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",F(c)]})]}),i.jsxs("button",{onClick:he,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"relative md:col-span-1",children:[i.jsx(Ya,{size:18,className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Search reports...",value:E,onChange:Z=>C(Z.target.value),className:"w-full pl-12 pr-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-medium text-slate-900 placeholder:text-slate-400 focus:outline-none focus:border-purple-500 transition-all"})]}),i.jsxs("select",{value:A,onChange:Z=>R(Z.target.value),className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"dismissed",children:"Dismissed"})]}),i.jsxs("select",{value:M,onChange:Z=>I(Z.target.value),className:"px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[i.jsx("option",{value:"all",children:"All Priorities"}),i.jsx("option",{value:"low",children:"Low"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"urgent",children:"Urgent"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Pending Review"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Kt,{size:20,className:"text-amber-400"}),i.jsx("span",{className:"text-2xl font-black text-slate-900",children:ce}),i.jsx("span",{className:"text-sm text-slate-500",children:"awaiting action"})]})]}),i.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Urgent Reports"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(on,{size:20,className:"text-red-400"}),i.jsx("span",{className:"text-2xl font-black text-slate-900",children:xe}),i.jsx("span",{className:"text-sm text-slate-500",children:"high priority"})]})]}),i.jsxs("div",{className:"bg-white border-2 border-slate-200 rounded-xl p-4",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Total Reports"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(An,{size:20,className:"text-blue-400"}),i.jsx("span",{className:"text-2xl font-black text-slate-900",children:v}),i.jsx("span",{className:"text-sm text-slate-500",children:"all time"})]})]})]})]}),i.jsx("div",{className:"grid gap-6",children:n?i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-12 text-center",children:[i.jsx(ke,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading reports..."})]}):K.length===0?i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-12 text-center",children:[i.jsx(An,{size:48,className:"text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:e.length===0?"No reports received yet":"No reports match your filters"}),(E||A!=="all"||M!=="all")&&i.jsx("button",{onClick:()=>{C(""),R("all"),I("all")},className:"mt-4 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all",children:"Clear Filters"})]}):i.jsxs(i.Fragment,{children:[K.map(Z=>i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm hover:shadow-lg transition-all overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-xl flex items-center justify-center",children:i.jsx(ah,{size:24})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("p",{className:"font-black text-slate-900 text-lg",children:Z.reported_user.name}),ve(Z.priority),O(Z.status)]}),i.jsx("p",{className:"text-sm text-slate-500",children:Z.reported_user.email}),i.jsx("div",{className:"mt-2 inline-block px-3 py-1 bg-slate-100 rounded-full",children:i.jsx("p",{className:"text-xs font-bold text-slate-600",children:oe(Z.reason)})})]})]}),i.jsxs("div",{className:"border-t border-slate-100 pt-4 mb-4",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Reporter Information"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-purple-100 text-purple-600 rounded-xl flex items-center justify-center font-bold",children:Z.reporter.name[0]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-slate-900 text-sm",children:Z.reporter.name}),i.jsx("p",{className:"text-xs text-slate-500",children:Z.reporter.email})]})]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>Y(Z),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all",title:"View details",children:i.jsx(td,{size:18})}),i.jsx("button",{onClick:()=>_(Z.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all",title:"Delete report",children:i.jsx(qi,{size:18})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("span",{className:"text-sm text-slate-400",children:["Reported on ",new Date(Z.created_at).toLocaleString()]}),Z.reported_group&&i.jsxs("span",{className:"text-sm text-slate-500",children:[" Group: ",i.jsx("span",{className:"font-bold",children:Z.reported_group.name})]})]}),i.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 border border-slate-200 mb-4",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),i.jsx("p",{className:"text-slate-700 leading-relaxed",children:Z.description}),Z.evidence_url&&i.jsxs("a",{href:Z.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-flex items-center gap-1 text-blue-600 hover:text-blue-700 font-bold text-sm",children:[i.jsx(uy,{size:14}),"View Evidence"]})]}),(Z.status==="resolved"||Z.status==="dismissed")&&Array.isArray(Z.moderation_logs)&&Z.moderation_logs.length>0&&i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200 mb-4",children:[i.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest mb-2",children:"Moderation Action"}),Z.moderation_logs.map(ue=>i.jsxs("div",{className:"mb-2",children:[i.jsxs("p",{className:"text-sm font-bold text-emerald-900",children:["Action: ",ue.action_type==="warn"?" Warned":ue.action_type==="suspend"?" Suspended":ue.action_type==="ban"?" Banned":ue.action_type==="dismiss_report"?" Dismissed":ue.action_type,ue.duration_days&&` (${ue.duration_days} days)`]}),i.jsx("p",{className:"text-sm text-emerald-700 mt-1",children:ue.reason}),i.jsxs("p",{className:"text-xs text-emerald-600 mt-1",children:["By ",ue.moderator.name," on ",new Date(ue.created_at).toLocaleString()]})]},ue.id)),Z.resolution_notes&&i.jsxs("p",{className:"text-sm text-emerald-700 mt-2 pt-2 border-t border-emerald-200",children:["Notes: ",Z.resolution_notes]})]}),(Z.status==="resolved"||Z.status==="dismissed")&&(Z.reported_user.banned===!0||Z.reported_user.suspended_until&&new Date(Z.reported_user.suspended_until)>new Date)&&i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-slate-200 mb-4",children:[Z.reported_user.banned===!0&&i.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to unban this user?")){const ue=localStorage.getItem("admin_auth");if(!ue)return;const Ne=JSON.parse(ue).token;try{if(!(await fetch(`http://localhost:8000/api/admin/users/${Z.reported_user_id}/unban`,{method:"POST",headers:{Authorization:`Bearer ${Ne}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unban user");alert("User unbanned successfully!"),te()}catch(ne){alert(ne.message||"Failed to unban user")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition-all",children:[i.jsx($i,{size:18}),"Unban User"]}),Z.reported_user.suspended_until&&new Date(Z.reported_user.suspended_until)>new Date&&i.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to lift this user's suspension?")){const ue=localStorage.getItem("admin_auth");if(!ue)return;const Ne=JSON.parse(ue).token;try{if(!(await fetch(`http://localhost:8000/api/admin/users/${Z.reported_user_id}/unsuspend`,{method:"POST",headers:{Authorization:`Bearer ${Ne}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to unsuspend user");alert("User suspension lifted successfully!"),te()}catch(ne){alert(ne.message||"Failed to unsuspend user")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-green-500 hover:bg-green-600 text-white rounded-xl font-bold transition-all",children:[i.jsx($i,{size:18}),"Lift Suspension"]})]}),Z.status==="pending"&&i.jsxs("div",{className:"grid grid-cols-2 gap-3 pt-4 border-t border-slate-200",children:[i.jsxs("button",{onClick:()=>k(Z),className:"flex items-center justify-center gap-2 px-4 py-3 bg-purple-500 hover:bg-purple-600 text-white rounded-xl font-bold transition-all",children:[i.jsx(Va,{size:18}),"Resolve Report"]}),i.jsxs("button",{onClick:async()=>{if(confirm("Are you sure you want to dismiss this report?")){const ue=localStorage.getItem("admin_auth");if(!ue)return;const Ne=JSON.parse(ue).token;try{if(!(await fetch(`http://localhost:8000/api/admin/reports/${Z.id}/resolve`,{method:"POST",headers:{Authorization:`Bearer ${Ne}`,"Content-Type":"application/json"},body:JSON.stringify({resolution_action:"dismissed",resolution_notes:"Report dismissed - no action needed"})})).ok)throw new Error("Failed to dismiss report");alert("Report dismissed"),te()}catch(ne){alert(ne.message||"Failed to dismiss report")}}},className:"flex items-center justify-center gap-2 px-4 py-3 bg-slate-500 hover:bg-slate-600 text-white rounded-xl font-bold transition-all",children:[i.jsx(qs,{size:18}),"Dismiss"]})]})]})},Z.id)),m>1&&i.jsxs("div",{className:"bg-white rounded-xl border-2 border-slate-200 px-6 py-4 flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",m]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>p(Z=>Math.max(1,Z-1)),disabled:f===1,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Previous"}),i.jsx("button",{onClick:()=>p(Z=>Math.min(m,Z+1)),disabled:f===m,className:"px-4 py-2 bg-white border border-slate-200 rounded-lg font-bold text-sm text-slate-700 hover:bg-slate-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Next"})]})]})]})})]}),P&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-2xl overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-purple-600 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black",children:"Resolve Report"}),i.jsxs("p",{className:"text-purple-100 font-medium mt-1",children:["Report against ",P.reported_user.name]})]}),i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Resolution Action"}),i.jsxs("select",{value:L,onChange:Z=>z(Z.target.value),className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-bold text-slate-900 focus:outline-none focus:border-purple-500 transition-all",children:[i.jsx("option",{value:"",children:"Select an action..."}),i.jsx("option",{value:"warning",children:"Issue Warning"}),i.jsx("option",{value:"suspension_3d",children:"Suspend for 3 Days"}),i.jsx("option",{value:"suspension_7d",children:"Suspend for 7 Days"}),i.jsx("option",{value:"suspension_30d",children:"Suspend for 30 Days"}),i.jsx("option",{value:"ban",children:"Permanent Ban"}),i.jsx("option",{value:"no_action",children:"No Action Required"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-widest mb-2",children:"Resolution Notes (Optional)"}),i.jsx("textarea",{value:q,onChange:Z=>J(Z.target.value),rows:4,placeholder:"Add any notes about this resolution...",className:"w-full px-4 py-3 bg-white border-2 border-slate-200 rounded-xl font-medium text-slate-900 focus:outline-none focus:border-purple-500 transition-all resize-none"})]})]}),i.jsxs("div",{className:"p-6 bg-slate-50 border-t border-slate-200 flex gap-3",children:[i.jsx("button",{onClick:()=>{k(null),z(""),J("")},className:"flex-1 px-6 py-3 bg-slate-300 text-slate-700 rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-slate-400 transition-all",children:"Cancel"}),i.jsx("button",{onClick:X,disabled:!L,className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-xl font-bold text-sm uppercase tracking-widest hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:"Resolve Report"})]})]})}),U&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsxs("div",{className:"bg-white rounded-[2rem] w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:[i.jsxs("div",{className:"bg-blue-600 p-8 text-white",children:[i.jsx("h3",{className:"text-2xl font-black",children:"Report Details"}),i.jsxs("p",{className:"text-blue-100 font-medium mt-1",children:["ID: ",U.id]})]}),i.jsxs("div",{className:"p-6 space-y-4 overflow-y-auto max-h-[calc(90vh-200px)]",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reported User"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.reported_user.name}),i.jsx("p",{className:"text-sm text-slate-500",children:U.reported_user.email})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reporter"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.reporter.name}),i.jsx("p",{className:"text-sm text-slate-500",children:U.reporter.email})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Priority"}),ve(U.priority)]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Status"}),O(U.status)]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Reason"}),i.jsx("p",{className:"font-bold text-slate-900",children:oe(U.reason)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Description"}),i.jsx("p",{className:"text-slate-700 leading-relaxed",children:U.description})]}),U.evidence_url&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-2",children:"Evidence"}),i.jsxs("a",{href:U.evidence_url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-bold",children:[i.jsx(uy,{size:16}),"View Evidence Link"]})]}),U.reported_group&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Related Group"}),i.jsx("p",{className:"font-bold text-slate-900",children:U.reported_group.name})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-black text-slate-400 uppercase tracking-widest mb-1",children:"Created"}),i.jsx("p",{className:"text-slate-700",children:new Date(U.created_at).toLocaleString()})]}),U.status==="resolved"&&i.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 border border-emerald-200",children:[i.jsx("p",{className:"text-xs font-black text-emerald-700 uppercase tracking-widest mb-2",children:"Resolution"}),i.jsxs("p",{className:"font-bold text-emerald-900 mb-1",children:["Action: ",U.resolution_action]}),U.resolution_notes&&i.jsx("p",{className:"text-sm text-emerald-700 mb-2",children:U.resolution_notes}),U.resolver&&i.jsxs("p",{className:"text-xs text-emerald-600",children:["Resolved by ",U.resolver.name," on ",new Date(U.resolved_at).toLocaleString()]})]})]}),i.jsx("div",{className:"p-6 bg-slate-50 border-t border-slate-200",children:i.jsx("button",{onClick:()=>Y(null),className:"w-full px-6 py-3 bg-slate-700 text-white rounded-xl font-bold uppercase tracking-widest hover:bg-slate-800 transition-all",children:"Close"})})]})}),j&&i.jsx("div",{className:"fixed inset-0 z-50 bg-slate-900/60 backdrop-blur-sm flex items-center justify-center p-6",children:i.jsx("div",{className:"bg-white rounded-[2rem] w-full max-w-md overflow-hidden shadow-2xl animate-in zoom-in-95 duration-200",children:i.jsxs("div",{className:"p-8",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(on,{size:32,className:"text-red-600"})}),i.jsx("h3",{className:"text-xl font-black text-slate-900 text-center mb-2",children:"Delete Report?"}),i.jsx("p",{className:"text-slate-600 text-center mb-6",children:"This action cannot be undone. This report will be permanently removed from the system."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:()=>G(j),className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-bold hover:bg-red-600 transition-all",children:"Delete"}),i.jsx("button",{onClick:()=>_(null),className:"flex-1 py-3 bg-slate-100 text-slate-700 rounded-xl font-bold hover:bg-slate-200 transition-all",children:"Cancel"})]})]})})})]})},Hde=()=>{const[e,t]=b.useState(null),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState("monthly");b.useEffect(()=>{m();const C=setInterval(()=>{m(!0)},3e4);return()=>clearInterval(C)},[f]);const m=async(C=!1)=>{try{C||l(!0);const A=localStorage.getItem("admin_auth");if(!A)return;const M=JSON.parse(A).token,I=await fetch(`http://localhost:8000/api/admin/analytics?range=${f}`,{headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"}});if(!I.ok)throw new Error("Failed to fetch analytics");const P=await I.json();t(P),u(new Date)}catch(A){console.error("Failed to load analytics:",A)}finally{r(!1),l(!1)}},g=()=>{m()},v=C=>{if(!C)return"Never";const A=Math.floor((new Date().getTime()-C.getTime())/1e3);if(A<60)return"Just now";const R=Math.floor(A/60);return R<60?`${R}m ago`:`${Math.floor(R/60)}h ago`};if(n)return i.jsx(ua,{children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(ke,{size:48,className:"text-purple-600 animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading analytics..."})]})})});const N=["#8b5cf6","#3b82f6","#10b981","#f59e0b","#ef4444","#ec4899","#14b8a6"],j=({active:C,payload:A,label:R})=>C&&A&&A.length?i.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border-2 border-slate-200",children:[i.jsx("p",{className:"font-bold text-slate-900 mb-2",children:R}),A.map((M,I)=>i.jsxs("p",{className:"text-sm font-medium",style:{color:M.color},children:[M.name,": ",M.value]},I))]}):null,_=()=>{if(!e)return[];const C=new Map;return e.user_growth.forEach(A=>{C.set(A.date,{date:A.date,users:A.count,groups:0})}),e.group_growth.forEach(A=>{const R=C.get(A.date);R?R.groups=A.count:C.set(A.date,{date:A.date,users:0,groups:A.count})}),Array.from(C.values()).sort((A,R)=>A.date.localeCompare(R.date))},E=()=>{if(!e)return[];const C=new Map;return e.message_activity.forEach(A=>{C.set(A.date,{date:A.date,messages:A.count,ratings:0,events:0})}),e.rating_activity.forEach(A=>{const R=C.get(A.date);R?R.ratings=A.count:C.set(A.date,{date:A.date,messages:0,ratings:A.count,events:0})}),e.event_activity.forEach(A=>{const R=C.get(A.date);R?R.events=A.count:C.set(A.date,{date:A.date,messages:0,ratings:0,events:A.count})}),Array.from(C.values()).sort((A,R)=>A.date.localeCompare(R.date))};return i.jsx(ua,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"Analytics & Insights"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Platform performance metrics and trends"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",v(c)]})]}),i.jsxs("button",{onClick:g,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]}),i.jsx("div",{className:"flex items-center gap-3 bg-white rounded-2xl border-2 border-slate-200 p-2 shadow-sm w-fit",children:[{value:"daily",label:"Daily (24h)"},{value:"weekly",label:"Weekly (7d)"},{value:"monthly",label:"Monthly (30d)"}].map(C=>i.jsx("button",{onClick:()=>p(C.value),className:`px-4 py-2 rounded-xl font-bold text-sm transition-all ${f===C.value?"bg-purple-500 text-white shadow-lg":"text-slate-600 hover:bg-slate-100"}`,children:C.label},C.value))}),e&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.user_retention_rate!==void 0&&i.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl p-6 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(KU,{size:24}),i.jsx("h3",{className:"font-black",children:"Retention Rate"})]}),i.jsxs("p",{className:"text-4xl font-black mb-1",children:[e.user_retention_rate.toFixed(1),"%"]}),i.jsx("p",{className:"text-purple-100 text-sm font-medium",children:"Users active in last 30 days"})]}),e.average_group_size!==void 0&&i.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl p-6 text-white shadow-lg",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(pt,{size:24}),i.jsx("h3",{className:"font-black",children:"Average Group Size"})]}),i.jsx("p",{className:"text-4xl font-black mb-1",children:e.average_group_size.toFixed(1)}),i.jsx("p",{className:"text-blue-100 text-sm font-medium",children:"Members per study group"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ad,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Platform Growth"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Users and groups over time"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(mde,{data:_(),children:[i.jsx(Xo,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx($s,{dataKey:"date",tickFormatter:C=>new Date(C).toLocaleDateString(void 0,{month:"short",day:"numeric"}),stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Pi,{content:i.jsx(j,{})}),i.jsx(eb,{wrapperStyle:{fontSize:"14px",fontWeight:"bold"}}),i.jsx(Sb,{type:"monotone",dataKey:"users",stroke:"#3b82f6",strokeWidth:3,name:"Users",dot:{fill:"#3b82f6",r:4}}),i.jsx(Sb,{type:"monotone",dataKey:"groups",stroke:"#8b5cf6",strokeWidth:3,name:"Groups",dot:{fill:"#8b5cf6",r:4}})]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fu,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Activity Trends"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Messages, ratings, and events"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(Ade,{data:E(),children:[i.jsxs("defs",{children:[i.jsxs("linearGradient",{id:"colorMessages",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#f97316",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#f97316",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorRatings",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]}),i.jsxs("linearGradient",{id:"colorEvents",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.8}),i.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),i.jsx(Xo,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx($s,{dataKey:"date",tickFormatter:C=>new Date(C).toLocaleDateString(void 0,{month:"short",day:"numeric"}),stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Pi,{content:i.jsx(j,{})}),i.jsx(eb,{wrapperStyle:{fontSize:"14px",fontWeight:"bold"}}),i.jsx(Yp,{type:"monotone",dataKey:"messages",stroke:"#f97316",fillOpacity:1,fill:"url(#colorMessages)",name:"Messages"}),i.jsx(Yp,{type:"monotone",dataKey:"ratings",stroke:"#10b981",fillOpacity:1,fill:"url(#colorRatings)",name:"Ratings"}),i.jsx(Yp,{type:"monotone",dataKey:"events",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorEvents)",name:"Events"})]})})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e?.peak_activity_hours&&e.peak_activity_hours.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kt,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Peak Activity Hours"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Most active hours of the day"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(Xu,{data:e.peak_activity_hours,children:[i.jsx(Xo,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx($s,{dataKey:"hour",tickFormatter:C=>`${C}:00`,stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Pi,{content:i.jsx(j,{})}),i.jsx(fc,{dataKey:"count",fill:"#8b5cf6",radius:[8,8,0,0],name:"Activity"})]})})})]}),e?.groups_by_faculty&&e.groups_by_faculty.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(pt,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Groups by Faculty"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Distribution across faculties"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(rR,{children:[i.jsx(wb,{data:e.groups_by_faculty,cx:"50%",cy:"50%",labelLine:!1,label:C=>`${C.faculty}: ${(C.percent*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"faculty",children:e.groups_by_faculty.map((C,A)=>i.jsx(Xs,{fill:N[A%N.length]},`cell-${A}`))}),i.jsx(Pi,{content:i.jsx(j,{})})]})})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ER,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Top Subjects"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Most popular study subjects"})]})]})}),i.jsx("div",{className:"p-6",children:e?.top_subjects&&e.top_subjects.length>0?i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(Xu,{data:e.top_subjects,layout:"vertical",children:[i.jsx(Xo,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx($s,{type:"number",stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Gs,{type:"category",dataKey:"subject",stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"},width:100}),i.jsx(Pi,{content:i.jsx(j,{})}),i.jsx(fc,{dataKey:"count",fill:"#8b5cf6",radius:[0,8,8,0],name:"Groups"})]})}):i.jsx("div",{className:"flex items-center justify-center h-[300px]",children:i.jsx("p",{className:"text-slate-400 font-medium",children:"No groups yet"})})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e?.most_active_time_for_events&&e.most_active_time_for_events.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Kt,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Peak Meeting Times"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Most common hours for scheduled meetings"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(Xu,{data:e.most_active_time_for_events,children:[i.jsx(Xo,{strokeDasharray:"3 3",stroke:"#e2e8f0"}),i.jsx($s,{dataKey:"hour",tickFormatter:C=>`${C}:00`,stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Gs,{stroke:"#64748b",style:{fontSize:"12px",fontWeight:"bold"}}),i.jsx(Pi,{content:i.jsx(j,{})}),i.jsx(fc,{dataKey:"count",fill:"#10b981",radius:[8,8,0,0],name:"Meetings"})]})})})]}),e?.report_severity_distribution&&e.report_severity_distribution.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm",children:[i.jsx("div",{className:"p-6 border-b border-slate-100",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(on,{className:"text-purple-600",size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-black text-slate-900",children:"Report Severity Distribution"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Reports by priority level"})]})]})}),i.jsx("div",{className:"p-6",children:i.jsx(Ri,{width:"100%",height:300,children:i.jsxs(rR,{children:[i.jsx(wb,{data:e.report_severity_distribution,cx:"50%",cy:"50%",labelLine:!1,label:C=>`${C.priority}: ${C.count}`,outerRadius:100,fill:"#8884d8",dataKey:"count",nameKey:"priority",children:e.report_severity_distribution.map((C,A)=>{const R={urgent:"#ef4444",high:"#f97316",medium:"#f59e0b",low:"#3b82f6"};return i.jsx(Xs,{fill:R[C.priority]||N[A%N.length]},`cell-${A}`)})}),i.jsx(Pi,{content:i.jsx(j,{})})]})})})]})]})]})})},Vde=()=>{const[e,t]=b.useState([]),[n,r]=b.useState(!0),[a,l]=b.useState(!1),[c,u]=b.useState(null),[f,p]=b.useState(1),[m,g]=b.useState(1),[v,N]=b.useState(0);b.useEffect(()=>{j();const M=setInterval(()=>{j(!0)},3e4);return()=>clearInterval(M)},[f]);const j=async(M=!1)=>{try{M||l(!0);const I=localStorage.getItem("admin_auth");if(!I)return;const k=JSON.parse(I).token,L=await fetch(`http://localhost:8000/api/admin/moderation-activity?page=${f}`,{headers:{Authorization:`Bearer ${k}`,"Content-Type":"application/json"}});if(!L.ok)throw new Error("Failed to fetch moderation logs");const z=await L.json();t(z.data),p(z.current_page),g(z.last_page),N(z.total),u(new Date)}catch(I){console.error("Failed to load moderation logs:",I)}finally{r(!1),l(!1)}},_=()=>{j()},E=M=>{if(!M)return"Never";const I=Math.floor((new Date().getTime()-M.getTime())/1e3);if(I<60)return"Just now";const P=Math.floor(I/60);return P<60?`${P}m ago`:`${Math.floor(P/60)}h ago`},C=M=>{switch(M){case"warn":return i.jsx(on,{size:20,className:"text-amber-600"});case"ban":return i.jsx(Fa,{size:20,className:"text-red-600"});case"unban":return i.jsx($i,{size:20,className:"text-green-600"});case"suspend":return i.jsx(Yb,{size:20,className:"text-orange-600"});case"unsuspend":return i.jsx($i,{size:20,className:"text-blue-600"});case"role_change":return i.jsx(An,{size:20,className:"text-purple-600"});case"password_reset":return i.jsx(ja,{size:20,className:"text-indigo-600"});case"group_approved":return i.jsx($i,{size:20,className:"text-teal-600"});case"group_rejected":return i.jsx(Fa,{size:20,className:"text-pink-600"});default:return i.jsx(An,{size:20,className:"text-slate-600"})}},A=M=>{switch(M){case"warn":return"bg-amber-50 border-amber-200";case"ban":return"bg-red-50 border-red-200";case"unban":return"bg-green-50 border-green-200";case"suspend":return"bg-orange-50 border-orange-200";case"unsuspend":return"bg-blue-50 border-blue-200";case"role_change":return"bg-purple-50 border-purple-200";case"password_reset":return"bg-indigo-50 border-indigo-200";case"group_approved":return"bg-teal-50 border-teal-200";case"group_rejected":return"bg-pink-50 border-pink-200";default:return"bg-slate-50 border-slate-200"}},R=M=>{switch(M){case"warn":return"Warning Issued";case"ban":return"User Banned";case"unban":return"User Unbanned";case"suspend":return"User Suspended";case"unsuspend":return"Suspension Lifted";case"role_change":return"Role Changed";case"password_reset":return"Password Reset";case"group_approved":return"Group Approved";case"group_rejected":return"Group Rejected";default:return M}};return i.jsx(ua,{children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsx("div",{className:"flex flex-col gap-4",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-black text-slate-900",children:"Moderation Activity"}),i.jsxs("p",{className:"text-slate-500 font-medium",children:[v," total moderation actions logged"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-500 text-sm font-medium",children:[i.jsx(Kt,{size:16}),i.jsxs("span",{children:["Updated ",E(c)]})]}),i.jsxs("button",{onClick:_,disabled:a,className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-xl font-bold text-sm transition-all disabled:opacity-50",children:[i.jsx(ja,{size:16,className:a?"animate-spin":""}),"Refresh"]})]})]})}),i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 shadow-sm overflow-hidden",children:n?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(ke,{size:32,className:"animate-spin text-purple-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"Loading activity..."})]}):e.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(An,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-600 font-bold",children:"No moderation activity yet"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Actions will appear here"})]}):i.jsx("div",{className:"divide-y divide-slate-100",children:e.map(M=>i.jsx("div",{className:`p-6 border-l-4 ${A(M.action_type)} hover:brightness-95 dark:hover:brightness-125 transition-all`,children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-white dark:bg-slate-200 rounded-lg flex items-center justify-center shrink-0 border border-slate-200 dark:border-slate-300",children:C(M.action_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[i.jsx("span",{className:"font-black text-slate-900",children:R(M.action_type)}),i.jsx("span",{className:"text-xs text-slate-400",children:""}),i.jsx("span",{className:"text-sm text-slate-500 font-medium",children:new Date(M.created_at).toLocaleString()})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"font-bold text-slate-600",children:"Moderator:"}),i.jsx("span",{className:"text-slate-900 font-medium",children:M.moderator.name}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-bold ${M.moderator.role==="admin"?"bg-purple-100 text-purple-700":"bg-orange-100 text-orange-700"}`,children:M.moderator.role})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"font-bold text-slate-600",children:"Target:"}),i.jsx("span",{className:"text-slate-900 font-medium",children:M.target_user.name}),i.jsxs("span",{className:"text-xs text-slate-400",children:["(",M.target_user.email,")"]})]}),M.duration_days&&i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("span",{className:"font-bold text-slate-600",children:"Duration:"}),i.jsxs("span",{className:"text-slate-900 font-medium",children:[M.duration_days," days"]})]}),M.reason&&i.jsxs("div",{className:"mt-2 p-3 bg-slate-50 dark:bg-slate-200 rounded-xl border border-slate-200 dark:border-slate-300",children:[i.jsx("p",{className:"text-xs font-black text-slate-400 dark:text-slate-500 uppercase tracking-widest mb-1",children:"Reason"}),i.jsx("p",{className:"text-sm text-slate-700 font-medium",children:M.reason})]}),M.metadata&&Object.keys(M.metadata).length>0&&i.jsx("div",{className:"mt-2",children:i.jsxs("details",{className:"text-xs text-slate-500",children:[i.jsx("summary",{className:"cursor-pointer font-bold hover:text-slate-700",children:"Additional Details"}),i.jsx("pre",{className:"mt-2 p-2 bg-slate-50 rounded text-xs overflow-auto",children:JSON.stringify(M.metadata,null,2)})]})})]})]})]})},M.id))})}),m>1&&i.jsx("div",{className:"bg-white rounded-2xl border-2 border-slate-200 p-4 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:["Page ",f," of ",m]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>p(M=>Math.max(1,M-1)),disabled:f===1,className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg font-bold text-sm hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:[i.jsx(Wp,{size:16}),"Previous"]}),i.jsxs("button",{onClick:()=>p(M=>Math.min(m,M+1)),disabled:f===m,className:"flex items-center gap-2 px-4 py-2 bg-purple-500 text-white rounded-lg font-bold text-sm hover:bg-purple-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:["Next",i.jsx(Gl,{size:16})]})]})]})})]})})},Cl=({to:e,icon:t,label:n})=>{const r=da(),[a]=Ad(),l=r.pathname===e,c=a.get("q"),u=c?`${e}?q=${encodeURIComponent(c)}`:e;return i.jsxs($t,{to:u,className:`flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 ${l?"bg-orange-500 text-white shadow-lg shadow-orange-200":"text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[t,i.jsx("span",{className:"font-semibold",children:n})]})};let Yu=null;const L5=()=>{try{Yu||(Yu=new(window.AudioContext||window.webkitAudioContext)),Yu.state==="suspended"&&Yu.resume()}catch{}},z5=()=>{const e=Yu;if(!(!e||e.state!=="running"))try{const t=(n,r,a,l)=>{const c=e.createOscillator(),u=e.createGain();c.connect(u),u.connect(e.destination),c.type="sine",c.frequency.value=n,u.gain.setValueAtTime(0,r),u.gain.linearRampToValueAtTime(l,r+.01),u.gain.exponentialRampToValueAtTime(.001,r+a),c.start(r),c.stop(r+a)};t(880,e.currentTime,.35,.18),t(1108.73,e.currentTime+.12,.45,.14)}catch{}},Ps=({children:e,user:t,onLogout:n,showSearch:r=!1,pageTitle:a,pageSubtitle:l})=>{const c=$r(),u=da(),[f,p]=b.useState(!1),[m,g]=b.useState(!1),[v,N]=b.useState([]),[j,_]=b.useState(0),E=b.useRef(null),C=b.useRef(null),A=b.useRef(null),[R,M]=Ad(),I=R.get("q")||"",[P,k]=b.useState(!1),[L,z]=b.useState([]),[q,J]=b.useState([]),[U,Y]=b.useState(!1),te=O=>{O.data.group_id&&(g(!1),c(`/groups?group=${O.data.group_id}`))};b.useEffect(()=>{he();const O=setInterval(he,3e4);return()=>clearInterval(O)},[]),b.useEffect(()=>{const O=()=>{L5(),document.removeEventListener("click",O,!0),document.removeEventListener("keydown",O,!0)};return document.addEventListener("click",O,!0),document.addEventListener("keydown",O,!0),()=>{document.removeEventListener("click",O,!0),document.removeEventListener("keydown",O,!0)}},[]),b.useEffect(()=>{const O=K=>{C.current&&!C.current.contains(K.target)&&g(!1),A.current&&!A.current.contains(K.target)&&k(!1)};return document.addEventListener("mousedown",O),()=>document.removeEventListener("mousedown",O)},[]),b.useEffect(()=>{const O=async()=>{if(!I||I.length<2){z([]),J([]),k(!1);return}Y(!0);try{const[ce,xe]=await Promise.allSettled([Ce.getGroups(),Ce.searchUsers(I)]),Z=ce.status==="fulfilled"?ce.value:[],ue=xe.status==="fulfilled"&&Array.isArray(xe.value)?xe.value:[];xe.status==="rejected"&&console.error("User search failed:",xe.reason);const ye=Z.filter(ne=>{const je=I.toLowerCase();return ne.name.toLowerCase().includes(je)||ne.subject.toLowerCase().includes(je)||ne.faculty.toLowerCase().includes(je)||ne.description.toLowerCase().includes(je)||ne.creator_name.toLowerCase().includes(je)||ne.location.toLowerCase().includes(je)}).slice(0,5),Ne=ue.slice(0,5);z(ye),J(Ne),k(ye.length>0||Ne.length>0)}catch(ce){console.error("Search error:",ce),z([]),J([])}finally{Y(!1)}};if(!(R.get("searchMode")==="full")){const ce=setTimeout(O,300);return()=>clearTimeout(ce)}},[I,R]);const he=async()=>{try{const[O,K]=await Promise.all([Ce.getNotifications(),Ce.getUnreadCount()]);N(xe=>{const Z=new Set(O.map(ye=>ye.id)),ue=xe.filter(ye=>ye.read_at&&!Z.has(ye.id));return[...O,...ue].sort((ye,Ne)=>new Date(Ne.created_at).getTime()-new Date(ye.created_at).getTime())});const ce=K.count;E.current!==null&&ce>E.current&&localStorage.getItem("notification_sound")!=="false"&&z5(),E.current=ce,_(ce)}catch(O){console.error("Failed to fetch notifications",O)}},F=async()=>{try{await Ce.markNotificationsAsRead(),_(0),N(O=>O.map(K=>({...K,read_at:new Date().toISOString()})))}catch(O){console.error("Failed to mark as read",O)}},G=O=>{const K=O.target.value,ce=Object.fromEntries(R.entries());if(K){const{searchMode:xe,...Z}=ce;M({...Z,q:K})}else{const{q:xe,searchMode:Z,...ue}=ce;M(ue),k(!1)}},X=O=>{if(O.key==="Enter"&&I){const K=Object.fromEntries(R.entries());M({...K,searchMode:"full"}),k(!1),u.pathname!=="/home"&&c(`/home?q=${encodeURIComponent(I)}&searchMode=full`)}},oe=O=>{k(!1);const K=O.name;M({q:K,searchMode:"full"}),u.pathname!=="/home"&&c(`/home?q=${encodeURIComponent(K)}&searchMode=full`)},ve=O=>{k(!1),c(`/profile/${O.id}`)};return i.jsxs("div",{className:"flex h-screen bg-slate-50 overflow-hidden",children:[f&&i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>p(!1)}),i.jsxs("aside",{className:`
        fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-slate-200 flex flex-col transition-transform duration-300 lg:translate-x-0 lg:static
        ${f?"translate-x-0":"-translate-x-full"}
      `,children:[i.jsxs("div",{className:"p-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-orange-200",children:"AU"}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("span",{className:"font-extrabold text-slate-900 leading-none",children:"StudyHub"}),i.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Study Group Finder"})]})]}),i.jsx("button",{onClick:()=>p(!1),className:"lg:hidden",children:i.jsx(et,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("nav",{className:"flex-1 px-4 space-y-1",children:[i.jsx(Cl,{to:"/home",icon:i.jsx(jU,{size:20}),label:"Home"}),i.jsx(Cl,{to:"/groups",icon:i.jsx(pt,{size:20}),label:"My Groups"}),i.jsx(Cl,{to:"/report",icon:i.jsx(on,{size:20}),label:"Report User"}),i.jsx(Cl,{to:"/calendar",icon:i.jsx(Cn,{size:20}),label:"Calendar"}),i.jsx(Cl,{to:"/leaders",icon:i.jsx(fy,{size:20}),label:"Contributors"}),i.jsx(Cl,{to:"/profile",icon:i.jsx(ah,{size:20}),label:"Profile"}),i.jsx(Cl,{to:"/settings",icon:i.jsx(t$,{size:20}),label:"Settings"})]}),i.jsx("div",{className:"p-4 mt-auto",children:i.jsxs("button",{onClick:n,className:"flex items-center gap-3 w-full px-4 py-3 text-slate-500 hover:bg-red-50 hover:text-red-600 rounded-xl transition-colors font-semibold",children:[i.jsx(Vb,{size:20}),i.jsx("span",{children:"Logout"})]})})]}),i.jsxs("main",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[i.jsxs("header",{className:"h-20 bg-white border-b border-slate-200 px-6 flex items-center justify-between sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("button",{onClick:()=>p(!0),className:"lg:hidden p-2 hover:bg-slate-100 rounded-lg",children:i.jsx(AR,{className:"w-6 h-6 text-slate-600"})}),r&&i.jsxs("div",{className:"relative w-full max-w-md",ref:A,children:[i.jsxs("div",{className:"flex items-center bg-slate-100 px-4 py-2 rounded-xl w-full border border-slate-200 focus-within:bg-white focus-within:ring-2 focus-within:ring-orange-500/20 transition-all",children:[i.jsx(Ya,{className:`w-5 h-5 transition-colors ${I?"text-orange-500":"text-slate-400"}`}),i.jsx("input",{type:"text",placeholder:"Search groups and users...",className:"bg-transparent border-none outline-none ml-3 w-full text-slate-600 placeholder:text-slate-400 font-medium",value:I,onChange:G,onKeyDown:X})]}),P&&I&&u.pathname!=="/groups"&&i.jsxs("div",{className:"absolute top-full mt-2 w-full bg-white border border-slate-200 rounded-2xl shadow-xl z-50 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200",children:[i.jsx("div",{className:"p-3 border-b border-slate-100",children:i.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:"Quick Results"})}),U?i.jsx("div",{className:"p-8 text-center",children:i.jsx("div",{className:"w-6 h-6 border-2 border-orange-500 border-t-transparent rounded-full animate-spin mx-auto"})}):L.length>0||q.length>0?i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[L.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 bg-slate-50/50",children:i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Groups"})}),L.map(O=>i.jsx("button",{onClick:()=>oe(O),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm shrink-0",children:O.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-slate-900 truncate text-sm",children:O.name}),i.jsxs("p",{className:"text-xs text-slate-500 truncate",children:[O.subject,"  ",O.faculty]})]})]})},O.id))]}),q.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 bg-slate-50/50",children:i.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Users"})}),q.map(O=>i.jsx("button",{onClick:()=>ve(O),className:"w-full px-4 py-3 hover:bg-slate-50 transition-colors text-left border-b border-slate-50 last:border-b-0",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 text-orange-600 rounded-xl flex items-center justify-center font-bold text-sm shrink-0",children:O.name[0]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-slate-900 truncate text-sm",children:O.name}),i.jsx("p",{className:"text-xs text-slate-500 truncate",children:O.major||"Student"})]})]})},O.id))]})]}):i.jsx("div",{className:"p-6 text-center",children:i.jsx("p",{className:"text-sm text-slate-400",children:"No results found"})}),i.jsx("div",{className:"p-3 bg-slate-50 border-t border-slate-100",children:i.jsxs("p",{className:"text-xs text-slate-500",children:["Press ",i.jsx("kbd",{className:"px-2 py-1 bg-white border border-slate-200 rounded text-xs font-bold",children:"Enter"})," to see all results"]})})]})]}),a&&i.jsxs("div",{className:"ml-4",children:[i.jsx("h1",{className:"text-xl font-extrabold text-slate-900 tracking-tight",children:a}),l&&i.jsx("p",{className:"text-xs text-slate-500 font-medium",children:l})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"relative",ref:C,children:[i.jsxs("button",{onClick:()=>g(!m),className:`p-2 hover:bg-slate-100 rounded-xl relative transition-all ${m?"bg-slate-50 text-slate-900":"text-slate-400"}`,children:[i.jsx(Td,{size:22}),j>0&&i.jsx("span",{className:"absolute top-1.5 right-1.5 w-4 h-4 bg-orange-500 border-2 border-white rounded-full flex items-center justify-center text-[8px] font-black text-white",children:j>9?"9+":j})]}),m&&i.jsx(D5,{notifications:v,onMarkRead:F,onClose:()=>g(!1),onNotificationClick:te,onRefresh:he})]}),i.jsx("div",{className:"h-10 w-[1px] bg-slate-200 mx-2 hidden sm:block"}),i.jsxs($t,{to:"/profile",className:"flex items-center gap-3 hover:bg-slate-50 p-1.5 rounded-xl transition-all",children:[i.jsx("div",{className:"w-9 h-9 bg-orange-100 text-orange-600 rounded-lg flex items-center justify-center font-bold text-sm border border-orange-200",children:t.avatar||t.name[0]}),i.jsxs("div",{className:"hidden md:flex flex-col text-left",children:[i.jsx("span",{className:"text-sm font-bold text-slate-900 leading-none",children:t.name}),i.jsx("span",{className:"text-[10px] font-semibold text-slate-400 mt-1",children:t.major||"Student"})]})]})]})]}),i.jsx(Lde,{}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:e})]})]})},Is=()=>{try{const e=localStorage.getItem("admin_auth");if(!e)return!1;const t=JSON.parse(e);return["admin","moderator"].includes(t?.role)}catch{return!1}},Kde=()=>{const[e,t]=b.useState(()=>{const c=localStorage.getItem("auth_user");return c?JSON.parse(c):null}),[,n]=b.useState(0);b.useEffect(()=>{const c=()=>n(u=>u+1);return window.addEventListener("admin_auth_change",c),()=>window.removeEventListener("admin_auth_change",c)},[]);const r=c=>{t(c),localStorage.setItem("auth_user",JSON.stringify(c))},a=()=>{t(null),localStorage.removeItem("auth_user")},l=c=>{const u={...e,...c};t(u),localStorage.setItem("auth_user",JSON.stringify(u))};return i.jsx(eL,{children:i.jsx(Nz,{children:i.jsxs(XL,{children:[i.jsx(Bt,{path:"/",element:i.jsx(Pde,{})}),i.jsx(Bt,{path:"/login",element:e?i.jsx(hn,{to:"/home"}):i.jsx(Ide,{onLogin:r})}),i.jsx(Bt,{path:"/signup",element:e?i.jsx(hn,{to:"/home"}):i.jsx(Ode,{onSignup:r})}),i.jsx(Bt,{path:"/email/verify/:id/:hash",element:i.jsx(Dde,{})}),i.jsx(Bt,{path:"/home",element:e?i.jsx(Ps,{user:e,onLogout:a,showSearch:!0,children:i.jsx(i8,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/groups",element:e?i.jsx(Ps,{user:e,onLogout:a,showSearch:!0,children:i.jsx(AV,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/report",element:e?i.jsx(Ps,{user:e,onLogout:a,pageTitle:"Report User",pageSubtitle:"Help us maintain a safe community",children:i.jsx(TV,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/calendar",element:e?i.jsx(Ps,{user:e,onLogout:a,pageTitle:"Calendar",pageSubtitle:"Manage your study schedule",children:i.jsx(MV,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/leaders",element:e?i.jsx(Ps,{user:e,onLogout:a,children:i.jsx(Rde,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/profile",element:e?i.jsx(Ps,{user:e,onLogout:a,pageTitle:"Profile",pageSubtitle:"View and edit your information",children:i.jsx(Tde,{user:e,onUserUpdate:l})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/profile/:userId",element:e?i.jsx(Ps,{user:e,onLogout:a,children:i.jsx(kde,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/settings",element:e?i.jsx(Ps,{user:e,onLogout:a,pageTitle:"Settings",pageSubtitle:"Manage your experience and data",children:i.jsx(Mde,{})}):i.jsx(hn,{to:"/login"})}),i.jsx(Bt,{path:"/admin/login",element:i.jsx(zde,{})}),i.jsx(Bt,{path:"/admin/dashboard",element:Is()?i.jsx(Ude,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/users",element:Is()?i.jsx($de,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/groups",element:Is()?i.jsx(Gde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/events",element:Is()?i.jsx(Bde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/ratings",element:Is()?i.jsx(Fde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/reports",element:Is()?i.jsx(qde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/analytics",element:Is()?i.jsx(Hde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin/moderation",element:Is()?i.jsx(Vde,{}):i.jsx(hn,{to:"/admin/login"})}),i.jsx(Bt,{path:"/admin",element:i.jsx(hn,{to:"/admin/dashboard"})}),i.jsx(Bt,{path:"*",element:i.jsx(hn,{to:"/"})})]})})})},U5=document.getElementById("root");if(!U5)throw new Error("Could not find root element to mount to");const Yde=Q3.createRoot(U5);Yde.render(i.jsx(Pb.StrictMode,{children:i.jsx(Kde,{})}));
//# sourceMappingURL=index-Ckq9badp.js.map
